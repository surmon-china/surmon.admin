const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-kAhGhlr8.js","assets/antd-DwI9fg5y.js","assets/codemirror-BFg_0RBv.js","assets/echarts-C4LX7dmx.js","assets/Editor-BdGec0f9.css"])))=>i.map(i=>d[i]);
import{r as b,a as hg,c as Nt,g as Yt,R as vr,d as Od,b as gg,e as mg,f as pg,h as xg,i as yg,C as Ni,t as $i,F as le,S as A,j as dt,k as vg,T as F,s as Bt,l as et,m as Ht,n as Fe,o as wn,p as qn,D as Q,E as bg,L as rn,q as li,B as N,u as wg,v as jg,w as _g,x as Sg,y as Ul,z as Cg,A as Eg,G as Tg,H as Is,I as Ze,J as It,K as ks,M as qe,N as Sn,O as gr,P as xe,Q as xo,U as yo,V as ma,W as vo,X as Rg,Y as Dd,Z as nt,_ as Ja,$ as Nd,a0 as Ig,a1 as bo,a2 as kg,a3 as Lg,a4 as Pg,a5 as Ag,a6 as Og,a7 as Dg,a8 as ye,a9 as wo,aa as jo,ab as $d,ac as se,ad as an,ae as Fd,af as Kt,ag as Md,ah as Ud,ai as pa,aj as Ce,ak as _o,al as zd,am as Tn,an as Ng,ao as P,ap as jn,aq as So,ar as ci,as as $g,at as Fg,au as Bd,av as Mg,aw as Hd,ax as mn,ay as Ls,az as Vd,aA as Co,aB as Ps,aC as Ug,aD as Fi,aE as Kn,aF as br,aG as As,aH as mr,aI as Eo,aJ as zg,aK as Bg,aL as Hg,aM as oa,aN as Vg,aO as Os,aP as qd,aQ as Kd,aR as qg,aS as zl,aT as Kg,aU as Yg,aV as Wg,aW as Yd,aX as To,aY as Bl,aZ as Wd,a_ as Ro,a$ as Ds,b0 as Gd,b1 as Gg,b2 as Jg,b3 as Zg,b4 as Qg,b5 as Xg,b6 as Hl,b7 as em,b8 as tm,b9 as Jd,ba as nm,bb as Vl,bc as rm,bd as am,be as sm,bf as im,bg as om,bh as lm,bi as cm,bj as dm,bk as nr,bl as um,bm as fm}from"./antd-DwI9fg5y.js";import{u as hm,g as gm,i as mm,a as pm,b as xm,c as ym,d as vm,e as bm,f as wm}from"./echarts-C4LX7dmx.js";import{_ as jm}from"./codemirror-BFg_0RBv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Zd={exports:{}},Ns={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=b,Sm=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Tm=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Qd(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Em.call(t,r)&&!Rm.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Sm,type:e,key:i,ref:o,props:a,_owner:Tm.current}}Ns.Fragment=Cm;Ns.jsx=Qd;Ns.jsxs=Qd;Zd.exports=Ns;var s=Zd.exports,Mi={},ql=hg;Mi.createRoot=ql.createRoot,Mi.hydrateRoot=ql.hydrateRoot;var Xd={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Nt,function(){var n,r,a=1e3,i=6e4,o=36e5,c=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,f=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:d,months:f,days:c,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},p=function(T){return T instanceof j},m=function(T,L,y){return new j(T,y,L.$l)},x=function(T){return r.p(T)+"s"},g=function(T){return T<0},S=function(T){return g(T)?Math.ceil(T):Math.floor(T)},C=function(T){return Math.abs(T)},w=function(T,L){return T?g(T)?{negative:!0,format:""+C(T)+L}:{negative:!1,format:""+T+L}:{negative:!1,format:""}},j=function(){function T(y,I,D){var $=this;if(this.$d={},this.$l=D,y===void 0&&(this.$ms=0,this.parseFromMilliseconds()),I)return m(y*u[x(I)],this);if(typeof y=="number")return this.$ms=y,this.parseFromMilliseconds(),this;if(typeof y=="object")return Object.keys(y).forEach(function(H){$.$d[x(H)]=y[H]}),this.calMilliseconds(),this;if(typeof y=="string"){var z=y.match(h);if(z){var Y=z.slice(2).map(function(H){return H!=null?Number(H):0});return this.$d.years=Y[0],this.$d.months=Y[1],this.$d.weeks=Y[2],this.$d.days=Y[3],this.$d.hours=Y[4],this.$d.minutes=Y[5],this.$d.seconds=Y[6],this.calMilliseconds(),this}}return this}var L=T.prototype;return L.calMilliseconds=function(){var y=this;this.$ms=Object.keys(this.$d).reduce(function(I,D){return I+(y.$d[D]||0)*u[D]},0)},L.parseFromMilliseconds=function(){var y=this.$ms;this.$d.years=S(y/d),y%=d,this.$d.months=S(y/f),y%=f,this.$d.days=S(y/c),y%=c,this.$d.hours=S(y/o),y%=o,this.$d.minutes=S(y/i),y%=i,this.$d.seconds=S(y/a),y%=a,this.$d.milliseconds=y},L.toISOString=function(){var y=w(this.$d.years,"Y"),I=w(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var $=w(D,"D"),z=w(this.$d.hours,"H"),Y=w(this.$d.minutes,"M"),H=this.$d.seconds||0;this.$d.milliseconds&&(H+=this.$d.milliseconds/1e3,H=Math.round(1e3*H)/1e3);var ie=w(H,"S"),ue=y.negative||I.negative||$.negative||z.negative||Y.negative||ie.negative,fe=z.format||Y.format||ie.format?"T":"",ve=(ue?"-":"")+"P"+y.format+I.format+$.format+fe+z.format+Y.format+ie.format;return ve==="P"||ve==="-P"?"P0D":ve},L.toJSON=function(){return this.toISOString()},L.format=function(y){var I=y||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return I.replace(l,function($,z){return z||String(D[$])})},L.as=function(y){return this.$ms/u[x(y)]},L.get=function(y){var I=this.$ms,D=x(y);return D==="milliseconds"?I%=1e3:I=D==="weeks"?S(I/u[D]):this.$d[D],I||0},L.add=function(y,I,D){var $;return $=I?y*u[x(I)]:p(y)?y.$ms:m(y,this).$ms,m(this.$ms+$*(D?-1:1),this)},L.subtract=function(y,I){return this.add(y,I,!0)},L.locale=function(y){var I=this.clone();return I.$l=y,I},L.clone=function(){return m(this.$ms,this)},L.humanize=function(y){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!y)},L.valueOf=function(){return this.asMilliseconds()},L.milliseconds=function(){return this.get("milliseconds")},L.asMilliseconds=function(){return this.as("milliseconds")},L.seconds=function(){return this.get("seconds")},L.asSeconds=function(){return this.as("seconds")},L.minutes=function(){return this.get("minutes")},L.asMinutes=function(){return this.as("minutes")},L.hours=function(){return this.get("hours")},L.asHours=function(){return this.as("hours")},L.days=function(){return this.get("days")},L.asDays=function(){return this.as("days")},L.weeks=function(){return this.get("weeks")},L.asWeeks=function(){return this.as("weeks")},L.months=function(){return this.get("months")},L.asMonths=function(){return this.as("months")},L.years=function(){return this.get("years")},L.asYears=function(){return this.as("years")},T}(),E=function(T,L,y){return T.add(L.years()*y,"y").add(L.months()*y,"M").add(L.days()*y,"d").add(L.hours()*y,"h").add(L.minutes()*y,"m").add(L.seconds()*y,"s").add(L.milliseconds()*y,"ms")};return function(T,L,y){n=y,r=y().$utils(),y.duration=function($,z){var Y=y.locale();return m($,{$l:Y},z)},y.isDuration=p;var I=L.prototype.add,D=L.prototype.subtract;L.prototype.add=function($,z){return p($)?E(this,$,1):I.bind(this)($,z)},L.prototype.subtract=function($,z){return p($)?E(this,$,-1):D.bind(this)($,z)}}})})(Xd);var Im=Xd.exports;const km=Yt(Im);var na=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(na||{});const Lm=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],eu=vr.createContext({}),wr=()=>b.useContext(eu),tu=e=>{const[t,n]=b.useState(e.initLanguage),r=a=>{var o;const i=(o=e.onChange)==null?void 0:o.call(e,a);i instanceof Promise?i.then(()=>n(a)):n(a)};return s.jsx(eu.Provider,{value:{language:t,changeLanguage:r},children:e.children})},Pm={BASE_URL:"/surmon.admin/",DEV:!1,MODE:"demo",PROD:!0,SSR:!1,VITE_API_URL:"/",VITE_ENABLE_AD:"true",VITE_ENABLE_HASH_ROUTER:"true"},xa="https://surmon.me",Am="https://github.com/surmon-china/surmon.admin",Om="Authorization",Dm="middle",nu="large",Ve=24,Yn="#0088f5",ru=na.English,Nm=Pm,$m="demo",Fm=$m==="development",di="/surmon.admin/",Mm="/",Um=!0,zm=!0;var Ui=(e=>(e.Light="light",e.Dark="dark",e))(Ui||{});const Bm=e=>e==="dark",Hm=e=>e==="light",au=vr.createContext({}),$s=()=>b.useContext(au),su=e=>{const[t,n]=b.useState(e.initTheme),r=b.useMemo(()=>Bm(t),[t]),a=b.useMemo(()=>Hm(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return s.jsx(au.Provider,{value:o,children:e.children})},Vm={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class us{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Vm,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new us(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new us(this.logger,t)}}var Vt=new us;class Fs{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c.apply(c,[t,...r])})}}const Fr=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},Kl=e=>e==null?"":""+e,qm=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Km=/###/g,Yl=e=>e&&e.indexOf("###")>-1?e.replace(Km,"."):e,Wl=e=>!e||typeof e=="string",ra=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let a=0;for(;a<r.length-1;){if(Wl(e))return{};const i=Yl(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return Wl(e)?{}:{obj:e,k:Yl(r[a])}},Gl=(e,t,n)=>{const{obj:r,k:a}=ra(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=ra(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=ra(e,o,Object),c&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Ym=(e,t,n,r)=>{const{obj:a,k:i}=ra(e,t,Object);a[i]=a[i]||[],a[i].push(n)},fs=(e,t)=>{const{obj:n,k:r}=ra(e,t);if(n)return n[r]},Wm=(e,t,n)=>{const r=fs(e,n);return r!==void 0?r:fs(t,n)},iu=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):iu(e[r],t[r],n):e[r]=t[r]);return e},rr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Gm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Jm=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Gm[t]):e;class Zm{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Qm=[" ",",","?","!",";"],Xm=new Zm(20),ep=(e,t,n)=>{t=t||"",n=n||"";const r=Qm.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Xm.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},zi=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,c="";for(let l=i;l<r.length;++l)if(l!==i&&(c+=n),c+=r[l],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}a=o}return a},hs=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class Jl extends Fs{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):typeof r=="string"&&i?c.push(...r.split(i)):c.push(r)));const l=fs(this.data,c);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),l||!o||typeof r!="string"?l:zi(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,n];r&&(c=c.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(c=t.split("."),a=n,n=c[1]),this.addNamespaces(n),Gl(this.data,c,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),a=r,r=n,n=c[1]),this.addNamespaces(n);let l=fs(this.data,c)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?iu(l,r,i):l={...l,...r},Gl(this.data,c,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var ou={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,a))}),t}};const Zl={};class gs extends Fs{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),qm(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Vt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ep(t,r,a);if(o&&!c){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:i};const d=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),l=c[c.length-1],d=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(f){const j=n.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${j}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${j}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let u=h&&h.res;const p=h&&h.usedKey||o,m=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(u),g=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject;if(C&&u&&(typeof u!="string"&&typeof u!="boolean"&&typeof u!="number")&&g.indexOf(x)<0&&!(typeof S=="string"&&Array.isArray(u))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,u,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(h.res=j,h.usedParams=this.getUsedParamsDetails(n),h):j}if(i){const j=Array.isArray(u),E=j?[]:{},T=j?m:p;for(const L in u)if(Object.prototype.hasOwnProperty.call(u,L)){const y=`${T}${i}${L}`;E[L]=this.translate(y,{...n,joinArrays:!1,ns:c}),E[L]===y&&(E[L]=u[L])}u=E}}else if(C&&typeof S=="string"&&Array.isArray(u))u=u.join(S),u&&(u=this.extendTranslation(u,t,n,r));else{let j=!1,E=!1;const T=n.count!==void 0&&typeof n.count!="string",L=gs.hasDefaultValue(n),y=T?this.pluralResolver.getSuffix(d,n.count,n):"",I=n.ordinal&&T?this.pluralResolver.getSuffix(d,n.count,{ordinal:!1}):"",D=T&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),$=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${y}`]||n[`defaultValue${I}`]||n.defaultValue;!this.isValidLookup(u)&&L&&(j=!0,u=$),this.isValidLookup(u)||(E=!0,u=o);const Y=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:u,H=L&&$!==u&&this.options.updateMissing;if(E||j||H){if(this.logger.log(H?"updateKey":"missingKey",d,l,o,H?$:u),i){const ve=this.resolve(o,{...n,keySeparator:!1});ve&&ve.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let ve=0;ve<ue.length;ve++)ie.push(ue[ve]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(n.lng||this.language):ie.push(n.lng||this.language);const fe=(ve,ce,We)=>{const rt=L&&We!==u?We:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ve,l,ce,rt,H,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ve,l,ce,rt,H,n),this.emit("missingKey",ve,l,ce,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?ie.forEach(ve=>{const ce=this.pluralResolver.getSuffixes(ve,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(We=>{fe([ve],o+We,n[`defaultValue${We}`]||$)})}):fe(ie,o,$))}u=this.extendTranslation(u,t,n,h,r),E&&u===o&&this.options.appendNamespaceToMissingKey&&(u=`${l}:${o}`),(E||j)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,j?u:void 0):u=this.options.parseMissingKeyHandler(u))}return a?(h.res=u,h.usedParams=this.getUsedParamsDetails(n),h):u}extendTranslation(t,n,r,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const u=t.match(this.interpolator.nestingRegexp);f=u&&u.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||a.usedLng,r),d){const u=t.match(this.interpolator.nestingRegexp),p=u&&u.length;f<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];return i&&i[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,l=typeof c=="string"?[c]:c;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=ou.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,i,o,c;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(l,n),f=d.key;a=f;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const u=n.count!==void 0&&typeof n.count!="string",p=u&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(g=>{this.isValidLookup(r)||(c=g,!Zl[`${x[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Zl[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${a}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{if(this.isValidLookup(r))return;o=S;const C=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(C,f,S,g,n);else{let j;u&&(j=this.pluralResolver.getSuffix(S,n.count,n));const E=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(C.push(f+j),n.ordinal&&j.indexOf(T)===0&&C.push(f+j.replace(T,this.options.pluralSeparator)),p&&C.push(f+E)),m){const L=`${f}${this.options.contextSeparator}${n.context}`;C.push(L),u&&(C.push(L+j),n.ordinal&&j.indexOf(T)===0&&C.push(L+j.replace(T,this.options.pluralSeparator)),p&&C.push(L+E))}}let w;for(;w=C.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(S,g,w,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const ui=e=>e.charAt(0).toUpperCase()+e.slice(1);class Ql{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vt.create("languageUtils")}getScriptPartFromCode(t){if(t=hs(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=hs(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ui(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ui(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=ui(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let tp=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],np={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const rp=["v1","v2","v3"],ap=["v4"],Xl={zero:0,one:1,two:2,few:3,many:4,other:5},sp=()=>{const e={};return tp.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:np[t.fc]}})}),e};class ip{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Vt.create("pluralResolver"),(!this.options.compatibilityJSON||ap.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sp(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=hs(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const o=new Intl.PluralRules(r,{type:a});return this.pluralRulesCache[i]=o,o}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,i)=>Xl[a]-Xl[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!rp.includes(this.options.compatibilityJSON)}}const ec=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Wm(e,t,n);return!i&&a&&typeof n=="string"&&(i=zi(e,n,r),i===void 0&&(i=zi(t,n,r))),i},fi=e=>e.replace(/\$/g,"$$$$");class op{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:l,formatSeparator:d,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:u,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:S,alwaysFormat:C}=t.interpolation;this.escape=n!==void 0?n:Jm,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?rr(i):o||"{{",this.suffix=c?rr(c):l||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=u?rr(u):p||rr("$t("),this.nestingSuffix=m?rr(m):x||rr(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=S||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,c;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=p=>{if(p.indexOf(this.formatSeparator)<0){const S=ec(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...a,...n,interpolationkey:p}):S}const m=p.split(this.formatSeparator),x=m.shift().trim(),g=m.join(this.formatSeparator).trim();return this.format(ec(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...a,...n,interpolationkey:x})};this.resetRegExp();const f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>fi(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?fi(this.escape(p)):fi(p)}].forEach(p=>{for(c=0;i=p.regex.exec(t);){const m=i[1].trim();if(o=d(m),o===void 0)if(typeof f=="function"){const g=f(t,i,a);o=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=Kl(o));const x=p.safeValue(o);if(t=t.replace(i[0],x),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const c=(l,d)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const h=l.split(new RegExp(`${f}[ ]*{`));let u=`{${h[1]}`;l=h[0],u=this.interpolate(u,o);const p=u.match(/'/g),m=u.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(u=u.replace(/'/g,'"'));try{o=JSON.parse(u),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${f}${u}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;a=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const f=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=f.shift(),l=f,d=!0}if(i=n(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=Kl(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),d&&(i=l.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const lp=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...l]=o.split(":"),d=l.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:t,formatOptions:n}},ar=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let c=t[o];return c||(c=e(hs(r),a),t[o]=c),c(n)}};class cp{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vt.create("formatter"),this.options=t,this.formats={number:ar((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return i=>a.format(i)}),currency:ar((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>a.format(i)}),datetime:ar((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return i=>a.format(i)}),relativetime:ar((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return i=>a.format(i,r.range||"day")}),list:ar((n,r)=>{const a=new Intl.ListFormat(n,{...r});return i=>a.format(i)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=ar(n)}format(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,l)=>{const{formatName:d,formatOptions:f}=lp(l);if(this.formats[d]){let h=c;try{const u=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=u.locale||u.lng||a.locale||a.lng||r;h=this.formats[d](c,p,{...f,...a,...u})}catch(u){this.logger.warn(u)}return h}else this.logger.warn(`there was no format function for ${d}`);return c},t)}}const dp=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class up extends Fs{constructor(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Vt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},c={},l={};return t.forEach(d=>{let f=!0;n.forEach(h=>{const u=`${d}|${h}`;!r.reload&&this.store.hasResourceBundle(d,h)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?o[u]===void 0&&(o[u]=!0):(this.state[u]=1,f=!1,o[u]===void 0&&(o[u]=!0),i[u]===void 0&&(i[u]=!0),l[h]===void 0&&(l[h]=!0)))}),f||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const c={};this.queue.forEach(l=>{Ym(l.loaded,[i],o),dp(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(d=>{c[d]||(c[d]={});const f=l.loaded[d];f.length&&f.forEach(h=>{c[d][h]===void 0&&(c[d][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(d,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const d=l(t,n);d&&typeof d.then=="function"?d.then(f=>c(null,f)).catch(c):c(null,d)}catch(d){c(d)}return}return l(t,n,c)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(t,n,r,a,l):f=d(t,n,r,a),f&&typeof f.then=="function"?f.then(h=>c(null,h)).catch(c):c(null,f)}catch(f){c(f)}else d(t,n,r,a,c,l)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const tc=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),nc=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Fa=()=>{},fp=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class la extends Fs{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=nc(t),this.services={},this.logger=Vt,this.modules={external:[]},fp(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=tc();this.options={...a,...this.options,...nc(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Vt.init(i(this.modules.logger),this.options):Vt.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=cp);const h=new Ql(this.options);this.store=new Jl(this.options.resources,this.options);const u=this.services;u.logger=Vt,u.resourceStore=this.store,u.languageUtils=h,u.pluralResolver=new ip(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(u.formatter=i(f),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new op(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new up(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),g=1;g<m;g++)x[g-1]=arguments[g];t.emit(p,...x)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new gs(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),g=1;g<m;g++)x[g-1]=arguments[g];t.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Fa),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const l=Fr(),d=()=>{const f=(h,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),r(h,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fa;const a=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(t,n,r){const a=Fr();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Fa),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&ou.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const a=Fr();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},c=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const d=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,f=>{o(f,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),a}getFixedT(t,n,r){var a=this;const i=function(o,c){let l;if(typeof c!="object"){for(var d=arguments.length,f=new Array(d>2?d-2:0),h=2;h<d;h++)f[h-2]=arguments[h];l=a.options.overloadTranslationOptionHandler([o,c].concat(f))}else l={...c};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=a.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${u}${m}`):p=l.keyPrefix?`${l.keyPrefix}${u}${o}`:o,a.t(p,l)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(c,l)=>{const d=this.services.backendConnector.state[`${c}|${l}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Fr();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Fr();typeof t=="string"&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Ql(tc());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new la(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fa;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new la(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Jl(this.store.data,a),i.services.resourceStore=i.store),i.translator=new gs(i.services,a),i.translator.on("*",function(c){for(var l=arguments.length,d=new Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];i.emit(c,...d)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=la.createInstance();Ke.createInstance=la.createInstance;Ke.createInstance;Ke.dir;Ke.init;Ke.loadResources;Ke.reloadResources;Ke.use;Ke.changeLanguage;Ke.getFixedT;Ke.t;Ke.exists;Ke.setDefaultNamespace;Ke.hasLoadedNamespace;Ke.loadNamespaces;Ke.loadLanguages;const{slice:hp,forEach:gp}=[];function mp(e){return gp.call(hp.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const rc=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pp=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const a=encodeURIComponent(t);let i=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!rc.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!rc.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},ac={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=pp(e,encodeURIComponent(t),a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e){this.create(e,"",-1)}};var xp={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return ac.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&ac.create(n,e,r,a,i)}},yp={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let c=0;c<o.length;c++){const l=o[c].indexOf("=");l>0&&o[c].substring(0,l)===t&&(n=o[c].substring(l+1))}}return n}};let Mr=null;const sc=()=>{if(Mr!==null)return Mr;try{Mr=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Mr=!1}return Mr};var vp={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&sc())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&sc()&&window.localStorage.setItem(n,e)}};let Ur=null;const ic=()=>{if(Ur!==null)return Ur;try{Ur=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ur=!1}return Ur};var bp={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&ic())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&ic()&&window.sessionStorage.setItem(n,e)}},wp={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},jp={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},_p={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},Sp={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function Cp(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class lu{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=mp(n,this.options||{},Cp()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(xp),this.addDetector(yp),this.addDetector(vp),this.addDetector(bp),this.addDetector(wp),this.addDetector(jp),this.addDetector(_p),this.addDetector(Sp)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}lu.type="languageDetector";var Ep={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Tp=Yt(Ep);var Rp=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function oc(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Tp[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(Rp),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),c=[o,""];o.indexOf("=")>-1&&(c=o.split("=")),t.attrs[c[0]]=c[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var Ip=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,kp=/^\s*$/,Lp=Object.create(null);function cu(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(cu,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Pp={parse:function(e,t){t||(t={}),t.components||(t.components=Lp);var n,r=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");r.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(Ip,function(l,d){if(o){if(l!=="</"+n.name+">")return;o=!1}var f,h=l.charAt(1)!=="/",u=l.startsWith("<!--"),p=d+l.length,m=e.charAt(p);if(u){var x=oc(l);return i<0?(r.push(x),r):((f=a[i]).children.push(x),r)}if(h&&(i++,(n=oc(l)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!m||m==="<"||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),i===0&&r.push(n),(f=a[i-1])&&f.children.push(n),a[i]=n),(!h||n.voidElement)&&(i>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(i--,n=i===-1?r:a[i]),!o&&m!=="<"&&m)){f=i===-1?r:a[i].children;var g=e.indexOf("<",p),S=e.slice(p,g===-1?void 0:g);kp.test(S)&&(S=" "),(g>-1&&i+f.length>=0||S!==" ")&&f.push({type:"text",content:S})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+cu("",n)},"")}};const Za=(...e)=>{console!=null&&console.warn&&(Rt(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},lc={},ms=(...e)=>{Rt(e[0])&&lc[e[0]]||(Rt(e[0])&&(lc[e[0]]=new Date),Za(...e))},du=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},cc=(e,t,n)=>{e.loadNamespaces(t,du(e,n))},dc=(e,t,n,r)=>{Rt(n)&&(n=[n]),n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,du(e,r))},Ap=(e,t,n={})=>!t.languages||!t.languages.length?(ms("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),Rt=e=>typeof e=="string",cr=e=>typeof e=="object"&&e!==null,Op=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Dp={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Np=e=>Dp[e],$p=e=>e.replace(Op,Np);let Bi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$p};const Fp=(e={})=>{Bi={...Bi,...e}},uu=()=>Bi;let fu;const Mp=e=>{fu=e},Io=()=>fu,hi=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},gi=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?dr(t):t},Up=e=>Array.isArray(e)&&e.every(b.isValidElement),dr=e=>Array.isArray(e)?e:[e],zp=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},hu=(e,t)=>{if(!e)return"";let n="";const r=dr(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((i,o)=>{if(Rt(i))n+=`${i}`;else if(b.isValidElement(i)){const{props:c,type:l}=i,d=Object.keys(c).length,f=a.indexOf(l)>-1,h=c.children;if(!h&&f&&!d)n+=`<${l}/>`;else if(!h&&(!f||d)||c.i18nIsDynamicList)n+=`<${o}></${o}>`;else if(f&&d===1&&Rt(h))n+=`<${l}>${h}</${l}>`;else{const u=hu(h,t);n+=`<${o}>${u}</${o}>`}}else if(i===null)Za("Trans: the passed in value is invalid - seems you passed in a null child.");else if(cr(i)){const{format:c,...l}=i,d=Object.keys(l);if(d.length===1){const f=c?`${d[0]}, ${c}`:d[0];n+=`{{${f}}}`}else Za("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else Za("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},Bp=(e,t,n,r,a,i)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(o.map(g=>`<${g}`).join("|")).test(t);if(!e&&!c&&!i)return[t];const l={},d=g=>{dr(g).forEach(C=>{Rt(C)||(hi(C)?d(gi(C)):cr(C)&&!b.isValidElement(C)&&Object.assign(l,C))})};d(e);const f=Pp.parse(`<0>${t}</0>`),h={...l,...a},u=(g,S,C)=>{var E;const w=gi(g),j=m(w,S.children,C);return Up(w)&&j.length===0||(E=g.props)!=null&&E.i18nIsDynamicList?w:j},p=(g,S,C,w,j)=>{g.dummy?(g.children=S,C.push(b.cloneElement(g,{key:w},j?void 0:S))):C.push(...b.Children.map([g],E=>{const T={...E.props};return delete T.i18nIsDynamicList,b.createElement(E.type,{...T,key:w,ref:E.ref},j?null:S)}))},m=(g,S,C)=>{const w=dr(g);return dr(S).reduce((E,T,L)=>{var I,D;const y=((D=(I=T.children)==null?void 0:I[0])==null?void 0:D.content)&&n.services.interpolator.interpolate(T.children[0].content,h,n.language);if(T.type==="tag"){let $=w[parseInt(T.name,10)];C.length===1&&!$&&($=C[0][T.name]),$||($={});const z=Object.keys(T.attrs).length!==0?zp({props:T.attrs},$):$,Y=b.isValidElement(z),H=Y&&hi(T,!0)&&!T.voidElement,ie=c&&cr(z)&&z.dummy&&!Y,ue=cr(e)&&Object.hasOwnProperty.call(e,T.name);if(Rt(z)){const fe=n.services.interpolator.interpolate(z,h,n.language);E.push(fe)}else if(hi(z)||H){const fe=u(z,T,C);p(z,fe,E,L)}else if(ie){const fe=m(w,T.children,C);p(z,fe,E,L)}else if(Number.isNaN(parseFloat(T.name)))if(ue){const fe=u(z,T,C);p(z,fe,E,L,T.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(T.name)>-1)if(T.voidElement)E.push(b.createElement(T.name,{key:`${T.name}-${L}`}));else{const fe=m(w,T.children,C);E.push(b.createElement(T.name,{key:`${T.name}-${L}`},fe))}else if(T.voidElement)E.push(`<${T.name} />`);else{const fe=m(w,T.children,C);E.push(`<${T.name}>${fe}</${T.name}>`)}else if(cr(z)&&!Y){const fe=T.children[0]?y:null;fe&&E.push(fe)}else p(z,y,E,L,T.children.length!==1||!y)}else if(T.type==="text"){const $=r.transWrapTextNodes,z=i?r.unescape(n.services.interpolator.interpolate(T.content,h,n.language)):n.services.interpolator.interpolate(T.content,h,n.language);$?E.push(b.createElement($,{key:`${T.name}-${L}`},z)):E.push(z)}return E},[])},x=m([{dummy:!0,children:e||[]}],f,dr(e||[]));return gi(x[0])};function Hp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:f,t:h,shouldUnescape:u,...p}){var $,z,Y,H;const m=f||Io();if(!m)return ms("You will need to pass in an i18next instance by using i18nextReactModule"),e;const x=h||m.t.bind(m)||(ie=>ie),g={...uu(),...($=m.options)==null?void 0:$.react};let S=d||x.ns||((z=m.options)==null?void 0:z.defaultNS);S=Rt(S)?[S]:S||["translation"];const C=hu(e,g),w=c||C||g.transEmptyNodeValue||r,{hashTransKey:j}=g,E=r||(j?j(C||w):C||w);(H=(Y=m.options)==null?void 0:Y.interpolation)!=null&&H.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const T=o||t!==void 0||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},L={...i,context:a||i.context,count:t,...o,...T,defaultValue:w,ns:S},y=E?x(E,L):w;l&&Object.keys(l).forEach(ie=>{const ue=l[ie];if(typeof ue.type=="function"||!ue.props||!ue.props.children||y.indexOf(`${ie}/>`)<0&&y.indexOf(`${ie} />`)<0)return;function fe(){return b.createElement(b.Fragment,null,ue)}l[ie]=b.createElement(fe)});const I=Bp(l||e,y,m,g,L,u),D=n??g.defaultTransParent;return D?b.createElement(D,p,I):I}const Vp={type:"3rdParty",init(e){Fp(e.options.react),Mp(e)}},gu=b.createContext();class qp{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function jr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:f,t:h,shouldUnescape:u,...p}){var C;const{i18n:m,defaultNS:x}=b.useContext(gu)||{},g=f||m||Io(),S=h||(g==null?void 0:g.t.bind(g));return Hp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:o,defaults:c,components:l,ns:d||(S==null?void 0:S.ns)||x||((C=g==null?void 0:g.options)==null?void 0:C.defaultNS),i18n:g,t:h,shouldUnescape:u,...p})}const Kp=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},mu=(e,t,n,r)=>e.getFixedT(t,n,r),Yp=(e,t,n,r)=>b.useCallback(mu(e,t,n,r),[e,t,n,r]),Ye=(e,t={})=>{var j,E,T,L;const{i18n:n}=t,{i18n:r,defaultNS:a}=b.useContext(gu)||{},i=n||r||Io();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new qp),!i){ms("You will need to pass in an i18next instance by using initReactI18next");const y=(D,$)=>Rt($)?$:cr($)&&Rt($.defaultValue)?$.defaultValue:Array.isArray(D)?D[D.length-1]:D,I=[y,{},!1];return I.t=y,I.i18n={},I.ready=!1,I}(j=i.options.react)!=null&&j.wait&&ms("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...uu(),...i.options.react,...t},{useSuspense:c,keyPrefix:l}=o;let d=a||((E=i.options)==null?void 0:E.defaultNS);d=Rt(d)?[d]:d||["translation"],(L=(T=i.reportNamespaces).addUsedNamespaces)==null||L.call(T,d);const f=(i.isInitialized||i.initializedStoreOnce)&&d.every(y=>Ap(y,i,o)),h=Yp(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),u=()=>h,p=()=>mu(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),[m,x]=b.useState(u);let g=d.join();t.lng&&(g=`${t.lng}${g}`);const S=Kp(g),C=b.useRef(!0);b.useEffect(()=>{const{bindI18n:y,bindI18nStore:I}=o;C.current=!0,!f&&!c&&(t.lng?dc(i,t.lng,d,()=>{C.current&&x(p)}):cc(i,d,()=>{C.current&&x(p)})),f&&S&&S!==g&&C.current&&x(p);const D=()=>{C.current&&x(p)};return y&&(i==null||i.on(y,D)),I&&(i==null||i.store.on(I,D)),()=>{C.current=!1,i&&(y==null||y.split(" ").forEach($=>i.off($,D))),I&&i&&I.split(" ").forEach($=>i.store.off($,D))}},[i,g]),b.useEffect(()=>{C.current&&f&&x(u)},[i,l,f]);const w=[m,i,f];if(w.t=m,w.i18n=i,w.ready=f,f||!f&&!c)return w;throw new Promise(y=>{t.lng?dc(i,t.lng,d,()=>y()):cc(i,d,()=>y())})};var pu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Nt,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})})(pu);var Wp=pu.exports;const Gp=Yt(Wp);var xu={exports:{}};(function(e,t){(function(n,r){e.exports=r(Od)})(Nt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(xu);var Jp=xu.exports;const Zp=Yt(Jp);var yu={exports:{}};(function(e,t){(function(n,r){e.exports=r(Od)})(Nt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(yu);var Qp=yu.exports;const Xp=Yt(Qp),ex={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile","page.setting.statics":"Statics","page.statics.list.title":"File list"},tx={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料","page.setting.statics":"文件管理","page.statics.list.title":"文件列表"},nx={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料","page.setting.statics":"媒體管理","page.statics.list.title":"媒體列表"},ps={[na.English]:{i18n:ex,dayjs:Gp,antd:gg},[na.SimplifiedChinese]:{i18n:tx,dayjs:Zp,antd:mg},[na.TraditionalChinese]:{i18n:nx,dayjs:Xp,antd:pg}},Dn=Ke,rx=Object.keys(ps).reduce((e,t)=>(e[t]={translation:ps[t].i18n},e),{}),ax=e=>(Ke.use(lu).use(Vp).init({debug:Fm,cleanCode:!0,resources:rx,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),Ke);/**
* @vue/shared v3.5.0-rc.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sx(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const ix=Object.prototype.hasOwnProperty,Hi=(e,t)=>ix.call(e,t),aa=Array.isArray,Qa=e=>vu(e)==="[object Map]",ox=e=>typeof e=="function",lx=e=>typeof e=="string",ya=e=>typeof e=="symbol",Ms=e=>e!==null&&typeof e=="object",cx=Object.prototype.toString,vu=e=>cx.call(e),dx=e=>vu(e).slice(8,-1),ko=e=>lx(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_r=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.5.0-rc.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;const ux={ACTIVE:1,1:"ACTIVE",RUNNING:2,2:"RUNNING",TRACKING:4,4:"TRACKING",NOTIFIED:8,8:"NOTIFIED",DIRTY:16,16:"DIRTY",ALLOW_RECURSE:32,32:"ALLOW_RECURSE",PAUSED:64,64:"PAUSED"},mi=new WeakSet;class fx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mi.has(this)&&(mi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=sa,sa=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uc(this),wu(this);const t=Ie,n=$t;Ie=this,$t=!0;try{return this.fn()}finally{ju(this),Ie=t,$t=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ao(t);this.deps=this.depsTail=void 0,uc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vi(this)&&this.run()}get dirty(){return Vi(this)}}let bu=0,sa;function Lo(){bu++}function Po(){if(--bu>0)return;let e;for(;sa;){let t=sa;for(sa=void 0;t;){const n=t.nextEffect;if(t.nextEffect=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function wu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ju(e){let t,n=e.depsTail;for(let r=n;r;r=r.prevDep)r.version===-1?(r===n&&(n=r.prevDep),Ao(r),hx(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0;e.deps=t,e.depsTail=n}function Vi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&_u(t.dep.computed)===!1||t.dep.version!==t.version)return!0;return!!e._dirty}function _u(e){if(e.flags&2)return!1;if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ca))return;e.globalVersion=ca;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&!Vi(e)){e.flags&=-3;return}const n=Ie,r=$t;Ie=e,$t=!0;try{wu(e);const a=e.fn();(t.version===0||_r(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ie=n,$t=r,ju(e),e.flags&=-3}}function Ao(e){const{dep:t,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),t.subs===e&&(t.subs=n),!t.subs&&t.computed){t.computed.flags&=-5;for(let a=t.computed.deps;a;a=a.nextDep)Ao(a)}}function hx(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let $t=!0;const Su=[];function gx(){Su.push($t),$t=!1}function mx(){const e=Su.pop();$t=e===void 0?!0:e}function uc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ie;Ie=void 0;try{t()}finally{Ie=n}}}let ca=0;class Oo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0}track(t){if(!Ie||!$t)return;let n=this.activeLink;if(n===void 0||n.sub!==Ie)n=this.activeLink={dep:this,sub:Ie,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Ie.deps?(n.prevDep=Ie.depsTail,Ie.depsTail.nextDep=n,Ie.depsTail=n):Ie.deps=Ie.depsTail=n,Ie.flags&4&&Cu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ie.depsTail,n.nextDep=void 0,Ie.depsTail.nextDep=n,Ie.depsTail=n,Ie.deps===n&&(Ie.deps=r)}return n}trigger(t){this.version++,ca++,this.notify(t)}notify(t){Lo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Po()}}}function Cu(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Cu(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const qi=new WeakMap,Nn=Symbol(""),Ki=Symbol(""),da=Symbol("");function gt(e,t,n){if($t&&Ie){let r=qi.get(e);r||qi.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=new Oo),a.track()}}function _n(e,t,n,r,a,i){const o=qi.get(e);if(!o){ca++;return}let c=[];if(t==="clear")c=[...o.values()];else{const l=aa(e),d=l&&ko(n);if(l&&n==="length"){const f=Number(r);o.forEach((h,u)=>{(u==="length"||u===da||!ya(u)&&u>=f)&&c.push(h)})}else{const f=h=>h&&c.push(h);switch(n!==void 0&&f(o.get(n)),d&&f(o.get(da)),t){case"add":l?d&&f(o.get("length")):(f(o.get(Nn)),Qa(e)&&f(o.get(Ki)));break;case"delete":l||(f(o.get(Nn)),Qa(e)&&f(o.get(Ki)));break;case"set":Qa(e)&&f(o.get(Nn));break}}}Lo();for(const l of c)l.trigger();Po()}function sr(e){const t=Re(e);return t===e?t:(gt(t,"iterate",da),Ft(e)?t:t.map(ct))}function Do(e){return gt(e=Re(e),"iterate",da),e}const px={__proto__:null,[Symbol.iterator](){return pi(this,Symbol.iterator,ct)},concat(...e){return sr(this).concat(...e.map(t=>sr(t)))},entries(){return pi(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Zt(this,"every",e,t,void 0,arguments)},filter(e,t){return Zt(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return Zt(this,"find",e,t,ct,arguments)},findIndex(e,t){return Zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zt(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return xi(this,"includes",e)},indexOf(...e){return xi(this,"indexOf",e)},join(e){return sr(this).join(e)},lastIndexOf(...e){return xi(this,"lastIndexOf",e)},map(e,t){return Zt(this,"map",e,t,void 0,arguments)},pop(){return zr(this,"pop")},push(...e){return zr(this,"push",e)},reduce(e,...t){return fc(this,"reduce",e,t)},reduceRight(e,...t){return fc(this,"reduceRight",e,t)},shift(){return zr(this,"shift")},some(e,t){return Zt(this,"some",e,t,void 0,arguments)},splice(...e){return zr(this,"splice",e)},toReversed(){return sr(this).toReversed()},toSorted(e){return sr(this).toSorted(e)},toSpliced(...e){return sr(this).toSpliced(...e)},unshift(...e){return zr(this,"unshift",e)},values(){return pi(this,"values",ct)}};function pi(e,t,n){const r=Do(e),a=r[t]();return r!==e&&!Ft(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const xx=Array.prototype;function Zt(e,t,n,r,a,i){const o=Do(e),c=o!==e&&!Ft(e),l=o[t];if(l!==xx[t]){const h=l.apply(o,i);return c?ct(h):h}let d=n;o!==e&&(c?d=function(h,u){return n.call(this,ct(h),u,e)}:n.length>2&&(d=function(h,u){return n.call(this,h,u,e)}));const f=l.call(o,d,r);return c&&a?a(f):f}function fc(e,t,n,r){const a=Do(e);let i=n;return a!==e&&(Ft(e)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,e)}):i=function(o,c,l){return n.call(this,o,ct(c),l,e)}),a[t](i,...r)}function xi(e,t,n){const r=Re(e);gt(r,"iterate",da);const a=r[t](...n);return(a===-1||a===!1)&&Nx(n[0])?(n[0]=Re(n[0]),r[t](...n)):a}function zr(e,t,n=[]){gx(),Lo();const r=Re(e)[t].apply(e,n);return Po(),mx(),r}const yx=sx("__proto__,__v_isRef,__isVue"),Eu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ya));function vx(e){ya(e)||(e=String(e));const t=Re(this);return gt(t,"has",e),t.hasOwnProperty(e)}class Tu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?Px:Lu:i?ku:Iu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=aa(t);if(!a){let l;if(o&&(l=px[n]))return l;if(n==="hasOwnProperty")return vx}const c=Reflect.get(t,n,en(t)?t:r);return(ya(n)?Eu.has(n):yx(n))||(a||gt(t,"get",n),i)?c:en(c)?o&&ko(n)?c:c.value:Ms(c)?a?Pu(c):Fo(c):c}}class Ru extends Tu{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=Mn(i);if(!Ft(r)&&!Mn(r)&&(i=Re(i),r=Re(r)),!aa(t)&&en(i)&&!en(r))return l?!1:(i.value=r,!0)}const o=aa(t)&&ko(n)?Number(n)<t.length:Hi(t,n),c=Reflect.set(t,n,r,en(t)?t:a);return t===Re(a)&&(o?_r(r,i)&&_n(t,"set",n,r):_n(t,"add",n,r)),c}deleteProperty(t,n){const r=Hi(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&_n(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!ya(n)||!Eu.has(n))&&gt(t,"has",n),r}ownKeys(t){return gt(t,"iterate",aa(t)?"length":Nn),Reflect.ownKeys(t)}}class bx extends Tu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wx=new Ru,jx=new bx,_x=new Ru(!0),No=e=>e,Us=e=>Reflect.getPrototypeOf(e);function Ma(e,t,n=!1,r=!1){e=e.__v_raw;const a=Re(e),i=Re(t);n||(_r(t,i)&&gt(a,"get",t),gt(a,"get",i));const{has:o}=Us(a),c=r?No:n?Uo:ct;if(o.call(a,t))return c(e.get(t));if(o.call(a,i))return c(e.get(i));e!==a&&e.get(t)}function Ua(e,t=!1){const n=this.__v_raw,r=Re(n),a=Re(e);return t||(_r(e,a)&&gt(r,"has",e),gt(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function za(e,t=!1){return e=e.__v_raw,!t&&gt(Re(e),"iterate",Nn),Reflect.get(e,"size",e)}function hc(e,t=!1){!t&&!Ft(e)&&!Mn(e)&&(e=Re(e));const n=Re(this);return Us(n).has.call(n,e)||(n.add(e),_n(n,"add",e,e)),this}function gc(e,t,n=!1){!n&&!Ft(t)&&!Mn(t)&&(t=Re(t));const r=Re(this),{has:a,get:i}=Us(r);let o=a.call(r,e);o||(e=Re(e),o=a.call(r,e));const c=i.call(r,e);return r.set(e,t),o?_r(t,c)&&_n(r,"set",e,t):_n(r,"add",e,t),this}function mc(e){const t=Re(this),{has:n,get:r}=Us(t);let a=n.call(t,e);a||(e=Re(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&_n(t,"delete",e,void 0),i}function pc(){const e=Re(this),t=e.size!==0,n=e.clear();return t&&_n(e,"clear",void 0,void 0),n}function Ba(e,t){return function(r,a){const i=this,o=i.__v_raw,c=Re(o),l=t?No:e?Uo:ct;return!e&&gt(c,"iterate",Nn),o.forEach((d,f)=>r.call(a,l(d),l(f),i))}}function Ha(e,t,n){return function(...r){const a=this.__v_raw,i=Re(a),o=Qa(i),c=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,d=a[e](...r),f=n?No:t?Uo:ct;return!t&&gt(i,"iterate",l?Ki:Nn),{next(){const{value:h,done:u}=d.next();return u?{value:h,done:u}:{value:c?[f(h[0]),f(h[1])]:f(h),done:u}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sx(){const e={get(i){return Ma(this,i)},get size(){return za(this)},has:Ua,add:hc,set:gc,delete:mc,clear:pc,forEach:Ba(!1,!1)},t={get(i){return Ma(this,i,!1,!0)},get size(){return za(this)},has:Ua,add(i){return hc.call(this,i,!0)},set(i,o){return gc.call(this,i,o,!0)},delete:mc,clear:pc,forEach:Ba(!1,!0)},n={get(i){return Ma(this,i,!0)},get size(){return za(this,!0)},has(i){return Ua.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Ba(!0,!1)},r={get(i){return Ma(this,i,!0,!0)},get size(){return za(this,!0)},has(i){return Ua.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Ba(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ha(i,!1,!1),n[i]=Ha(i,!0,!1),t[i]=Ha(i,!1,!0),r[i]=Ha(i,!0,!0)}),[e,n,t,r]}const[Cx,Ex,Tx,Rx]=Sx();function $o(e,t){const n=t?e?Rx:Tx:e?Ex:Cx;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Hi(n,a)&&a in r?n:r,a,i)}const Ix={get:$o(!1,!1)},kx={get:$o(!1,!0)},Lx={get:$o(!0,!1)},Iu=new WeakMap,ku=new WeakMap,Lu=new WeakMap,Px=new WeakMap;function Ax(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ox(e){return e.__v_skip||!Object.isExtensible(e)?0:Ax(dx(e))}function Fo(e){return Mn(e)?e:Mo(e,!1,wx,Ix,Iu)}function Dx(e){return Mo(e,!1,_x,kx,ku)}function Pu(e){return Mo(e,!0,jx,Lx,Lu)}function Mo(e,t,n,r,a){if(!Ms(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=Ox(e);if(o===0)return e;const c=new Proxy(e,o===2?r:n);return a.set(e,c),c}function Xa(e){return Mn(e)?Xa(e.__v_raw):!!(e&&e.__v_isReactive)}function Mn(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function Nx(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}const ct=e=>Ms(e)?Fo(e):e,Uo=e=>Ms(e)?Pu(e):e;function en(e){return e?e.__v_isRef===!0:!1}function Au(e){return Ou(e,!1)}function $x(e){return Ou(e,!0)}function Ou(e,t){return en(e)?e:new Fx(e,t)}class Fx{constructor(t,n){this.dep=new Oo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ft(t)||Mn(t);t=r?t:Re(t),_r(t,n)&&(this._rawValue=t,this._value=r?t:ct(t),this.dep.trigger())}}class Mx{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Oo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ca-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){Ie!==this&&(this.flags|=16,this.dep.notify())}get value(){const t=this.dep.track();return _u(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ux(e,t,n=!1){let r,a;return ox(e)?r=e:(r=e.get,a=e.set),new Mx(r,a,n)}const zx={SKIP:"__v_skip",IS_REACTIVE:"__v_isReactive",IS_READONLY:"__v_isReadonly",IS_SHALLOW:"__v_isShallow",RAW:"__v_raw",IS_REF:"__v_isRef"};/*!
 * veact v1.0.0-beta.2
 * https://github.com/veactjs/veact
 *
 * Includes @vue/reactivity
 * https://github.com/vuejs/core/tree/main/packages/reactivity
 *
 * (c) 2021-present Surmon and Veact contributors.
 * Released under the MIT License.
 *
 * Date: 2024-08-15T10:00:18.824Z
 */function Ee(e){b.useEffect(()=>{e()},[])}function zo(e){b.useEffect(()=>()=>{e()},[])}const Bx=e=>e+1,va=()=>b.useReducer(Bx,0)[1],xc=(e,t)=>e!==t&&(e===e||t===t),Bo=Array.isArray,Hx=Object.prototype.toString,Ho=e=>Hx.call(e),Vx=e=>Ho(e)==="[object Map]",qx=e=>Ho(e)==="[object Set]",ua=e=>typeof e=="function",Du=e=>e!==null&&typeof e=="object",Kx=e=>Ho(e)==="[object Object]",Yx=e=>Du(e)&&ua(e.then)&&ua(e.catch),yi="veact",Vo={...console,log(...e){console.log(`[${yi}]`,...e)},warn(...e){console.warn(`[${yi}]`,...e)},error(...e){console.error(`[${yi}]`,...e)}},Wx=()=>{},yc="watcher getter",Gx="watcher cleanup function",Jx="watcher callback";function es(e,t,n){try{return n?e(...n):e()}catch(r){Vo.error(r,t)}}function Nu(e,t,n){if(ua(e)){const r=es(e,t,n);return r&&Yx(r)&&r.catch(a=>{Vo.error(a,t)}),r}if(Bo(e)){const r=[];for(let a=0;a<e.length;a++)r.push(Nu(e[a],t,n));return r}}function yn(e,t=1/0,n){if(t<=0||!Du(e)||e[zx.SKIP]||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,en(e))yn(e.value,t,n);else if(Bo(e))for(let r=0;r<e.length;r++)yn(e[r],t,n);else if(qx(e)||Vx(e))e.forEach(r=>{yn(r,t,n)});else if(Kx(e)){for(const r in e)yn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&yn(e[r],t,n)}return e}const Va={},vc=e=>{Vo.warn("Invalid watch source: ",e,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")};function Zx(e,t,n={}){const{immediate:r,deep:a,once:i,onTrack:o,onTrigger:c}=n,l=C=>a?C:Ft(C)||a===!1||a===0?yn(C,1):yn(C);let d,f,h=!1,u=!1,p;if(i){const C=t;t=(...w)=>{C(...w),d()}}if(en(e)?(f=()=>e.value,h=Ft(e)):Xa(e)?(f=()=>l(e),h=!0):Bo(e)?(u=!0,h=e.some(C=>Xa(C)||Ft(C)),f=()=>e.map(C=>{if(en(C))return C.value;if(Xa(C))return l(C);if(ua(C))return es(C,yc);vc(C)})):ua(e)?f=()=>es(e,yc):(f=Wx,vc(e)),a){const C=f,w=a===!0?1/0:a;f=()=>yn(C(),w)}let m,x=C=>{m=p.onStop=()=>{es(C,Gx),m=p.onStop=void 0}},g=u?new Array(e.length).fill(Va):Va;const S=C=>{if(!(p.flags&ux.ACTIVE)||!p.dirty&&!C)return;const w=p.run();(a||h||(u?w.some((j,E)=>xc(j,g[E])):xc(w,g)))&&(m==null||m(),Nu(t,Jx,[w,g===Va?void 0:u&&g[0]===Va?[]:g,x]),g=w)};return p=new fx(f),p.scheduler=S,p.onTrack=o,p.onTrigger=c,d=()=>{p.stop()},d.pause=p.pause.bind(p),d.resume=p.resume.bind(p),d.stop=d,r?S(!0):g=p.run(),d}const Ct=(e,t,n={})=>{const[r]=b.useState(()=>Zx(e,t,n));return zo(()=>r.stop()),r};function Z(e){const[t]=b.useState(()=>Au(e)),n=va();return Ct(t,n,{deep:!0}),t}function ut(e){const[t]=b.useState(()=>$x(e)),n=va();return Ct(t,n),t}function $u(e){const[t]=b.useState(()=>Fo(e)),n=va();return Ct(t,n),t}function sn(e){const[t]=b.useState(()=>Dx(e)),n=va();return Ct(t,n),t}function St(e,t){const[n]=b.useState(()=>Ux(e)),r=va();return Ct(n,r),n}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var $e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($e||($e={}));const bc="popstate";function Qx(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:c}=r.location;return pr("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Cn(a)}return Fu(t,n,null,e)}function Xx(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:c="",hash:l=""}=on(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),pr("",{pathname:o,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let l=a.location.href,d=l.indexOf("#");c=d===-1?l:l.slice(0,d)}return c+"#"+(typeof i=="string"?i:Cn(i))}function r(a,i){Un(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Fu(t,n,r,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Un(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ey(){return Math.random().toString(36).substr(2,8)}function wc(e,t){return{usr:e.state,key:e.key,idx:t}}function pr(e,t,n,r){return n===void 0&&(n=null),Le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:n,key:t&&t.key||r||ey()})}function Cn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function on(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Fu(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c=$e.Pop,l=null,d=f();d==null&&(d=0,o.replaceState(Le({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){c=$e.Pop;let g=f(),S=g==null?null:g-d;d=g,l&&l({action:c,location:x.location,delta:S})}function u(g,S){c=$e.Push;let C=pr(x.location,g,S);n&&n(C,g),d=f()+1;let w=wc(C,d),j=x.createHref(C);try{o.pushState(w,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(j)}i&&l&&l({action:c,location:x.location,delta:1})}function p(g,S){c=$e.Replace;let C=pr(x.location,g,S);n&&n(C,g),d=f();let w=wc(C,d),j=x.createHref(C);o.replaceState(w,"",j),i&&l&&l({action:c,location:x.location,delta:0})}function m(g){let S=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof g=="string"?g:Cn(g);return C=C.replace(/ $/,"%20"),ae(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let x={get action(){return c},get location(){return e(a,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(bc,h),l=g,()=>{a.removeEventListener(bc,h),l=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let S=m(g);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:u,replace:p,go(g){return o.go(g)}};return x}var Se;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Se||(Se={}));const ty=new Set(["lazy","caseSensitive","path","id","index","children"]);function ny(e){return e.index===!0}function fa(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...n,String(i)],c=typeof a.id=="string"?a.id:o.join("-");if(ae(a.index!==!0||!a.children,"Cannot specify children on an index route"),ae(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),ny(a)){let l=Le({},a,t(a),{id:c});return r[c]=l,l}else{let l=Le({},a,t(a),{id:c,children:void 0});return r[c]=l,a.children&&(l.children=fa(a.children,t,o,r)),l}})}function Ln(e,t,n){return n===void 0&&(n="/"),ts(e,t,n,!1)}function ts(e,t,n,r){let a=typeof t=="string"?on(t):t,i=Sr(a.pathname||"/",n);if(i==null)return null;let o=Mu(e);ay(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=my(i);c=hy(o[l],d,r)}return c}function ry(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Mu(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=tn([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mu(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:uy(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of Uu(i.path))a(i,o,l)}),t}function Uu(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Uu(r.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function ay(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sy=/^:[\w-]+$/,iy=3,oy=2,ly=1,cy=10,dy=-2,jc=e=>e==="*";function uy(e,t){let n=e.split("/"),r=n.length;return n.some(jc)&&(r+=dy),t&&(r+=oy),n.filter(a=>!jc(a)).reduce((a,i)=>a+(sy.test(i)?iy:i===""?ly:cy),r)}function fy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function hy(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let c=0;c<r.length;++c){let l=r[c],d=c===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=Yi({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),u=l.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Yi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:tn([i,h.pathname]),pathnameBase:yy(tn([i,h.pathnameBase])),route:u}),h.pathnameBase!=="/"&&(i=tn([i,h.pathnameBase]))}return o}function Yi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gy(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,f,h)=>{let{paramName:u,isOptional:p}=f;if(u==="*"){let x=c[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=c[h];return p&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function gy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Un(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function my(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function py(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?on(e):e;return{pathname:n?n.startsWith("/")?n:xy(n,t):t,search:vy(r),hash:by(a)}}function xy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zu(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zs(e,t){let n=zu(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bs(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=on(e):(a=Le({},e),ae(!a.pathname||!a.pathname.includes("?"),vi("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),vi("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),vi("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),h-=1;a.pathname=u.join("/")}c=h>=0?t[h]:"/"}let l=py(a,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),yy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,by=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class xs{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hs(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bu=["post","put","patch","delete"],wy=new Set(Bu),jy=["get",...Bu],_y=new Set(jy),Sy=new Set([301,302,303,307,308]),Cy=new Set([307,308]),bi={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ey={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Br={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ty=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Hu="remix-router-transitions";function Vu(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let v=e.detectErrorBoundary;a=_=>({hasErrorBoundary:v(_)})}else a=Ty;let i={},o=fa(e.routes,a,void 0,i),c,l=e.basename||"/",d=e.unstable_dataStrategy||Py,f=e.unstable_patchRoutesOnNavigation,h=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),u=null,p=new Set,m=1e3,x=new Set,g=null,S=null,C=null,w=e.hydrationData!=null,j=Ln(o,e.history.location,l),E=null;if(j==null&&!f){let v=it(404,{pathname:e.history.location.pathname}),{matches:_,route:R}=Pc(o);j=_,E={[R.id]:v}}j&&!e.hydrationData&&Aa(j,o,e.history.location.pathname).active&&(j=null);let T;if(j)if(j.some(v=>v.route.lazy))T=!1;else if(!j.some(v=>v.route.loader))T=!0;else if(h.v7_partialHydration){let v=e.hydrationData?e.hydrationData.loaderData:null,_=e.hydrationData?e.hydrationData.errors:null,R=O=>O.route.loader?typeof O.route.loader=="function"&&O.route.loader.hydrate===!0?!1:v&&v[O.route.id]!==void 0||_&&_[O.route.id]!==void 0:!0;if(_){let O=j.findIndex(U=>_[U.route.id]!==void 0);T=j.slice(0,O+1).every(R)}else T=j.every(R)}else T=e.hydrationData!=null;else if(T=!1,j=[],h.v7_partialHydration){let v=Aa(null,o,e.history.location.pathname);v.active&&v.matches&&(j=v.matches)}let L,y={historyAction:e.history.action,location:e.history.location,matches:j,initialized:T,navigation:bi,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},I=$e.Pop,D=!1,$,z=!1,Y=new Map,H=null,ie=!1,ue=!1,fe=[],ve=new Set,ce=new Map,We=0,rt=-1,at=new Map,Qe=new Set,kt=new Map,mt=new Map,He=new Set,Xe=new Map,pt=new Map,Gt=new Map,Ut=!1;function Zn(){if(u=e.history.listen(v=>{let{action:_,location:R,delta:O}=v;if(Ut){Ut=!1;return}Un(pt.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Dl({currentLocation:y.location,nextLocation:R,historyAction:_});if(U&&O!=null){Ut=!0,e.history.go(O*-1),La(U,{state:"blocked",location:R,proceed(){La(U,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(O)},reset(){let B=new Map(y.blockers);B.set(U,Br),je({blockers:B})}});return}return Lt(_,R)}),n){qy(t,Y);let v=()=>Ky(t,Y);t.addEventListener("pagehide",v),H=()=>t.removeEventListener("pagehide",v)}return y.initialized||Lt($e.Pop,y.location,{initialHydration:!0}),L}function Et(){u&&u(),H&&H(),p.clear(),$&&$.abort(),y.fetchers.forEach((v,_)=>st(_)),y.blockers.forEach((v,_)=>Ol(_))}function cn(v){return p.add(v),()=>p.delete(v)}function je(v,_){_===void 0&&(_={}),y=Le({},y,v);let R=[],O=[];h.v7_fetcherPersist&&y.fetchers.forEach((U,B)=>{U.state==="idle"&&(He.has(B)?O.push(B):R.push(B))}),[...p].forEach(U=>U(y,{deletedFetchers:O,unstable_viewTransitionOpts:_.viewTransitionOpts,unstable_flushSync:_.flushSync===!0})),h.v7_fetcherPersist&&(R.forEach(U=>y.fetchers.delete(U)),O.forEach(U=>st(U)))}function Pe(v,_,R){var O,U;let{flushSync:B}=R===void 0?{}:R,J=y.actionData!=null&&y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&y.navigation.state==="loading"&&((O=v.state)==null?void 0:O._isRedirect)!==!0,M;_.actionData?Object.keys(_.actionData).length>0?M=_.actionData:M=null:J?M=y.actionData:M=null;let X=_.loaderData?kc(y.loaderData,_.loaderData,_.matches||[],_.errors):y.loaderData,q=y.blockers;q.size>0&&(q=new Map(q),q.forEach((we,Te)=>q.set(Te,Br)));let te=D===!0||y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&((U=v.state)==null?void 0:U._isRedirect)!==!0;c&&(o=c,c=void 0),ie||I===$e.Pop||(I===$e.Push?e.history.push(v,v.state):I===$e.Replace&&e.history.replace(v,v.state));let _e;if(I===$e.Pop){let we=Y.get(y.location.pathname);we&&we.has(v.pathname)?_e={currentLocation:y.location,nextLocation:v}:Y.has(v.pathname)&&(_e={currentLocation:v,nextLocation:y.location})}else if(z){let we=Y.get(y.location.pathname);we?we.add(v.pathname):(we=new Set([v.pathname]),Y.set(y.location.pathname,we)),_e={currentLocation:y.location,nextLocation:v}}je(Le({},_,{actionData:M,loaderData:X,historyAction:I,location:v,initialized:!0,navigation:bi,revalidation:"idle",restoreScrollPosition:$l(v,_.matches||y.matches),preventScrollReset:te,blockers:q}),{viewTransitionOpts:_e,flushSync:B===!0}),I=$e.Pop,D=!1,z=!1,ie=!1,ue=!1,fe=[]}async function Oe(v,_){if(typeof v=="number"){e.history.go(v);return}let R=Wi(y.location,y.matches,l,h.v7_prependBasename,v,h.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:O,submission:U,error:B}=_c(h.v7_normalizeFormMethod,!1,R,_),J=y.location,M=pr(y.location,O,_&&_.state);M=Le({},M,e.history.encodeLocation(M));let X=_&&_.replace!=null?_.replace:void 0,q=$e.Push;X===!0?q=$e.Replace:X===!1||U!=null&&At(U.formMethod)&&U.formAction===y.location.pathname+y.location.search&&(q=$e.Replace);let te=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,_e=(_&&_.unstable_flushSync)===!0,we=Dl({currentLocation:J,nextLocation:M,historyAction:q});if(we){La(we,{state:"blocked",location:M,proceed(){La(we,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),Oe(v,_)},reset(){let Te=new Map(y.blockers);Te.set(we,Br),je({blockers:Te})}});return}return await Lt(q,M,{submission:U,pendingError:B,preventScrollReset:te,replace:_&&_.replace,enableViewTransition:_&&_.unstable_viewTransition,flushSync:_e})}function Tt(){if(yt(),je({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Lt(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Lt(I||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Lt(v,_,R){$&&$.abort(),$=null,I=v,ie=(R&&R.startUninterruptedRevalidation)===!0,cg(y.location,y.matches),D=(R&&R.preventScrollReset)===!0,z=(R&&R.enableViewTransition)===!0;let O=c||o,U=R&&R.overrideNavigation,B=Ln(O,_,l),J=(R&&R.flushSync)===!0,M=Aa(B,O,_.pathname);if(M.active&&M.matches&&(B=M.matches),!B){let{error:me,notFoundMatches:Ge,route:De}=ii(_.pathname);Pe(_,{matches:Ge,loaderData:{},errors:{[De.id]:me}},{flushSync:J});return}if(y.initialized&&!ue&&Fy(y.location,_)&&!(R&&R.submission&&At(R.submission.formMethod))){Pe(_,{matches:B},{flushSync:J});return}$=new AbortController;let X=ir(e.history,_,$.signal,R&&R.submission),q;if(R&&R.pendingError)q=[ur(B).route.id,{type:Se.error,error:R.pendingError}];else if(R&&R.submission&&At(R.submission.formMethod)){let me=await si(X,_,R.submission,B,M.active,{replace:R.replace,flushSync:J});if(me.shortCircuited)return;if(me.pendingActionResult){let[Ge,De]=me.pendingActionResult;if(wt(De)&&Hs(De.error)&&De.error.status===404){$=null,Pe(_,{matches:me.matches,loaderData:{},errors:{[Ge]:De.error}});return}}B=me.matches||B,q=me.pendingActionResult,U=wi(_,R.submission),J=!1,M.active=!1,X=ir(e.history,X.url,X.signal)}let{shortCircuited:te,matches:_e,loaderData:we,errors:Te}=await ka(X,_,B,M.active,U,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,J,q);te||($=null,Pe(_,Le({matches:_e||B},Lc(q),{loaderData:we,errors:Te})))}async function si(v,_,R,O,U,B){B===void 0&&(B={}),yt();let J=Hy(_,R);if(je({navigation:J},{flushSync:B.flushSync===!0}),U){let q=await Oa(O,_.pathname,v.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let{boundaryId:te,error:_e}=Pa(_.pathname,q);return{matches:q.partialMatches,pendingActionResult:[te,{type:Se.error,error:_e}]}}else if(q.matches)O=q.matches;else{let{notFoundMatches:te,error:_e,route:we}=ii(_.pathname);return{matches:te,pendingActionResult:[we.id,{type:Se.error,error:_e}]}}}let M,X=Qr(O,_);if(!X.route.action&&!X.route.lazy)M={type:Se.error,error:it(405,{method:v.method,pathname:_.pathname,routeId:X.route.id})};else if(M=(await W("action",v,[X],O))[0],v.signal.aborted)return{shortCircuited:!0};if(An(M)){let q;return B&&B.replace!=null?q=B.replace:q=Tc(M.response.headers.get("Location"),new URL(v.url),l)===y.location.pathname+y.location.search,await de(v,M,{submission:R,replace:q}),{shortCircuited:!0}}if(Pn(M))throw it(400,{type:"defer-action"});if(wt(M)){let q=ur(O,X.route.id);return(B&&B.replace)!==!0&&(I=$e.Push),{matches:O,pendingActionResult:[q.route.id,M]}}return{matches:O,pendingActionResult:[X.route.id,M]}}async function ka(v,_,R,O,U,B,J,M,X,q,te){let _e=U||wi(_,B),we=B||J||Nc(_e),Te=!ie&&(!h.v7_partialHydration||!X);if(O){if(Te){let Ae=Dr(te);je(Le({navigation:_e},Ae!==void 0?{actionData:Ae}:{}),{flushSync:q})}let re=await Oa(R,_.pathname,v.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let{boundaryId:Ae,error:vt}=Pa(_.pathname,re);return{matches:re.partialMatches,loaderData:{},errors:{[Ae]:vt}}}else if(re.matches)R=re.matches;else{let{error:Ae,notFoundMatches:vt,route:ke}=ii(_.pathname);return{matches:vt,loaderData:{},errors:{[ke.id]:Ae}}}}let me=c||o,[Ge,De]=Sc(e.history,y,R,we,_,h.v7_partialHydration&&X===!0,h.v7_skipActionErrorRevalidation,ue,fe,ve,He,kt,Qe,me,l,te);if(oi(re=>!(R&&R.some(Ae=>Ae.route.id===re))||Ge&&Ge.some(Ae=>Ae.route.id===re)),rt=++We,Ge.length===0&&De.length===0){let re=Pl();return Pe(_,Le({matches:R,loaderData:{},errors:te&&wt(te[1])?{[te[0]]:te[1].error}:null},Lc(te),re?{fetchers:new Map(y.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(Te){let re={};if(!O){re.navigation=_e;let Ae=Dr(te);Ae!==void 0&&(re.actionData=Ae)}De.length>0&&(re.fetchers=xt(De)),je(re,{flushSync:q})}De.forEach(re=>{ce.has(re.key)&&Pt(re.key),re.controller&&ce.set(re.key,re.controller)});let $r=()=>De.forEach(re=>Pt(re.key));$&&$.signal.addEventListener("abort",$r);let{loaderResults:un,fetcherResults:Xn}=await be(y.matches,R,Ge,De,v);if(v.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",$r),De.forEach(re=>ce.delete(re.key));let er=Ac([...un,...Xn]);if(er){if(er.idx>=Ge.length){let re=De[er.idx-Ge.length].key;Qe.add(re)}return await de(v,er.result,{replace:M}),{shortCircuited:!0}}let{loaderData:tr,errors:zt}=Ic(y,R,Ge,un,te,De,Xn,Xe);Xe.forEach((re,Ae)=>{re.subscribe(vt=>{(vt||re.done)&&Xe.delete(Ae)})}),h.v7_partialHydration&&X&&y.errors&&Object.entries(y.errors).filter(re=>{let[Ae]=re;return!Ge.some(vt=>vt.route.id===Ae)}).forEach(re=>{let[Ae,vt]=re;zt=Object.assign(zt||{},{[Ae]:vt})});let Da=Pl(),Na=Al(rt),$a=Da||Na||De.length>0;return Le({matches:R,loaderData:tr,errors:zt},$a?{fetchers:new Map(y.fetchers)}:{})}function Dr(v){if(v&&!wt(v[1]))return{[v[0]]:v[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function xt(v){return v.forEach(_=>{let R=y.fetchers.get(_.key),O=Hr(void 0,R?R.data:void 0);y.fetchers.set(_.key,O)}),new Map(y.fetchers)}function dn(v,_,R,O){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(v)&&Pt(v);let U=(O&&O.unstable_flushSync)===!0,B=c||o,J=Wi(y.location,y.matches,l,h.v7_prependBasename,R,h.v7_relativeSplatPath,_,O==null?void 0:O.relative),M=Ln(B,J,l),X=Aa(M,B,J);if(X.active&&X.matches&&(M=X.matches),!M){ne(v,_,it(404,{pathname:J}),{flushSync:U});return}let{path:q,submission:te,error:_e}=_c(h.v7_normalizeFormMethod,!0,J,O);if(_e){ne(v,_,_e,{flushSync:U});return}let we=Qr(M,q);if(D=(O&&O.preventScrollReset)===!0,te&&At(te.formMethod)){Qn(v,_,q,we,M,X.active,U,te);return}kt.set(v,{routeId:_,path:q}),oe(v,_,q,we,M,X.active,U,te)}async function Qn(v,_,R,O,U,B,J,M){yt(),kt.delete(v);function X(ke){if(!ke.route.action&&!ke.route.lazy){let Jt=it(405,{method:M.formMethod,pathname:R,routeId:_});return ne(v,_,Jt,{flushSync:J}),!0}return!1}if(!B&&X(O))return;let q=y.fetchers.get(v);ze(v,Vy(M,q),{flushSync:J});let te=new AbortController,_e=ir(e.history,R,te.signal,M);if(B){let ke=await Oa(U,R,_e.signal);if(ke.type==="aborted")return;if(ke.type==="error"){let{error:Jt}=Pa(R,ke);ne(v,_,Jt,{flushSync:J});return}else if(ke.matches){if(U=ke.matches,O=Qr(U,R),X(O))return}else{ne(v,_,it(404,{pathname:R}),{flushSync:J});return}}ce.set(v,te);let we=We,me=(await W("action",_e,[O],U))[0];if(_e.signal.aborted){ce.get(v)===te&&ce.delete(v);return}if(h.v7_fetcherPersist&&He.has(v)){if(An(me)||wt(me)){ze(v,pn(void 0));return}}else{if(An(me))if(ce.delete(v),rt>we){ze(v,pn(void 0));return}else return Qe.add(v),ze(v,Hr(M)),de(_e,me,{fetcherSubmission:M});if(wt(me)){ne(v,_,me.error);return}}if(Pn(me))throw it(400,{type:"defer-action"});let Ge=y.navigation.location||y.location,De=ir(e.history,Ge,te.signal),$r=c||o,un=y.navigation.state!=="idle"?Ln($r,y.navigation.location,l):y.matches;ae(un,"Didn't find any matches after fetcher action");let Xn=++We;at.set(v,Xn);let er=Hr(M,me.data);y.fetchers.set(v,er);let[tr,zt]=Sc(e.history,y,un,M,Ge,!1,h.v7_skipActionErrorRevalidation,ue,fe,ve,He,kt,Qe,$r,l,[O.route.id,me]);zt.filter(ke=>ke.key!==v).forEach(ke=>{let Jt=ke.key,Ml=y.fetchers.get(Jt),fg=Hr(void 0,Ml?Ml.data:void 0);y.fetchers.set(Jt,fg),ce.has(Jt)&&Pt(Jt),ke.controller&&ce.set(Jt,ke.controller)}),je({fetchers:new Map(y.fetchers)});let Da=()=>zt.forEach(ke=>Pt(ke.key));te.signal.addEventListener("abort",Da);let{loaderResults:Na,fetcherResults:$a}=await be(y.matches,un,tr,zt,De);if(te.signal.aborted)return;te.signal.removeEventListener("abort",Da),at.delete(v),ce.delete(v),zt.forEach(ke=>ce.delete(ke.key));let re=Ac([...Na,...$a]);if(re){if(re.idx>=tr.length){let ke=zt[re.idx-tr.length].key;Qe.add(ke)}return de(De,re.result)}let{loaderData:Ae,errors:vt}=Ic(y,y.matches,tr,Na,void 0,zt,$a,Xe);if(y.fetchers.has(v)){let ke=pn(me.data);y.fetchers.set(v,ke)}Al(Xn),y.navigation.state==="loading"&&Xn>rt?(ae(I,"Expected pending action"),$&&$.abort(),Pe(y.navigation.location,{matches:un,loaderData:Ae,errors:vt,fetchers:new Map(y.fetchers)})):(je({errors:vt,loaderData:kc(y.loaderData,Ae,un,vt),fetchers:new Map(y.fetchers)}),ue=!1)}async function oe(v,_,R,O,U,B,J,M){let X=y.fetchers.get(v);ze(v,Hr(M,X?X.data:void 0),{flushSync:J});let q=new AbortController,te=ir(e.history,R,q.signal);if(B){let me=await Oa(U,R,te.signal);if(me.type==="aborted")return;if(me.type==="error"){let{error:Ge}=Pa(R,me);ne(v,_,Ge,{flushSync:J});return}else if(me.matches)U=me.matches,O=Qr(U,R);else{ne(v,_,it(404,{pathname:R}),{flushSync:J});return}}ce.set(v,q);let _e=We,Te=(await W("loader",te,[O],U))[0];if(Pn(Te)&&(Te=await Gu(Te,te.signal,!0)||Te),ce.get(v)===q&&ce.delete(v),!te.signal.aborted){if(He.has(v)){ze(v,pn(void 0));return}if(An(Te))if(rt>_e){ze(v,pn(void 0));return}else{Qe.add(v),await de(te,Te);return}if(wt(Te)){ne(v,_,Te.error);return}ae(!Pn(Te),"Unhandled fetcher deferred data"),ze(v,pn(Te.data))}}async function de(v,_,R){let{submission:O,fetcherSubmission:U,replace:B}=R===void 0?{}:R;_.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let J=_.response.headers.get("Location");ae(J,"Expected a Location header on the redirect Response"),J=Tc(J,new URL(v.url),l);let M=pr(y.location,J,{_isRedirect:!0});if(n){let Te=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Te=!0;else if(qo.test(J)){const me=e.history.createURL(J);Te=me.origin!==t.location.origin||Sr(me.pathname,l)==null}if(Te){B?t.location.replace(J):t.location.assign(J);return}}$=null;let X=B===!0||_.response.headers.has("X-Remix-Replace")?$e.Replace:$e.Push,{formMethod:q,formAction:te,formEncType:_e}=y.navigation;!O&&!U&&q&&te&&_e&&(O=Nc(y.navigation));let we=O||U;if(Cy.has(_.response.status)&&we&&At(we.formMethod))await Lt(X,M,{submission:Le({},we,{formAction:J}),preventScrollReset:D});else{let Te=wi(M,O);await Lt(X,M,{overrideNavigation:Te,fetcherSubmission:U,preventScrollReset:D})}}async function W(v,_,R,O){try{let U=await Ay(d,v,_,R,O,i,a);return await Promise.all(U.map((B,J)=>{if(Uy(B)){let M=B.result;return{type:Se.redirect,response:Ny(M,_,R[J].route.id,O,l,h.v7_relativeSplatPath)}}return Dy(B)}))}catch(U){return R.map(()=>({type:Se.error,error:U}))}}async function be(v,_,R,O,U){let[B,...J]=await Promise.all([R.length?W("loader",U,R,_):[],...O.map(M=>{if(M.matches&&M.match&&M.controller){let X=ir(e.history,M.path,M.controller.signal);return W("loader",X,[M.match],M.matches).then(q=>q[0])}else return Promise.resolve({type:Se.error,error:it(404,{pathname:M.path})})})]);return await Promise.all([Dc(v,R,B,B.map(()=>U.signal),!1,y.loaderData),Dc(v,O.map(M=>M.match),J,O.map(M=>M.controller?M.controller.signal:null),!0)]),{loaderResults:B,fetcherResults:J}}function yt(){ue=!0,fe.push(...oi()),kt.forEach((v,_)=>{ce.has(_)&&(ve.add(_),Pt(_))})}function ze(v,_,R){R===void 0&&(R={}),y.fetchers.set(v,_),je({fetchers:new Map(y.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function ne(v,_,R,O){O===void 0&&(O={});let U=ur(y.matches,_);st(v),je({errors:{[U.route.id]:R},fetchers:new Map(y.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function G(v){return h.v7_fetcherPersist&&(mt.set(v,(mt.get(v)||0)+1),He.has(v)&&He.delete(v)),y.fetchers.get(v)||Ey}function st(v){let _=y.fetchers.get(v);ce.has(v)&&!(_&&_.state==="loading"&&at.has(v))&&Pt(v),kt.delete(v),at.delete(v),Qe.delete(v),He.delete(v),ve.delete(v),y.fetchers.delete(v)}function Nr(v){if(h.v7_fetcherPersist){let _=(mt.get(v)||0)-1;_<=0?(mt.delete(v),He.add(v)):mt.set(v,_)}else st(v);je({fetchers:new Map(y.fetchers)})}function Pt(v){let _=ce.get(v);ae(_,"Expected fetch controller: "+v),_.abort(),ce.delete(v)}function Ll(v){for(let _ of v){let R=G(_),O=pn(R.data);y.fetchers.set(_,O)}}function Pl(){let v=[],_=!1;for(let R of Qe){let O=y.fetchers.get(R);ae(O,"Expected fetcher: "+R),O.state==="loading"&&(Qe.delete(R),v.push(R),_=!0)}return Ll(v),_}function Al(v){let _=[];for(let[R,O]of at)if(O<v){let U=y.fetchers.get(R);ae(U,"Expected fetcher: "+R),U.state==="loading"&&(Pt(R),at.delete(R),_.push(R))}return Ll(_),_.length>0}function og(v,_){let R=y.blockers.get(v)||Br;return pt.get(v)!==_&&pt.set(v,_),R}function Ol(v){y.blockers.delete(v),pt.delete(v)}function La(v,_){let R=y.blockers.get(v)||Br;ae(R.state==="unblocked"&&_.state==="blocked"||R.state==="blocked"&&_.state==="blocked"||R.state==="blocked"&&_.state==="proceeding"||R.state==="blocked"&&_.state==="unblocked"||R.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+_.state);let O=new Map(y.blockers);O.set(v,_),je({blockers:O})}function Dl(v){let{currentLocation:_,nextLocation:R,historyAction:O}=v;if(pt.size===0)return;pt.size>1&&Un(!1,"A router only supports one blocker at a time");let U=Array.from(pt.entries()),[B,J]=U[U.length-1],M=y.blockers.get(B);if(!(M&&M.state==="proceeding")&&J({currentLocation:_,nextLocation:R,historyAction:O}))return B}function ii(v){let _=it(404,{pathname:v}),R=c||o,{matches:O,route:U}=Pc(R);return oi(),{notFoundMatches:O,route:U,error:_}}function Pa(v,_){return{boundaryId:ur(_.partialMatches).route.id,error:it(400,{type:"route-discovery",pathname:v,message:_.error!=null&&"message"in _.error?_.error:String(_.error)})}}function oi(v){let _=[];return Xe.forEach((R,O)=>{(!v||v(O))&&(R.cancel(),_.push(O),Xe.delete(O))}),_}function lg(v,_,R){if(g=v,C=_,S=R||null,!w&&y.navigation===bi){w=!0;let O=$l(y.location,y.matches);O!=null&&je({restoreScrollPosition:O})}return()=>{g=null,C=null,S=null}}function Nl(v,_){return S&&S(v,_.map(O=>ry(O,y.loaderData)))||v.key}function cg(v,_){if(g&&C){let R=Nl(v,_);g[R]=C()}}function $l(v,_){if(g){let R=Nl(v,_),O=g[R];if(typeof O=="number")return O}return null}function Aa(v,_,R){if(f){if(x.has(R))return{active:!1,matches:v};if(v){if(Object.keys(v[0].params).length>0)return{active:!0,matches:ts(_,R,l,!0)}}else return{active:!0,matches:ts(_,R,l,!0)||[]}}return{active:!1,matches:null}}async function Oa(v,_,R){let O=v;for(;;){let U=c==null,B=c||o;try{await Ly(f,_,O,B,i,a,Gt,R)}catch(X){return{type:"error",error:X,partialMatches:O}}finally{U&&(o=[...o])}if(R.aborted)return{type:"aborted"};let J=Ln(B,_,l);if(J)return Fl(_,x),{type:"success",matches:J};let M=ts(B,_,l,!0);if(!M||O.length===M.length&&O.every((X,q)=>X.route.id===M[q].route.id))return Fl(_,x),{type:"success",matches:null};O=M}}function Fl(v,_){if(_.size>=m){let R=_.values().next().value;_.delete(R)}_.add(v)}function dg(v){i={},c=fa(v,a,void 0,i)}function ug(v,_){let R=c==null;Ku(v,_,c||o,i,a),R&&(o=[...o],je({}))}return L={get basename(){return l},get future(){return h},get state(){return y},get routes(){return o},get window(){return t},initialize:Zn,subscribe:cn,enableScrollRestoration:lg,navigate:Oe,fetch:dn,revalidate:Tt,createHref:v=>e.history.createHref(v),encodeLocation:v=>e.history.encodeLocation(v),getFetcher:G,deleteFetcher:Nr,dispose:Et,getBlocker:og,deleteBlocker:Ol,patchRoutes:ug,_internalFetchControllers:ce,_internalActiveDeferreds:Xe,_internalSetRoutes:dg},L}function Ry(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wi(e,t,n,r,a,i,o,c){let l,d;if(o){l=[];for(let h of t)if(l.push(h),h.route.id===o){d=h;break}}else l=t,d=t[t.length-1];let f=Bs(a||".",zs(l,i),Sr(e.pathname,n)||e.pathname,c==="path");return a==null&&(f.search=e.search,f.hash=e.hash),(a==null||a===""||a===".")&&d&&d.route.index&&!Ko(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:tn([n,f.pathname])),Cn(f)}function _c(e,t,n,r){if(!r||!Ry(r))return{path:n};if(r.formMethod&&!By(r.formMethod))return{path:n,error:it(405,{method:r.formMethod})};let a=()=>({path:n,error:it(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),c=Yu(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!At(o))return a();let u=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[x,g]=m;return""+p+x+"="+g+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:u}}}else if(r.formEncType==="application/json"){if(!At(o))return a();try{let u=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:u,text:void 0}}}catch{return a()}}}ae(typeof FormData=="function","FormData is not available in this environment");let l,d;if(r.formData)l=Gi(r.formData),d=r.formData;else if(r.body instanceof FormData)l=Gi(r.body),d=r.body;else if(r.body instanceof URLSearchParams)l=r.body,d=Rc(l);else if(r.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(r.body),d=Rc(l)}catch{return a()}let f={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(At(f.formMethod))return{path:n,submission:f};let h=on(n);return t&&h.search&&Ko(h.search)&&l.append("index",""),h.search="?"+l,{path:Cn(h),submission:f}}function Iy(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Sc(e,t,n,r,a,i,o,c,l,d,f,h,u,p,m,x){let g=x?wt(x[1])?x[1].error:x[1].data:void 0,S=e.createURL(t.location),C=e.createURL(a),w=x&&wt(x[1])?x[0]:void 0,j=w?Iy(n,w):n,E=x?x[1].statusCode:void 0,T=o&&E&&E>=400,L=j.filter((I,D)=>{let{route:$}=I;if($.lazy)return!0;if($.loader==null)return!1;if(i)return typeof $.loader!="function"||$.loader.hydrate?!0:t.loaderData[$.id]===void 0&&(!t.errors||t.errors[$.id]===void 0);if(ky(t.loaderData,t.matches[D],I)||l.some(H=>H===I.route.id))return!0;let z=t.matches[D],Y=I;return Cc(I,Le({currentUrl:S,currentParams:z.params,nextUrl:C,nextParams:Y.params},r,{actionResult:g,actionStatus:E,defaultShouldRevalidate:T?!1:c||S.pathname+S.search===C.pathname+C.search||S.search!==C.search||qu(z,Y)}))}),y=[];return h.forEach((I,D)=>{if(i||!n.some(ie=>ie.route.id===I.routeId)||f.has(D))return;let $=Ln(p,I.path,m);if(!$){y.push({key:D,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let z=t.fetchers.get(D),Y=Qr($,I.path),H=!1;u.has(D)?H=!1:d.has(D)?(d.delete(D),H=!0):z&&z.state!=="idle"&&z.data===void 0?H=c:H=Cc(Y,Le({currentUrl:S,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:E,defaultShouldRevalidate:T?!1:c})),H&&y.push({key:D,routeId:I.routeId,path:I.path,matches:$,match:Y,controller:new AbortController})}),[L,y]}function ky(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function qu(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Cc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Ly(e,t,n,r,a,i,o,c){let l=[t,...n.map(d=>d.route.id)].join("-");try{let d=o.get(l);d||(d=e({path:t,matches:n,patch:(f,h)=>{c.aborted||Ku(f,h,r,a,i)}}),o.set(l,d)),d&&My(d)&&await d}finally{o.delete(l)}}function Ku(e,t,n,r,a){if(e){var i;let o=r[e];ae(o,"No route found to patch children into: routeId = "+e);let c=fa(t,a,[e,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...c):o.children=c}else{let o=fa(t,a,["patch",String(n.length||"0")],r);n.push(...o)}}async function Ec(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];ae(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";Un(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!ty.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,Le({},t(a),{lazy:void 0}))}function Py(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Ay(e,t,n,r,a,i,o,c){let l=r.reduce((h,u)=>h.add(u.route.id),new Set),d=new Set,f=await e({matches:a.map(h=>{let u=l.has(h.route.id);return Le({},h,{shouldLoad:u,resolve:m=>(d.add(h.route.id),u?Oy(t,n,h,i,o,m,c):Promise.resolve({type:Se.data,result:void 0}))})}),request:n,params:a[0].params,context:c});return a.forEach(h=>ae(d.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((h,u)=>l.has(a[u].route.id))}async function Oy(e,t,n,r,a,i,o){let c,l,d=f=>{let h,u=new Promise((x,g)=>h=g);l=()=>h(),t.signal.addEventListener("abort",l);let p=x=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):f({request:t,params:n.params,context:o},...x!==void 0?[x]:[]),m;return i?m=i(x=>p(x)):m=(async()=>{try{return{type:"data",result:await p()}}catch(x){return{type:"error",result:x}}})(),Promise.race([m,u])};try{let f=n.route[e];if(n.route.lazy)if(f){let h,[u]=await Promise.all([d(f).catch(p=>{h=p}),Ec(n.route,a,r)]);if(h!==void 0)throw h;c=u}else if(await Ec(n.route,a,r),f=n.route[e],f)c=await d(f);else if(e==="action"){let h=new URL(t.url),u=h.pathname+h.search;throw it(405,{method:t.method,pathname:u,routeId:n.route.id})}else return{type:Se.data,result:void 0};else if(f)c=await d(f);else{let h=new URL(t.url),u=h.pathname+h.search;throw it(404,{pathname:u})}ae(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:Se.error,result:f}}finally{l&&t.signal.removeEventListener("abort",l)}return c}async function Dy(e){let{result:t,type:n}=e;if(Wu(t)){let d;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(f){return{type:Se.error,error:f}}return n===Se.error?{type:Se.error,error:new xs(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:Se.data,data:d,statusCode:t.status,headers:t.headers}}if(n===Se.error){if(Oc(t)){var r;if(t.data instanceof Error){var a;return{type:Se.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status}}t=new xs(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:Se.error,error:t,statusCode:Hs(t)?t.status:void 0}}if(zy(t)){var i,o;return{type:Se.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(Oc(t)){var c,l;return{type:Se.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:Se.data,data:t}}function Ny(e,t,n,r,a,i){let o=e.headers.get("Location");if(ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qo.test(o)){let c=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Wi(new URL(t.url),c,a,!0,o,i),e.headers.set("Location",o)}return e}function Tc(e,t,n){if(qo.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Sr(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function ir(e,t,n,r){let a=e.createURL(Yu(t)).toString(),i={signal:n};if(r&&At(r.formMethod)){let{formMethod:o,formEncType:c}=r;i.method=o.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=Gi(r.formData):i.body=r.formData}return new Request(a,i)}function Gi(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Rc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function $y(e,t,n,r,a,i){let o={},c=null,l,d=!1,f={},h=r&&wt(r[1])?r[1].error:void 0;return n.forEach((u,p)=>{let m=t[p].route.id;if(ae(!An(u),"Cannot handle redirect results in processLoaderData"),wt(u)){let x=u.error;h!==void 0&&(x=h,h=void 0),c=c||{};{let g=ur(e,m);c[g.route.id]==null&&(c[g.route.id]=x)}o[m]=void 0,d||(d=!0,l=Hs(u.error)?u.error.status:500),u.headers&&(f[m]=u.headers)}else Pn(u)?(a.set(m,u.deferredData),o[m]=u.deferredData.data,u.statusCode!=null&&u.statusCode!==200&&!d&&(l=u.statusCode),u.headers&&(f[m]=u.headers)):(o[m]=u.data,u.statusCode&&u.statusCode!==200&&!d&&(l=u.statusCode),u.headers&&(f[m]=u.headers))}),h!==void 0&&r&&(c={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:c,statusCode:l||200,loaderHeaders:f}}function Ic(e,t,n,r,a,i,o,c){let{loaderData:l,errors:d}=$y(t,n,r,a,c);for(let f=0;f<i.length;f++){let{key:h,match:u,controller:p}=i[f];ae(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let m=o[f];if(!(p&&p.signal.aborted))if(wt(m)){let x=ur(e.matches,u==null?void 0:u.route.id);d&&d[x.route.id]||(d=Le({},d,{[x.route.id]:m.error})),e.fetchers.delete(h)}else if(An(m))ae(!1,"Unhandled fetcher revalidation redirect");else if(Pn(m))ae(!1,"Unhandled fetcher deferred data");else{let x=pn(m.data);e.fetchers.set(h,x)}}return{loaderData:l,errors:d}}function kc(e,t,n,r){let a=Le({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function Lc(e){return e?wt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ur(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Pc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function it(e,t){let{pathname:n,routeId:r,method:a,type:i,message:o}=t===void 0?{}:t,c="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(c="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):a&&n&&r?l="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(c="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(c="Not Found",l='No route matches URL "'+n+'"'):e===405&&(c="Method Not Allowed",a&&n&&r?l="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new xs(e||500,c,new Error(l),!0)}function Ac(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(An(n))return{result:n,idx:t}}}function Yu(e){let t=typeof e=="string"?on(e):e;return Cn(Le({},t,{hash:""}))}function Fy(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function My(e){return typeof e=="object"&&e!=null&&"then"in e}function Uy(e){return Wu(e.result)&&Sy.has(e.result.status)}function Pn(e){return e.type===Se.deferred}function wt(e){return e.type===Se.error}function An(e){return(e&&e.type)===Se.redirect}function Oc(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function zy(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Wu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function By(e){return _y.has(e.toLowerCase())}function At(e){return wy.has(e.toLowerCase())}async function Dc(e,t,n,r,a,i){for(let o=0;o<n.length;o++){let c=n[o],l=t[o];if(!l)continue;let d=e.find(h=>h.route.id===l.route.id),f=d!=null&&!qu(d,l)&&(i&&i[l.route.id])!==void 0;if(Pn(c)&&(a||f)){let h=r[o];ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Gu(c,h,a).then(u=>{u&&(n[o]=u||n[o])})}}}async function Gu(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Se.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Se.error,error:a}}return{type:Se.data,data:e.deferredData.data}}}function Ko(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Qr(e,t){let n=typeof t=="string"?on(t).search:t.search;if(e[e.length-1].route.index&&Ko(n||""))return e[e.length-1];let r=zu(e);return r[r.length-1]}function Nc(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function wi(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Hy(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Hr(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Vy(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function pn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qy(e,t){try{let n=e.sessionStorage.getItem(Hu);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Ky(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Hu,JSON.stringify(n))}catch(r){Un(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}const Vs=b.createContext(null),Ju=b.createContext(null),Rn=b.createContext(null),Yo=b.createContext(null),Wt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Zu=b.createContext(null);function Yy(e,t){let{relative:n}=t===void 0?{}:t;Cr()||ae(!1);let{basename:r,navigator:a}=b.useContext(Rn),{hash:i,pathname:o,search:c}=Xu(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:tn([r,o])),a.createHref({pathname:l,search:c,hash:i})}function Cr(){return b.useContext(Yo)!=null}function In(){return Cr()||ae(!1),b.useContext(Yo).location}function Qu(e){b.useContext(Rn).static||b.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=b.useContext(Wt);return e?lv():Wy()}function Wy(){Cr()||ae(!1);let e=b.useContext(Vs),{basename:t,future:n,navigator:r}=b.useContext(Rn),{matches:a}=b.useContext(Wt),{pathname:i}=In(),o=JSON.stringify(zs(a,n.v7_relativeSplatPath)),c=b.useRef(!1);return Qu(()=>{c.current=!0}),b.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let h=Bs(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:tn([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,o,i,e])}const Gy=b.createContext(null);function Jy(e){let t=b.useContext(Wt).outlet;return t&&b.createElement(Gy.Provider,{value:e},t)}function Zy(){let{matches:e}=b.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Xu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Rn),{matches:a}=b.useContext(Wt),{pathname:i}=In(),o=JSON.stringify(zs(a,r.v7_relativeSplatPath));return b.useMemo(()=>Bs(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Qy(e,t,n,r){Cr()||ae(!1);let{navigator:a}=b.useContext(Rn),{matches:i}=b.useContext(Wt),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=In(),f;f=d;let h=f.pathname||"/",u=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");u="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=Ln(e,{pathname:u});return rv(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:tn([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:tn([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r)}function Xy(){let e=ov(),t=Hs(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,null)}const ev=b.createElement(Xy,null);class tv extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Wt.Provider,{value:this.props.routeContext},b.createElement(Zu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nv(e){let{routeContext:t,match:n,children:r}=e,a=b.useContext(Vs);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Wt.Provider,{value:t},r)}function rv(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);f>=0||ae(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:u,errors:p}=n,m=h.route.loader&&u[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,u)=>{let p,m=!1,x=null,g=null;n&&(p=c&&h.route.id?c[h.route.id]:void 0,x=h.route.errorElement||ev,l&&(d<0&&u===0?(m=!0,g=null):d===u&&(m=!0,g=h.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,u+1)),C=()=>{let w;return p?w=x:m?w=g:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=f,b.createElement(nv,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||u===0)?b.createElement(tv,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var ef=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ef||{}),vs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vs||{});function av(e){let t=b.useContext(Vs);return t||ae(!1),t}function sv(e){let t=b.useContext(Ju);return t||ae(!1),t}function iv(e){let t=b.useContext(Wt);return t||ae(!1),t}function tf(e){let t=iv(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function ov(){var e;let t=b.useContext(Zu),n=sv(vs.UseRouteError),r=tf(vs.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lv(){let{router:e}=av(ef.UseNavigateStable),t=tf(vs.UseNavigateStable),n=b.useRef(!1);return Qu(()=>{n.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ys({fromRouteId:t},i)))},[e,t])}function ji(e){let{to:t,replace:n,state:r,relative:a}=e;Cr()||ae(!1);let{future:i,static:o}=b.useContext(Rn),{matches:c}=b.useContext(Wt),{pathname:l}=In(),d=ln(),f=Bs(t,zs(c,i.v7_relativeSplatPath),l,a==="path"),h=JSON.stringify(f);return b.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function cv(e){return Jy(e.context)}function dv(e){let{basename:t="/",children:n=null,location:r,navigationType:a=$e.Pop,navigator:i,static:o=!1,future:c}=e;Cr()&&ae(!1);let l=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ys({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof r=="string"&&(r=on(r));let{pathname:f="/",search:h="",hash:u="",state:p=null,key:m="default"}=r,x=b.useMemo(()=>{let g=Sr(f,l);return g==null?null:{location:{pathname:g,search:h,hash:u,state:p,key:m},navigationType:a}},[l,f,h,u,p,m,a]);return x==null?null:b.createElement(Rn.Provider,{value:d},b.createElement(Yo.Provider,{children:n,value:x}))}new Promise(()=>{});function nf(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}function uv(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function fv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hv(e,t){return e.button===0&&(!t||t==="_self")&&!fv(e)}const gv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],mv="6";try{window.__reactRouterVersion=mv}catch{}function pv(e,t){return Vu({basename:void 0,future:xr({},void 0,{v7_prependBasename:!0}),history:Qx({window:void 0}),hydrationData:rf(),routes:e,mapRouteProperties:nf,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function xv(e,t){return Vu({basename:void 0,future:xr({},void 0,{v7_prependBasename:!0}),history:Xx({window:void 0}),hydrationData:rf(),routes:e,mapRouteProperties:nf,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function rf(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=xr({},t,{errors:yv(t.errors)})),t}function yv(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new xs(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const vv=b.createContext({isTransitioning:!1}),bv=b.createContext(new Map),wv="startTransition",$c=xg[wv],jv="flushSync",Fc=yg[jv];function _v(e){$c?$c(e):e()}function Vr(e){Fc?Fc(e):e()}class Sv{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Cv(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=b.useState(n.state),[o,c]=b.useState(),[l,d]=b.useState({isTransitioning:!1}),[f,h]=b.useState(),[u,p]=b.useState(),[m,x]=b.useState(),g=b.useRef(new Map),{v7_startTransition:S}=r||{},C=b.useCallback(y=>{S?_v(y):y()},[S]),w=b.useCallback((y,I)=>{let{deletedFetchers:D,unstable_flushSync:$,unstable_viewTransitionOpts:z}=I;D.forEach(H=>g.current.delete(H)),y.fetchers.forEach((H,ie)=>{H.data!==void 0&&g.current.set(ie,H.data)});let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||Y){$?Vr(()=>i(y)):C(()=>i(y));return}if($){Vr(()=>{u&&(f&&f.resolve(),u.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let H=n.window.document.startViewTransition(()=>{Vr(()=>i(y))});H.finished.finally(()=>{Vr(()=>{h(void 0),p(void 0),c(void 0),d({isTransitioning:!1})})}),Vr(()=>p(H));return}u?(f&&f.resolve(),u.skipTransition(),x({state:y,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(c(y),d({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,u,f,g,C]);b.useLayoutEffect(()=>n.subscribe(w),[n,w]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new Sv)},[l]),b.useEffect(()=>{if(f&&o&&n.window){let y=o,I=f.promise,D=n.window.document.startViewTransition(async()=>{C(()=>i(y)),await I});D.finished.finally(()=>{h(void 0),p(void 0),c(void 0),d({isTransitioning:!1})}),p(D)}},[C,o,f,n.window]),b.useEffect(()=>{f&&o&&a.location.key===o.location.key&&f.resolve()},[f,u,a.location,o]),b.useEffect(()=>{!l.isTransitioning&&m&&(c(m.state),d({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),x(void 0))},[l.isTransitioning,m]),b.useEffect(()=>{},[]);let j=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,I,D)=>n.navigate(y,{state:I,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(y,I,D)=>n.navigate(y,{replace:!0,state:I,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),E=n.basename||"/",T=b.useMemo(()=>({router:n,navigator:j,static:!1,basename:E}),[n,j,E]),L=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(Vs.Provider,{value:T},b.createElement(Ju.Provider,{value:a},b.createElement(bv.Provider,{value:g.current},b.createElement(vv.Provider,{value:l},b.createElement(dv,{basename:E,location:a.location,navigationType:a.historyAction,navigator:j,future:L},a.initialized||n.future.v7_partialHydration?b.createElement(Ev,{routes:n.routes,future:n.future,state:a}):t))))),null)}const Ev=b.memo(Tv);function Tv(e){let{routes:t,future:n,state:r}=e;return Qy(t,void 0,r,n)}const Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=b.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:f,unstable_viewTransition:h}=t,u=uv(t,gv),{basename:p}=b.useContext(Rn),m,x=!1;if(typeof d=="string"&&Iv.test(d)&&(m=d,Rv))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),E=Sr(j.pathname,p);j.origin===w.origin&&E!=null?d=E+j.search+j.hash:x=!0}catch{}let g=Yy(d,{relative:a}),S=kv(d,{replace:o,state:c,target:l,preventScrollReset:f,relative:a,unstable_viewTransition:h});function C(w){r&&r(w),w.defaultPrevented||S(w)}return b.createElement("a",xr({},u,{href:m||g,onClick:x||i?r:C,ref:n,target:l}))});var Mc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mc||(Mc={}));var Uc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uc||(Uc={}));function kv(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c}=t===void 0?{}:t,l=ln(),d=In(),f=Xu(e,{relative:o});return b.useCallback(h=>{if(hv(h,n)){h.preventDefault();let u=r!==void 0?r:Cn(d)===Cn(f);l(e,{replace:u,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c})}},[d,l,f,r,a,n,e,i,o,c])}const Lv=e=>({locale:e.locale,space:{size:Dm},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?$i.darkAlgorithm:$i.defaultAlgorithm,token:{colorPrimary:Yn,fontFamily:"inherit"}}}),Pv=e=>{Ni.config({holderRender(t){return s.jsx(Ni,{...e,children:t})}})},Av=e=>{const{isDark:t}=$s(),{language:n}=wr(),r=b.useMemo(()=>ps[n].antd,[n]),a=b.useMemo(()=>Lv({isDarkTheme:t,locale:r}),[t,r]);return b.useLayoutEffect(()=>{Pv(a)},[a]),s.jsx(Ni,{...a,children:e.children})},af="3.7.7",Ov=af,Er=typeof Buffer=="function",zc=typeof TextDecoder=="function"?new TextDecoder:void 0,Bc=typeof TextEncoder=="function"?new TextEncoder:void 0,Dv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xr=Array.prototype.slice.call(Dv),qa=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Xr),Nv=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Je=String.fromCharCode.bind(String),Hc=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),sf=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),of=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),lf=e=>{let t,n,r,a,i="";const o=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=Xr[t>>18&63]+Xr[t>>12&63]+Xr[t>>6&63]+Xr[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},Wo=typeof btoa=="function"?e=>btoa(e):Er?e=>Buffer.from(e,"binary").toString("base64"):lf,Ji=Er?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Je.apply(null,e.subarray(r,r+4096)));return Wo(n.join(""))},ns=(e,t=!1)=>t?sf(Ji(e)):Ji(e),$v=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Je(192|t>>>6)+Je(128|t&63):Je(224|t>>>12&15)+Je(128|t>>>6&63)+Je(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Je(240|t>>>18&7)+Je(128|t>>>12&63)+Je(128|t>>>6&63)+Je(128|t&63)}},Fv=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,cf=e=>e.replace(Fv,$v),Vc=Er?e=>Buffer.from(e,"utf8").toString("base64"):Bc?e=>Ji(Bc.encode(e)):e=>Wo(cf(e)),hr=(e,t=!1)=>t?sf(Vc(e)):Vc(e),qc=e=>hr(e,!0),Mv=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Uv=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Je((n>>>10)+55296)+Je((n&1023)+56320);case 3:return Je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},df=e=>e.replace(Mv,Uv),uf=e=>{if(e=e.replace(/\s+/g,""),!Nv.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let i=0;i<e.length;)t=qa[e.charAt(i++)]<<18|qa[e.charAt(i++)]<<12|(r=qa[e.charAt(i++)])<<6|(a=qa[e.charAt(i++)]),n+=r===64?Je(t>>16&255):a===64?Je(t>>16&255,t>>8&255):Je(t>>16&255,t>>8&255,t&255);return n},Go=typeof atob=="function"?e=>atob(of(e)):Er?e=>Buffer.from(e,"base64").toString("binary"):uf,ff=Er?e=>Hc(Buffer.from(e,"base64")):e=>Hc(Go(e).split("").map(t=>t.charCodeAt(0))),hf=e=>ff(gf(e)),zv=Er?e=>Buffer.from(e,"base64").toString("utf8"):zc?e=>zc.decode(ff(e)):e=>df(Go(e)),gf=e=>of(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Zi=e=>zv(gf(e)),Bv=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},mf=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),pf=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,mf(n));e("fromBase64",function(){return Zi(this)}),e("toBase64",function(t){return hr(this,t)}),e("toBase64URI",function(){return hr(this,!0)}),e("toBase64URL",function(){return hr(this,!0)}),e("toUint8Array",function(){return hf(this)})},xf=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,mf(n));e("toBase64",function(t){return ns(this,t)}),e("toBase64URI",function(){return ns(this,!0)}),e("toBase64URL",function(){return ns(this,!0)})},Hv=()=>{pf(),xf()},Qi={version:af,VERSION:Ov,atob:Go,atobPolyfill:uf,btoa:Wo,btoaPolyfill:lf,fromBase64:Zi,toBase64:hr,encode:hr,encodeURI:qc,encodeURL:qc,utob:cf,btou:df,decode:Zi,isValid:Bv,fromUint8Array:ns,toUint8Array:hf,extendString:pf,extendUint8Array:xf,extendBuiltins:Hv};function yf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Vv}=Object.prototype,{getPrototypeOf:Jo}=Object,qs=(e=>t=>{const n=Vv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=e=>(e=e.toLowerCase(),t=>qs(t)===e),Ks=e=>t=>typeof t===e,{isArray:Tr}=Array,ha=Ks("undefined");function qv(e){return e!==null&&!ha(e)&&e.constructor!==null&&!ha(e.constructor)&&jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vf=Mt("ArrayBuffer");function Kv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vf(e.buffer),t}const Yv=Ks("string"),jt=Ks("function"),bf=Ks("number"),Ys=e=>e!==null&&typeof e=="object",Wv=e=>e===!0||e===!1,rs=e=>{if(qs(e)!=="object")return!1;const t=Jo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gv=Mt("Date"),Jv=Mt("File"),Zv=Mt("Blob"),Qv=Mt("FileList"),Xv=e=>Ys(e)&&jt(e.pipe),eb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jt(e.append)&&((t=qs(e))==="formdata"||t==="object"&&jt(e.toString)&&e.toString()==="[object FormData]"))},tb=Mt("URLSearchParams"),[nb,rb,ab,sb]=["ReadableStream","Request","Response","Headers"].map(Mt),ib=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ba(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Tr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function wf(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const On=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jf=e=>!ha(e)&&e!==On;function Xi(){const{caseless:e}=jf(this)&&this||{},t={},n=(r,a)=>{const i=e&&wf(t,a)||a;rs(t[i])&&rs(r)?t[i]=Xi(t[i],r):rs(r)?t[i]=Xi({},r):Tr(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ba(arguments[r],n);return t}const ob=(e,t,n,{allOwnKeys:r}={})=>(ba(t,(a,i)=>{n&&jt(a)?e[i]=yf(a,n):e[i]=a},{allOwnKeys:r}),e),lb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cb=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},db=(e,t,n,r)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&Jo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ub=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},fb=e=>{if(!e)return null;if(Tr(e))return e;let t=e.length;if(!bf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jo(Uint8Array)),gb=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},mb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},pb=Mt("HTMLFormElement"),xb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Kc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yb=Mt("RegExp"),_f=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ba(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},vb=e=>{_f(e,(t,n)=>{if(jt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(jt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bb=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Tr(e)?r(e):r(String(e).split(t)),n},wb=()=>{},jb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,_i="abcdefghijklmnopqrstuvwxyz",Yc="0123456789",Sf={DIGIT:Yc,ALPHA:_i,ALPHA_DIGIT:_i+_i.toUpperCase()+Yc},_b=(e=16,t=Sf.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Sb(e){return!!(e&&jt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Cb=e=>{const t=new Array(10),n=(r,a)=>{if(Ys(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=Tr(r)?[]:{};return ba(r,(o,c)=>{const l=n(o,a+1);!ha(l)&&(i[c]=l)}),t[a]=void 0,i}}return r};return n(e,0)},Eb=Mt("AsyncFunction"),Tb=e=>e&&(Ys(e)||jt(e))&&jt(e.then)&&jt(e.catch),Cf=((e,t)=>e?setImmediate:t?((n,r)=>(On.addEventListener("message",({source:a,data:i})=>{a===On&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),On.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jt(On.postMessage)),Rb=typeof queueMicrotask<"u"?queueMicrotask.bind(On):typeof process<"u"&&process.nextTick||Cf,k={isArray:Tr,isArrayBuffer:vf,isBuffer:qv,isFormData:eb,isArrayBufferView:Kv,isString:Yv,isNumber:bf,isBoolean:Wv,isObject:Ys,isPlainObject:rs,isReadableStream:nb,isRequest:rb,isResponse:ab,isHeaders:sb,isUndefined:ha,isDate:Gv,isFile:Jv,isBlob:Zv,isRegExp:yb,isFunction:jt,isStream:Xv,isURLSearchParams:tb,isTypedArray:hb,isFileList:Qv,forEach:ba,merge:Xi,extend:ob,trim:ib,stripBOM:lb,inherits:cb,toFlatObject:db,kindOf:qs,kindOfTest:Mt,endsWith:ub,toArray:fb,forEachEntry:gb,matchAll:mb,isHTMLForm:pb,hasOwnProperty:Kc,hasOwnProp:Kc,reduceDescriptors:_f,freezeMethods:vb,toObjectSet:bb,toCamelCase:xb,noop:wb,toFiniteNumber:jb,findKey:wf,global:On,isContextDefined:jf,ALPHABET:Sf,generateString:_b,isSpecCompliantForm:Sb,toJSONObject:Cb,isAsyncFn:Eb,isThenable:Tb,setImmediate:Cf,asap:Rb};function ee(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}k.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const Ef=ee.prototype,Tf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tf[e]={value:e}});Object.defineProperties(ee,Tf);Object.defineProperty(Ef,"isAxiosError",{value:!0});ee.from=(e,t,n,r,a,i)=>{const o=Object.create(Ef);return k.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),ee.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Ib=null;function eo(e){return k.isPlainObject(e)||k.isArray(e)}function Rf(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Wc(e,t,n){return e?e.concat(t).map(function(a,i){return a=Rf(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function kb(e){return k.isArray(e)&&!e.some(eo)}const Lb=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Ws(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!k.isUndefined(g[x])});const r=n.metaTokens,a=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(!l&&k.isBlob(m))throw new ee("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,x,g){let S=m;if(m&&!g&&typeof m=="object"){if(k.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&kb(m)||(k.isFileList(m)||k.endsWith(x,"[]"))&&(S=k.toArray(m)))return x=Rf(x),S.forEach(function(w,j){!(k.isUndefined(w)||w===null)&&t.append(o===!0?Wc([x],j,i):o===null?x:x+"[]",d(w))}),!1}return eo(m)?!0:(t.append(Wc(g,x,i),d(m)),!1)}const h=[],u=Object.assign(Lb,{defaultVisitor:f,convertValue:d,isVisitable:eo});function p(m,x){if(!k.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),k.forEach(m,function(S,C){(!(k.isUndefined(S)||S===null)&&a.call(t,S,k.isString(C)?C.trim():C,x,u))===!0&&p(S,x?x.concat(C):[C])}),h.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Gc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Zo(e,t){this._pairs=[],e&&Ws(e,this,t)}const If=Zo.prototype;If.append=function(t,n){this._pairs.push([t,n])};If.toString=function(t){const n=t?function(r){return t.call(this,r,Gc)}:Gc;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Pb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kf(e,t,n){if(!t)return e;const r=n&&n.encode||Pb,a=n&&n.serialize;let i;if(a?i=a(t,n):i=k.isURLSearchParams(t)?t.toString():new Zo(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Jc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Lf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ab=typeof URLSearchParams<"u"?URLSearchParams:Zo,Ob=typeof FormData<"u"?FormData:null,Db=typeof Blob<"u"?Blob:null,Nb={isBrowser:!0,classes:{URLSearchParams:Ab,FormData:Ob,Blob:Db},protocols:["http","https","file","blob","url","data"]},Qo=typeof window<"u"&&typeof document<"u",to=typeof navigator=="object"&&navigator||void 0,$b=Qo&&(!to||["ReactNative","NativeScript","NS"].indexOf(to.product)<0),Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mb=Qo&&window.location.href||"http://localhost",Ub=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qo,hasStandardBrowserEnv:$b,hasStandardBrowserWebWorkerEnv:Fb,navigator:to,origin:Mb},Symbol.toStringTag,{value:"Module"})),_t={...Ub,...Nb};function zb(e,t){return Ws(e,new _t.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return _t.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Bb(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hb(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Pf(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&k.isArray(a)?a.length:o,l?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!c):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&k.isArray(a[o])&&(a[o]=Hb(a[o])),!c)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,a)=>{t(Bb(r),a,n,0)}),n}return null}function Vb(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const wa={transitional:Lf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(Pf(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zb(t,this.formSerializer).toString();if((c=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ws(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Vb(t)):t}],transformResponse:[function(t){const n=this.transitional||wa.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?ee.from(c,ee.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{wa.headers[e]={}});const qb=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kb=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&qb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Zc=Symbol("internals");function qr(e){return e&&String(e).trim().toLowerCase()}function as(e){return e===!1||e==null?e:k.isArray(e)?e.map(as):String(e)}function Yb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Wb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Si(e,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function Gb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Jb(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ht{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(c,l,d){const f=qr(l);if(!f)throw new Error("header name must be a non-empty string");const h=k.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||l]=as(c))}const o=(c,l)=>k.forEach(c,(d,f)=>i(d,f,l));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!Wb(t))o(Kb(t),n);else if(k.isHeaders(t))for(const[c,l]of t.entries())i(l,c,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=qr(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Yb(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=qr(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Si(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=qr(o),o){const c=k.findKey(r,o);c&&(!n||Si(r,r[c],c,n))&&(delete r[c],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Si(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){n[o]=as(a),delete n[i];return}const c=t?Gb(i):String(i).trim();c!==i&&delete n[i],n[c]=as(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Zc]=this[Zc]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=qr(o);r[c]||(Jb(a,o),r[c]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}}ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ht.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(ht);function Ci(e,t){const n=this||wa,r=t||n,a=ht.from(r.headers);let i=r.data;return k.forEach(e,function(c){i=c.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Af(e){return!!(e&&e.__CANCEL__)}function Rr(e,t,n){ee.call(this,e??"canceled",ee.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(Rr,ee,{__CANCEL__:!0});function Of(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Zb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),f=r[i];o||(o=d),n[a]=l,r[a]=d;let h=i,u=0;for(;h!==a;)u+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const p=f&&d-f;return p?Math.round(u*1e3/p):void 0}}function Xb(e,t){let n=0,r=1e3/t,a,i;const o=(d,f=Date.now())=>{n=f,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const bs=(e,t,n=3)=>{let r=0;const a=Qb(50,250);return Xb(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-r,d=a(l),f=o<=c;r=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},Qc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Xc=e=>(...t)=>k.asap(()=>e(...t)),ew=_t.hasStandardBrowserEnv?function(){const t=_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const c=k.isString(o)?a(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}(),tw=_t.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Df(e,t){return e&&!nw(t)?rw(e,t):t}const ed=e=>e instanceof ht?{...e}:e;function zn(e,t){t=t||{};const n={};function r(d,f,h){return k.isPlainObject(d)&&k.isPlainObject(f)?k.merge.call({caseless:h},d,f):k.isPlainObject(f)?k.merge({},f):k.isArray(f)?f.slice():f}function a(d,f,h){if(k.isUndefined(f)){if(!k.isUndefined(d))return r(void 0,d,h)}else return r(d,f,h)}function i(d,f){if(!k.isUndefined(f))return r(void 0,f)}function o(d,f){if(k.isUndefined(f)){if(!k.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function c(d,f,h){if(h in t)return r(d,f);if(h in e)return r(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f)=>a(ed(d),ed(f),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(f){const h=l[f]||a,u=h(e[f],t[f],f);k.isUndefined(u)&&h!==c||(n[f]=u)}),n}const Nf=e=>{const t=zn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=ht.from(o),t.url=kf(Df(t.baseURL,t.url),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(k.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[d,...f]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(_t.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&ew(t.url))){const d=a&&i&&tw.read(i);d&&o.set(a,d)}return t},aw=typeof XMLHttpRequest<"u",sw=aw&&function(e){return new Promise(function(n,r){const a=Nf(e);let i=a.data;const o=ht.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=a,f,h,u,p,m;function x(){p&&p(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function S(){if(!g)return;const w=ht.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};Of(function(L){n(L),x()},function(L){r(L),x()},E),g=null}"onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){g&&(r(new ee("Request aborted",ee.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ee("Network Error",ee.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Lf;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new ee(j,E.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&k.forEach(o.toJSON(),function(j,E){g.setRequestHeader(E,j)}),k.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),c&&c!=="json"&&(g.responseType=a.responseType),d&&([u,m]=bs(d,!0),g.addEventListener("progress",u)),l&&g.upload&&([h,p]=bs(l),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(f=w=>{g&&(r(!w||w.type?new Rr(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const C=Zb(a.url);if(C&&_t.protocols.indexOf(C)===-1){r(new ee("Unsupported protocol "+C+":",ee.ERR_BAD_REQUEST,e));return}g.send(i||null)})},iw=(e,t)=>{let n=new AbortController,r;const a=function(l){if(!r){r=!0,o();const d=l instanceof Error?l:this.reason;n.abort(d instanceof ee?d:new Rr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{a(new ee(`timeout ${t} of ms exceeded`,ee.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",a):l.unsubscribe(a))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=o,[c,()=>{i&&clearTimeout(i),i=null}]},ow=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},lw=async function*(e,t,n){for await(const r of e)yield*ow(ArrayBuffer.isView(r)?r:await n(String(r)),t)},td=(e,t,n,r,a)=>{const i=lw(e,t,a);let o=0,c,l=d=>{c||(c=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await i.next();if(f){l(),d.close();return}let u=h.byteLength;if(n){let p=o+=u;n(p)}d.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},Gs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$f=Gs&&typeof ReadableStream=="function",no=Gs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ff=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cw=$f&&Ff(()=>{let e=!1;const t=new Request(_t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nd=64*1024,ro=$f&&Ff(()=>k.isReadableStream(new Response("").body)),ws={stream:ro&&(e=>e.body)};Gs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ws[t]&&(ws[t]=k.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ee(`Response type '${t}' is not supported`,ee.ERR_NOT_SUPPORT,r)})})})(new Response);const dw=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await no(e)).byteLength},uw=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??dw(t)},fw=Gs&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:u}=Nf(e);d=d?(d+"").toLowerCase():"text";let[p,m]=a||i||o?iw([a,i],o):[],x,g;const S=()=>{!x&&setTimeout(()=>{p&&p.unsubscribe()}),x=!0};let C;try{if(l&&cw&&n!=="get"&&n!=="head"&&(C=await uw(f,r))!==0){let L=new Request(t,{method:"POST",body:r,duplex:"half"}),y;if(k.isFormData(r)&&(y=L.headers.get("content-type"))&&f.setContentType(y),L.body){const[I,D]=Qc(C,bs(Xc(l)));r=td(L.body,nd,I,D,no)}}k.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;g=new Request(t,{...u,signal:p,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let j=await fetch(g);const E=ro&&(d==="stream"||d==="response");if(ro&&(c||E)){const L={};["status","statusText","headers"].forEach($=>{L[$]=j[$]});const y=k.toFiniteNumber(j.headers.get("content-length")),[I,D]=c&&Qc(y,bs(Xc(c),!0))||[];j=new Response(td(j.body,nd,I,()=>{D&&D(),E&&S()},no),L)}d=d||"text";let T=await ws[k.findKey(ws,d)||"text"](j,e);return!E&&S(),m&&m(),await new Promise((L,y)=>{Of(L,y,{data:T,headers:ht.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:g})})}catch(w){throw S(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,e,g),{cause:w.cause||w}):ee.from(w,w&&w.code,e,g)}}),ao={http:Ib,xhr:sw,fetch:fw};k.forEach(ao,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rd=e=>`- ${e}`,hw=e=>k.isFunction(e)||e===null||e===!1,Mf={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!hw(n)&&(r=ao[(o=String(n)).toLowerCase()],r===void 0))throw new ee(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(rd).join(`
`):" "+rd(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ao};function Ei(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rr(null,e)}function ad(e){return Ei(e),e.headers=ht.from(e.headers),e.data=Ci.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mf.getAdapter(e.adapter||wa.adapter)(e).then(function(r){return Ei(e),r.data=Ci.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return Af(r)||(Ei(e),r&&r.response&&(r.response.data=Ci.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Uf="1.7.5",Xo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const sd={};Xo.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Uf+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new ee(a(o," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!sd[o]&&(sd[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};function gw(e,t,n){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new ee("option "+i+" must be "+l,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const so={assertOptions:gw,validators:Xo},hn=so.validators;class $n{constructor(t){this.defaults=t,this.interceptors={request:new Jc,response:new Jc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&so.assertOptions(r,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:so.assertOptions(a,{encode:hn.function,serialize:hn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[n.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=ht.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,h=0,u;if(!l){const m=[ad.bind(this),void 0];for(m.unshift.apply(m,c),m.push.apply(m,d),u=m.length,f=Promise.resolve(n);h<u;)f=f.then(m[h++],m[h++]);return f}u=c.length;let p=n;for(h=0;h<u;){const m=c[h++],x=c[h++];try{p=m(p)}catch(g){x.call(this,g);break}}try{f=ad.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,u=d.length;h<u;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=zn(this.defaults,t);const n=Df(t.baseURL,t.url);return kf(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){$n.prototype[t]=function(n,r){return this.request(zn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,c){return this.request(zn(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}$n.prototype[t]=n(),$n.prototype[t+"Form"]=n(!0)});class el{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new Rr(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new el(function(a){t=a}),cancel:t}}}function mw(e){return function(n){return e.apply(null,n)}}function pw(e){return k.isObject(e)&&e.isAxiosError===!0}const io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(io).forEach(([e,t])=>{io[t]=e});function zf(e){const t=new $n(e),n=yf($n.prototype.request,t);return k.extend(n,$n.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return zf(zn(e,a))},n}const Me=zf(wa);Me.Axios=$n;Me.CanceledError=Rr;Me.CancelToken=el;Me.isCancel=Af;Me.VERSION=Uf;Me.toFormData=Ws;Me.AxiosError=ee;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=mw;Me.isAxiosError=pw;Me.mergeConfig=zn;Me.AxiosHeaders=ht;Me.formToJSON=e=>Pf(k.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=Mf.getAdapter;Me.HttpStatusCode=io;Me.default=Me;const Js={LOGIN:"/auth/login",CHECK_TOKEN:"/auth/check",RENEWAL_TOKEN:"/auth/renewal"};function xw(e){return V.post(Js.LOGIN,{password:Qi.encode(e)}).then(t=>t.result)}function yw(){return V.post(Js.RENEWAL_TOKEN).then(e=>e.result)}function vw(){return V.post(Js.CHECK_TOKEN).then(e=>e.result)}const Bf=e=>localStorage.getItem(e),Hf=(e,t)=>localStorage.setItem(e,t),bw=e=>{localStorage.removeItem(e)},ww=(e,t)=>{Hf(e,JSON.stringify(t))},jw=e=>{const t=Bf(e);return typeof t=="string"?JSON.parse(t):null},nn={get:Bf,set:Hf,remove:bw,setJSON:ww,getJSON:jw},tl="id_token",nl="token_birth_time",rl="token_expires_in",Vf=()=>nn.get(tl),qf=(e,t)=>{nn.set(tl,e),nn.set(rl,String(t)),nn.set(nl,String(+new Date/1e3))},Zs=()=>{nn.remove(tl),nn.remove(rl),nn.remove(nl)},Kf=()=>{const e=Vf();return(e==null?void 0:e.split(".").length)===3},Yf=()=>{const e=Number(localStorage.getItem(rl)),n=Number(localStorage.getItem(nl))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},js={getToken:Vf,setToken:qf,removeToken:Zs,isTokenValid:Kf,getTokenCountdown:Yf};let oo=null;const Wf=()=>{typeof oo=="number"&&window.clearTimeout(oo)},Gf=()=>{Wf();const t=Yf()-10;console.debug("Token auto-renewal is working.",`Token will be updated automatically after ${t}s!`),oo=window.setTimeout(()=>{yw().then(n=>{qf(n.access_token,n.expires_in),Gf()})},t*1e3)},_w="_appLoading_19idb_1",Sw={appLoading:_w},Jf=600,id=200,Cw={transitionProperty:"all",transitionDuration:`${id}ms`,transitionDelay:`${Jf-id}ms`,backgroundColor:"transparent",opacity:0},Ew=e=>{const t=ln(),{i18n:n}=Ye(),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[c,l]=b.useState(!1),d=async()=>{try{a(!0),console.debug("Token verifying..."),await(Kf()?Promise.resolve():Promise.reject("The local token is invalid")),await vw(),console.debug("Token verification successful."),a(!1),Gf(),o(!0),setTimeout(()=>l(!0),Jf)}catch(f){console.debug("Invalid token, need to log in again.",f),Bt.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),Zs(),t(tt[he.Hello])}};return Ee(()=>d()),zo(()=>Wf()),s.jsxs("div",{id:"app-auth",children:[i&&e.children,!c&&s.jsx(le,{align:"center",justify:"center",className:Sw.appLoading,style:i?Cw:{},children:s.jsxs(A,{direction:"vertical",align:"center",children:[s.jsx(dt,{indicator:s.jsx(vg,{spin:!0,style:{fontSize:48}})}),s.jsx(F.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},Ti=(e=!1)=>{const[t,n]=b.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}},Zf="/option",Tw="/archive",Qf={STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function Rw(){return V.get(Qf.STATISTIC).then(e=>e.result)}function Iw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return V.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function kw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return V.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function Lw(){return V.patch(Tw).then(e=>e.result)}function Pw(){return V.patch(Qf.DATA_BASE_BACKUP).then(e=>e.result)}function Aw(){return V.get(Zf).then(e=>e.result)}function Ow(e){return V.put(Zf,e).then(t=>t.result)}const Xf={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",BATCH_RUN_PIVOT_REPORTS:"/extension/google-analytics/batch-run-pivot-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function Dw(e){return V.post(Xf.BATCH_RUN_REPORTS,e)}function Nw(e){return V.post(Xf.RUN_REALTIME_REPORT,e)}const Kr=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),$w=e=>{var t;return((t=e[0])==null?void 0:t.rows)||[]},Fw=e=>{var t;return((t=e[1])==null?void 0:t.rows)||[]},Mw=e=>{var t;return((t=e[2])==null?void 0:t.rows)||[]},Uw=e=>{var t;return((t=e[3])==null?void 0:t.rows)||[]},zw=e=>{var t;return((t=e[4])==null?void 0:t.rows)||[]},Bw=async(e,t,n)=>Dw({requests:[Kr({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),Kr({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),Kr({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),Kr({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),Kr({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),ss=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>et().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>et().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>et().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>et().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],Hw=127397,al=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Hw)),Vw=(e,t=navigator.language)=>new Intl.DisplayNames([t],{type:"region"}).of(e);hm([pm,xm,ym,vm,bm,wm]);const sl=vr.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useRef(),a=()=>{var i;(i=r.current)==null||i.resize({animation:{duration:300}})};return b.useEffect(()=>{var i;n.current&&(r.current=gm(n.current)??mm(n.current,null,{renderer:"svg"}),e.options&&((i=r.current)==null||i.setOption(e.options)))},[n,e.options]),b.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),b.useImperativeHandle(t,()=>({instance:()=>r.current})),s.jsx("div",{ref:n,className:e.className,style:e.style})}),eh=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:Yn,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});function qw(e){return e==null}var Kw=qw;const Yw=Yt(Kw);function ja(e){var n;if(Yw(e.data))return s.jsx(F.Text,{type:"secondary",children:e.placeholder??"-"});const t=(n=e.children)==null?void 0:n.call(e,e.data);return typeof t=="string"||typeof t=="number"?s.jsx("span",{children:t}):t||null}const K=e=>s.jsxs(A,{size:"small",className:e.className,children:[e.prefix,s.jsx(ja,{data:e.text,placeholder:e.placeholder,children:t=>s.jsx(F.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?s.jsx("small",{children:t}):t})}),e.suffix]}),od=e=>Nw({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),Ww=e=>{const t=b.useRef(),[n,r]=b.useState([]),[a,i]=b.useState([]),o=b.useMemo(()=>{const h=[],u=[];return Array.from({length:30},(p,m)=>{const x=String(Math.abs(m-30)).padStart(2,"0"),g=n.find(C=>C.dimensionValues[0].value===x),S=g==null?void 0:g.metricValues[0].value;h.push(x),u.push(S?Number(S):0)}),{timeList:h,valueList:u}},[n]),c=b.useMemo(()=>o.valueList.reduce((h,u)=>h+u,0),[o]),l=b.useMemo(()=>eh({xLabelFormatter:h=>`-${Number(h)}分钟`,tooltipLabelFormatter:({value:h})=>`${Number(h)} 分钟前`,categoryData:o.timeList,barsData:[{data:o.valueList,name:"Active Users",color:Yn}]}),[o]),d=()=>{window.clearTimeout(t.current);const h=od(["minutesAgo"]).then(p=>{r(p.result.data.rows??[])}),u=od(["countryId","city"]).then(p=>{i(p.result.data.rows??[])});Promise.all([h,u]).then(()=>{t.current=window.setTimeout(d,e.pollIntervalSeconds*1e3)})};Ee(()=>{d()}),zo(()=>{window.clearTimeout(t.current)});const f=h=>s.jsx(rn,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:h,renderItem:(u,p)=>s.jsx(rn.Item,{style:{paddingInline:0},children:s.jsxs(le,{justify:"space-between",children:[u.dimensionValues[0].value.includes("other")?s.jsx(K,{text:"__",prefix:"🌍",suffix:s.jsx(K,{text:u.dimensionValues[1].value,type:"secondary",small:!0})}):s.jsx(K,{text:u.dimensionValues[0].value,prefix:al(u.dimensionValues[0].value),suffix:s.jsx(K,{text:u.dimensionValues[1].value,type:"secondary",small:!0})}),s.jsx(K,{text:u.metricValues[0].value,type:"secondary"})]})},p)});return s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:16,children:s.jsx(sl,{options:l,style:{width:"100%",height:e.chartHeight}})}),s.jsxs(Fe,{xs:8,children:[s.jsx(wn,{prefix:s.jsx(qn,{}),title:"Active Users",value:c}),s.jsx(Q,{style:{marginBottom:0,marginTop:14}}),a.length?f(a):s.jsx(bg,{image:null,imageStyle:{height:"1rem"}})]})]})},Gw=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),ld={users:0,views:0,events:0},Yr={users:Yn,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},Jw=e=>{const t=b.useMemo(()=>ss.find(i=>i.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=b.useMemo(()=>t.xAxisList(),[t]),r=b.useMemo(()=>{let i=0,o=0,c=0;const l=new Map(n.map(d=>[d,{...ld}]));return e.rows.forEach(d=>{const f=d.dimensionValues[0].value,[h,u,p]=d.metricValues.map(x=>Number(x.value)),m=l.get(f)??{...ld};m.users+=h,m.views+=u,m.events+=p,l.set(f,m),i+=h,o+=u,c+=p}),{totalUsers:i,totalViews:o,totalEvents:c,map:l}},[n,e.rows]),a=b.useMemo(()=>{const i=[...r.map.values()],o=i.map(l=>l.users),c=i.map(l=>l.views);return i.map(l=>l.events),Gw({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:Yr.users},{data:c,name:"Page Views",zIndex:2,color:Yr.views}]})},[r]);return s.jsxs(le,{gap:"large",children:[s.jsx(sl,{options:a,style:{width:"100%",height:e.chartHeight}}),s.jsxs(A,{direction:"vertical",size:"small",style:{width:120},children:[s.jsx(wn,{value:r.totalUsers,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx(li,{style:{color:Yr.users}})]})}),s.jsx(wn,{value:r.totalViews,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Page Views"}),s.jsx(li,{style:{color:Yr.views}})]})}),s.jsx(wn,{value:r.totalEvents,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Event Count"}),s.jsx(li,{style:{color:Yr.events}})]})})]})]})},Zw="_childList_p2pes_1",Qw="_listItem_p2pes_5",Xw="_listItemPercent_p2pes_9",ej="_percentCore_p2pes_15",or={childList:Zw,listItem:Qw,listItemPercent:Xw,percentCore:ej},tj=e=>{const t=e.data.children??[],[n,r]=b.useState(e.defaultExpanded??!0),a=b.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),i=()=>{var c,l;return s.jsx(K,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?(c=e.labelPrefix)==null?void 0:c.call(e,e.data):e.labelPrefix,suffix:s.jsxs(s.Fragment,{children:[typeof e.labelSuffix=="function"?(l=e.labelSuffix)==null?void 0:l.call(e,e.data):e.labelSuffix,t!=null&&t.length?s.jsx(N,{type:"text",size:"small",icon:n?s.jsx(wg,{}):s.jsx(jg,{}),onClick:()=>r(!n)}):null]})})},o=()=>s.jsxs("ul",{className:or.childList,children:[t.slice(0,e.limit).map(c=>s.jsx("li",{className:or.childItem,children:s.jsxs(le,{justify:"space-between",children:[s.jsx(K,{text:c.name}),s.jsx(K,{text:c.value,type:"secondary"})]})},c.name)),e.limit&&t.length>e.limit&&s.jsx("li",{className:or.childItem,children:s.jsx(_g,{})})]});return s.jsxs(rn.Item,{className:or.listItem,children:[s.jsx("div",{className:or.listItemPercent,children:s.jsx("div",{className:or.percentCore,style:{width:`${a}%`}})}),s.jsxs(le,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):i(),s.jsx("span",{children:e.data.value})]}),t!=null&&t.length&&n?o():null]})},Qs=e=>{const t=b.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[i,o]=a.dimensionValues.map(d=>d.value),c=Number(a.metricValues[0].value),l=r.get(i)??{value:0};l.value+=c,l.name=i,o&&(l.children=l.children||[],l.children.push({name:o,value:c})),r.set(i,l)}),[...r.values()]},[e.rows]),n=b.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return s.jsx(rn,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>s.jsx(tj,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},nj=e=>{const{language:t}=wr();return s.jsx(Qs,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:n=>al(n.name),labelSuffix:n=>Vw(n.name,t)??""})},rj=e=>e==="Windows"?s.jsx(Sg,{}):e==="Macintosh"?s.jsx(Ul,{}):e==="iOS"?s.jsx(Ul,{}):e==="Android"?s.jsx(Cg,{}):e==="Linux"?s.jsx(Eg,{}):e.includes("Chrome")?s.jsx(Tg,{}):s.jsx(Is,{}),aj=e=>s.jsx(Qs,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>rj(t.name)}),ga=0;var lt=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(lt||{});const il=[{id:0,name:"待审核",icon:s.jsx(Ze,{}),color:"blue"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"},{id:-2,name:"垃圾评论",icon:s.jsx(ks,{}),color:"red"},{id:-1,name:"回收站",icon:s.jsx(qe,{}),color:"orange"}],sj=new Map(il.map(e=>[e.id,e])),ia=e=>sj.get(e),ol=e=>{const t=di.endsWith("/")?di:`${di}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},cd=e=>`${xa}${e}`,th=`${xa}/article/`,_s=e=>`${th}${e}`,ij=e=>`${xa}/tag/${e}`,oj=e=>`${xa}/category/${e}`,nh=()=>`${xa}/guestbook`,lj=e=>e===ga?nh():_s(e),cj=e=>s.jsx(Qs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Sn,{placement:"topLeft",title:cd(t.name),children:s.jsx(F.Link,{href:cd(t.name),target:"_blank",children:s.jsxs(A,{size:"small",children:[s.jsx(gr,{}),t.name]})})})}),dj=e=>s.jsx(Qs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Sn,{placement:"topLeft",title:t.name,children:s.jsx(F.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function ll(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function uj(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const fj="_statisticCard_13tgk_1",hj="_icon_13tgk_4",gj="_divider_13tgk_11",mj="_link_13tgk_14",vn={statisticCard:fj,icon:hj,divider:gj,link:mj},Ka=e=>s.jsxs(xe,{bordered:!1,className:vn.statisticCard,children:[s.jsxs(le,{justify:"space-between",children:[s.jsx(wn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),s.jsx("div",{className:vn.icon,children:e.icon})]}),s.jsx(Q,{className:vn.divider}),e.loading?s.jsx(xo.Input,{block:!0,active:!0,size:"small"}):e.extra]}),pj=(e,t)=>[s.jsx(Ka,{loading:t,title:"今日阅读（文章页 PV）",value:(e==null?void 0:e.todayViews)??"-",suffix:"次",icon:s.jsx(yo,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsxs(F.Text,{type:"secondary",children:["累计阅读 ",s.jsx("strong",{children:ll((e==null?void 0:e.totalViews)??0)})]}),s.jsxs(Xt,{className:vn.link,to:tt[he.ArticlePost],children:[s.jsx(Ze,{})," 写文章"]})]})},"views"),s.jsx(Ka,{loading:t,title:"全站评论",value:(e==null?void 0:e.comments)??"-",suffix:"条",icon:s.jsx(ma,{}),extra:s.jsxs(le,{justify:"space-between",align:"center",children:[s.jsx(Xt,{className:vn.link,to:tt[he.Comment],children:"管理评论"}),s.jsx(Q,{type:"vertical"}),s.jsx(Xt,{className:vn.link,to:tt[he.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),s.jsx(Ka,{loading:t,title:"累计获得喜欢",value:(e==null?void 0:e.totalLikes)??"-",suffix:"次",icon:s.jsx(vo,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsx(Rg,{count:5,disabled:!0,allowHalf:!0,value:e==null?void 0:e.averageEmotion}),s.jsx(Xt,{className:vn.link,to:tt[he.Feedback],children:"站点反馈"})]})},"likes"),s.jsx(Ka,{loading:t,title:"共发布文章",value:(e==null?void 0:e.articles)??"-",suffix:"篇",icon:s.jsx(Dd,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsxs(F.Text,{type:"secondary",children:[s.jsx("strong",{children:(e==null?void 0:e.tags)??"-"})," 个文章标签"]}),s.jsx(Xt,{className:vn.link,to:tt[he.Tag],children:"管理标签"})]})},"contents")],xj="YYYY-MM-DD",Wr="YYYY/MM/DD",yj=e=>{const t=b.useRef(null),n=b.useMemo(()=>et(),[]),r=b.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const l=et(e.articleData[0].date),d=et(e.commentData[0].date);return l.isBefore(d)?l:d},[e.articleData,e.commentData]),a=b.useMemo(()=>{if(!r)return null;const l=new Map(e.articleData.flatMap(m=>[[m.date,m.count]])),d=new Map(e.commentData.flatMap(m=>[[m.date,m.count]])),f=n.diff(r,"day"),h=[],u=[],p=[];for(let m=0;m<=f;m++){const x=r.add(m,"day"),g=x.format(xj),S=x.format(Wr);h.push(S),u.push(l.get(g)||0),p.push(d.get(g)||0)}return{dateList:h,articleCountList:u,commentCountList:p}},[r,e.articleData,e.commentData]),i=b.useMemo(()=>eh({dataZoom:!0,startValue:n.subtract(3,"months").format(Wr),endValue:n.format(Wr),categoryData:(a==null?void 0:a.dateList)??[],barsData:[{data:(a==null?void 0:a.articleCountList)??[],name:"Articles",color:Yn},{data:(a==null?void 0:a.commentCountList)??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{var l,d;(d=(l=t.current)==null?void 0:l.instance())==null||d.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},c=l=>{var d,f;(f=(d=t.current)==null?void 0:d.instance())==null||f.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:l.format(Wr),endValue:et().format(Wr)})};return s.jsx(xe,{bordered:!1,title:e.title,loading:e.loading,extra:s.jsxs(A,{wrap:!0,children:[s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{onClick:()=>c(et().subtract(1,"month")),children:"最近一月"}),s.jsx(N,{onClick:()=>c(et().subtract(3,"months")),children:"最近三个月"}),s.jsx(N,{onClick:()=>c(et().subtract(1,"year")),children:"最近一年"}),s.jsx(N,{onClick:o,children:"全部视图"})]}),s.jsx(Q,{type:"vertical"}),e.cardExtra]}),children:s.jsx(sl,{ref:t,options:i,style:{width:"100%",height:e.height}})})},vj="_dashboardPage_1jxrl_1",bj="_gaChartContent_1jxrl_4",wj="_gaTreeListContent_1jxrl_8",kn={dashboardPage:vj,gaChartContent:bj,gaTreeListContent:wj},jj=()=>{const e=Ti(),[t,n]=b.useState([]),[r,a]=b.useState([]),i=async()=>{const S=Promise.all([Iw(),kw()]),[C,w]=await e.promise(S);n(C),a(w)},o=Ti(),[c,l]=b.useState(null),d=()=>{o.promise(Rw()).then(S=>{l(S)})},f=b.useMemo(()=>pj(c,o.state),[c,o.state]),h=Ti(),[u,p]=b.useState([]),[m,x]=b.useState(ss[0].value),g=()=>{const S=ss.find(T=>T.value===m),{getStartDate:C,getEndDate:w,dimension:j}=S.gaQueryParams,E=Bw(C(),w(),j);h.promise(E).then(T=>{var L,y;p(((y=(L=T.result)==null?void 0:L.data)==null?void 0:y.reports)??[])})};return b.useEffect(()=>g(),[m]),Ee(()=>{d(),i()}),s.jsxs(A,{direction:"vertical",size:nu,className:kn.dashboardPage,children:[s.jsx(Ht,{gutter:[Ve,Ve],children:f.map((S,C)=>s.jsx(Fe,{xs:24,md:12,lg:6,children:S},C))}),s.jsx(Ht,{gutter:[Ve,Ve],children:s.jsx(Fe,{xs:24,children:s.jsx(yj,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:s.jsx(N,{size:"small",loading:e.state,icon:s.jsx(nt,{}),onClick:()=>i()})})})}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,md:24,lg:9,children:s.jsx(xe,{bordered:!1,classNames:{body:kn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:s.jsx(Ww,{pollIntervalSeconds:10,chartHeight:200})})}),s.jsx(Fe,{xs:24,md:24,lg:15,children:s.jsx(xe,{bordered:!1,classNames:{body:kn.gaChartContent},loading:h.state,title:"GA Overview",extra:s.jsxs(A,{wrap:!0,children:[s.jsx(Ja.Group,{options:ss,onChange:S=>x(S.target.value),value:m,disabled:h.state,optionType:"button",size:"small"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",loading:h.state,icon:s.jsx(nt,{}),onClick:()=>g()})]}),children:!h.state&&s.jsx(Jw,{chartHeight:200,activeDateRange:m,rows:$w(u)})})})]}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Regions Rank",loading:h.state,classNames:{body:kn.gaTreeListContent},children:!h.state&&s.jsx(nj,{rows:Fw(u)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Devices Rank",loading:h.state,classNames:{body:kn.gaTreeListContent},children:!h.state&&s.jsx(aj,{rows:Mw(u)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Urls Rank",loading:h.state,classNames:{body:kn.gaTreeListContent},children:!h.state&&s.jsx(cj,{rows:Uw(u)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Page Titles Rank",loading:h.state,classNames:{body:kn.gaTreeListContent},children:!h.state&&s.jsx(dj,{rows:zw(u)})})})]})]})},_j=(e=!1,t=Au)=>{const n=t(e),r=()=>{n.value=!0},a=()=>{n.value=!1};return{state:n,start:r,stop:a,promise:o=>(r(),o.finally(a))}},ge=(e=!1)=>_j(e,Z);var Sj=4,Cj=.001,Ej=1e-7,Tj=10,ea=11,Ya=1/(ea-1),Rj=typeof Float32Array=="function";function rh(e,t){return 1-3*t+3*e}function ah(e,t){return 3*t-6*e}function sh(e){return 3*e}function Ss(e,t,n){return((rh(t,n)*e+ah(t,n))*e+sh(t))*e}function ih(e,t,n){return 3*rh(t,n)*e*e+2*ah(t,n)*e+sh(t)}function Ij(e,t,n,r,a){var i,o,c=0;do o=t+(n-t)/2,i=Ss(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Ej&&++c<Tj);return o}function kj(e,t,n,r){for(var a=0;a<Sj;++a){var i=ih(t,n,r);if(i===0)return t;var o=Ss(t,n,r)-e;t-=o/i}return t}function Lj(e){return e}var Pj=function(t,n,r,a){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return Lj;for(var i=Rj?new Float32Array(ea):new Array(ea),o=0;o<ea;++o)i[o]=Ss(o*Ya,t,r);function c(l){for(var d=0,f=1,h=ea-1;f!==h&&i[f]<=l;++f)d+=Ya;--f;var u=(l-i[f])/(i[f+1]-i[f]),p=d+u*Ya,m=ih(p,t,r);return m>=Cj?kj(l,p,t,r):m===0?p:Ij(l,d,d+Ya,t,r)}return function(d){return d===0?0:d===1?1:Ss(c(d),n,a)}};const dd=Yt(Pj),Aj={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Wa={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},ft=(e,t=500,n={})=>{n.easing=Aj.ease;const r=Wa.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let i=!1;const o=function(){i=!0};Wa.on(r,a,o);let c=0;const l=window.pageYOffset;if(typeof e=="number")c=e;else{const m=typeof e=="string"?Wa.$(e):e;c=l+m.getBoundingClientRect().top}let d=document.body.scrollHeight-c<window.innerHeight?document.body.scrollHeight-window.innerHeight:c;n.offset&&(d+=n.offset);const f=d-l,h=Reflect.apply(dd,dd,n.easing);let u;const p=function(){Wa.off(r,a,o),i&&n.onCancel&&n.onCancel(),!i&&n.onDone&&n.onDone()};f&&window.requestAnimationFrame(function m(x){if(i)return p();u||(u=x);const g=x-u;let S=Math.min(g/t,1);S=h(S),window.scrollTo(0,l+f*S),g<t?window.requestAnimationFrame(m):p()})},Ir=e=>s.jsx(Nd,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:s.jsx(N,{disabled:e.disabled,icon:s.jsx(Ig,{}),iconPosition:"end",children:e.text??e.children})});var oh=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(oh||{});const cl=[{id:0,name:"原创",icon:s.jsx(Ze,{}),color:"default"},{id:1,name:"转载",icon:s.jsx(bo,{}),color:"default"},{id:2,name:"衍生",icon:s.jsx(kg,{}),color:"default"}],Oj=new Map(cl.map(e=>[e.id,e])),Dj=e=>Oj.get(e);var lh=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(lh||{});const dl=[{id:1,name:"公开",icon:s.jsx(Lg,{}),color:"green"},{id:-1,name:"私密",icon:s.jsx(Pg,{}),color:"red"},{id:0,name:"保留",icon:s.jsx(ks,{}),color:"orange"}],Nj=new Map(dl.map(e=>[e.id,e])),$j=e=>Nj.get(e);var Ot=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Ot||{});const ul=[{id:0,name:"草稿",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"},{id:-1,name:"回收站",icon:s.jsx(qe,{}),color:"red"}],Fj=new Map(ul.map(e=>[e.id,e])),lo=e=>Fj.get(e),Ri=({emoji:e})=>s.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var ch=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(ch||{});const fl=[{id:"zh",name:"中文",icon:s.jsx(Ri,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:s.jsx(Ri,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:s.jsx(Ri,{emoji:"🌐"})}];new Map(fl.map(e=>[e.id,e]));const kr="/article";function Mj(e={}){return V.get(kr,{params:e}).then(t=>t.result)}function dh(e){return V.get(`${kr}/${e}`).then(t=>t.result)}function Uj(e){return V.post(kr,e).then(t=>t.result)}function zj(e){return V.put(`${kr}/${e._id}`,e).then(t=>t.result)}function ud(e,t){return V.patch(kr,{article_ids:e,state:t}).then(n=>n.result)}function Bj(e){return V.delete(kr,{data:{article_ids:e}}).then(t=>t.result)}const uh=1,fh=-1;var Bn=(e=>(e[e.Asc=uh]="Asc",e[e.Desc=fh]="Desc",e))(Bn||{}),Hn=(e=>(e[e.Asc=uh]="Asc",e[e.Desc=fh]="Desc",e[e.Hot=2]="Hot",e))(Hn||{});const Hj=[{id:Hn.Desc,name:"最新",icon:s.jsx(Ag,{})},{id:Hn.Asc,name:"最早",icon:s.jsx(Og,{})},{id:2,name:"最热",icon:s.jsx(Dg,{})}],Vj=new Map(Hj.map(e=>[e.id,e])),fd=e=>Vj.get(e),Wn=e=>{const t=[Bn.Desc,Bn.Asc],n=e.withHot?[...t,Hn.Hot]:t;return s.jsx(ye,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:s.jsxs(A,{size:"small",children:[fd(r).icon,fd(r).name]})}))})},Lr="/tag";function qj(e={}){return V.get(Lr,{params:e}).then(t=>t.result)}function hh(){return V.get(`${Lr}/all`).then(e=>e.result)}function Kj(e){return V.post(Lr,e).then(t=>t.result)}function Yj(e){return V.put(`${Lr}/${e._id}`,e).then(t=>t.result)}function Wj(e){return V.delete(`${Lr}/${e}`).then(t=>t.result)}function Gj(e){return V.delete(Lr,{data:{tag_ids:e}}).then(t=>t.result)}var hl={};(function(e){var t=Nt&&Nt.__assign||function(){return(t=Object.assign||function(o){for(var c,l=1,d=arguments.length;l<d;l++)for(var f in c=arguments[l])Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,c){c===void 0&&(c={});for(var l,d=t(t({},n),c),f=[],h={},u=d.throwIfOrphans?new Set:null,p=0,m=o;p<m.length;p++){var x=m[p],g=d.nestedIds?i(x,d.id):x[d.id],S=d.nestedIds?i(x,d.parentId):x[d.parentId];if(d.rootParentIds[g])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(g,'", `rootParentIds`: ').concat(Object.keys(d.rootParentIds).map(function(C){return'"'.concat(C,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(h,g)||(h[g]=((l={})[d.childrenField]=[],l)),u&&u.delete(g),d.dataField?h[g][d.dataField]=x:d.assign?h[g]=Object.assign(x,((l={})[d.childrenField]=h[g][d.childrenField],l)):h[g]=t(t({},x),((x={})[d.childrenField]=h[g][d.childrenField],x)),x=h[g],S==null||d.rootParentIds[S]?f.push(x):(Object.prototype.hasOwnProperty.call(h,S)||(h[S]=((g={})[d.childrenField]=[],g),u&&u.add(S)),h[S][d.childrenField].push(x))}if(u!=null&&u.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(u),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(d.throwIfOrphans&&a(f,d.childrenField)<Object.keys(h).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return f}function a(o,c){return o.reduce(function(l,d){return l+1+(d[c]&&a(d[c],c))},0)}function i(o,c){return c.split(".").reduce(function(l,d){return l&&l[d]},o)}e.arrayToTree=r,e.countNodes=a})(hl);const Xs="/category";function gl(){return V.get(`${Xs}/all`).then(e=>({list:e.result,tree:hl.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function ml(e){const t=n=>n.map(r=>{var a;return{data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:((a=e.disabledWhen)==null?void 0:a.call(e,r))??!1,children:t(r.children||[])}});return t(e.tree)}function Jj(e){return V.post(Xs,e).then(t=>t.result)}function Zj(e){return V.put(`${Xs}/${e._id}`,e).then(t=>t.result)}function Qj(e){return V.delete(`${Xs}/${e}`).then(t=>t.result)}const Be="ALL",hd={sort:Hn.Desc,featured:!1,tag_slug:Be,category_slug:Be,public:Be,state:Be,origin:Be,lang:Be},Xj=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==Be?e.tag_slug:void 0,category_slug:e.category_slug!==Be?e.category_slug:void 0,state:e.state!==Be?e.state:void 0,public:e.public!==Be?e.public:void 0,origin:e.origin!==Be?e.origin:void 0,lang:e.lang!==Be?e.lang:void 0}),e0=e=>{const{i18n:t}=Ye(),n=ge(),r=ut([]),a=()=>{n.promise(gl()).then(l=>{r.value=l.tree})},i=ge(),o=ut([]),c=()=>{i.promise(hh()).then(l=>{o.value=l})};return Ee(()=>{c(),a()}),s.jsxs(le,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?s.jsx(wo,{}):s.jsx(jo,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:l=>e.onParamsChange({state:l}),options:[{label:"全部状态",value:Be},...ul.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:l=>e.onParamsChange({public:l}),options:[{label:"全部可见",value:Be},...dl.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:l=>e.onParamsChange({origin:l}),options:[{label:"全部来源",value:Be},...cl.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:l=>e.onParamsChange({lang:l}),options:[{label:"全部语言",value:Be},...fl.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsxs(A.Compact,{children:[s.jsx($d,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:l=>e.onParamsChange({category_slug:l}),treeData:[{label:"全部分类",key:Be,value:Be},...ml({tree:r.value,valuer:l=>l.slug})]}),s.jsx(ye,{style:{width:140},loading:i.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:l=>e.onParamsChange({tag_slug:l}),options:[{label:"全部标签",value:Be},...o.value.map(l=>({value:l.slug,label:`${l.name} (${l.article_count})`}))]})]})]}),s.jsxs(A,{wrap:!0,children:[s.jsx(Wn,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:l=>e.onParamsChange({sort:l})}),s.jsx(se.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:l=>e.onKeywordChange(l.target.value),allowClear:!0,onSearch:(l,d,f)=>{(f==null?void 0:f.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),s.jsx(A,{children:e.extra})]})},gh=e=>{var t;return(t=et(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Ue=e=>{var t;return(t=et(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},t0=e=>{var t,n,r;return s.jsx(an,{rowKey:a=>a._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(a,i)=>s.jsx(Fd.Ribbon,{color:i.featured?Yn:"transparent",text:i.featured?"精选":null,children:s.jsxs(xe,{size:"small",bordered:!1,styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${i.thumbnail}") center / cover`},children:[s.jsx(F.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:i.title}),s.jsx(F.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:i.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(a,i){return s.jsx(A,{direction:"vertical",size:"small",wrap:!0,children:i.tags.map(o=>s.jsx(Kt,{style:{cursor:"pointer"},icon:s.jsx(Md,{}),onClick:()=>e.onClickTag(o),children:o.name},o._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(a,i){var o,c,l;return s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{size:"small",children:[s.jsx(yo,{}),"浏览 ",ll(((o=i.meta)==null?void 0:o.views)??0)," 次"]}),s.jsxs(A,{size:"small",children:[s.jsx(vo,{}),"喜欢 ",(c=i.meta)==null?void 0:c.likes," 次"]}),s.jsxs(A,{size:"small",children:[s.jsx(ma,{}),"评论 ",(l=i.meta)==null?void 0:l.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsxs("div",{children:["分类：",i.categories.map((o,c)=>s.jsxs("span",{children:[s.jsx(F.Link,{onClick:()=>e.onClickCategory(o),children:o.name}),i.categories[c+1]?s.jsx(Q,{type:"vertical"}):""]},c))]}),s.jsxs("div",{children:["发布：",Ue(i.created_at)]}),s.jsxs("div",{children:["更新：",Ue(i.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(a,i)=>s.jsx(A,{direction:"vertical",children:[lo(i.state),$j(i.public),Dj(i.origin)].map(o=>s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name},o.id+o.name))})},{title:"操作",width:110,dataIndex:"actions",render:(a,i)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(Xt,{to:kl.articleDetail(i._id),children:s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),children:"文章详情"})}),i.state===Ot.Draft&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(It,{}),onClick:()=>e.onUpdateState(i,Ot.Published),children:s.jsx(F.Text,{type:"success",children:"直接发布"})}),i.state===Ot.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onUpdateState(i,Ot.Recycle),children:"移回收站"}),i.state===Ot.Recycle&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ud,{}),onClick:()=>e.onUpdateState(i,Ot.Draft),children:s.jsx(F.Text,{type:"warning",children:"退至草稿"})}),s.jsx(N,{size:"small",block:!0,type:"link",target:"_blank",icon:s.jsx(pa,{}),href:_s(i.id),children:"宿主页面"})]})}]})},n0=()=>{var h;const{i18n:e}=Ye(),t=ge(),n=sn({data:[],pagination:void 0}),r=Z([]),a=Z(""),i=Z({...hd}),o=(u={})=>{a.value="",i.value={...hd,...u}},c=u=>{const p={...u,...Xj(i.value),keyword:a.value||void 0};t.promise(Mj(p)).then(m=>{n.data=m.data,n.pagination=m.pagination,ft(document.body)})},l=()=>{var u,p;c({page:(u=n.pagination)==null?void 0:u.current_page,per_page:(p=n.pagination)==null?void 0:p.per_page})},d=(u,p)=>{const m=lo(p).name;Ce.confirm({title:`确定要将此文章更新为「 ${m} 」状态吗？`,content:`《${u.title}》`,centered:!0,onOk:()=>ud([u._id],p).then(()=>{l()})})},f=(u,p)=>{const m=lo(p).name;Ce.confirm({title:`确定要将 ${u.length} 个文章更新为「 ${m} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>ud(u,p).then(()=>{l()})})};return Ct(()=>i.value,()=>c(),{deep:!0}),Ee(()=>{c()}),s.jsxs(xe,{bordered:!1,title:e.t("page.article.list.title",{total:((h=n.pagination)==null?void 0:h.total)??"-"}),extra:s.jsx(Xt,{to:tt[he.ArticlePost],children:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Ze,{}),children:e.t("page.article.create")})}),children:[s.jsx(e0,{loading:t.state.value,keyword:a.value,onKeywordChange:u=>a.value=u,onKeywordSearch:()=>c(),params:i.value,onParamsChange:u=>Object.assign(i.value,u),onResetRefresh:()=>o({}),extra:s.jsx(Ir,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:s.jsx(Ud,{}),onClick:()=>f(r.value,Ot.Draft)},{label:"直接发布",icon:s.jsx(It,{}),onClick:()=>f(r.value,Ot.Published)},{label:"移回收站",icon:s.jsx(qe,{}),onClick:()=>f(r.value,Ot.Recycle)}]})}),s.jsx(Q,{}),s.jsx(t0,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:u=>r.value=u,onPaginate:(u,p)=>c({page:u,per_page:p}),onUpdateState:(u,p)=>d(u,p),onClickCategory:({slug:u})=>o({category_slug:u}),onClickTag:({slug:u})=>o({tag_slug:u})})]})};function r0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ei=r0,a0=typeof Nt=="object"&&Nt&&Nt.Object===Object&&Nt,s0=a0,i0=s0,o0=typeof self=="object"&&self&&self.Object===Object&&self,l0=i0||o0||Function("return this")(),_a=l0,c0=_a,d0=function(){return c0.Date.now()},u0=d0,f0=/\s/;function h0(e){for(var t=e.length;t--&&f0.test(e.charAt(t)););return t}var g0=h0,m0=g0,p0=/^\s+/;function x0(e){return e&&e.slice(0,m0(e)+1).replace(p0,"")}var y0=x0,v0=_a,b0=v0.Symbol,mh=b0,gd=mh,ph=Object.prototype,w0=ph.hasOwnProperty,j0=ph.toString,Gr=gd?gd.toStringTag:void 0;function _0(e){var t=w0.call(e,Gr),n=e[Gr];try{e[Gr]=void 0;var r=!0}catch{}var a=j0.call(e);return r&&(t?e[Gr]=n:delete e[Gr]),a}var S0=_0,C0=Object.prototype,E0=C0.toString;function T0(e){return E0.call(e)}var R0=T0,md=mh,I0=S0,k0=R0,L0="[object Null]",P0="[object Undefined]",pd=md?md.toStringTag:void 0;function A0(e){return e==null?e===void 0?P0:L0:pd&&pd in Object(e)?I0(e):k0(e)}var pl=A0;function O0(e){return e!=null&&typeof e=="object"}var xh=O0,D0=pl,N0=xh,$0="[object Symbol]";function F0(e){return typeof e=="symbol"||N0(e)&&D0(e)==$0}var M0=F0,U0=y0,xd=ei,z0=M0,yd=NaN,B0=/^[-+]0x[0-9a-f]+$/i,H0=/^0b[01]+$/i,V0=/^0o[0-7]+$/i,q0=parseInt;function K0(e){if(typeof e=="number")return e;if(z0(e))return yd;if(xd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=U0(e);var n=H0.test(e);return n||V0.test(e)?q0(e.slice(2),n?2:8):B0.test(e)?yd:+e}var Y0=K0,W0=ei,Ii=u0,vd=Y0,G0="Expected a function",J0=Math.max,Z0=Math.min;function Q0(e,t,n){var r,a,i,o,c,l,d=0,f=!1,h=!1,u=!0;if(typeof e!="function")throw new TypeError(G0);t=vd(t)||0,W0(n)&&(f=!!n.leading,h="maxWait"in n,i=h?J0(vd(n.maxWait)||0,t):i,u="trailing"in n?!!n.trailing:u);function p(T){var L=r,y=a;return r=a=void 0,d=T,o=e.apply(y,L),o}function m(T){return d=T,c=setTimeout(S,t),f?p(T):o}function x(T){var L=T-l,y=T-d,I=t-L;return h?Z0(I,i-y):I}function g(T){var L=T-l,y=T-d;return l===void 0||L>=t||L<0||h&&y>=i}function S(){var T=Ii();if(g(T))return C(T);c=setTimeout(S,x(T))}function C(T){return c=void 0,u&&r?p(T):(r=a=void 0,o)}function w(){c!==void 0&&clearTimeout(c),d=0,r=l=a=c=void 0}function j(){return c===void 0?o:C(Ii())}function E(){var T=Ii(),L=g(T);if(r=arguments,a=this,l=T,L){if(c===void 0)return m(l);if(h)return clearTimeout(c),c=setTimeout(S,t),p(l)}return c===void 0&&(c=setTimeout(S,t)),o}return E.cancel=w,E.flush=j,E}var X0=Q0;const e_=Yt(X0);var Cs=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(Cs||{});const t_=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],YR=new Map(t_.map(e=>[e.id,e])),yh=e=>`uneditor-${e}`,WR=e_((e,t)=>nn.set(yh(e),t),666),n_=e=>nn.get(yh(e)),r_=vr.lazy(()=>jm(()=>import("./Editor-kAhGhlr8.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),yr=e=>s.jsx(vr.Suspense,{fallback:s.jsx(xe,{size:"small",loading:!0}),children:s.jsx(r_,{...e})}),a_=e=>t=>s.jsx(su,{initTheme:e.initTheme,children:s.jsx(tu,{initLanguage:e.initLanguage,children:s.jsx(yr,{...t})})}),co=e=>navigator.clipboard.writeText(e);var s_=pl,i_=xh,o_="[object Number]";function l_(e){return typeof e=="number"||i_(e)&&s_(e)==o_}var c_=l_;const d_=Yt(c_),vh={UPLOAD:"/extension/static/upload",LIST:"/extension/static/list"};async function u_(e){return V.get(vh.LIST,{params:e}).then(t=>t.result)}async function f_(e){const t=new FormData;return t.append("file",e.file),t.append("name",e.name),V.post(vh.UPLOAD,t,{onUploadProgress:({loaded:n,total:r})=>{var a;if(d_(r)){const i=n/r*100;(a=e.onProgress)==null||a.call(e,i)}}}).then(n=>n.result)}const h_=3e6;var bh=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(bh||{});const wh=()=>{const e=ge(),t=Z(!1),n=Z(0);return{upload:(a,i=null,o)=>{if(a.size>h_)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const c=(i??a.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",c),e.promise(f_({file:a,name:c,onProgress:l=>{var d;console.debug("[upoader]","New upload progress:",l),t.value=!0,n.value=l*100,(d=o==null?void 0:o.onProgress)==null||d.call(o,l)}}).then(l=>(console.debug("[upoader]","Upload completed:",l.url),l)).catch(l=>(console.warn("[upoader]","Upload failed:",l),Promise.reject({code:"failure",error:l}))).finally(()=>{t.value=!1}))},uploading:e,progressing:t,progress:n}},Es=e=>`![](${e})`,g_="_imageUploader_1yty1_1",m_="_copyMarkdown_1yty1_4",p_="_uploader_1yty1_7",x_="_tigger_1yty1_15",y_="_image_1yty1_1",Jr={imageUploader:g_,copyMarkdown:m_,uploader:p_,tigger:x_,image:y_},jh=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,_h=e=>{const{i18n:t}=Ye(),n=wh(),r=a=>{Bt.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,jh(a,e.directory)).then(i=>{var o;(o=e.onChange)==null||o.call(e,i.url),Bt.success({message:t.t("component.image_uploader.state.succeeded"),description:i.key})}).catch(i=>{var o;Bt.error({message:t.t("component.image_uploader.state.failed"),description:i.code===bh.Failure?String(((o=i.error)==null?void 0:o.message)??i.error):i.code})})};return s.jsxs(A,{direction:"vertical",className:Jr.imageUploader,children:[s.jsx(_o,{name:"file",listType:"picture-card",className:Jr.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>{var a;return(a=e.onChange)==null?void 0:a.call(e,"")},customRequest:a=>{a.file&&r(a.file)},children:e.value?s.jsx("img",{className:Jr.image,src:e.value,alt:e.value}):s.jsxs(A,{className:Jr.tigger,direction:"vertical",align:"center",size:"small",children:[n!=null&&n.uploading.state.value?s.jsx(zd,{}):s.jsx(Tn,{}),n!=null&&n.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&s.jsx(se,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:s.jsx(gr,{}),value:e.value,onChange:a=>{var i;return(i=e.onChange)==null?void 0:i.call(e,a.target.value)}}),!e.disabledMarkdown&&e.value&&s.jsxs(A.Compact,{className:Jr.copyMarkdown,children:[s.jsx(se,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:s.jsx(Ng,{}),value:Es(e.value)}),s.jsx(Sn,{title:"Copy Markdown",children:s.jsx(N,{icon:s.jsx(bo,{}),onClick:()=>co(Es(e.value))})})]})]})},v_="_inputWrapper_kev5k_1",b_="_inputGroup_kev5k_4",bd={inputWrapper:v_,inputGroup:b_},Sa=e=>s.jsx(P.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>s.jsxs(A,{direction:"vertical",size:"middle",className:bd.inputWrapper,children:[t.map(a=>s.jsxs(A,{size:"middle",className:bd.inputGroup,children:[s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:s.jsx(se,{placeholder:"Name"})}),s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:s.jsx(se,{placeholder:"Value"})}),s.jsx(N,{icon:s.jsx(qe,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),s.jsx(N,{block:!0,type:"dashed",icon:s.jsx(Tn,{}),onClick:()=>n(),children:s.jsx("span",{children:s.jsx(jr,{i18nKey:"component.form_key_value.add"})})})]})});function w_(e){let t=JSON.stringify(e.initValue,null,2);const n=a_({initTheme:e.initTheme,initLanguage:e.initLanguage});return Ce.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:Dn.t("component.modal_json_editor.save"),content:s.jsx("div",{style:{display:"grid",width:"100%"},children:s.jsx(n,{value:t,onChange:r=>t=r,placeholder:Dn.t("component.modal_json_editor.placeholder"),defaultLanguage:Cs.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=Dn.t("component.modal_json_editor.error");return jn.error(a),Promise.reject(a)}}})}const ot=e=>e.isFolder,Sh=e=>`${(e/1024).toFixed(2)}kb`,xl=e=>["jpg","jpeg","png","webp","svg","ico"].some(t=>e.toLowerCase().endsWith(t)),Ch=e=>["mp3","wma","wav","ape","flac"].some(t=>e.toLowerCase().endsWith(t)),Eh=e=>["mp4","wmv","mov","webp"].some(t=>e.toLowerCase().endsWith(t)),Th=e=>xl(e)?s.jsx(So,{}):Eh(e)?s.jsx(ci,{}):Ch(e)?s.jsx(ci,{}):e.toLowerCase().endsWith("html")?s.jsx($g,{}):e.toLowerCase().endsWith("pdf")?s.jsx(Fg,{}):s.jsx(ci,{}),j_=e=>{const t=[{title:"Key",dataIndex:"key",sorter:(n,r)=>{const a=ot(n)?n.prefix:n.key,i=ot(r)?r.prefix:r.key;return a.localeCompare(i)},render:(n,r)=>s.jsxs(A,{size:"small",children:[ot(r)?s.jsx(Bd,{}):Th(r.key),ot(r)?s.jsx(F.Link,{onClick:()=>e.onClickFolder(r.prefix),children:r.prefix}):s.jsx(Sn,{title:r.url,placement:"topLeft",children:s.jsx(F.Link,{copyable:{text:r.url},onClick:()=>e.onClickFile(r),children:r.key})})]})},{width:96,title:"Size",dataIndex:"size",sorter:(n,r)=>{const a=ot(n)?0:n.size,i=ot(r)?0:r.size;return a-i},render:(n,r)=>ot(r)?"-":Sh(r.size)},{width:160,title:"LastModified",dataIndex:"lastModified",defaultSortOrder:"descend",sorter:(n,r)=>{const a=ot(n)?0:n.lastModified??0,i=ot(r)?0:r.lastModified??0;return a-i},render:(n,r)=>ot(r)?"-":gh(r.lastModified)},{width:120,title:"StorageClass",dataIndex:"storageClass",render:(n,r)=>ot(r)?"-":r.storageClass}];return s.jsx(an,{size:e.size,pagination:!1,columns:t,loading:e.loading,dataSource:e.data})},__="_fileModalDescriptions_12vi3_1",S_="_fileModalImage_12vi3_4",C_="_fileModalVideo_12vi3_7",E_="_fileModalAudio_12vi3_11",T_="_fileModalIframe_12vi3_14",R_="_fileModalPdf_12vi3_18",I_="_fileGridList_12vi3_23",k_="_listItem_12vi3_32",L_="_handler_12vi3_32",P_="_image_12vi3_44",A_="_name_12vi3_53",Dt={fileModalDescriptions:__,fileModalImage:S_,fileModalVideo:C_,fileModalAudio:E_,fileModalIframe:T_,fileModalPdf:R_,fileGridList:I_,listItem:k_,handler:L_,image:P_,name:A_},O_=e=>{const t=r=>{ot(r)?e.onClickFolder(r.prefix):e.onClickFile(r)},n=r=>ot(r)?s.jsx(Bd,{}):xl(r.key)?s.jsx("img",{loading:"lazy",className:Dt.image,src:r.url}):Th(r.key);return s.jsx(dt,{spinning:e.loading,children:s.jsx("ul",{className:Dt.fileGridList,children:e.data.map((r,a)=>s.jsx(Sn,{placement:"topLeft",destroyTooltipOnHide:!0,mouseEnterDelay:.01,mouseLeaveDelay:.01,title:ot(r)?r.prefix:r.key,children:s.jsxs("li",{className:Dt.listItem,onClick:()=>t(r),children:[s.jsx("div",{className:Dt.handler,children:n(r)}),s.jsx("p",{className:Dt.name,children:ot(r)?r.prefix:r.key})]})},a))})})},wd=[280,500,1e3],Rh=e=>{var x;const t=ut("list"),n=$u({limit:e.initLimit??wd[1],prefix:e.initPrefix??""}),r=ut(null),a=St(()=>!!r.value),i=g=>{r.value=g},o=()=>{r.value=null},{i18n:c}=Ye(),l=ge(),d=ut(),f=Z([]),h=St(()=>{var S,C;return[...((C=(S=d.value)==null?void 0:S.commonPrefixes)==null?void 0:C.map(w=>({isFolder:!0,prefix:w.Prefix,key:w.Prefix})))??[],...f.value.filter(w=>!(w.key.endsWith("/")&&w.size===0))]}),u=g=>l.promise(u_({limit:n.limit,prefix:n.prefix,delimiter:"/",startAfter:g})).then(S=>{d.value=S,g?f.value.push(...S.files):f.value=S.files}),p=g=>{n.prefix=g,u()};Ct(()=>n.limit,()=>u()),Ee(()=>u());const m=g=>{const S=()=>xl(g.key)?s.jsx(F.Link,{href:g.url,target:"_blank",children:s.jsx("img",{src:g.url,alt:g.key,className:Dt.fileModalImage})}):Eh(g.key)?s.jsx("video",{src:g.url,controls:!0,autoPlay:!0,className:Dt.fileModalVideo}):Ch(g.key)?s.jsx("audio",{src:g.url,controls:!0,autoPlay:!0,className:Dt.fileModalAudio}):g.key.toLowerCase().endsWith("html")?s.jsx("iframe",{src:g.url,className:Dt.fileModalIframe}):g.key.toLowerCase().endsWith("pdf")?s.jsx("iframe",{src:g.url,className:Dt.fileModalPdf}):s.jsx(F.Link,{href:g.url,target:"_blank",children:"新窗口打开"});return s.jsxs(mn,{size:"middle",column:2,className:Dt.fileModalDescriptions,children:[s.jsx(mn.Item,{label:"size",children:Sh(g.size)}),s.jsx(mn.Item,{label:"StorageClass",children:g.storageClass}),s.jsx(mn.Item,{label:"lastModified",span:2,children:gh(g.lastModified)}),s.jsx(mn.Item,{label:"ETag",span:2,children:g.eTag}),s.jsx(mn.Item,{label:"Key",span:2,children:s.jsx(F.Text,{copyable:{text:g.url},children:g.key})}),s.jsx(mn.Item,{span:2,children:S()})]})};return s.jsxs("div",{children:[s.jsx(Ce,{title:((x=r.value)==null?void 0:x.key)??"文件详情",centered:!0,closable:!0,destroyOnClose:!0,footer:null,open:a.value,onCancel:o,onClose:o,children:r.value?m(r.value):null}),s.jsxs(le,{justify:"space-between",children:[s.jsxs(A,{children:[s.jsx(ye,{placeholder:"每页数据",disabled:l.state.value,value:n.limit,onChange:g=>n.limit=g,labelRender:g=>`每页 ${g.value} 条数据`,optionRender:g=>`${g.value} 条`,options:wd.map(g=>({value:g}))}),s.jsx(se.Search,{style:{width:260},allowClear:!0,placeholder:"输入前缀以过滤",disabled:l.state.value,value:n.prefix,onChange:g=>n.prefix=g.target.value,onSearch:(g,S,C)=>{(C==null?void 0:C.source)==="input"&&u()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:l.state.value,onClick:()=>u(),children:c.t("common.list.filter.refresh")})]}),s.jsx(ye,{placeholder:"展示方式",value:t.value,onChange:g=>t.value=g,options:[{value:"list",label:s.jsxs(A,{size:"small",children:[s.jsx(Mg,{})," 列表"]})},{value:"grid",label:s.jsxs(A,{size:"small",children:[s.jsx(Hd,{})," 网格"]})}]})]}),s.jsx(Q,{}),t.value==="list"?s.jsx(j_,{loading:l.state.value,data:h.value,size:e.tableListSize,onClickFolder:p,onClickFile:i}):s.jsx(O_,{loading:l.state.value,data:h.value,onClickFolder:p,onClickFile:i}),s.jsx("br",{}),d.value&&s.jsx(le,{justify:"center",children:d.value.files.length<d.value.limit?s.jsx(F.Text,{type:"secondary",children:"没有更多了"}):s.jsx(N,{size:"large",icon:s.jsx(Tn,{}),disabled:l.state.value,loading:l.state.value,onClick:()=>{var g;return u((g=f.value.at(-1))==null?void 0:g.key)},children:l.state.value?"加载中...":"加载更多"})})]})},D_="_categorySelect_1vnzs_1",N_="_multipleImageUploader_1vnzs_11",$_="_copyButton_1vnzs_14",is={categorySelect:D_,multipleImageUploader:N_,copyButton:$_},F_=e=>{const t=wh(),n=$u([]);return s.jsxs("div",{className:is.multipleImageUploader,children:[n.length?s.jsx(N,{block:!0,type:"dashed",className:is.copyButton,onClick:()=>{co(n.map(Es).join(`
`)),jn.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,s.jsxs(_o.Dragger,{className:is.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:s.jsx(Sn,{title:"Copy Markdown",children:s.jsx(bo,{})})},onDownload:r=>{co(Es(r.response.url)),jn.info("复制成功")},onPreview:r=>{Ce.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>{var a,i;return s.jsx(xe,{title:((a=r.response)==null?void 0:a.key)??"",children:s.jsx("img",{style:{width:"100%"},src:(i=r.response)==null?void 0:i.url})})}})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,jh(a,e.directory),{onProgress:i=>{var o;return(o=r.onProgress)==null?void 0:o.call(r,{percent:i})}}).then(i=>{var o;n.push(i.url),(o=r.onSuccess)==null||o.call(r,i)}).catch(i=>{var o;(o=r.onError)==null||o.call(r,i)})}},children:[s.jsx("br",{}),s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(Ls,{})}),s.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),s.jsx("br",{})]})]})},M_=e=>{const t=s.jsxs(A,{children:[s.jsx(So,{}),"图片上传器"]}),n=s.jsx(N,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return s.jsx(Ce,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(F_,{directory:e.uploaderDirectory})})},U_=e=>{const t=ge(),n=ut([]),r=()=>{t.promise(hh()).then(c=>{n.value=c})},a=e.value||[],i=(c,l)=>{var h;const d=c._id,f=l?[...a,d]:a.filter(u=>u!==d);(h=e.onChange)==null||h.call(e,f)};Ee(()=>{r()});const o=c=>{const l=a.includes(c._id);return s.jsx(N,{size:"small",onClick:()=>i(c,!l),type:l?"primary":"default",icon:l?s.jsx(Vd,{}):s.jsx(Md,{style:{opacity:.6}}),children:c.name},c._id)};return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(xo,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?s.jsx(A,{wrap:!0,size:[12,12],children:n.value.map(o)}):s.jsx(F.Text,{type:"secondary",children:"无数据"})})}),s.jsx(Q,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(nt,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},z_=e=>{var r;const t=Z(!1),n=Z(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(P,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[(r=e.extraItems)==null?void 0:r.map((a,i)=>s.jsx(P.Item,{label:a.label,wrapperCol:{span:12},children:a.content},i)),s.jsx(P.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:s.jsx(se,{addonBefore:th,placeholder:"article-title",allowClear:!0})}),s.jsx(P.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:s.jsx(se,{placeholder:"文章标题"})}),s.jsx(P.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"文章描述"})}),s.jsx(P.Item,{label:"关键词",name:"keywords",children:s.jsx(ye,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{label:"标签",name:"tags",children:s.jsx(U_,{})}),s.jsx("br",{}),s.jsx(P.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:s.jsx(yr,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:()=>s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",icon:s.jsx(Co,{}),onClick:()=>{n.value=!0}}),s.jsx(N,{size:"small",icon:s.jsx(Ps,{}),onClick:()=>{t.value=!0}})]})})})]}),s.jsx(M_,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${et().format("YYYY-MM-DD")}`}),s.jsx(Ce,{title:"云存储文件管理",centered:!0,closable:!0,width:880,footer:null,open:n.value,onClose:()=>n.value=!1,onCancel:()=>n.value=!1,styles:{body:{paddingTop:"12px",paddingRight:"14px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(Rh,{initPrefix:"nodepress/",tableListSize:"small"})})]})},B_=e=>{const t=ge(),n=ut([]),r=()=>{t.promise(gl()).then(i=>{n.value=i.tree})};Ee(()=>{r()});const a=()=>s.jsx(Ug,{className:is.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:i=>{var c;const o=Array.isArray(i)?i:i.checked;(c=e.onChange)==null||c.call(e,o)},treeData:ml({tree:n.value,valuer:i=>i._id}),titleRender:i=>{const o=i.data;return s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{strong:!0,children:o.name}),s.jsx(Q,{type:"vertical"}),o.slug]})}});return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(xo,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():s.jsx(F.Text,{type:"secondary",children:"无数据"})})}),s.jsx(Q,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(nt,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},H_=e=>s.jsx(P,{scrollToFirstError:!0,form:e.form,children:s.jsx(P.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n!=null&&n.length?Promise.resolve():Promise.reject()}}],children:s.jsx(B_,{})})}),lr={message:"必选",required:!0},V_=e=>s.jsxs(P,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[s.jsx(P.Item,{required:!0,name:"state",label:"发布状态",rules:[lr],children:s.jsx(ye,{placeholder:"文章发布状态",options:ul.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"origin",label:"文章来源",rules:[lr],children:s.jsx(ye,{placeholder:"文章来源",options:cl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"public",label:"公开类型",rules:[lr],children:s.jsx(ye,{placeholder:"文章公开类型",options:dl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"lang",label:"内容语言",rules:[lr],children:s.jsx(ye,{placeholder:"文章语言",options:fl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"featured",label:"精选文章",rules:[lr],valuePropName:"checked",children:s.jsx(Fi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(P.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[lr],valuePropName:"checked",children:s.jsx(Fi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(Q,{}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(It,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),q_=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:oh.Original,state:Ot.Published,public:lh.Public,lang:ch.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),Ih=e=>{const{i18n:t}=Ye(),{language:n}=wr(),{theme:r}=$s(),[a]=P.useForm(),[i]=P.useForm(),[o]=P.useForm(),[c]=P.useForm(),[l]=P.useForm(),d=u=>{a.setFieldsValue(u),i.setFieldsValue(u),o.setFieldsValue(u),c.setFieldsValue(u),l.setFieldsValue(u)},f=async()=>{var u;try{const p={...e.article,...await a.validateFields(),...await i.validateFields(),...await o.validateFields(),...await c.validateFields(),...await l.validateFields()};p.slug=p.slug||null,(u=e.onSubmit)==null||u.call(e,p)}catch(p){console.debug("Article 提交错误：",p),jn.error("请检查表单中的不合法项")}},h=()=>{w_({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:c.getFieldsValue(),callback:u=>c.setFieldsValue(u)})};return b.useEffect(()=>{e.article&&d(e.article)},[e.article]),Ee(()=>{d(q_),ft(document.body)}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,lg:17,children:s.jsx(xe,{bordered:!1,title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(z_,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),s.jsx(Fe,{xs:24,lg:7,children:s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.categories"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(H_,{form:i})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.thumbnail"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:o,children:s.jsx(P.Item,{noStyle:!0,name:"thumbnail",children:s.jsx(_h,{directory:"thumbnail"})})})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.extends"),bordered:!1,extra:s.jsx(N,{type:"link",size:"small",icon:s.jsx(Ze,{}),disabled:e.loading,onClick:h,children:"以 JSON 编辑"}),children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:c,children:s.jsx(P.Item,{noStyle:!0,shouldUpdate:!0,children:s.jsx(Sa,{fieldName:"extends"})})})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.states"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(V_,{form:l,submitting:e.submitting,onSubmit:f})})})})]})})]})},kh="/vote";function Lh(e={}){return V.get(kh,{params:e}).then(t=>t.result)}function K_(e){return V.delete(kh,{data:{vote_ids:e}}).then(t=>t.result)}const Y_="_emoji_9ujl9_1",W_={emoji:Y_},Gn=e=>s.jsx(ja,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&al(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return s.jsxs("span",{className:e.className,children:[n?s.jsx("span",{className:W_.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var yl=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(yl||{}),fr=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(fr||{}),os=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(os||{});const G_=new Map([[1,"页面"],[2,"评论"]]),ls=e=>G_.get(e),J_=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),vl=e=>J_.get(e),Ph=[{id:1,name:"+1",icon:s.jsx(Kn,{})},{id:-1,name:"-1",icon:s.jsx(br,{})}],Z_=new Map(Ph.map(e=>[e.id,e])),Ts=e=>Z_.get(e);var uo={exports:{}};(function(e,t){(function(n,r){var a="1.0.38",i="",o="?",c="function",l="undefined",d="object",f="string",h="major",u="model",p="name",m="type",x="vendor",g="version",S="architecture",C="console",w="mobile",j="tablet",E="smarttv",T="wearable",L="embedded",y=500,I="Amazon",D="Apple",$="ASUS",z="BlackBerry",Y="Browser",H="Chrome",ie="Edge",ue="Firefox",fe="Google",ve="Huawei",ce="LG",We="Microsoft",rt="Motorola",at="Opera",Qe="Samsung",kt="Sharp",mt="Sony",He="Xiaomi",Xe="Zebra",pt="Facebook",Gt="Chromium OS",Ut="Mac OS",Zn=function(oe,de){var W={};for(var be in oe)de[be]&&de[be].length%2===0?W[be]=de[be].concat(oe[be]):W[be]=oe[be];return W},Et=function(oe){for(var de={},W=0;W<oe.length;W++)de[oe[W].toUpperCase()]=oe[W];return de},cn=function(oe,de){return typeof oe===f?je(de).indexOf(je(oe))!==-1:!1},je=function(oe){return oe.toLowerCase()},Pe=function(oe){return typeof oe===f?oe.replace(/[^\d\.]/g,i).split(".")[0]:r},Oe=function(oe,de){if(typeof oe===f)return oe=oe.replace(/^\s\s*/,i),typeof de===l?oe:oe.substring(0,y)},Tt=function(oe,de){for(var W=0,be,yt,ze,ne,G,st;W<de.length&&!G;){var Nr=de[W],Pt=de[W+1];for(be=yt=0;be<Nr.length&&!G&&Nr[be];)if(G=Nr[be++].exec(oe),G)for(ze=0;ze<Pt.length;ze++)st=G[++yt],ne=Pt[ze],typeof ne===d&&ne.length>0?ne.length===2?typeof ne[1]==c?this[ne[0]]=ne[1].call(this,st):this[ne[0]]=ne[1]:ne.length===3?typeof ne[1]===c&&!(ne[1].exec&&ne[1].test)?this[ne[0]]=st?ne[1].call(this,st,ne[2]):r:this[ne[0]]=st?st.replace(ne[1],ne[2]):r:ne.length===4&&(this[ne[0]]=st?ne[3].call(this,st.replace(ne[1],ne[2])):r):this[ne]=st||r;W+=2}},Lt=function(oe,de){for(var W in de)if(typeof de[W]===d&&de[W].length>0){for(var be=0;be<de[W].length;be++)if(cn(de[W][be],oe))return W===o?r:W}else if(cn(de[W],oe))return W===o?r:W;return oe},si={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ka={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Dr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,at+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,at+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,at]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+Y]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+Y],g],[/\bfocus\/([\w\.]+)/i],[g,[p,ue+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,at+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,at+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[g,[p,ue]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+Y]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+Y],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,Qe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,pt],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,H+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Lt,si]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,ue+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[S,"amd64"]],[/(ia32(?=;))/i],[[S,je]],[/((?:i[346]|x)86)[;\)]/i],[[S,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/windows (ce|mobile); ppc;/i],[[S,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[S,/ower/,i,je]],[/(sun4\w)[;\)]/i],[[S,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[S,je]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[x,Qe],[m,j]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[x,Qe],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[x,D],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[x,D],[m,j]],[/(macintosh);/i],[u,[x,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[x,kt],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[x,ve],[m,j]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[x,ve],[m,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[x,He],[m,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[x,He],[m,j]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[x,"OPPO"],[m,w]],[/\b(opd2\d{3}a?) bui/i],[u,[x,"OPPO"],[m,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[x,"Vivo"],[m,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[x,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[x,rt],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[x,rt],[m,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[x,ce],[m,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[x,ce],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[x,"Lenovo"],[m,j]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[x,"Nokia"],[m,w]],[/(pixel c)\b/i],[u,[x,fe],[m,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[x,fe],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[x,mt],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[x,mt],[m,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[x,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[x,I],[m,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[x,I],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[u,x,[m,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[x,z],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[x,$],[m,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[x,$],[m,w]],[/(nexus 9)/i],[u,[x,"HTC"],[m,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[u,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[x,"Acer"],[m,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[x,"Meizu"],[m,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[x,"Ulefone"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,u,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,u,[m,j]],[/(surface duo)/i],[u,[x,We],[m,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[x,"Fairphone"],[m,w]],[/(u304aa)/i],[u,[x,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[u,[x,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[u,[x,"RCA"],[m,j]],[/\b(venue[\d ]{2,7}) b/i],[u,[x,"Dell"],[m,j]],[/\b(q(?:mv|ta)\w+) b/i],[u,[x,"Verizon"],[m,j]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[x,"Barnes & Noble"],[m,j]],[/\b(tm\d{3}\w+) b/i],[u,[x,"NuVision"],[m,j]],[/\b(k88) b/i],[u,[x,"ZTE"],[m,j]],[/\b(nx\d{3}j) b/i],[u,[x,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[u,[x,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[u,[x,"Swiss"],[m,j]],[/\b((zeki)?tb.*\b) b/i],[u,[x,"Zeki"],[m,j]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],u,[m,j]],[/\b(ns-?\w{0,9}) b/i],[u,[x,"Insignia"],[m,j]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[x,"NextBook"],[m,j]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],u,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],u,[m,w]],[/\b(ph-1) /i],[u,[x,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[x,"Envizen"],[m,j]],[/\b(trio[-\w\. ]+) b/i],[u,[x,"MachSpeed"],[m,j]],[/\btu_(1491) b/i],[u,[x,"Rotor"],[m,j]],[/(shield[\w ]+) b/i],[u,[x,"Nvidia"],[m,j]],[/(sprint) (\w+)/i],[x,u,[m,w]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[x,We],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[x,Xe],[m,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[x,Xe],[m,w]],[/smart-tv.+(samsung)/i],[x,[m,E]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[x,Qe],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,ce],[m,E]],[/(apple) ?tv/i],[x,[u,D+" TV"],[m,E]],[/crkey/i],[[u,H+"cast"],[x,fe],[m,E]],[/droid.+aft(\w+)( bui|\))/i],[u,[x,I],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[x,kt],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[u,[x,mt],[m,E]],[/(mitv-\w{5}) bui/i],[u,[x,He],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[x,u,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Oe],[u,Oe],[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,u,[m,C]],[/droid.+; (shield) bui/i],[u,[x,"Nvidia"],[m,C]],[/(playstation [345portablevi]+)/i],[u,[x,mt],[m,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[x,We],[m,C]],[/((pebble))app/i],[x,u,[m,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[x,D],[m,T]],[/droid.+; (glass) \d/i],[u,[x,fe],[m,T]],[/droid.+; (wt63?0{2,3})\)/i],[u,[x,Xe],[m,T]],[/(quest( \d| pro)?)/i],[u,[x,pt],[m,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[m,L]],[/(aeobc)\b/i],[u,[x,I],[m,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[m,j]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,ie+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,Lt,ka]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Lt,ka],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Ut],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,ue+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,H+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Gt],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},xt=function(oe,de){if(typeof oe===d&&(de=oe,oe=r),!(this instanceof xt))return new xt(oe,de).getResult();var W=typeof n!==l&&n.navigator?n.navigator:r,be=oe||(W&&W.userAgent?W.userAgent:i),yt=W&&W.userAgentData?W.userAgentData:r,ze=de?Zn(Dr,de):Dr,ne=W&&W.userAgent==be;return this.getBrowser=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.browser),G[h]=Pe(G[g]),ne&&W&&W.brave&&typeof W.brave.isBrave==c&&(G[p]="Brave"),G},this.getCPU=function(){var G={};return G[S]=r,Tt.call(G,be,ze.cpu),G},this.getDevice=function(){var G={};return G[x]=r,G[u]=r,G[m]=r,Tt.call(G,be,ze.device),ne&&!G[m]&&yt&&yt.mobile&&(G[m]=w),ne&&G[u]=="Macintosh"&&W&&typeof W.standalone!==l&&W.maxTouchPoints&&W.maxTouchPoints>2&&(G[u]="iPad",G[m]=j),G},this.getEngine=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.engine),G},this.getOS=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.os),ne&&!G[p]&&yt&&yt.platform&&yt.platform!="Unknown"&&(G[p]=yt.platform.replace(/chrome os/i,Gt).replace(/macos/i,Ut)),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(G){return be=typeof G===f&&G.length>y?Oe(G,y):G,this},this.setUA(be),this};xt.VERSION=a,xt.BROWSER=Et([p,g,h]),xt.CPU=Et([S]),xt.DEVICE=Et([u,x,m,C,w,E,j,T,L]),xt.ENGINE=xt.OS=Et([p,g]),e.exports&&(t=e.exports=xt),t.UAParser=xt;var dn=typeof n!==l&&(n.jQuery||n.Zepto);if(dn&&!dn.ua){var Qn=new xt;dn.ua=Qn.getResult(),dn.ua.get=function(){return Qn.getUA()},dn.ua.set=function(oe){Qn.setUA(oe);var de=Qn.getResult();for(var W in de)dn.ua[W]=de[W]}}})(typeof window=="object"?window:Nt)})(uo,uo.exports);var bl=uo.exports;const En=e=>{const t=new bl.UAParser(e).getBrowser();return t.name&&t.version?`${t.name} | ${t.version}`:null},Jn=e=>{const t=new bl.UAParser(e).getOS();return t.name&&t.version?`${t.name} | ${t.version}`:null},Ca=e=>{const t=new bl.UAParser(e).getDevice();return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},Q_=e=>{var t;return s.jsx(mn,{column:3,items:[{key:"user",label:"用户",children:s.jsx(A,{direction:"vertical",children:s.jsx(mr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:s.jsxs("span",{children:[s.jsx(K,{text:(t=e.author)==null?void 0:t.name,placeholder:"未知用户"}),"（",vl(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:s.jsx(Kt,{icon:Ts(e.vote_type).icon,color:e.vote_type===yl.Upvote?"green":"red",children:s.jsx("strong",{children:Ts(e.vote_type).name})})},{key:"browser",label:"浏览器",children:s.jsx(K,{text:En(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:s.jsx(K,{text:Ue(e.created_at)})},{key:"os",label:"系统",children:s.jsx(K,{text:Jn(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:s.jsx(Gn,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:s.jsx(K,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]})},X_=e=>{const t=ge(),n=ge(),r=Z([]),a=ut(null),i=ut(Bn.Desc),o=St(()=>a.value?a.value.current_page<a.value.total_page:!1),c=async(l=1)=>{const d=l===1,f=d?t:n;d&&(r.value=[],a.value=null);const h={page:l,per_page:50,target_type:fr.Post,target_id:e.articleId,sort:i.value},u=await f.promise(Lh(h));d?(r.value=u.data,a.value=u.pagination):(r.value.push(...u.data),a.value=u.pagination)};return Ee(()=>c()),s.jsxs(As,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsxs(A.Compact,{children:[s.jsx(Wn,{disabled:t.state.value||n.state.value,value:i.value,onChange:l=>{i.value=l,c()}}),s.jsx(N,{icon:s.jsx(nt,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"})]}),children:[s.jsx(rn,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:l=>s.jsx(rn.Item,{children:Q_(l)})}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Tn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var l;return c(((l=a.value)==null?void 0:l.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},Ea="/comment",eS=e=>hl.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function Ah(e={}){return V.get(Ea,{params:e}).then(t=>t.result)}function tS(e){return V.put(`${Ea}/${e._id}`,e).then(t=>t.result)}function nS(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return V.patch(Ea,r).then(a=>a.result)}function rS(e,t){return V.delete(Ea,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function aS(e){return V.put(`${Ea}/${e}/ip_location`).then(t=>t.result)}const sS=e=>{const t=ge(),n=ge(),r=Z([]),a=ut(null),i=ut(Hn.Desc),o=St(()=>a.value?a.value.current_page<a.value.total_page:!1),c=St(()=>eS(r.value)),l=async(d=1)=>{const f=d===1,h=f?t:n;f&&(r.value=[],a.value=null);const u={page:d,per_page:50,post_id:e.articleId,sort:i.value},p=await h.promise(Ah(u));f?(r.value=p.data,a.value=p.pagination):(r.value.push(...p.data),a.value=p.pagination)};return Ee(()=>l()),s.jsxs(As,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsx(Wn,{withHot:!0,disabled:t.state.value||n.state.value,value:i.value,onChange:d=>{i.value=d,l()}}),footer:s.jsxs(le,{justify:"space-between",align:"bottom",children:[s.jsx(N,{size:"small",icon:s.jsx(nt,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"}),s.jsx(N,{size:"small",type:"primary",icon:s.jsx(pa,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:c.value,loading:n.state.value}),s.jsx(Q,{}),s.jsx(le,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Tn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var d;return l(((d=a.value)==null?void 0:d.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},iS=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},oS=(e,t)=>e.length?iS(e)[t]:void 0,Oh=e=>oS(e,"disqus-author-username"),lS=e=>`https://www.gravatar.com/avatar/${e}`,cS=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,dS=e=>{if(e.author.email_hash)return lS(e.author.email_hash);const t=Oh(e.extends);return t?cS(t):""},uS="_commentContent_9dq3k_1",fS="_avatarBadge_9dq3k_5",hS="_avatarBadgeIconWrapper_9dq3k_5",gS="_avatarBadgeIcon_9dq3k_5",cs={commentContent:uS,avatarBadge:fS,avatarBadgeIconWrapper:hS,avatarBadgeIcon:gS},wl=e=>{const t=!!Oh(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return s.jsx(Fd,{className:cs.avatarBadge,title:n,count:s.jsx(mr,{placement:"right",content:n,children:s.jsx("span",{className:cs.avatarBadgeIconWrapper,children:s.jsx("img",{className:cs.avatarBadgeIcon,src:ol(r)})})}),children:s.jsx(Eo,{shape:"square",size:e.size,src:dS(e.comment)})})},Dh=e=>s.jsx(rn,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>{var n;return s.jsx(rn.Item,{children:s.jsxs(le,{align:"flex-start",gap:"large",children:[s.jsx("div",{style:{marginTop:"var(--app-padding)"},children:s.jsx(wl,{size:"large",comment:t})}),s.jsxs(A,{direction:"vertical",style:{flex:1},children:[s.jsxs(le,{justify:"space-between",children:[s.jsxs("div",{children:[t.author.site?s.jsx(F.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):s.jsx(F.Text,{strong:!0,children:t.author.name}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:s.jsx(Gn,{data:t.ip_location},"ip-location")}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:Ue(t.created_at)})]}),s.jsx(Kt,{color:ia(t.state).color,icon:ia(t.state).icon,children:ia(t.state).name})]}),s.jsx(F.Paragraph,{style:{margin:0},children:t.content}),s.jsxs(A,{children:[s.jsxs(F.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?s.jsx(zg,{}):s.jsx(Kn,{})," ",t.likes]}),s.jsxs(F.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?s.jsx(Bg,{}):s.jsx(br,{})," ",t.dislikes]}),s.jsx(K,{type:"secondary",placeholder:"未知浏览器",small:!0,text:En(t.agent)}),s.jsx(K,{type:"secondary",placeholder:"未知系统",small:!0,text:Jn(t.agent)})]}),(n=t.children)!=null&&n.length?s.jsx(Dh,{comments:t.children||[]}):""]})]})})}}),mS=()=>{var u,p,m,x,g,S,C,w,j,E,T,L;const{article_id:e}=Zy(),t=kl.articleDetail(e),n=ln(),r=ge(),a=ge(),i=Z(null),o=Z(!1),c=Z(!1),l=async()=>{try{const y=await r.promise(dh(e)),I=n_(t);I&&I!==y.content?Ce.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){i.value={...y,content:I||""}},onCancel(){i.value=y}}):i.value=y}catch(y){Ce.error({centered:!0,title:"文章请求失败",content:String(y.message)})}},d=y=>a.promise(zj(y)).then(I=>{i.value=I,ft(document.body)}),f=()=>{Ce.confirm({title:`你确定要彻底删除文章《${i.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>{var y;return a.promise(Bj([(y=i.value)==null?void 0:y._id])).then(()=>{n(tt[he.ArticleList]),ft(document.body)})}})},h=()=>{var y;n({pathname:tt[he.Comment],search:`post_id=${(y=i.value)==null?void 0:y.id}`})};return Ee(()=>l()),s.jsxs(s.Fragment,{children:[s.jsx(Ih,{article:i.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:y=>d(y),mainFormExtraItems:[{label:"ID",content:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{children:((u=i.value)==null?void 0:u.id)??"-"}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{children:((p=i.value)==null?void 0:p._id)??"-"})]})}],mainCardExtra:s.jsxs(A,{size:"small",wrap:!0,children:[s.jsxs(A.Compact,{size:"small",children:[s.jsx(Sn,{title:uj(((x=(m=i.value)==null?void 0:m.meta)==null?void 0:x.views)??0),children:s.jsxs(N,{icon:s.jsx(yo,{}),loading:r.state.value,children:[ll(((S=(g=i.value)==null?void 0:g.meta)==null?void 0:S.views)??0)," 阅读"]})}),s.jsxs(N,{icon:s.jsx(vo,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>c.value=!0,children:[((w=(C=i.value)==null?void 0:C.meta)==null?void 0:w.likes)??""," 喜欢"]}),s.jsxs(N,{icon:s.jsx(ma,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[((E=(j=i.value)==null?void 0:j.meta)==null?void 0:E.comments)??""," 评论"]})]}),s.jsx(Q,{type:"vertical"}),s.jsx(Sn,{title:_s((T=i.value)==null?void 0:T.id),children:s.jsx(N,{size:"small",type:"dashed",target:"_blank",icon:s.jsx(pa,{}),loading:r.state.value,disabled:r.state.value,href:_s((L=i.value)==null?void 0:L.id),children:"打开"})}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{type:"dashed",size:"small",danger:!0,icon:s.jsx(qe,{}),disabled:r.state.value,onClick:()=>jn.warning("双击执行删除操作"),onDoubleClick:f,children:"删除文章"})]})}),i.value&&s.jsxs(s.Fragment,{children:[s.jsx(X_,{width:"48rem",open:c.value,likeCount:i.value.meta.likes,articleId:i.value.id,onClose:()=>c.value=!1}),s.jsx(sS,{width:"68rem",open:o.value,commentCount:i.value.meta.comments,articleId:i.value.id,renderTreeList:({comments:y,loading:I})=>s.jsx(Dh,{comments:y,loading:I}),onClose:()=>o.value=!1,onNavigate:h})]})]})},pS=()=>{const e=ln(),t=ge(),n=r=>t.promise(Uj(r)).then(a=>{e(kl.articleDetail(a._id)),ft(document.body)});return s.jsx(Ih,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},Ta="/announcement";function xS(e={}){return V.get(Ta,{params:e}).then(t=>t.result)}function yS(e){return V.post(Ta,e).then(t=>t.result)}function vS(e){return V.put(`${Ta}/${e._id}`,e).then(t=>t.result)}function bS(e){return V.delete(`${Ta}/${e}`).then(t=>t.result)}function wS(e){return V.delete(Ta,{data:{announcement_ids:e}}).then(t=>t.result)}var Nh=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(Nh||{});const jl=[{id:0,name:"未发布",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"}],jS=new Map(jl.map(e=>[e.id,e])),_S=e=>jS.get(e),_l="ALL",jd={state:_l,sort:Bn.Desc},SS=e=>({state:e.state!==_l?e.state:void 0,sort:e.sort}),CS=e=>{const{i18n:t}=Ye();return s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:_l},...jl.map(n=>({value:n.id,label:s.jsxs(A,{size:"small",children:[n.icon,n.name]})}))]}),s.jsx(Wn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),s.jsx(se.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(A,{children:e.extra})]})},ES=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(a,i)=>Ue(i.created_at)},{title:"状态",width:120,dataIndex:"state",render:(a,i)=>{const o=_S(i.state);return s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name})}},{title:"操作",width:160,dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"删除"})]})}]})},TS={labelCol:{span:4},wrapperCol:{span:19}},RS=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,destroyOnClose:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...TS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.initData.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"发布于",children:Ue(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.initData.updated_at)})]}),s.jsx(P.Item,{label:"发布状态",name:"state",initialValue:Nh.Published,rules:[{required:!0,message:"请选择状态"}],children:s.jsx(ye,{placeholder:"选择状态",options:jl.map(r=>({value:r.id,label:s.jsxs(A,{size:"small",children:[r.icon,r.name]})}))})}),s.jsx(P.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(yr,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},IS=()=>{var j;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z({...jd}),o=()=>{a.value="",i.value={...jd}},c=Z([]),l=Z(!1),d=Z(null),f=St(()=>{const E=d.value;return E!==null?r.data[E]:null}),h=()=>{l.value=!1},u=E=>{d.value=E,l.value=!0},p=()=>{d.value=null,l.value=!0},m=E=>{const T={...E,...SS(i.value),keyword:a.value||void 0};t.promise(xS(T)).then(L=>{r.data=L.data,r.pagination=L.pagination,ft(document.body)})},x=()=>{var E,T;m({page:(E=r.pagination)==null?void 0:E.current_page,per_page:(T=r.pagination)==null?void 0:T.per_page})},g=E=>{n.promise(yS(E)).then(()=>{h(),x()})},S=E=>{const T={...f.value,...E};n.promise(vS(T)).then(()=>{h(),x()})},C=E=>{Ce.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>bS(E).then(()=>{x()})})},w=E=>{Ce.confirm({title:`确定要删除 ${E.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>wS(E).then(()=>{x()})})};return Ct(()=>i.value,()=>m(),{deep:!0}),Ee(()=>{m()}),s.jsxs(xe,{bordered:!1,title:e.t("page.announcement.list.title",{total:((j=r.pagination)==null?void 0:j.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Tn,{}),onClick:p,children:"发布新公告"}),children:[s.jsx(CS,{loading:t.state.value,keyword:a.value,onKeywordChange:E=>a.value=E,onKeywordSearch:()=>m(),params:i.value,onParamsChange:E=>Object.assign(i.value,E),onResetRefresh:o,extra:s.jsx(Ir,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>w(c.value)}]})}),s.jsx(Q,{}),s.jsx(ES,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:E=>c.value=E,onEdit:(E,T)=>u(T),onDelete:E=>C(E._id),onPaginate:(E,T)=>m({page:E,per_page:T})}),s.jsx(RS,{width:680,title:f.value?"编辑公告":"新公告",open:l.value,submitting:n.state.value,initData:f.value,onCancel:h,onSubmit:E=>{f.value?S(E):g(E)}})]})},kS={labelCol:{span:5},wrapperCol:{span:18}},ta="null",LS={pid:ta,extends:[{name:"icon",value:"icon-category"}]},PS=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===ta?null:r.pid})})};return b.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??ta})):(t.resetFields(),t.setFieldsValue({...LS}))},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...kS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.initData.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"创建于",children:Ue(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.initData.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"分类名称"})}),s.jsx(P.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"分类别名"})}),s.jsx(P.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){var i;return a===ta?Promise.resolve():a===((i=e.initData)==null?void 0:i._id)?Promise.reject():Promise.resolve()}}],children:s.jsx($d,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:ta},...e.selectTree]})}),s.jsx(P.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"分类描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Sa,{fieldName:"extends"})})]})})},AS="_categoryTreeNode_1cgqs_1",OS="_levelIcon_1cgqs_11",ki={categoryTreeNode:AS,levelIcon:OS},$h=e=>s.jsx(rn,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>{var n;return s.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[s.jsxs(le,{justify:"space-between",align:"start",className:ki.categoryTreeNode,children:[e.level&&s.jsx("div",{className:ki.levelIcon,children:s.jsx(Hg,{})}),s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{strong:!0,children:t.name}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:t.slug}),s.jsx(Q,{type:"vertical"}),s.jsxs(F.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),s.jsx(K,{type:"secondary",text:t.description})]}),s.jsxs("div",{className:ki.actions,children:[s.jsx(N,{size:"small",type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(t),children:"编辑"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(t),children:"删除"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",icon:s.jsx(pa,{}),type:"link",target:"_blank",href:oj(t.slug),children:"查看"})]})]}),(n=t.children)!=null&&n.length?s.jsx($h,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}}),DS=()=>{var x;const{i18n:e}=Ye(),t=ge(),n=ge(),r=ut([]),a=ut([]),i=Z(!1),o=Z(null),c=St(()=>o.value?a.value.find(g=>g._id===o.value):null),l=()=>{i.value=!1},d=g=>{o.value=g,i.value=!0},f=()=>{i.value=!0,o.value=null},h=()=>t.promise(gl()).then(g=>{a.value=g.list,r.value=g.tree}),u=g=>{n.promise(Jj(g)).then(()=>{l(),h()})},p=g=>{const S={...c.value,...g};n.promise(Zj(S)).then(()=>{l(),h()})},m=g=>{Ce.confirm({title:`确定要删除分类「 ${g.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Qj(g._id).then(()=>{h()})})};return Ee(()=>h()),s.jsxs(xe,{bordered:!1,title:e.t("page.category.list.title",{total:((x=a.value)==null?void 0:x.length)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Tn,{}),onClick:f,children:"创建新分类"}),children:[s.jsx(A,{children:s.jsx(N,{icon:s.jsx(nt,{}),loading:t.state.value,onClick:()=>h(),children:e.t("common.list.filter.refresh")})}),s.jsx(Q,{}),s.jsx($h,{tree:r.value,loading:t.state.value,onEdit:g=>d(g._id),onDelete:g=>m(g)}),s.jsx(PS,{width:680,title:c.value?"编辑分类":"新分类",open:i.value,submitting:n.state.value,initData:c.value,onCancel:()=>l(),onSubmit:g=>{c.value?p(g):u(g)},selectTree:ml({tree:r.value,valuer:g=>g._id,disabledWhen:g=>{var S,C;return g._id===((S=c.value)==null?void 0:S._id)?!0:g.pid===((C=c.value)==null?void 0:C._id)}})})]})},NS=e=>{const{i18n:t}=Ye();return s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(se.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(A,{children:e.extra})]})},$S=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"删除"}),s.jsx(N,{type:"link",target:"_blank",icon:s.jsx(pa,{}),href:ij(i.slug),children:"查看"})]})}]})},FS={labelCol:{span:5},wrapperCol:{span:18}},MS={extends:[{name:"icon",value:"icon-tag"}]},US=e=>{var r,a,i,o;const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??MS)},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...FS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:(r=e.initData)==null?void 0:r.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:(a=e.initData)==null?void 0:a._id})]})}),s.jsx(P.Item,{label:"创建于",children:Ue((i=e.initData)==null?void 0:i.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue((o=e.initData)==null?void 0:o.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"标签名称"})}),s.jsx(P.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"标签别名"})}),s.jsx(P.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"标签描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Sa,{fieldName:"extends"})})]})})},zS=()=>{var w;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z([]),o=Z(!1),c=Z(null),l=St(()=>{const j=c.value;return j!==null?r.data[j]:null}),d=()=>{o.value=!1},f=j=>{c.value=j,o.value=!0},h=()=>{c.value=null,o.value=!0},u=j=>{const E={...j,keyword:a.value||void 0};t.promise(qj(E)).then(T=>{r.data=T.data,r.pagination=T.pagination,ft(document.body)})},p=()=>{var j,E;u({page:(j=r.pagination)==null?void 0:j.current_page,per_page:(E=r.pagination)==null?void 0:E.per_page})},m=j=>{n.promise(Kj(j)).then(()=>{d(),p()})},x=j=>{const E={...l.value,...j};n.promise(Yj(E)).then(()=>{d(),p()})},g=j=>{Ce.confirm({title:`确定要删除标签「 ${j.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Wj(j._id).then(()=>{p()})})},S=j=>{Ce.confirm({title:`确定要删除 ${j.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Gj(j).then(()=>{p()})})},C=()=>{a.value="",u()};return Ee(()=>{u()}),s.jsxs(xe,{bordered:!1,title:e.t("page.tag.list.title",{total:((w=r.pagination)==null?void 0:w.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Tn,{}),onClick:h,children:"创建新标签"}),children:[s.jsx(NS,{loading:t.state.value,keyword:a.value,onKeywordChange:j=>a.value=j,onKeywordSearch:()=>u(),onResetRefresh:C,extra:s.jsx(Ir,{text:"批量操作",disabled:!i.value.length,options:[{label:"批量删除",icon:s.jsx(qe,{}),onClick:()=>S(i.value)}]})}),s.jsx(Q,{}),s.jsx($S,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:i.value,onSelect:j=>i.value=j,onPaginate:(j,E)=>u({page:j,per_page:E}),onEdit:(j,E)=>f(E),onDelete:j=>g(j)}),s.jsx(US,{width:680,title:l.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:l.value,onCancel:d,onSubmit:j=>l.value?x(j):m(j)})]})},Fh="%[a-f0-9]{2}",_d=new RegExp("("+Fh+")|([^%]+?)","gi"),Sd=new RegExp("("+Fh+")+","gi");function fo(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],fo(n),fo(r))}function BS(e){try{return decodeURIComponent(e)}catch{let t=e.match(_d)||[];for(let n=1;n<t.length;n++)e=fo(t,n).join(""),t=e.match(_d)||[];return e}}function HS(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=Sd.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=BS(n[0]);a!==n[0]&&(t[n[0]]=a)}n=Sd.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function VS(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return HS(e)}}function qS(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a!=null&&a.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const i=e[r];t(r,i,e)&&Object.defineProperty(n,r,a)}}return n}function Mh(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const KS=e=>e==null,YS=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),ho=Symbol("encodeFragmentIdentifier");function WS(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[",a,"]"].join("")]:[...n,[Ne(t,e),"[",Ne(a,e),"]=",Ne(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[]"].join("")]:[...n,[Ne(t,e),"[]=",Ne(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),":list="].join("")]:[...n,[Ne(t,e),":list=",Ne(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[Ne(n,e),t,Ne(a,e)].join("")]:[[r,Ne(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Ne(t,e)]:[...n,[Ne(t,e),"=",Ne(r,e)].join("")]}}function GS(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&Qt(r,e).includes(e.arrayFormatSeparator);r=o?Qt(r,e):r;const c=i||o?r.split(e.arrayFormatSeparator).map(l=>Qt(l,e)):r===null?r:Qt(r,e);a[n]=c};case"bracket-separator":return(n,r,a)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){a[n]=r&&Qt(r,e);return}const o=r===null?[]:r.split(e.arrayFormatSeparator).map(c=>Qt(c,e));if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function Uh(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Ne(e,t){return t.encode?t.strict?YS(e):encodeURIComponent(e):e}function Qt(e,t){return t.decode?VS(e):e}function zh(e){return Array.isArray(e)?e.sort():typeof e=="object"?zh(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function Bh(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function JS(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function Cd(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function Sl(e){e=Bh(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Cl(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},Uh(t.arrayFormatSeparator);const n=GS(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const i=t.decode?a.replaceAll("+"," "):a;let[o,c]=Mh(i,"=");o===void 0&&(o=i),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:Qt(c,t),n(Qt(o,t),c,r)}for(const[a,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[a]!=="string")for(const[o,c]of Object.entries(i)){const l=t.types[a]?t.types[a].replace("[]",""):void 0;i[o]=Cd(c,t,l)}else typeof i=="object"&&i!==null&&t.types[a]==="string"?r[a]=Object.values(i).join(t.arrayFormatSeparator):r[a]=Cd(i,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,i)=>{const o=r[i];return a[i]=o&&typeof o=="object"&&!Array.isArray(o)?zh(o):o,a},Object.create(null))}function Hh(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Uh(t.arrayFormatSeparator);const n=o=>t.skipNull&&KS(e[o])||t.skipEmptyString&&e[o]==="",r=WS(t),a={};for(const[o,c]of Object.entries(e))n(o)||(a[o]=c);const i=Object.keys(a);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const c=e[o];return c===void 0?"":c===null?Ne(o,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?Ne(o,t)+"[]":c.reduce(r(o),[]).join("&"):Ne(o,t)+"="+Ne(c,t)}).filter(o=>o.length>0).join("&")}function Vh(e,t){var a;t={decode:!0,...t};let[n,r]=Mh(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:Cl(Sl(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Qt(r,t)}:{}}}function qh(e,t){t={encode:!0,strict:!0,[ho]:!0,...t};const n=Bh(e.url).split("?")[0]||"",r=Sl(e.url),a={...Cl(r,{sort:!1}),...e.query};let i=Hh(a,t);i&&(i=`?${i}`);let o=JS(e.url);if(typeof e.fragmentIdentifier=="string"){const c=new URL(n);c.hash=e.fragmentIdentifier,o=t[ho]?c.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}function Kh(e,t,n){n={parseFragmentIdentifier:!0,[ho]:!1,...n};const{url:r,query:a,fragmentIdentifier:i}=Vh(e,n);return qh({url:r,query:qS(a,t),fragmentIdentifier:i},n)}function ZS(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,i)=>!t(a,i);return Kh(e,r,n)}const QS=Object.freeze(Object.defineProperty({__proto__:null,exclude:ZS,extract:Sl,parse:Cl,parseUrl:Vh,pick:Kh,stringify:Hh,stringifyUrl:qh},Symbol.toStringTag,{value:"Module"}));var XS=pl,e1=ei,t1="[object AsyncFunction]",n1="[object Function]",r1="[object GeneratorFunction]",a1="[object Proxy]";function s1(e){if(!e1(e))return!1;var t=XS(e);return t==n1||t==r1||t==t1||t==a1}var i1=s1,o1=_a,l1=o1["__core-js_shared__"],c1=l1,Li=c1,Ed=function(){var e=/[^.]+$/.exec(Li&&Li.keys&&Li.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function d1(e){return!!Ed&&Ed in e}var u1=d1,f1=Function.prototype,h1=f1.toString;function g1(e){if(e!=null){try{return h1.call(e)}catch{}try{return e+""}catch{}}return""}var m1=g1,p1=i1,x1=u1,y1=ei,v1=m1,b1=/[\\^$.*+?()[\]{}|]/g,w1=/^\[object .+?Constructor\]$/,j1=Function.prototype,_1=Object.prototype,S1=j1.toString,C1=_1.hasOwnProperty,E1=RegExp("^"+S1.call(C1).replace(b1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T1(e){if(!y1(e)||x1(e))return!1;var t=p1(e)?E1:w1;return t.test(v1(e))}var R1=T1;function I1(e,t){return e==null?void 0:e[t]}var k1=I1,L1=R1,P1=k1;function A1(e,t){var n=P1(e,t);return L1(n)?n:void 0}var El=A1,O1=El,D1=O1(Object,"create"),ti=D1,Td=ti;function N1(){this.__data__=Td?Td(null):{},this.size=0}var $1=N1;function F1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var M1=F1,U1=ti,z1="__lodash_hash_undefined__",B1=Object.prototype,H1=B1.hasOwnProperty;function V1(e){var t=this.__data__;if(U1){var n=t[e];return n===z1?void 0:n}return H1.call(t,e)?t[e]:void 0}var q1=V1,K1=ti,Y1=Object.prototype,W1=Y1.hasOwnProperty;function G1(e){var t=this.__data__;return K1?t[e]!==void 0:W1.call(t,e)}var J1=G1,Z1=ti,Q1="__lodash_hash_undefined__";function X1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z1&&t===void 0?Q1:t,this}var eC=X1,tC=$1,nC=M1,rC=q1,aC=J1,sC=eC;function Pr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pr.prototype.clear=tC;Pr.prototype.delete=nC;Pr.prototype.get=rC;Pr.prototype.has=aC;Pr.prototype.set=sC;var iC=Pr;function oC(){this.__data__=[],this.size=0}var lC=oC;function cC(e,t){return e===t||e!==e&&t!==t}var dC=cC,uC=dC;function fC(e,t){for(var n=e.length;n--;)if(uC(e[n][0],t))return n;return-1}var ni=fC,hC=ni,gC=Array.prototype,mC=gC.splice;function pC(e){var t=this.__data__,n=hC(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():mC.call(t,n,1),--this.size,!0}var xC=pC,yC=ni;function vC(e){var t=this.__data__,n=yC(t,e);return n<0?void 0:t[n][1]}var bC=vC,wC=ni;function jC(e){return wC(this.__data__,e)>-1}var _C=jC,SC=ni;function CC(e,t){var n=this.__data__,r=SC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var EC=CC,TC=lC,RC=xC,IC=bC,kC=_C,LC=EC;function Ar(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ar.prototype.clear=TC;Ar.prototype.delete=RC;Ar.prototype.get=IC;Ar.prototype.has=kC;Ar.prototype.set=LC;var PC=Ar,AC=El,OC=_a,DC=AC(OC,"Map"),NC=DC,Rd=iC,$C=PC,FC=NC;function MC(){this.size=0,this.__data__={hash:new Rd,map:new(FC||$C),string:new Rd}}var UC=MC;function zC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var BC=zC,HC=BC;function VC(e,t){var n=e.__data__;return HC(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ri=VC,qC=ri;function KC(e){var t=qC(this,e).delete(e);return this.size-=t?1:0,t}var YC=KC,WC=ri;function GC(e){return WC(this,e).get(e)}var JC=GC,ZC=ri;function QC(e){return ZC(this,e).has(e)}var XC=QC,eE=ri;function tE(e,t){var n=eE(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var nE=tE,rE=UC,aE=YC,sE=JC,iE=XC,oE=nE;function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=rE;Or.prototype.delete=aE;Or.prototype.get=sE;Or.prototype.has=iE;Or.prototype.set=oE;var lE=Or,cE="__lodash_hash_undefined__";function dE(e){return this.__data__.set(e,cE),this}var uE=dE;function fE(e){return this.__data__.has(e)}var hE=fE,gE=lE,mE=uE,pE=hE;function Rs(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gE;++t<n;)this.add(e[t])}Rs.prototype.add=Rs.prototype.push=mE;Rs.prototype.has=pE;var xE=Rs;function yE(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var vE=yE;function bE(e){return e!==e}var wE=bE;function jE(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var _E=jE,SE=vE,CE=wE,EE=_E;function TE(e,t,n){return t===t?EE(e,t,n):SE(e,CE,n)}var RE=TE,IE=RE;function kE(e,t){var n=e==null?0:e.length;return!!n&&IE(e,t,0)>-1}var LE=kE;function PE(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var AE=PE;function OE(e,t){return e.has(t)}var DE=OE,NE=El,$E=_a,FE=NE($E,"Set"),ME=FE;function UE(){}var zE=UE;function BE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Yh=BE,Pi=ME,HE=zE,VE=Yh,qE=1/0,KE=Pi&&1/VE(new Pi([,-0]))[1]==qE?function(e){return new Pi(e)}:HE,YE=KE,WE=xE,GE=LE,JE=AE,ZE=DE,QE=YE,XE=Yh,eT=200;function tT(e,t,n){var r=-1,a=GE,i=e.length,o=!0,c=[],l=c;if(n)o=!1,a=JE;else if(i>=eT){var d=t?null:QE(e);if(d)return XE(d);o=!1,a=ZE,l=new WE}else l=t?[]:c;e:for(;++r<i;){var f=e[r],h=t?t(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var u=l.length;u--;)if(l[u]===h)continue e;t&&l.push(h),c.push(f)}else a(l,h,n)||(l!==c&&l.push(h),c.push(f))}return c}var nT=tT,rT=nT;function aT(e){return e&&e.length?rT(e):[]}var sT=aT;const Id=Yt(sT),iT="_input_1s5lo_1",oT={input:iT};function Tl(e){const t=b.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return s.jsxs(A.Compact,{className:oa(e.className,e.rootClassName),style:e.style,size:e.size,children:[s.jsx(ye,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),s.jsx(se.Search,{className:oa(oT.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>{var r;return(r=e.onInputChange)==null?void 0:r.call(e,n.target.value)},onSearch:(n,r,a)=>{var i;(a==null?void 0:a.source)==="input"&&((i=e.onInputSearch)==null||i.call(e,n))}})]})}const bn="ALL",Ga=Object.freeze({postId:bn,state:bn,sort:Hn.Desc}),lT=e=>({post_id:e.postId!==bn?e.postId:void 0,state:e.state!==bn?e.state:void 0,sort:e.sort}),cT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(Tl,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):bn;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===bn?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:bn,label:"全部评论"},{value:ga,label:"留言评论"}]}),s.jsx(ye,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:bn},...il.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(Wn,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(se.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(jr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),dT=e=>{const t=sn({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async i=>{try{await aS(i),t.done.push(i)}catch{t.fail.push(i)}finally{t.todo=t.todo.slice().filter(o=>o!==i)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const i=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];jn.info(i.join("，"))}},r=()=>{const a=e.comments.filter(i=>{var o;return!!i.ip&&!((o=i.ip_location)!=null&&o.region_code)}).map(i=>i._id);a.length?(t.todo.push(...a),n(),jn.info(`开始任务，共 ${a.length} 条数据`)):jn.info("没有需要修正的数据")};return s.jsxs(A,{wrap:!0,children:[s.jsxs(N.Group,{children:[t.running&&s.jsxs(N,{size:"small",onClick:()=>{Ce.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,s.jsx(Q,{type:"vertical"}),"DONE: ",t.done.length,s.jsx(Q,{type:"vertical"}),"FAIL: ",t.fail.length]}),s.jsx(N,{size:"small",icon:s.jsx(Is,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Vg,{}),href:nh(),children:"去留言板"})]})},uT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(a,i){return s.jsx(N,{size:"small",onClick:()=>e.onClickPostId(i.post_id),children:i.post_id})}},{title:"评论内容",dataIndex:"content",render:(a,i)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Paragraph,{className:cs.commentContent,ellipsis:{rows:5,expandable:!0},children:i.content}),s.jsx(K,{type:"secondary",text:Ue(i.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{children:[s.jsx(wl,{comment:i}),s.jsx(K,{text:i.author.name})]}),s.jsxs(A,{direction:"vertical",size:"small",children:[s.jsx(K,{placeholder:"Left blank",prefix:s.jsx(Os,{}),text:i.author.email,copyable:!0}),s.jsxs(A,{size:"small",children:[s.jsx(gr,{}),s.jsx(ja,{data:i.author.site,placeholder:"Left blank",children:o=>s.jsx(mr,{placement:"top",content:o,children:s.jsx(F.Link,{target:"_blank",rel:"noreferrer",href:o,children:"点击打开"})})})]})]})]})}},{title:"终端信息",width:210,dataIndex:"agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(Is,{}),text:i.ip,copyable:!0}),s.jsxs(A,{size:"small",children:[s.jsx(qd,{}),s.jsx(Gn,{data:i.ip_location})]}),s.jsxs(A,{size:"small",children:[s.jsx(Kd,{}),s.jsx(mr,{title:"终端信息",placement:"right",content:s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"浏览器",text:En(i.agent)})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"系统",text:Jn(i.agent)})}),s.jsx("div",{children:s.jsx(K,{prefix:"设备",text:Ca(i.agent)})})]}),children:En(i.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(a,i)=>{const o=ia(i.state);return s.jsxs(A,{direction:"vertical",children:[s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name}),s.jsxs(Kt,{icon:s.jsx(Kn,{}),color:i.likes>0?"processing":void 0,children:[i.likes," 个赞"]}),s.jsxs(Kt,{icon:s.jsx(br,{}),color:i.dislikes>0?"gold":void 0,children:[i.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(a,i,o)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"评论详情"}),i.state===lt.Auditing&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(It,{}),onClick:()=>e.onUpdateState(i,lt.Published),children:s.jsx(F.Text,{type:"success",children:"审核通过"})}),i.state===lt.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(ks,{}),onClick:()=>e.onUpdateState(i,lt.Spam),children:"标为垃圾"}),(i.state===lt.Auditing||i.state===lt.Published)&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onUpdateState(i,lt.Deleted),children:"移回收站"}),(i.state===lt.Deleted||i.state===lt.Spam)&&s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onUpdateState(i,lt.Auditing),children:s.jsx(F.Text,{type:"warning",children:"退为草稿"})}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})]})}]})},fT=e=>{var i,o,c,l,d,f,h,u,p,m,x,g,S,C,w;const[t]=P.useForm(),n=ut(null),r=j=>{dh(j).then(E=>{n.value=E})},a=()=>{t.validateFields().then(j=>{e.onSubmit(j)})};return Ee(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==ga&&r(e.comment.post_id)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:(i=e.comment)==null?void 0:i.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:(o=e.comment)==null?void 0:o._id})]})}),s.jsx(P.Item,{label:"发布于",children:Ue((c=e.comment)==null?void 0:c.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue((l=e.comment)==null?void 0:l.updated_at)}),s.jsx(P.Item,{label:"用户头像",children:s.jsx(wl,{size:"large",comment:e.comment})}),s.jsx(P.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:s.jsx(se,{prefix:s.jsx(qn,{})})}),s.jsx(P.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:s.jsx(se,{prefix:s.jsx(Os,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:s.jsx(se,{prefix:s.jsx(gr,{}),type:"url",placeholder:"URL",suffix:s.jsx(qg,{onClick:()=>{var E;const j=(E=e.comment)==null?void 0:E.author.site;j&&window.open(j)}})})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(K,{text:(d=e.comment)==null?void 0:d.ip,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Gn,{data:(f=e.comment)==null?void 0:f.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(K,{text:En((h=e.comment)==null?void 0:h.agent),placeholder:"未知浏览器"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Jn((u=e.comment)==null?void 0:u.agent),placeholder:"未知系统"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Ca((p=e.comment)==null?void 0:p.agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:s.jsx(zl,{addonBefore:s.jsx(Kn,{}),placeholder:"多少"})}),s.jsx(P.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:s.jsx(zl,{addonBefore:s.jsx(br,{}),placeholder:"多少"})}),s.jsx(P.Item,{label:"宿主页面",children:s.jsxs(N,{type:"link",target:"_blank",icon:s.jsx(gr,{}),href:lj((m=e.comment)==null?void 0:m.post_id),children:[((x=e.comment)==null?void 0:x.post_id)===ga?"留言板":((g=n.value)==null?void 0:g.title)??"加载中⋯",s.jsx(Q,{type:"vertical"}),s.jsxs("span",{children:["#",(S=e.comment)==null?void 0:S.id]})]})}),(C=e.comment)!=null&&C.pid?s.jsx(P.Item,{label:"父级评论",children:s.jsxs(F.Text,{strong:!0,children:["#",(w=e.comment)==null?void 0:w.pid]})}):null,s.jsx(P.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:s.jsx(ye,{placeholder:"选择状态",options:il.map(j=>({value:j.id,label:s.jsxs(A,{size:"small",children:[j.icon,j.name]})}))})}),s.jsx(P.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(yr,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:s.jsx(Sa,{fieldName:"extends"})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(It,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},hT=()=>{var y;const e=In(),{i18n:t}=Ye(),{post_id:n}=QS.parse(e.search),r=n?Number(n):void 0,a=ge(),i=ge(),o=sn({data:[],pagination:void 0}),c=Z(""),l=Z(String(r??"")),d=Z({...Ga,postId:r??Ga.postId}),f=()=>{c.value="",l.value="",d.value={...Ga}},h=I=>{c.value="",l.value=String(I),d.value={...Ga,postId:Number(I)}},u=Z([]),p=St(()=>o.data.filter(I=>u.value.includes(I._id))),m=Z(!1),x=Z(null),g=St(()=>{const I=x.value;return I!==null?o.data[I]:null}),S=()=>{m.value=!1},C=I=>{x.value=I,m.value=!0},w=I=>{const D={...I,...lT(d.value),keyword:c.value||void 0};a.promise(Ah(D)).then($=>{o.data=$.data,o.pagination=$.pagination,ft(document.body)})},j=()=>{var I,D;w({page:(I=o.pagination)==null?void 0:I.current_page,per_page:(D=o.pagination)==null?void 0:D.per_page})},E=I=>{const D={...g.value,...I};i.promise(tS(D)).then(()=>{S(),j()})},T=I=>{Ce.confirm({title:`确定要彻底删除 ${I.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>rS(I.map(D=>D._id),Id(I.map(D=>D.post_id))).then(()=>{j()})})},L=(I,D)=>{Ce.confirm({title:`确定要将 ${I.length} 个评论更新为「 ${ia(D).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>nS(I.map($=>$._id),Id(I.map($=>$.post_id)),D).then(()=>{j()})})};return Ct(()=>d.value,()=>w(),{deep:!0}),Ee(()=>{w()}),s.jsxs(xe,{bordered:!1,title:t.t("page.comment.list.title",{total:((y=o.pagination)==null?void 0:y.total)??"-"}),extra:s.jsx(dT,{comments:o.data,loading:a.state.value}),children:[s.jsx(cT,{loading:a.state.value,keyword:c.value,onKeywordChange:I=>c.value=I,onKeywordSearch:()=>w(),params:d.value,onParamsChange:I=>Object.assign(d.value,I),postIdInput:l.value,onPostIdInputChange:I=>l.value=I,onResetRefresh:f,extra:s.jsx(Ir,{text:"批量操作",disabled:!u.value.length,options:[{label:"退为草稿",icon:s.jsx(Ze,{}),onClick:()=>L(p.value,lt.Auditing)},{label:"审核通过",icon:s.jsx(It,{}),onClick:()=>L(p.value,lt.Published)},{label:"标为垃圾",icon:s.jsx(ks,{}),onClick:()=>L(p.value,lt.Spam)},{label:"移回收站",icon:s.jsx(qe,{}),onClick:()=>L(p.value,lt.Deleted)},{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>T(p.value)}]})}),s.jsx(Q,{}),s.jsx(uT,{loading:a.state.value,selectedIds:u.value,onSelecte:I=>u.value=I,data:o.data,pagination:o.pagination,onPaginate:(I,D)=>w({page:I,per_page:D}),onDetail:(I,D)=>C(D),onDelete:I=>T([I]),onUpdateState:(I,D)=>L([I],D),onClickPostId:h}),s.jsx(As,{width:"46rem",title:"评论详情",destroyOnClose:!0,open:m.value,onClose:S,children:s.jsx(dt,{spinning:i.state.value,children:g.value&&s.jsx(fT,{submitting:i.state.value,comment:g.value,onSubmit:I=>E(I)})})})]})},qt="ALL",gT=void 0,Ai={target_type:qt,vote_type:qt,author_type:qt,sort:Bn.Desc},mT=e=>({target_type:e.target_type!==qt?e.target_type:void 0,vote_type:e.vote_type!==qt?e.vote_type:void 0,author_type:e.author_type!==qt?e.author_type:void 0,sort:e.sort}),pT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(A.Compact,{children:s.jsx(Tl,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===qt?"目标":ls(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:qt,label:"所有类型"},{value:fr.Post,label:ls(fr.Post)},{value:fr.Comment,label:ls(fr.Comment)}]})}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:qt,label:"所有态度"},...Ph.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(ye,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:qt,label:"所有用户"},...[os.Anonymous,os.Guest,os.Disqus].map(t=>({value:t,label:vl(t)}))]}),s.jsx(Wn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(jr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),xT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(a,i)=>s.jsxs(N,{type:"link",onClick:()=>e.onClickTarget(i),children:[ls(i.target_type)," #",i.target_id===ga?"Guestbook":i.target_id]})},{title:"态度",dataIndex:"vote_type",render:(a,i)=>s.jsx(Kt,{icon:Ts(i.vote_type).icon,color:i.vote_type===yl.Upvote?"green":"red",children:s.jsx("strong",{children:Ts(i.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(a,i)=>{var o;return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(Kg,{}),text:vl(i.author_type)}),s.jsx(mr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(i.author,null,2)}),children:s.jsx("span",{children:s.jsx(K,{prefix:s.jsx(qn,{}),text:(o=i.author)==null?void 0:o.name,placeholder:"未知用户"})})})]})}},{title:"IP / GEO",dataIndex:"ip",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(Is,{}),text:i.ip,copyable:!0,placeholder:"未知 IP"}),s.jsxs(A,{size:"small",children:[s.jsx(qd,{}),s.jsx(Gn,{data:i.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(Kd,{}),text:En(i.user_agent),placeholder:"未知浏览器"}),s.jsx(A,{size:"small",children:s.jsx(K,{prefix:s.jsx(Yg,{}),text:Jn(i.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(A,{size:"small",children:s.jsx(K,{prefix:s.jsx(Wg,{}),text:Ca(i.user_agent),placeholder:"未知设备"})}),s.jsx(K,{prefix:s.jsx(Yd,{}),text:Ue(i.created_at)})]})}}]})},yT=()=>{var p;const{i18n:e}=Ye(),t=ge(),n=sn({data:[],pagination:void 0}),r=Z({...Ai}),a=Z(void 0),i=m=>{a.value=Number.isFinite(m)?m:void 0},o=()=>{a.value=gT,r.value={...Ai}},c=m=>{a.value=m.target_id,r.value={...Ai,target_type:m.target_type}},l=Z([]),d=St(()=>n.data.filter(m=>l.value.includes(m._id))),f=m=>{const x={...m,...mT(r.value),target_id:a.value};t.promise(Lh(x)).then(g=>{n.data=g.data,n.pagination=g.pagination,ft(document.body)})},h=()=>{var m,x;f({page:(m=n.pagination)==null?void 0:m.current_page,per_page:(x=n.pagination)==null?void 0:x.per_page})},u=m=>{Ce.confirm({title:`确定要彻底删除 ${m.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>K_(m.map(x=>x._id)).then(()=>{h()})})};return Ct(()=>r.value,()=>f(),{deep:!0}),Ee(()=>{f()}),s.jsxs(xe,{bordered:!1,title:e.t("page.vote.list.title",{total:((p=n.pagination)==null?void 0:p.total)??"-"}),children:[s.jsx(pT,{loading:t.state.value,targetId:a.value,onTargetIdChange:i,onTargetIdSearch:()=>f(),params:r.value,onParamsChange:m=>Object.assign(r.value,m),onResetRefresh:o,extra:s.jsx(Ir,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>u(d.value)}]})}),s.jsx(Q,{}),s.jsx(xT,{loading:t.state.value,selectedIds:l.value,data:n.data,pagination:n.pagination,onSelecte:m=>l.value=m,onPaginate:(m,x)=>f({page:m,per_page:x}),onClickTarget:m=>c(m)})]})},Rl="/feedback";function vT(e={}){return V.get(Rl,{params:e}).then(t=>t.result)}function bT(e){return V.put(`${Rl}/${e._id}`,e).then(t=>t.result)}function wT(e){return V.delete(Rl,{data:{feedback_ids:e}}).then(t=>t.result)}var Wh=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(Wh||{});const jT=[{number:0,boolean:!1,name:"未标记",icon:s.jsx(jo,{})},{number:1,boolean:!0,name:"已标记",icon:s.jsx(wo,{style:{color:"#fadb14"}})}],_T=new Map(jT.map(e=>[e.number,e])),go=e=>_T.get(e?1:0),Fn="ALL",kd={marked:!1,tid:Fn,emotion:Fn,sort:Bn.Desc},ST=e=>({marked:e.marked?Wh.Yes:void 0,tid:e.tid!==Fn?e.tid:void 0,emotion:e.emotion!==Fn?e.emotion:void 0,sort:e.sort}),CT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?s.jsx(wo,{}):s.jsx(jo,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),s.jsx(Tl,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):Fn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:Fn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:Fn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),s.jsx(Wn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(se.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:s.jsx("span",{children:s.jsx(jr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),ET="_feedbackContent_1w5aj_1",TT={feedbackContent:ET},RT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(a,i)=>go(i.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(a,i)=>s.jsx(wn,{prefix:i.emotion_emoji,value:i.emotion})},{title:"反馈内容",dataIndex:"content",render:(a,i)=>s.jsx(F.Paragraph,{className:TT.feedbackContent,ellipsis:{rows:3,expandable:!0},children:i.content})},{title:"备注",width:180,dataIndex:"remark",render:(a,i)=>s.jsx(ja,{data:i.remark||null,children:o=>s.jsx(F.Paragraph,{ellipsis:{rows:3,expandable:!0},children:o})})},{title:"发布于",width:200,dataIndex:"agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(mr,{title:"终端信息",placement:"left",style:{width:300},content:s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"用户：",text:i.user_name})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"邮箱：",text:i.user_email,copyable:!0})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"来源：",text:i.origin,copyable:!0})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"IP：",text:i.ip||void 0,copyable:!0})}),s.jsxs(F.Paragraph,{children:["位置： ",s.jsx(Gn,{data:i.ip_location})]}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"浏览器：",text:En(i.user_agent)})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"系统：",text:Jn(i.user_agent)})}),s.jsx("div",{children:s.jsx(K,{prefix:"设备：",text:Ca(i.user_agent)})})]}),children:s.jsx("span",{children:s.jsx(K,{prefix:s.jsx(qn,{}),text:i.user_name,placeholder:"Anonymous"})})}),s.jsx(K,{prefix:s.jsx(Yd,{}),text:Ue(i.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(a,i,o)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"反馈详情"}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})}]})},IT=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return Ee(()=>{t.setFieldsValue(e.feedback)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.feedback.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.feedback._id})]})}),s.jsx(P.Item,{label:"TID",children:s.jsx(F.Text,{copyable:!0,children:e.feedback.tid})}),s.jsx(P.Item,{label:"发布于",children:Ue(e.feedback.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.feedback.updated_at)}),s.jsx(P.Item,{name:"marked",label:"是否标记",children:s.jsxs(Ja.Group,{size:"middle",children:[s.jsx(Ja.Button,{value:!1,children:go(!1).icon}),s.jsx(Ja.Button,{value:!0,children:go(!0).icon})]})}),s.jsx(P.Item,{name:"user_name",label:"用户昵称",children:s.jsx(se,{prefix:s.jsx(qn,{})})}),s.jsx(P.Item,{name:"user_email",label:"用户邮箱",children:s.jsx(se,{prefix:s.jsx(Os,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(K,{text:e.feedback.ip||null,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Gn,{data:e.feedback.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(K,{text:En(e.feedback.user_agent),placeholder:"未知浏览器"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Jn(e.feedback.user_agent),placeholder:"未知系统"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Ca(e.feedback.user_agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{label:"反馈评分",children:s.jsx(wn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),s.jsx(P.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{autoSize:{minRows:8,maxRows:18}})}),s.jsx(P.Item,{label:"备注",name:"remark",children:s.jsx(se.TextArea,{autoSize:{minRows:3,maxRows:8}})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(It,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},kT=()=>{var C;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z({...kd}),o=()=>{a.value="",i.value={...kd}},c=Z([]),l=St(()=>r.data.filter(w=>c.value.includes(w._id))),d=Z(!1),f=Z(null),h=St(()=>{const w=f.value;return w!==null?r.data[w]:null}),u=()=>{d.value=!1},p=w=>{f.value=w,d.value=!0},m=w=>{const j={...w,...ST(i.value),keyword:a.value||void 0};t.promise(vT(j)).then(E=>{r.data=E.data,r.pagination=E.pagination,ft(document.body)})},x=()=>{var w,j;m({page:(w=r.pagination)==null?void 0:w.current_page,per_page:(j=r.pagination)==null?void 0:j.per_page})},g=w=>{Ce.confirm({title:`确定要彻底删除 ${w.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>wT(w.map(j=>j._id)).then(()=>{x()})})},S=w=>{const{emotion_emoji:j,emotion_text:E,...T}={...h.value,...w},L={...T,ip:T.ip||null};n.promise(bT(L)).then(()=>{u(),x()})};return Ct(()=>i.value,()=>m(),{deep:!0}),Ee(()=>{m()}),s.jsxs(xe,{bordered:!1,title:e.t("page.feedback.list.title",{total:((C=r.pagination)==null?void 0:C.total)??"-"}),children:[s.jsx(CT,{loading:t.state.value,keyword:a.value,onKeywordChange:w=>a.value=w,onKeywordSearch:()=>m(),params:i.value,onParamsChange:w=>Object.assign(i.value,w),onResetRefresh:o,extra:s.jsx(Ir,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>g(l.value)}]})}),s.jsx(Q,{}),s.jsx(RT,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:w=>c.value=w,onDetail:(w,j)=>p(j),onDelete:w=>g([w]),onPaginate:(w,j)=>m({page:w,per_page:j})}),s.jsx(As,{width:"46rem",title:"反馈详情",destroyOnClose:!0,open:d.value,onClose:u,children:s.jsx(dt,{spinning:n.state.value,children:h.value&&s.jsx(IT,{submitting:n.state.value,feedback:h.value,onSubmit:w=>S(w)})})})]})},LT=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),URL.revokeObjectURL(a)},Ra="/disqus";function PT(e){return V.get(`${Ra}/threads`,{params:e})}function AT(e){return V.get(`${Ra}/posts`,{params:e})}function Gh(){return V.get(`${Ra}/config`)}async function OT(e){const t=new FormData;return t.append("file",e),V.post(`${Ra}/import-xml`,t)}async function DT(){const e=await V.$({url:`${Ra}/export-xml`,method:"GET",responseType:"blob"});LT(e.data,"nodepress-export-to-disqus.xml","application/xml")}var Vn=(e=>(e.Desc="desc",e.Asc="asc",e))(Vn||{}),ds=(e=>(e.Open="open",e.Closed="closed",e))(ds||{}),xn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(xn||{});const mo="ALL",Ld={order:Vn.Desc,include:mo},NT=()=>{var c,l;const e=Z(null),t=ge(),n=sn({cursor:null,list:[]}),r=Z({...Ld}),a=()=>{r.value={...Ld}},i=d=>{const f={...d,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==mo?[r.value.include]:[...Object.values(ds)]};t.promise(PT(f)).then(h=>{d!=null&&d.cursor?(n.cursor=h.result.cursor,n.list.push(...h.result.response)):(n.cursor=h.result.cursor,n.list=h.result.response,ft(document.body))})},o=()=>{i({cursor:n.cursor.next})};return Ct(()=>r.value,()=>i(),{deep:!0}),Ee(()=>{Gh().then(d=>{e.value=d.result,i()})}),s.jsxs(xe,{bordered:!1,title:`Threads (${n.list.length})`,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(To,{}),href:`https://${(c=e.value)==null?void 0:c.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:d=>r.value.include=d,options:[{value:mo,label:"All state"},{value:ds.Open,label:"Open"},{value:ds.Closed,label:"Closed"}]}),s.jsx(ye,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:d=>r.value.order=d,options:[{value:Vn.Desc,label:"Desc"},{value:Vn.Asc,label:"Asc"}]}),s.jsx(N,{icon:s.jsx(nt,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),s.jsx(Q,{}),s.jsx(an,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(d,f)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Link,{href:`https://disqus.com/home/discussion/${f.forum}/${f.slug}/`,target:"_blank",strong:!0,children:f.title}),s.jsx(F.Link,{href:f.link,target:"_blank",type:"secondary",children:f.link})]})},{title:"ID / Author",key:"id",render:(d,f)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Text,{copyable:!0,children:f.id}),s.jsx(F.Text,{copyable:!0,type:"secondary",children:f.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(d,f)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(A,{children:f.identifiers.map(h=>s.jsx(Kt,{children:h},h))}),s.jsx(F.Text,{type:"secondary",children:Ue(f.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(d,f)=>s.jsxs(A,{size:"small",children:[s.jsx(ma,{}),f.posts]})},{title:"Likes",key:"likes",render:(d,f)=>s.jsxs(A,{size:"small",children:[s.jsx(Kn,{}),f.likes]})},{title:"Dislikes",key:"dislikes",render:(d,f)=>s.jsxs(A,{size:"small",children:[s.jsx(br,{}),f.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(d,f)=>s.jsx(Fi,{disabled:!0,checked:!f.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:(l=n.cursor)!=null&&l.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(F.Text,{type:"secondary",children:"NO MORE"})})]})},Il="ALL",Pd={order:Vn.Desc,include:Il},$T=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:Il,label:"All state"},{value:xn.Approved,label:"Approved"},{value:xn.Unapproved,label:"Unapproved"},{value:xn.Spam,label:"Spam"},{value:xn.Deleted,label:"Deleted"},{value:xn.Flagged,label:"Flagged"},{value:xn.Highlighted,label:"Highlighted"}]}),s.jsx(ye,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:Vn.Desc,label:"Desc"},{value:Vn.Asc,label:"Asc"}]}),s.jsx(se.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onThreadIdSearch()}}),s.jsx(N,{loading:e.loading,icon:s.jsx(nt,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),s.jsx(A,{children:e.extra})]}),FT=e=>s.jsx(an,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{text:n.id,copyable:!0,type:"secondary"}),s.jsx(K,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),s.jsx(F.Text,{type:"secondary",children:Ue(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>s.jsxs(A,{children:[s.jsx(Eo,{size:38,shape:"square",src:n.author.avatar.cache}),s.jsxs(A,{direction:"vertical",size:"small",children:[s.jsx("strong",{children:n.author.name}),s.jsx(ja,{data:n.author.url,children:r=>s.jsx(F.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?s.jsx(F.Text,{type:"secondary",children:"Guest"}):s.jsx(F.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>s.jsxs(A,{size:"small",children:[s.jsx(Kn,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>s.jsxs(A,{size:"small",children:[s.jsx(br,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>s.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:s.jsx(Vd,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:s.jsx(Bl,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:s.jsx(Bl,{})}].filter(r=>r.value).map((r,a)=>s.jsxs(F.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),MT=()=>{var l,d;const e=Z(null),t=ge(),n=sn({cursor:null,list:[]}),r=Z(""),a=Z({...Pd}),i=f=>{const h={...f,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==Il?[a.value.include]:[...Object.values(xn)]};t.promise(AT(h)).then(u=>{f!=null&&f.cursor?(n.cursor=u.result.cursor,n.list.push(...u.result.response)):(n.cursor=u.result.cursor,n.list=u.result.response,ft(document.body))})},o=()=>{i({cursor:n.cursor.next})},c=()=>{r.value="",a.value={...Pd}};return Ct(()=>a.value,()=>i(),{deep:!0}),Ee(()=>{Gh().then(f=>{e.value=f.result,i()})}),s.jsxs(xe,{title:`Posts (${n.list.length})`,bordered:!1,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(To,{}),href:`https://${(l=e.value)==null?void 0:l.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[s.jsx($T,{loading:t.state.value,threadId:r.value,onThreadIdChange:f=>r.value=f,onThreadIdSearch:()=>i(),params:a.value,onParamsChange:f=>Object.assign(a.value,f),onResetRefresh:c}),s.jsx(Q,{}),s.jsx(FT,{loading:t.state.value,data:n.list.slice()}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:(d=n.cursor)!=null&&d.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(F.Text,{type:"secondary",children:"NO MORE"})})]})},UT=()=>{const e=ge(),t=n=>{e.promise(OT(n)).catch(r=>{Ce.error({title:"Upload XML error",content:String(r)})})};return s.jsxs("div",{children:[s.jsx(Wd,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:s.jsx(Co,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:s.jsx(Ps,{})}]}),s.jsx(Ro,{icon:s.jsx(Ds,{}),title:"Disqus To NodePress",extra:s.jsxs(A,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Gd,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),s.jsx(_o,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:s.jsx(N,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:s.jsx(Ls,{}),children:"Upload XML to NodePress"})})]})})]})},zT=()=>s.jsxs("div",{children:[s.jsx(Wd,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:s.jsx(Co,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:s.jsx(Ps,{})}]}),s.jsx(Ro,{icon:s.jsx(Ds,{}),title:"NodePress To Disqus",extra:s.jsxs(N.Group,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Gd,{}),onClick:()=>DT(),children:"Download XML"}),s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Ls,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),BT=()=>s.jsxs(A,{direction:"vertical",size:nu,style:{width:"100%"},children:[s.jsx(xe,{title:"Synchronize NodePress to Disqus",bordered:!1,children:s.jsx(zT,{})}),s.jsx(xe,{title:"Synchronize Disqus To NodePress",bordered:!1,children:s.jsx(UT,{})})]}),Oi=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},HT=e=>{var d;const t=ge(),n=ge(),r=Z(null),[a]=P.useForm(),i=f=>{r.value=f,a.setFieldsValue({...f,ad_config:Oi(f.ad_config,2)})},o=()=>t.promise(Aw()).then(i),c=f=>{const h={...f,ad_config:Oi(f.ad_config)};return n.promise(Ow(h)).then(i)},l=()=>{a.validateFields().then(f=>{const h={...r.value,...f};c(h).then(()=>{ft(document.body)})})};return Ee(()=>{o()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[s.jsx(P.Item,{label:!0,children:s.jsx(wn,{valueStyle:{fontWeight:"bold"},value:(d=r.value)==null?void 0:d.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),s.jsx(P.Item,{name:"title",label:"站点标题",required:!0,children:s.jsx(se,{placeholder:"站点标题"})}),s.jsx(P.Item,{name:"sub_title",label:"副标题",required:!0,children:s.jsx(se,{placeholder:"副标题"})}),s.jsx(P.Item,{name:"description",label:"站点描述",required:!0,children:s.jsx(se.TextArea,{rows:4,placeholder:"站点描述"})}),s.jsx(P.Item,{name:"keywords",label:"关键词",required:!0,children:s.jsx(ye,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:s.jsx(se,{suffix:s.jsx(gr,{}),placeholder:"https://example.me"})}),s.jsx(P.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:s.jsx(se,{suffix:s.jsx(Os,{}),placeholder:"example@xxx.me"})}),s.jsx(P.Item,{name:"statement",label:"站点声明",children:s.jsx(yr,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:Cs.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:s.jsx(Sa,{fieldName:"friend_links"})}),s.jsx(P.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个关键字",mode:"tags"})}),s.jsx(P.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(f,h){try{return Oi(h||""),Promise.resolve()}catch(u){return Promise.reject(u)}}}],children:s.jsx(yr,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:Cs.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:!0,children:s.jsx(N,{icon:s.jsx(It,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:l,children:"保存"})})]})})},VT=()=>{const e=ge(),t=ge(),n=()=>{Ce.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(Pw())})},r=()=>{Ce.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise(Lw())})};return s.jsxs(Ht,{children:[s.jsx(N,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:s.jsx(Ps,{}),children:"立即更新数据库备份"}),s.jsx(Q,{}),s.jsx(N,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:s.jsx(Ds,{}),children:"更新 Archive 及缓存"})]})},qT=()=>{const e=ln(),t=ge(),n=ge(),r=ai(),[a]=P.useForm(),i=()=>{t.promise(tg()).then(a.setFieldsValue)},o=d=>n.promise(DR(d)).then(()=>{d.new_password?(Bt.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{Zs(),e(tt[he.Hello])},1688)):(i(),r.refresh())}),c=()=>{a.validateFields().then(d=>{Reflect.deleteProperty(d,"rel_new_password"),o({...d}).then(()=>{ft(document.body)})})},l=async()=>{const d=a.getFieldValue("password"),f=a.getFieldValue("new_password"),h=a.getFieldValue("rel_new_password");if(!(!d&&!f&&!h)&&(f!==h||d===f))throw new Error};return Ee(()=>{i()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[s.jsx(P.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:s.jsx(_h,{disabledMarkdown:!0})}),s.jsx(P.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:s.jsx(se,{placeholder:"昵称"})}),s.jsx(P.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:s.jsx(se.TextArea,{placeholder:"签名"})}),s.jsx(Q,{}),s.jsx(P.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"旧密码",autoComplete:"password"})}),s.jsx(P.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"新密码",autoComplete:"new_password"})}),s.jsx(P.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(It,{}),loading:n.state.value,onClick:c,children:"保存"})]})})},Di=e=>{const t=s.jsxs(A,{size:"small",children:[e.icon,e.title]});return s.jsx(xe,{bordered:!1,title:t,children:e.children})},KT=()=>{const{i18n:e}=Ye();return s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,lg:17,children:s.jsx(Di,{title:e.t("page.setting.general.title"),icon:s.jsx(Gg,{}),children:s.jsx(HT,{labelSpan:4,wrapperSpan:19})})}),s.jsx(Fe,{xs:24,lg:7,children:s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{span:24,children:s.jsx(Di,{title:e.t("page.setting.data.title"),icon:s.jsx(Jg,{}),children:s.jsx(VT,{})})}),s.jsx(Fe,{span:24,children:s.jsx(Di,{title:e.t("page.setting.userinfo.title"),icon:s.jsx(qn,{}),children:s.jsx(qT,{})})})]})})]})},YT=()=>{const{i18n:e}=Ye(),t=ut(!1);return s.jsxs(xe,{bordered:!1,title:e.t("page.statics.list.title",{total:"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Ls,{}),disabled:!0,onClick:()=>t.value=!0,children:"上传新文件"}),children:[s.jsx(Rh,{tableListSize:"middle"}),s.jsx(Ce,{title:"上传文件",centered:!0,closable:!1,footer:null,open:t.value,onClose:()=>t.value=!1,children:s.jsx("p",{children:"TODO"})})]})};var he=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Static="static",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(he||{});const Jh=[{index:!0,element:s.jsx(ji,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:he.Dashboard,path:"/dashboard",element:s.jsx(jj,{}),handle:{i18nKey:"page.dashboard.title",icon:s.jsx(To,{})}},{id:he.Announcement,path:"/announcement",element:s.jsx(IS,{}),handle:{i18nKey:"page.announcement.title",icon:s.jsx(Zg,{})}},{id:he.Category,path:"/category",element:s.jsx(DS,{}),handle:{i18nKey:"page.category.title",icon:s.jsx(Qg,{})}},{id:he.Tag,path:"/tag",element:s.jsx(zS,{}),handle:{i18nKey:"page.tag.title",icon:s.jsx(Xg,{})}},{id:he.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:s.jsx(Dd,{})},children:[{index:!0,element:s.jsx(ji,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:he.ArticleList,path:"/article/list",element:s.jsx(n0,{}),handle:{i18nKey:"page.article.list",icon:s.jsx(Hl,{})}},{id:he.ArticlePost,path:"/article/post",element:s.jsx(pS,{}),handle:{i18nKey:"page.article.create",icon:s.jsx(Ze,{})}},{id:he.ArticleEdit,path:"/article/edit/:article_id",element:s.jsx(mS,{}),handle:{i18nKey:"page.article.edit",icon:s.jsx(Ze,{}),hiddenInMenu:!0}}]},{id:he.Comment,path:"/comment",element:s.jsx(hT,{}),handle:{i18nKey:"page.comment.title",icon:s.jsx(ma,{})}},{id:he.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:s.jsx(em,{})},children:[{index:!0,element:s.jsx(ji,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:he.DisqusPost,path:"/disqus/posts",element:s.jsx(MT,{}),handle:{i18nKey:"page.disqus.posts",icon:s.jsx(Hl,{})}},{id:he.DisqusThread,path:"/disqus/threads",element:s.jsx(NT,{}),handle:{i18nKey:"page.disqus.threads",icon:s.jsx(Hd,{})}},{id:he.DisqusSync,path:"/disqus/synchronize",element:s.jsx(BT,{}),handle:{i18nKey:"page.disqus.synchronize",icon:s.jsx(Ds,{})}}]},{id:he.Vote,path:"/vote",element:s.jsx(yT,{}),handle:{i18nKey:"page.vote.title",icon:s.jsx(Kn,{})}},{id:he.Feedback,path:"/feedback",element:s.jsx(kT,{}),handle:{i18nKey:"page.feedback.title",icon:s.jsx(tm,{})}},{id:he.Static,path:"/static",element:s.jsx(YT,{}),handle:{i18nKey:"page.setting.statics",icon:s.jsx(So,{})}},{id:he.Setting,path:"/setting",element:s.jsx(KT,{}),handle:{i18nKey:"page.setting.title",icon:s.jsx(Jd,{})}}],WT="_appLayout_th6z3_1",GT="_appSider_th6z3_1",JT="_siderContent_th6z3_9",ZT="_logo_th6z3_15",QT="_userInfo_th6z3_23",XT="_collapsed_th6z3_29",eR="_avatar_th6z3_32",tR="_name_th6z3_36",nR="_slogan_th6z3_57",rR="_menus_th6z3_61",aR="_footerLink_th6z3_79",sR="_appHeader_th6z3_93",iR="_headerContent_th6z3_104",oR="_userMenu_th6z3_108",lR="_appFooter_th6z3_116",cR="_appContent_th6z3_121",dR="_pageContainer_th6z3_121",uR="_pageHeader_th6z3_121",fR="_title_th6z3_127",hR="_icon_th6z3_130",gR="_breadcrumb_th6z3_133",mR="_pageContent_th6z3_137",pR="_backTop_th6z3_140",xR="_pageHeaderAdvert_th6z3_144",yR="_adCard_th6z3_148",pe={appLayout:WT,appSider:GT,siderContent:JT,logo:ZT,userInfo:QT,collapsed:XT,avatar:eR,name:tR,slogan:nR,menus:rR,footerLink:aR,appHeader:sR,headerContent:iR,userMenu:oR,appFooter:lR,appContent:cR,pageContainer:dR,pageHeader:uR,title:fR,icon:hR,breadcrumb:gR,pageContent:mR,backTop:pR,pageHeaderAdvert:xR,adCard:yR},Zh=e=>e.filter(t=>{var n;return!((n=t.handle)!=null&&n.hiddenInMenu)}).map(t=>{var n,r,a;return{key:t.path,icon:(n=t.handle)==null?void 0:n.icon,children:t!=null&&t.children?Zh(t.children):null,label:(r=t.handle)!=null&&r.i18nKey?s.jsx(jr,{i18nKey:t.handle.i18nKey}):(a=t.handle)==null?void 0:a.name}}),vR=({isSiderCollapsed:e})=>{const t=ln(),n=In(),{language:r}=wr(),a=ai(),i=b.useMemo(()=>Zh(Jh),[r]);return s.jsxs("div",{className:pe.siderContent,children:[s.jsx(Xt,{to:"/",className:pe.logo,children:s.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:ol(e?"/images/logo.mini.svg":"/images/logo.svg")})}),s.jsx(dt,{spinning:a.loading,size:"small",children:s.jsxs(le,{vertical:!0,justify:"center",align:"center",className:oa(pe.userInfo,e&&pe.collapsed),children:[s.jsx("img",{draggable:!1,className:pe.avatar,src:a.data.avatar,alt:a.data.name}),s.jsx(F.Title,{level:5,className:pe.name,title:a.data.name,children:a.data.name||"-"}),s.jsx(F.Text,{type:"secondary",ellipsis:!0,className:pe.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),s.jsx(nm,{mode:"inline",className:pe.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[tt[he.Article]],items:i}),s.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:Am,className:oa(pe.footerLink,e&&pe.collapsed),children:e?s.jsx(Vl,{}):s.jsxs(A,{size:"small",children:[s.jsx(Vl,{}),"source-code"]})})]})},bR=e=>{const t=ln(),n=$s(),r=wr(),a=ai(),{i18n:i}=Ye(),o=()=>{t(tt[he.Setting])},c=()=>{Ce.confirm({title:i.t("logout.confirmation"),centered:!0,onOk(){Zs(),t(tt[he.Hello])}})};return s.jsxs(le,{justify:"space-between",className:pe.headerContent,children:[s.jsxs(le,{align:"center",gap:"middle",children:[s.jsx(N,{type:"text",className:pe.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?s.jsx(rm,{}):s.jsx(am,{})}),s.jsx(N,{type:"text",className:pe.item,onClick:()=>n.toggleTheme(),icon:n.isDark?s.jsx(sm,{}):s.jsx(im,{})}),s.jsx(ye,{size:"small",className:pe.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:Lm.map(l=>({value:l.code,label:l.name}))})]}),s.jsx(le,{align:"center",justify:"center",children:s.jsx(Nd,{placement:"bottomRight",menu:{items:[{key:"profile",icon:s.jsx(Jd,{}),label:i.t("page.setting.title"),onClick:o},{key:"divider",type:"divider"},{key:"logout",icon:s.jsx(om,{}),label:i.t("logout.title"),danger:!0,onClick:c}]},children:s.jsxs("div",{className:pe.userMenu,children:[s.jsx("span",{children:a.data.name}),s.jsx(Eo,{shape:"square",size:"small",icon:s.jsx(qn,{}),className:pe.avatar,src:a.data.avatar})]})})})]})},wR=()=>(Ee(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),s.jsx("div",{className:pe.pageHeaderAdvert,children:s.jsx(xe,{classNames:{body:pe.adCard},size:"small",bordered:!1,children:s.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),jR=e=>{var i,o,c;const{i18n:t}=Ye(),n=In(),[,...r]=n.pathname.split("/"),a=Qh.find(l=>Yi(l.path,n.pathname));return s.jsxs("div",{className:pe.pageContainer,children:[s.jsxs(le,{align:"center",justify:"space-between",className:pe.pageHeader,children:[s.jsxs(F.Title,{className:pe.title,level:4,children:[s.jsx("span",{className:pe.icon,children:(i=a==null?void 0:a.handle)==null?void 0:i.icon}),(o=a==null?void 0:a.handle)!=null&&o.i18nKey?t.t(a.handle.i18nKey):(c=a==null?void 0:a.handle)==null?void 0:c.name]}),s.jsx(lm,{className:pe.breadcrumb,items:r.map(l=>({title:l}))})]}),Um&&s.jsx(wR,{}),s.jsx("div",{className:pe.pageContent,children:e==null?void 0:e.children}),s.jsx(cm.BackTop,{className:pe.backTop,shape:"square",type:"primary",icon:s.jsx(dm,{}),onClick:()=>ft(document.body)})]})},_R="xl",SR=$i.getDesignToken().screenXL,CR=window.innerWidth>=SR,ER=e=>{const t=ai(),[n,r]=b.useState(!CR),a=()=>r(!n);return Ee(()=>{t.refresh()}),s.jsxs(nr,{id:"app-layout",className:pe.appLayout,children:[s.jsx(nr.Sider,{className:pe.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:_R,onBreakpoint:i=>r(i),children:s.jsx(vR,{isSiderCollapsed:n})}),s.jsxs(nr,{children:[s.jsx(nr.Header,{className:pe.appHeader,children:s.jsx(bR,{isSiderCollapsed:n,onToggleSider:a})}),s.jsx(nr.Content,{className:pe.appContent,children:s.jsx(jR,{children:e==null?void 0:e.children})}),s.jsx(nr.Footer,{className:pe.appFooter,children:s.jsxs(A,{size:"small",children:[s.jsx(um,{}),"Powered by",s.jsx(F.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",s.jsx(F.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},TR="_helloPage_1nnw2_1",RR="_icon_1nnw2_9",IR="_input_1nnw2_19",Zr={helloPage:TR,icon:RR,input:IR},kR=()=>{const e=ln(),[t,n]=b.useState(""),[r,a]=b.useState(!1),[i,o]=b.useState(!1),c=()=>a(!0),l=()=>a(!1),d=async p=>{try{o(!0);const m=await xw(p);js.setToken(m.access_token,m.expires_in),e(tt[he.Dashboard])}catch(m){return console.warn("Login failed！",m),Promise.reject(m)}finally{o(!1)}},f=p=>{p.key==="Escape"&&l(),p.key==="Enter"&&t&&d(t)},h=s.jsx("div",{className:Zr.icon,onClick:c,onTouchEnd:c,children:"🔐"}),u=s.jsx(se.Password,{className:Zr.input,id:"password",size:"large",autoFocus:!0,disabled:i,value:t,visibilityToggle:!1,onBlur:l,onKeyDownCapture:f,onInput:p=>n(p.target.value)});return s.jsx("div",{className:oa(Zr.helloPage,r?Zr.inputing:Zr.normal),children:s.jsx(dt,{spinning:i,indicator:s.jsx(zd,{}),children:r?u:h})})},LR="_notFoundPage_u75hf_1",PR={notFoundPage:LR},AR=()=>s.jsx(le,{justify:"center",align:"center",className:PR.notFoundPage,children:s.jsx(Ro,{status:"warning",title:"404 NOT FOUND",extra:s.jsx(Xt,{to:"/",children:s.jsx(N,{type:"link",children:s.jsx(jr,{i18nKey:"page.404.link"})})})})}),po=[{id:he.Hello,path:"/hello",element:s.jsx(kR,{})},{path:"/",children:Jh,element:s.jsx(Ew,{children:s.jsx(ER,{children:s.jsx(cv,{})})})},{path:"*",element:s.jsx(AR,{})}],Qh=[],tt={},OR=new Map,Xh=e=>{e.forEach(t=>{var n;t.id&&(Qh.push(t),tt[t.id]=t.path,OR.set(t.id,t)),(n=t.children)!=null&&n.length&&Xh(t.children)})};Xh(po);const kl={articleDetail:e=>`/article/edit/${e}`},Ia=Me.create({baseURL:Mm,adapter:window.__axiosAdapter||void 0});Ia.interceptors.request.use(e=>(js.isTokenValid()?(e.headers=e.headers||{},e.headers[Om]=`Bearer ${js.getToken()}`):e.url!==Js.LOGIN&&Bt.error({message:Dn.t("nodepress.request.invalid_token.title"),description:Dn.t("nodepress.request.invalid_token.description"),duration:2}),e));Ia.interceptors.response.use(e=>{var t;return(t=e.headers["content-type"])!=null&&t.includes("json")?e.data.status==="success"?(Bt.success({message:Dn.t("nodepress.response.success"),description:e.data.message,duration:2}),Promise.resolve(e.data)):(Bt.error({message:e.data.message,description:e.data.error,duration:3}),Promise.reject(e)):(Bt.success({message:Dn.t("nodepress.response.success"),description:e.statusText,duration:2}),e)},e=>{var i,o,c,l,d,f,h,u;const t=(i=e==null?void 0:e.toJSON)==null?void 0:i.call(e),n=((c=(o=e.response)==null?void 0:o.data)==null?void 0:c.message)||"Error",r=((d=(l=e.response)==null?void 0:l.data)==null?void 0:d.error)||((f=e.response)==null?void 0:f.statusText)||(t==null?void 0:t.message)||"",a={...t,config:e.config,request:e.request,response:e.response,code:e.code||((h=e.response)==null?void 0:h.status)||400,message:`${n}: ${r}`};return console.debug("axios error:",a),Bt.error({message:n,description:r,duration:3}),((u=e.response)==null?void 0:u.status)===401&&(js.removeToken(),window.location.href=tt[he.Hello]),Promise.reject(a)});const gn=e=>(...t)=>Ia[e](...t),V={$:Ia,request:gn("request"),head:gn("head"),get:gn("get"),post:gn("post"),put:gn("put"),patch:gn("patch"),delete:gn("delete"),options:gn("options")},eg="/auth/admin";function tg(){return V.get(eg).then(e=>e.result)}function DR(e){const t={...e,password:e.password?Qi.encode(e.password):"",new_password:e.new_password?Qi.encode(e.new_password):""};return V.put(eg,t).then(n=>n.result)}const NR=Object.freeze({name:"Admin",slogan:"NodePress",avatar:ol("/images/nodepress.png")}),ng=vr.createContext({}),ai=()=>b.useContext(ng),$R=e=>{const[t,n]=b.useState({...NR}),[r,a]=b.useState(!1),i=async()=>{try{a(!0),n(await tg())}finally{a(!1)}};return s.jsx(ng.Provider,{value:{data:t,loading:r,refresh:i},children:e.children})};function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var FR=function(){};function rg(e,t){return Math.random()*(t-e+1)+e}function Ad(e,t){return Math.floor(rg(e,t))}var MR=b.forwardRef(function(e,t){var n=e.progress,r=e.height,a=r===void 0?2:r,i=e.className,o=i===void 0?"":i,c=e.color,l=c===void 0?"red":c,d=e.background,f=d===void 0?"transparent":d,h=e.onLoaderFinished,u=e.transitionTime,p=u===void 0?300:u,m=e.loaderSpeed,x=m===void 0?500:m,g=e.waitingTime,S=g===void 0?1e3:g,C=e.shadow,w=C===void 0||C,j=e.containerStyle,E=j===void 0?{}:j,T=e.style,L=T===void 0?{}:T,y=e.shadowStyle,I=y===void 0?{}:y,D=e.containerClassName,$=D===void 0?"":D,z=b.useRef(!1),Y=b.useState(0),H=Y[0],ie=Y[1],ue=b.useRef({active:!1,refreshRate:1e3}),fe=b.useState(!1),ve=fe[0],ce=fe[1],We=b.useState({active:!1,value:20}),rt=We[0],at=We[1],Qe={position:"fixed",top:0,left:0,height:a,background:f,zIndex:99999999999,width:"100%"},kt={boxShadow:"0 0 10px "+l+", 0 0 10px "+l,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+x+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},mt=b.useState({height:"100%",background:l,transition:"all "+x+"ms ease",width:"0%"}),He=mt[0],Xe=mt[1],pt=b.useState(kt),Gt=pt[0],Ut=pt[1];b.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]),b.useImperativeHandle(t,function(){return{continuousStart:function(Pe,Oe){if(Oe===void 0&&(Oe=1e3),!rt.active)if(ve)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Tt=Pe||Ad(10,20);ue.current={active:!0,refreshRate:Oe},ie(Tt),je(Tt)}},staticStart:function(Pe){if(!ue.current.active)if(ve)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Oe=Pe||Ad(30,50);at({active:!0,value:Oe}),ie(Oe),je(Oe)}},complete:function(){ve?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(ie(100),je(100))}}}),b.useEffect(function(){Xe(bt({},He,{background:l})),Ut(bt({},Gt,{boxShadow:"0 0 10px "+l+", 0 0 5px "+l}))},[l]),b.useEffect(function(){if(t){if(t&&n!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);je(H),ce(!1)}else n&&je(n),ce(!0)},[n]);var Zn,Et,cn,je=function Pe(Oe){Oe>=100?(Xe(bt({},He,{width:"100%"})),w&&Ut(bt({},Gt,{left:Oe-10+"%"})),setTimeout(function(){z.current&&(Xe(bt({},He,{opacity:0,width:"100%",transition:"all "+p+"ms ease-out",color:l})),setTimeout(function(){z.current&&(ue.current.active&&(ue.current=bt({},ue.current,{active:!1}),ie(0),Pe(0)),rt.active&&(at(bt({},rt,{active:!1})),ie(0),Pe(0)),h&&h(),ie(0),Pe(0))},p))},S)):(Xe(function(Tt){return bt({},Tt,{width:Oe+"%",opacity:1,transition:Oe>0?"all "+x+"ms ease":""})}),w&&Ut(bt({},Gt,{left:Oe-5.5+"%",transition:Oe>0?"all "+x+"ms ease":""})))};return Zn=function(){var Pe=rg(Math.min(10,(100-H)/5),Math.min(20,(100-H)/3));H+Pe<95&&(ie(H+Pe),je(H+Pe))},Et=ue.current.active?ue.current.refreshRate:null,cn=b.useRef(FR),b.useEffect(function(){cn.current=Zn}),b.useEffect(function(){},[void 0]),b.useEffect(function(){if(Et!==null&&Et!==!1){var Pe=setInterval(function(){return cn.current()},Et);return function(){return clearInterval(Pe)}}},[Et]),b.createElement("div",{className:$,style:bt({},Qe,E)},b.createElement("div",{className:o,style:bt({},He,L)},w?b.createElement("div",{style:bt({},Gt,I)}):null))});const UR=e=>{const{axios:t,...n}=e,r=b.useRef(null);return Ee(()=>{t.interceptors.request.use(a=>{var i;return(i=r.current)==null||i.continuousStart(),a}),t.interceptors.response.use(a=>{var i;return(i=r.current)==null||i.complete(),a},a=>{var i;return(i=r.current)==null||i.complete(),Promise.reject(a)})}),s.jsx(MR,{...n,ref:r})},zR=zm?xv(po):pv(po),BR=()=>{const{theme:e}=$s(),{language:t}=wr();return Ee(()=>{console.info("App is running.",Nm)}),s.jsx(Av,{children:s.jsx(fm,{className:"app-container",children:s.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[s.jsx(UR,{axios:Ia,color:Yn,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),s.jsx($R,{children:s.jsx(Cv,{router:zR})})]})})})};et.extend(km);const ag=ax({fallbackLanguage:ru}),sg=ag.resolvedLanguage??ru,ig=window.matchMedia("(prefers-color-scheme: dark)").matches?Ui.Dark:Ui.Light,HR=e=>ag.changeLanguage(e).then(()=>{et.locale(ps[e].dayjs)});console.info("App booting up...",{INIT_THEME:ig,INIT_LANGUAGE:sg});Mi.createRoot(document.getElementById("root")).render(s.jsx(tu,{initLanguage:sg,onChange:HR,children:s.jsx(su,{initTheme:ig,children:s.jsx(BR,{})})}));export{jr as T,Cs as U,t_ as a,$s as b,YR as c,LT as d,s as j,WR as s,gh as t,Ye as u};
