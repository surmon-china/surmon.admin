const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-ev6krssS.js","assets/antd-Dqfz5m1L.js","assets/codemirror-BOprhd-K.js","assets/echarts-ogu8SYwF.js","assets/Editor-UqEUH0WJ.css"])))=>i.map(i=>d[i]);
import{r as cy,a as uy,g as At,R as Dr,b,c as dm,d as dy,e as hy,f as fy,t as zl,C as ql,F as me,S as P,h as at,i as my,T as B,s as zt,j as Je,k as qt,l as $e,m as Sn,n as rr,D as oe,E as gy,L as nn,o as Ys,p as py,B as z,q as xy,u as yy,v as vy,w as Ju,x as by,y as wy,z as _y,A as cs,G as We,H as St,I as us,J as He,K as Tn,M as Tr,N as ve,O as Rc,P as Ec,Q as za,U as jy,V as Tc,W as hm,X as Qe,Y as Ri,Z as fm,_ as Sy,$ as Ic,a0 as Cy,a1 as mm,a2 as gm,a3 as Ry,a4 as Ey,a5 as Ty,a6 as be,a7 as kc,a8 as Lc,a9 as pm,aa as he,ab as an,ac as xm,ad as Vt,ae as ym,af as vm,ag as qa,ah as Se,ai as ui,aj as Pc,ak as bm,al as kn,am as Iy,an as O,ao as Cn,ap as Ac,aq as Ws,ar as ky,as as Ly,at as wm,au as Py,av as _m,aw as mn,ax as ds,ay as jm,az as Oc,aA as hs,aB as Ay,aC as Hl,aD as ar,aE as Nr,aF as fs,aG as Ir,aH as Dc,aI as Oy,aJ as Dy,aK as Ny,aL as Yn,aM as $y,aN as ms,aO as Sm,aP as Cm,aQ as Fy,aR as Zu,aS as My,aT as Uy,aU as zy,aV as Rm,aW as Nc,aX as Xu,aY as Em,aZ as $c,a_ as Tm,a$ as gs,b0 as qy,b1 as Hy,b2 as By,b3 as Vy,b4 as Ky,b5 as Qu,b6 as Yy,b7 as Im,b8 as Wy,b9 as ed,ba as Gy,bb as Jy,bc as Zy,bd as Xy,be as Qy,bf as ev,bg as tv,bh as nv,bi as hr,bj as rv,bk as av}from"./antd-Dqfz5m1L.js";import{u as iv,g as sv,i as ov,a as lv,b as cv,c as uv,d as dv,e as hv,f as fv}from"./echarts-ogu8SYwF.js";import{_ as mv}from"./codemirror-BOprhd-K.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Gs={exports:{}},Xr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function gv(){if(td)return Xr;td=1;var e=cy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},f=null,p=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:f,ref:p,props:h,_owner:a.current}}return Xr.Fragment=n,Xr.jsx=o,Xr.jsxs=o,Xr}var nd;function pv(){return nd||(nd=1,Gs.exports=gv()),Gs.exports}var s=pv(),di={},rd;function xv(){if(rd)return di;rd=1;var e=uy();return di.createRoot=e.createRoot,di.hydrateRoot=e.hydrateRoot,di}var yv=xv();const vv=At(yv);var Ei={exports:{}},bv=Ei.exports,ad;function wv(){return ad||(ad=1,function(e,t){(function(n,r){e.exports=r()})(bv,function(){var n,r,a=1e3,i=6e4,o=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,d=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:u,months:d,days:l,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},p=function(v){return v instanceof S},m=function(v,L,E){return new S(v,E,L.$l)},y=function(v){return r.p(v)+"s"},g=function(v){return v<0},x=function(v){return g(v)?Math.ceil(v):Math.floor(v)},j=function(v){return Math.abs(v)},w=function(v,L){return v?g(v)?{negative:!0,format:""+j(v)+L}:{negative:!1,format:""+v+L}:{negative:!1,format:""}},S=function(){function v(E,T,F){var K=this;if(this.$d={},this.$l=F,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),T)return m(E*f[y(T)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(H){K.$d[y(H)]=E[H]}),this.calMilliseconds(),this;if(typeof E=="string"){var Y=E.match(h);if(Y){var q=Y.slice(2).map(function(H){return H!=null?Number(H):0});return this.$d.years=q[0],this.$d.months=q[1],this.$d.weeks=q[2],this.$d.days=q[3],this.$d.hours=q[4],this.$d.minutes=q[5],this.$d.seconds=q[6],this.calMilliseconds(),this}}return this}var L=v.prototype;return L.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(T,F){return T+(E.$d[F]||0)*f[F]},0)},L.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=x(E/u),E%=u,this.$d.months=x(E/d),E%=d,this.$d.days=x(E/l),E%=l,this.$d.hours=x(E/o),E%=o,this.$d.minutes=x(E/i),E%=i,this.$d.seconds=x(E/a),E%=a,this.$d.milliseconds=E},L.toISOString=function(){var E=w(this.$d.years,"Y"),T=w(this.$d.months,"M"),F=+this.$d.days||0;this.$d.weeks&&(F+=7*this.$d.weeks);var K=w(F,"D"),Y=w(this.$d.hours,"H"),q=w(this.$d.minutes,"M"),H=this.$d.seconds||0;this.$d.milliseconds&&(H+=this.$d.milliseconds/1e3,H=Math.round(1e3*H)/1e3);var J=w(H,"S"),te=E.negative||T.negative||K.negative||Y.negative||q.negative||J.negative,re=Y.format||q.format||J.format?"T":"",we=(te?"-":"")+"P"+E.format+T.format+K.format+re+Y.format+q.format+J.format;return we==="P"||we==="-P"?"P0D":we},L.toJSON=function(){return this.toISOString()},L.format=function(E){var T=E||"YYYY-MM-DDTHH:mm:ss",F={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return T.replace(c,function(K,Y){return Y||String(F[K])})},L.as=function(E){return this.$ms/f[y(E)]},L.get=function(E){var T=this.$ms,F=y(E);return F==="milliseconds"?T%=1e3:T=F==="weeks"?x(T/f[F]):this.$d[F],T||0},L.add=function(E,T,F){var K;return K=T?E*f[y(T)]:p(E)?E.$ms:m(E,this).$ms,m(this.$ms+K*(F?-1:1),this)},L.subtract=function(E,T){return this.add(E,T,!0)},L.locale=function(E){var T=this.clone();return T.$l=E,T},L.clone=function(){return m(this.$ms,this)},L.humanize=function(E){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},L.valueOf=function(){return this.asMilliseconds()},L.milliseconds=function(){return this.get("milliseconds")},L.asMilliseconds=function(){return this.as("milliseconds")},L.seconds=function(){return this.get("seconds")},L.asSeconds=function(){return this.as("seconds")},L.minutes=function(){return this.get("minutes")},L.asMinutes=function(){return this.as("minutes")},L.hours=function(){return this.get("hours")},L.asHours=function(){return this.as("hours")},L.days=function(){return this.get("days")},L.asDays=function(){return this.as("days")},L.weeks=function(){return this.get("weeks")},L.asWeeks=function(){return this.as("weeks")},L.months=function(){return this.get("months")},L.asMonths=function(){return this.as("months")},L.years=function(){return this.get("years")},L.asYears=function(){return this.as("years")},v}(),C=function(v,L,E){return v.add(L.years()*E,"y").add(L.months()*E,"M").add(L.days()*E,"d").add(L.hours()*E,"h").add(L.minutes()*E,"m").add(L.seconds()*E,"s").add(L.milliseconds()*E,"ms")};return function(v,L,E){n=E,r=E().$utils(),E.duration=function(K,Y){var q=E.locale();return m(K,{$l:q},Y)},E.isDuration=p;var T=L.prototype.add,F=L.prototype.subtract;L.prototype.add=function(K,Y){return p(K)?C(this,K,1):T.bind(this)(K,Y)},L.prototype.subtract=function(K,Y){return p(K)?C(this,K,-1):F.bind(this)(K,Y)}}})}(Ei)),Ei.exports}var _v=wv();const jv=At(_v);var Sa=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(Sa||{});const Sv=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],km=Dr.createContext({}),$r=()=>b.useContext(km),Lm=e=>{const[t,n]=b.useState(e.initLanguage),r=a=>{var o;const i=(o=e.onChange)==null?void 0:o.call(e,a);i instanceof Promise?i.then(()=>n(a)):n(a)};return s.jsx(km.Provider,{value:{language:t,changeLanguage:r},children:e.children})},Cv={BASE_URL:"/surmon.admin/",DEV:!1,MODE:"demo",PROD:!0,SSR:!1,VITE_API_URL:"/",VITE_ENABLE_AD:"true",VITE_ENABLE_HASH_ROUTER:"true"},Ha="https://surmon.me",Rv="https://github.com/surmon-china/surmon.admin",Ev="3.4.3",Tv="Authorization",Iv="middle",Pm="large",qe=24,ir="#0088f5",Am=Sa.English,kv=Cv,Om="demo",Lv=Om==="development",Js="/surmon.admin/",Pv="/",Av=!0,Ov=!0;var Bl=(e=>(e.Light="light",e.Dark="dark",e))(Bl||{});const Dv=e=>e==="dark",Nv=e=>e==="light",Dm=Dr.createContext({}),ps=()=>b.useContext(Dm),Nm=e=>{const[t,n]=b.useState(e.initTheme),r=b.useMemo(()=>Dv(t),[t]),a=b.useMemo(()=>Nv(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return s.jsx(Dm.Provider,{value:o,children:e.children})},ie=e=>typeof e=="string",Qr=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},id=e=>e==null?"":""+e,$v=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Fv=/###/g,sd=e=>e&&e.indexOf("###")>-1?e.replace(Fv,"."):e,od=e=>!e||ie(e),Ca=(e,t,n)=>{const r=ie(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(od(e))return{};const i=sd(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return od(e)?{}:{obj:e,k:sd(r[a])}},ld=(e,t,n)=>{const{obj:r,k:a}=Ca(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=Ca(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Ca(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},Mv=(e,t,n,r)=>{const{obj:a,k:i}=Ca(e,t,Object);a[i]=a[i]||[],a[i].push(n)},Ki=(e,t)=>{const{obj:n,k:r}=Ca(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Uv=(e,t,n)=>{const r=Ki(e,n);return r!==void 0?r:Ki(t,n)},$m=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?ie(e[r])||e[r]instanceof String||ie(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):$m(e[r],t[r],n):e[r]=t[r]);return e},fr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var zv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qv=e=>ie(e)?e.replace(/[&<>"'\/]/g,t=>zv[t]):e;class Hv{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Bv=[" ",",","?","!",";"],Vv=new Hv(20),Kv=(e,t,n)=>{t=t||"",n=n||"";const r=Bv.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Vv.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},Vl=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}a=o}return a},ka=e=>e==null?void 0:e.replace("_","-"),Yv={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class Yi{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Yv,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(ie(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Yi(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Yi(this.logger,t)}}var Ht=new Yi;class xs{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...n])})}}class cd extends xs{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,a={}){var u,d;const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):ie(r)&&i?l.push(...r.split(i)):l.push(r)));const c=Ki(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!ie(r)?c:Vl((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],r,i)}addResource(t,n,r,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),ld(this.data,l,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r,a={silent:!1}){for(const i in r)(ie(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=r,r=n,n=l[1]),this.addNamespaces(n);let c=Ki(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?$m(c,r,i):c={...c,...r},ld(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Fm={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,n,r,a))??t}),t}};const ud={},dd=e=>!ie(e)&&typeof e!="boolean"&&typeof e!="number";class Wi extends xs{constructor(t,n={}){super(),$v(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ht.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const a=this.resolve(t,r);return(a==null?void 0:a.res)!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Kv(t,r,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ie(i)?[i]:i};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return{key:t,namespaces:ie(i)?[i]:i}}translate(t,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=a.lng||this.language,f=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return f?i?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const p=this.resolve(t,a);let m=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||l,g=(p==null?void 0:p.exactUsedKey)||l,x=["[object Number]","[object Function]","[object RegExp]"],j=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=a.count!==void 0&&!ie(a.count),C=Wi.hasDefaultValue(a),v=S?this.pluralResolver.getSuffix(h,a.count,a):"",L=a.ordinal&&S?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",E=S&&!a.ordinal&&a.count===0,T=E&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${v}`]||a[`defaultValue${L}`]||a.defaultValue;let F=m;w&&!m&&C&&(F=T);const K=dd(F),Y=Object.prototype.toString.apply(F);if(w&&F&&K&&x.indexOf(Y)<0&&!(ie(j)&&Array.isArray(F))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,F,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(p.res=q,p.usedParams=this.getUsedParamsDetails(a),p):q}if(o){const q=Array.isArray(F),H=q?[]:{},J=q?g:y;for(const te in F)if(Object.prototype.hasOwnProperty.call(F,te)){const re=`${J}${o}${te}`;C&&!m?H[te]=this.translate(re,{...a,defaultValue:dd(T)?T[te]:void 0,joinArrays:!1,ns:c}):H[te]=this.translate(re,{...a,joinArrays:!1,ns:c}),H[te]===re&&(H[te]=F[te])}m=H}}else if(w&&ie(j)&&Array.isArray(m))m=m.join(j),m&&(m=this.extendTranslation(m,t,a,r));else{let q=!1,H=!1;!this.isValidLookup(m)&&C&&(q=!0,m=T),this.isValidLookup(m)||(H=!0,m=l);const te=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:m,re=C&&T!==m&&this.options.updateMissing;if(H||q||re){if(this.logger.log(re?"updateKey":"missingKey",h,u,l,re?T:m),o){const Ie=this.resolve(l,{...a,keySeparator:!1});Ie&&Ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[];const Ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ae&&Ae[0])for(let Ie=0;Ie<Ae.length;Ie++)we.push(Ae[Ie]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(a.lng||this.language):we.push(a.lng||this.language);const Ke=(Ie,Me,Le)=>{var Pn;const $t=C&&Le!==m?Le:te;this.options.missingKeyHandler?this.options.missingKeyHandler(Ie,u,Me,$t,re,a):(Pn=this.backendConnector)!=null&&Pn.saveMissing&&this.backendConnector.saveMissing(Ie,u,Me,$t,re,a),this.emit("missingKey",Ie,u,Me,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?we.forEach(Ie=>{const Me=this.pluralResolver.getSuffixes(Ie,a);E&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Me.indexOf(`${this.options.pluralSeparator}zero`)<0&&Me.push(`${this.options.pluralSeparator}zero`),Me.forEach(Le=>{Ke([Ie],l+Le,a[`defaultValue${Le}`]||T)})}):Ke(we,l,T))}m=this.extendTranslation(m,t,a,p,r),H&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${u}${d}${l}`),(H||q)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,q?m:void 0,a))}return i?(p.res=m,p.usedParams=this.getUsedParamsDetails(a),p):m}extendTranslation(t,n,r,a,i){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=ie(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let f=r.replace&&!ie(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||a.usedLng,r),d){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;h<m&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(i==null?void 0:i[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=ie(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(t=Fm.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,a,i,o,l;return ie(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;a=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!ie(n.count),p=f&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(ie(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(g=>{var x,j;this.isValidLookup(r)||(l=g,!ud[`${y[0]}-${g}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((j=this.utils)!=null&&j.hasLoadedNamespace(l))&&(ud[`${y[0]}-${g}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var v;if(this.isValidLookup(r))return;o=w;const S=[d];if((v=this.i18nFormat)!=null&&v.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,w,g,n);else{let L;f&&(L=this.pluralResolver.getSuffix(w,n.count,n));const E=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(S.push(d+L),n.ordinal&&L.indexOf(T)===0&&S.push(d+L.replace(T,this.options.pluralSeparator)),p&&S.push(d+E)),m){const F=`${d}${this.options.contextSeparator}${n.context}`;S.push(F),f&&(S.push(F+L),n.ordinal&&L.indexOf(T)===0&&S.push(F+L.replace(T,this.options.pluralSeparator)),p&&S.push(F+E))}}let C;for(;C=S.pop();)this.isValidLookup(r)||(i=C,r=this.getResource(w,g,C,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,a={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!ie(t.replace);let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class hd{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ht.create("languageUtils")}getScriptPartFromCode(t){if(t=ka(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ka(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ie(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ie(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ie(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):ie(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const fd={zero:0,one:1,two:2,few:3,many:4,other:5},md={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Wv{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Ht.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=ka(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),md;if(!t.match(/-|_/))return md;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,i)=>fd[a]-fd[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,r={}){const a=this.getRule(t,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const gd=(e,t,n,r=".",a=!0)=>{let i=Uv(e,t,n);return!i&&a&&ie(n)&&(i=Vl(e,n,r),i===void 0&&(i=Vl(t,n,r))),i},Zs=e=>e.replace(/\$/g,"$$$$");class Gv{constructor(t={}){var n;this.logger=Ht.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:g,maxReplaces:x,alwaysFormat:j}=t.interpolation;this.escape=n!==void 0?n:qv,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?fr(i):o||"{{",this.suffix=l?fr(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?fr(f):p||fr("$t("),this.nestingSuffix=m?fr(m):y||fr(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=x||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){var p;let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const j=gd(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...a,...n,interpolationkey:m}):j}const y=m.split(this.formatSeparator),g=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(gd(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...a,...n,interpolationkey:g})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=a==null?void 0:a.interpolation)==null?void 0:p.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Zs(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Zs(this.escape(m)):Zs(m)}].forEach(m=>{for(l=0;i=m.regex.exec(t);){const y=i[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const x=d(t,i,a);o=ie(x)?x:""}else if(a&&Object.prototype.hasOwnProperty.call(a,y))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),o="";else!ie(o)&&!this.useRawValueToEscape&&(o=id(o));const g=m.safeValue(o);if(t=t.replace(i[0],g),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let a,i,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,o);const p=f.match(/'/g),m=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!ie(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const d=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=d.shift(),c=d,u=!0}if(i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!ie(i))return i;ie(i)||(i=id(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const Jv=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},pd=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=t[o];return l||(l=e(ka(r),a),t[o]=l),l(n)}},Zv=e=>(t,n,r)=>e(ka(n),r)(t);class Xv{constructor(t={}){this.logger=Ht.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?pd:Zv;this.formats={number:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return l=>o.format(l)}),currency:r((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return l=>o.format(l)}),datetime:r((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return l=>o.format(l)}),relativetime:r((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return l=>o.format(l,i.range||"day")}),list:r((a,i)=>{const o=new Intl.ListFormat(a,{...i});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=pd(n)}format(t,n,r,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=Jv(c);if(this.formats[u]){let f=l;try{const p=((h=a==null?void 0:a.formatParams)==null?void 0:h[a.interpolationkey])||{},m=p.locale||p.lng||a.locale||a.lng||r;f=this.formats[u](l,m,{...d,...a,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Qv=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class eb extends xs{constructor(t,n,r,a={}){var i,o;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Ht.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Mv(c.loaded,[i],o),Qv(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();ie(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ie(n)&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,a,i,o={},l=()=>{}){var c,u,d,h,f;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const p={...o,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(t,n,r,a,p):y=m(t,n,r,a),y&&typeof y.then=="function"?y.then(g=>l(null,g)).catch(l):l(null,y)}catch(y){l(y)}else m(t,n,r,a,l,p)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const xd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ie(e[1])&&(t.defaultValue=e[1]),ie(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yd=e=>{var t,n;return ie(e.ns)&&(e.ns=[e.ns]),ie(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ie(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},hi=()=>{},tb=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class La extends xs{constructor(t={},n){if(super(),this.options=yd(t),this.services={},this.logger=Ht,this.modules={external:[]},tb(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ie(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=xd();this.options={...r,...this.options,...yd(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ht.init(a(this.modules.logger),this.options):Ht.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Xv;const d=new hd(this.options);this.store=new cd(this.options.resources,this.options);const h=this.services;h.logger=Ht,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new Wv(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=a(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Gv(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new eb(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Wi(this.services,this.options),this.translator.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=hi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Qr(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=hi){var i,o;let r=n;const a=ie(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const a=Qr();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=hi),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Fm.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Qr();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{var d,h;!t&&!l&&this.services.languageDetector&&(l=[]);const c=ie(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ie(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,f=>{i(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const a=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(i)?d=i.map(h=>`${c.keyPrefix}${u}${h}`):d=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i,this.t(d,c)};return ie(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Qr();return this.options.ns?(ie(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Qr();ie(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){var a,i;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new hd(xd());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new La(t,n)}cloneInstance(t={},n=hi){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new La(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});i.store=new cd(l,a),i.services.resourceStore=i.store}return i.translator=new Wi(i.services,a),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Be=La.createInstance();Be.createInstance=La.createInstance;Be.createInstance;Be.dir;Be.init;Be.loadResources;Be.reloadResources;Be.use;Be.changeLanguage;Be.getFixedT;Be.t;Be.exists;Be.setDefaultNamespace;Be.hasLoadedNamespace;Be.loadNamespaces;Be.loadLanguages;const{slice:nb,forEach:rb}=[];function ab(e){return rb.call(nb.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function ib(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const vd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,sb=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!vd.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!vd.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},bd={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=sb(e,t,a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var ob={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return bd.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&bd.create(n,e,r,a,i)}},lb={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},cb={name:"hash",lookup(e){var a;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const o=i.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(r=l[c].substring(u+1))}}if(r)return r;if(!r&&n>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(a=l[typeof n=="number"?n:0])==null?void 0:a.replace("/",""):void 0}}}return r}};let mr=null;const wd=()=>{if(mr!==null)return mr;try{if(mr=typeof window<"u"&&window.localStorage!==null,!mr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{mr=!1}return mr};var ub={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&wd())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&wd()&&window.localStorage.setItem(n,e)}};let gr=null;const _d=()=>{if(gr!==null)return gr;try{if(gr=typeof window<"u"&&window.sessionStorage!==null,!gr)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{gr=!1}return gr};var db={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&_d())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&_d()&&window.sessionStorage.setItem(n,e)}},hb={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},fb={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},mb={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},gb={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Mm=!1;try{document.cookie,Mm=!0}catch{}const Um=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Mm||Um.splice(1,1);const pb=()=>({order:Um,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class zm{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=ab(n,this.options||{},pb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(ob),this.addDetector(lb),this.addDetector(ub),this.addDetector(db),this.addDetector(hb),this.addDetector(fb),this.addDetector(mb),this.addDetector(gb),this.addDetector(cb)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!ib(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}zm.type="languageDetector";var Xs,jd;function xb(){return jd||(jd=1,Xs={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Xs}var yb=xb();const vb=At(yb);var bb=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Sd(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(vb[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(bb),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var wb=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,_b=/^\s*$/,jb=Object.create(null);function qm(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(qm,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Sb={parse:function(e,t){t||(t={}),t.components||(t.components=jb);var n,r=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(wb,function(c,u){if(o){if(c!=="</"+n.name+">")return;o=!1}var d,h=c.charAt(1)!=="/",f=c.startsWith("<!--"),p=u+c.length,m=e.charAt(p);if(f){var y=Sd(c);return i<0?(r.push(y),r):((d=a[i]).children.push(y),r)}if(h&&(i++,(n=Sd(c)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!m||m==="<"||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),i===0&&r.push(n),(d=a[i-1])&&d.children.push(n),a[i]=n),(!h||n.voidElement)&&(i>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(i--,n=i===-1?r:a[i]),!o&&m!=="<"&&m)){d=i===-1?r:a[i].children;var g=e.indexOf("<",p),x=e.slice(p,g===-1?void 0:g);_b.test(x)&&(x=" "),(g>-1&&i+d.length>=0||x!==" ")&&d.push({type:"text",content:x})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+qm("",n)},"")}};const Ti=(e,t,n,r)=>{var i,o,l,c;const a=[n,{code:t,...r||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);_t(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Cd={},Pa=(e,t,n,r)=>{_t(n)&&Cd[n]||(_t(n)&&(Cd[n]=new Date),Ti(e,t,n,r))},Hm=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Kl=(e,t,n)=>{e.loadNamespaces(t,Hm(e,n))},Rd=(e,t,n,r)=>{if(_t(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Kl(e,n,r);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,Hm(e,r))},Cb=(e,t,n={})=>!t.languages||!t.languages.length?(Pa(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),_t=e=>typeof e=="string",Bn=e=>typeof e=="object"&&e!==null,Rb=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Eb={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Tb=e=>Eb[e],Ib=e=>e.replace(Rb,Tb);let Yl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ib};const kb=(e={})=>{Yl={...Yl,...e}},Bm=()=>Yl;let Vm;const Lb=e=>{Vm=e},Fc=()=>Vm,Qs=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},eo=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?_r(t):t},Pb=e=>Array.isArray(e)&&e.every(b.isValidElement),_r=e=>Array.isArray(e)?e:[e],Ab=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},Km=(e,t,n,r)=>{if(!e)return"";let a="";const i=_r(e),o=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((l,c)=>{if(_t(l)){a+=`${l}`;return}if(b.isValidElement(l)){const{props:u,type:d}=l,h=Object.keys(u).length,f=o.indexOf(d)>-1,p=u.children;if(!p&&f&&!h){a+=`<${d}/>`;return}if(!p&&(!f||h)||u.i18nIsDynamicList){a+=`<${c}></${c}>`;return}if(f&&h===1&&_t(p)){a+=`<${d}>${p}</${d}>`;return}const m=Km(p,t,n,r);a+=`<${c}>${m}</${c}>`;return}if(l===null){Ti(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(Bn(l)){const{format:u,...d}=l,h=Object.keys(d);if(h.length===1){const f=u?`${h[0]}, ${u}`:h[0];a+=`{{${f}}}`;return}Ti(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:l});return}Ti(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:l})}),a},Ob=(e,t,n,r,a,i)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(g=>`<${g}`).join("|")).test(t);if(!e&&!l&&!i)return[t];const c={},u=g=>{_r(g).forEach(j=>{_t(j)||(Qs(j)?u(eo(j)):Bn(j)&&!b.isValidElement(j)&&Object.assign(c,j))})};u(e);const d=Sb.parse(`<0>${t}</0>`),h={...c,...a},f=(g,x,j)=>{var C;const w=eo(g),S=m(w,x.children,j);return Pb(w)&&S.length===0||(C=g.props)!=null&&C.i18nIsDynamicList?w:S},p=(g,x,j,w,S)=>{g.dummy?(g.children=x,j.push(b.cloneElement(g,{key:w},S?void 0:x))):j.push(...b.Children.map([g],C=>{const v={...C.props};return delete v.i18nIsDynamicList,b.createElement(C.type,{...v,key:w,ref:C.props.ref??C.ref},S?null:x)}))},m=(g,x,j)=>{const w=_r(g);return _r(x).reduce((C,v,L)=>{var T,F;const E=((F=(T=v.children)==null?void 0:T[0])==null?void 0:F.content)&&n.services.interpolator.interpolate(v.children[0].content,h,n.language);if(v.type==="tag"){let K=w[parseInt(v.name,10)];j.length===1&&!K&&(K=j[0][v.name]),K||(K={});const Y=Object.keys(v.attrs).length!==0?Ab({props:v.attrs},K):K,q=b.isValidElement(Y),H=q&&Qs(v,!0)&&!v.voidElement,J=l&&Bn(Y)&&Y.dummy&&!q,te=Bn(e)&&Object.hasOwnProperty.call(e,v.name);if(_t(Y)){const re=n.services.interpolator.interpolate(Y,h,n.language);C.push(re)}else if(Qs(Y)||H){const re=f(Y,v,j);p(Y,re,C,L)}else if(J){const re=m(w,v.children,j);p(Y,re,C,L)}else if(Number.isNaN(parseFloat(v.name)))if(te){const re=f(Y,v,j);p(Y,re,C,L,v.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(v.name)>-1)if(v.voidElement)C.push(b.createElement(v.name,{key:`${v.name}-${L}`}));else{const re=m(w,v.children,j);C.push(b.createElement(v.name,{key:`${v.name}-${L}`},re))}else if(v.voidElement)C.push(`<${v.name} />`);else{const re=m(w,v.children,j);C.push(`<${v.name}>${re}</${v.name}>`)}else if(Bn(Y)&&!q){const re=v.children[0]?E:null;re&&C.push(re)}else p(Y,E,C,L,v.children.length!==1||!E)}else if(v.type==="text"){const K=r.transWrapTextNodes,Y=i?r.unescape(n.services.interpolator.interpolate(v.content,h,n.language)):n.services.interpolator.interpolate(v.content,h,n.language);K?C.push(b.createElement(K,{key:`${v.name}-${L}`},Y)):C.push(Y)}return C},[])},y=m([{dummy:!0,children:e||[]}],d,_r(e||[]));return eo(y[0])},Ym=(e,t,n)=>{const r=e.key||t,a=b.cloneElement(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;function i(){return b.createElement(b.Fragment,null,a)}return b.createElement(i,{key:r})},Db=(e,t)=>e.map((n,r)=>Ym(n,r,t)),Nb=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:Ym(e[r],r,t)})}),n},$b=(e,t,n,r)=>e?Array.isArray(e)?Db(e,t):Bn(e)?Nb(e,t):(Pa(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Fb({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:l,components:c,ns:u,i18n:d,t:h,shouldUnescape:f,...p}){var Y,q,H,J,te,re;const m=d||Fc();if(!m)return Pa(m,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const y=h||m.t.bind(m)||(we=>we),g={...Bm(),...(Y=m.options)==null?void 0:Y.react};let x=u||y.ns||((q=m.options)==null?void 0:q.defaultNS);x=_t(x)?[x]:x||["translation"];const j=Km(e,g,m,r),w=l||j||g.transEmptyNodeValue||r,{hashTransKey:S}=g,C=r||(S?S(j||w):j||w);(J=(H=m.options)==null?void 0:H.interpolation)!=null&&J.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const v=o||t!==void 0&&!((re=(te=m.options)==null?void 0:te.interpolation)!=null&&re.alwaysFormat)||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},L={...i,context:a||i.context,count:t,...o,...v,defaultValue:w,ns:x},E=C?y(C,L):w,T=$b(c,E,m,r),F=Ob(T||e,E,m,g,L,f),K=n??g.defaultTransParent;return K?b.createElement(K,p,F):F}const Mb={type:"3rdParty",init(e){kb(e.options.react),Lb(e)}},Wm=b.createContext();class Ub{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Fr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:l,components:c,ns:u,i18n:d,t:h,shouldUnescape:f,...p}){var j;const{i18n:m,defaultNS:y}=b.useContext(Wm)||{},g=d||m||Fc(),x=h||(g==null?void 0:g.t.bind(g));return Fb({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:o,defaults:l,components:c,ns:u||(x==null?void 0:x.ns)||y||((j=g==null?void 0:g.options)==null?void 0:j.defaultNS),i18n:g,t:h,shouldUnescape:f,...p})}const zb=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},Gm=(e,t,n,r)=>e.getFixedT(t,n,r),qb=(e,t,n,r)=>b.useCallback(Gm(e,t,n,r),[e,t,n,r]),Ve=(e,t={})=>{var S,C,v,L;const{i18n:n}=t,{i18n:r,defaultNS:a}=b.useContext(Wm)||{},i=n||r||Fc();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Ub),!i){Pa(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(F,K)=>_t(K)?K:Bn(K)&&_t(K.defaultValue)?K.defaultValue:Array.isArray(F)?F[F.length-1]:F,T=[E,{},!1];return T.t=E,T.i18n={},T.ready=!1,T}(S=i.options.react)!=null&&S.wait&&Pa(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Bm(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=a||((C=i.options)==null?void 0:C.defaultNS);u=_t(u)?[u]:u||["translation"],(L=(v=i.reportNamespaces).addUsedNamespaces)==null||L.call(v,u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>Cb(E,i,o)),h=qb(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),f=()=>h,p=()=>Gm(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[m,y]=b.useState(f);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const x=zb(g),j=b.useRef(!0);b.useEffect(()=>{const{bindI18n:E,bindI18nStore:T}=o;j.current=!0,!d&&!l&&(t.lng?Rd(i,t.lng,u,()=>{j.current&&y(p)}):Kl(i,u,()=>{j.current&&y(p)})),d&&x&&x!==g&&j.current&&y(p);const F=()=>{j.current&&y(p)};return E&&(i==null||i.on(E,F)),T&&(i==null||i.store.on(T,F)),()=>{j.current=!1,i&&(E==null||E.split(" ").forEach(K=>i.off(K,F))),T&&i&&T.split(" ").forEach(K=>i.store.off(K,F))}},[i,g]),b.useEffect(()=>{j.current&&d&&y(f)},[i,c,d]);const w=[m,i,d];if(w.t=m,w.i18n=i,w.ready=d,d||!d&&!l)return w;throw new Promise(E=>{t.lng?Rd(i,t.lng,u,()=>E()):Kl(i,u,()=>E())})};var Ii={exports:{}},Hb=Ii.exports,Ed;function Bb(){return Ed||(Ed=1,function(e,t){(function(n,r){e.exports=r()})(Hb,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})}(Ii)),Ii.exports}var Vb=Bb();const Kb=At(Vb);var ki={exports:{}},Yb=ki.exports,Td;function Wb(){return Td||(Td=1,function(e,t){(function(n,r){e.exports=r(dm())})(Yb,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})}(ki)),ki.exports}var Gb=Wb();const Jb=At(Gb);var Li={exports:{}},Zb=Li.exports,Id;function Xb(){return Id||(Id=1,function(e,t){(function(n,r){e.exports=r(dm())})(Zb,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})}(Li)),Li.exports}var Qb=Xb();const ew=At(Qb),tw={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile","page.setting.statics":"Statics","page.statics.list.title":"File list"},nw={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料","page.setting.statics":"文件管理","page.statics.list.title":"文件列表"},rw={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料","page.setting.statics":"媒體管理","page.statics.list.title":"媒體列表"},Gi={[Sa.English]:{i18n:tw,dayjs:Kb,antd:fy},[Sa.SimplifiedChinese]:{i18n:nw,dayjs:Jb,antd:hy},[Sa.TraditionalChinese]:{i18n:rw,dayjs:ew,antd:dy}},Wn=Be,aw=Object.keys(Gi).reduce((e,t)=>(e[t]={translation:Gi[t].i18n},e),{}),iw=e=>(Be.use(zm).use(Mb).init({debug:Lv,cleanCode:!0,resources:aw,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),Be);/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sw(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ow={},lw=()=>{},cw=Object.assign,uw=Object.prototype.hasOwnProperty,Wl=(e,t)=>uw.call(e,t),Rn=Array.isArray,Ra=e=>ys(e)==="[object Map]",dw=e=>ys(e)==="[object Set]",Gl=e=>typeof e=="function",hw=e=>typeof e=="string",Ba=e=>typeof e=="symbol",Va=e=>e!==null&&typeof e=="object",fw=Object.prototype.toString,ys=e=>fw.call(e),mw=e=>ys(e).slice(8,-1),gw=e=>ys(e)==="[object Object]",Mc=e=>hw(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Te;const to=new WeakSet;class pw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,kd(this),Xm(this);const t=Te,n=kt;Te=this,kt=!0;try{return this.fn()}finally{Qm(this),Te=t,kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qc(t);this.deps=this.depsTail=void 0,kd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jl(this)&&this.run()}get dirty(){return Jl(this)}}let Jm=0,Ea,Ta;function Zm(e,t=!1){if(e.flags|=8,t){e.next=Ta,Ta=e;return}e.next=Ea,Ea=e}function Uc(){Jm++}function zc(){if(--Jm>0)return;if(Ta){let t=Ta;for(Ta=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ea;){let t=Ea;for(Ea=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Xm(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Qm(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),qc(r),xw(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function Jl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(eg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function eg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Aa)||(e.globalVersion=Aa,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Jl(e))))return;e.flags|=2;const t=e.dep,n=Te,r=kt;Te=e,kt=!0;try{Xm(e);const a=e.fn(e._value);(t.version===0||En(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Te=n,kt=r,Qm(e),e.flags&=-3}}function qc(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)qc(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function xw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let kt=!0;const tg=[];function ng(){tg.push(kt),kt=!1}function rg(){const e=tg.pop();kt=e===void 0?!0:e}function kd(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Te;Te=void 0;try{t()}finally{Te=n}}}let Aa=0,yw=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Hc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Te||!kt||Te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Te)n=this.activeLink=new yw(Te,this),Te.deps?(n.prevDep=Te.depsTail,Te.depsTail.nextDep=n,Te.depsTail=n):Te.deps=Te.depsTail=n,ag(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Te.depsTail,n.nextDep=void 0,Te.depsTail.nextDep=n,Te.depsTail=n,Te.deps===n&&(Te.deps=r)}return n}trigger(t){this.version++,Aa++,this.notify(t)}notify(t){Uc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zc()}}}function ag(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ag(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Zl=new WeakMap,Gn=Symbol(""),Xl=Symbol(""),Oa=Symbol("");function ut(e,t,n){if(kt&&Te){let r=Zl.get(e);r||Zl.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new Hc),a.map=r,a.key=n),a.track()}}function xn(e,t,n,r,a,i){const o=Zl.get(e);if(!o){Aa++;return}const l=c=>{c&&c.trigger()};if(Uc(),t==="clear")o.forEach(l);else{const c=Rn(e),u=c&&Mc(n);if(c&&n==="length"){const d=Number(r);o.forEach((h,f)=>{(f==="length"||f===Oa||!Ba(f)&&f>=d)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Oa)),t){case"add":c?u&&l(o.get("length")):(l(o.get(Gn)),Ra(e)&&l(o.get(Xl)));break;case"delete":c||(l(o.get(Gn)),Ra(e)&&l(o.get(Xl)));break;case"set":Ra(e)&&l(o.get(Gn));break}}zc()}function pr(e){const t=Re(e);return t===e?t:(ut(t,"iterate",Oa),Lt(e)?t:t.map(rt))}function Bc(e){return ut(e=Re(e),"iterate",Oa),e}const vw={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,rt)},concat(...e){return pr(this).concat(...e.map(t=>Rn(t)?pr(t):t))},entries(){return no(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Wt(this,"every",e,t,void 0,arguments)},filter(e,t){return Wt(this,"filter",e,t,n=>n.map(rt),arguments)},find(e,t){return Wt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Wt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Wt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Wt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Wt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ro(this,"includes",e)},indexOf(...e){return ro(this,"indexOf",e)},join(e){return pr(this).join(e)},lastIndexOf(...e){return ro(this,"lastIndexOf",e)},map(e,t){return Wt(this,"map",e,t,void 0,arguments)},pop(){return ea(this,"pop")},push(...e){return ea(this,"push",e)},reduce(e,...t){return Ld(this,"reduce",e,t)},reduceRight(e,...t){return Ld(this,"reduceRight",e,t)},shift(){return ea(this,"shift")},some(e,t){return Wt(this,"some",e,t,void 0,arguments)},splice(...e){return ea(this,"splice",e)},toReversed(){return pr(this).toReversed()},toSorted(e){return pr(this).toSorted(e)},toSpliced(...e){return pr(this).toSpliced(...e)},unshift(...e){return ea(this,"unshift",e)},values(){return no(this,"values",rt)}};function no(e,t,n){const r=Bc(e),a=r[t]();return r!==e&&!Lt(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const bw=Array.prototype;function Wt(e,t,n,r,a,i){const o=Bc(e),l=o!==e&&!Lt(e),c=o[t];if(c!==bw[t]){const h=c.apply(e,i);return l?rt(h):h}let u=n;o!==e&&(l?u=function(h,f){return n.call(this,rt(h),f,e)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,e)}));const d=c.call(o,u,r);return l&&a?a(d):d}function Ld(e,t,n,r){const a=Bc(e);let i=n;return a!==e&&(Lt(e)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,e)}):i=function(o,l,c){return n.call(this,o,rt(l),c,e)}),a[t](i,...r)}function ro(e,t,n){const r=Re(e);ut(r,"iterate",Oa);const a=r[t](...n);return(a===-1||a===!1)&&Nw(n[0])?(n[0]=Re(n[0]),r[t](...n)):a}function ea(e,t,n=[]){ng(),Uc();const r=Re(e)[t].apply(e,n);return zc(),rg(),r}const ww=sw("__proto__,__v_isRef,__isVue"),ig=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ba));function _w(e){Ba(e)||(e=String(e));const t=Re(this);return ut(t,"has",e),t.hasOwnProperty(e)}class sg{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?Pw:ug:i?cg:lg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Rn(t);if(!a){let c;if(o&&(c=vw[n]))return c;if(n==="hasOwnProperty")return _w}const l=Reflect.get(t,n,en(t)?t:r);return(Ba(n)?ig.has(n):ww(n))||(a||ut(t,"get",n),i)?l:en(l)?o&&Mc(n)?l:l.value:Va(l)?a?dg(l):Kc(l):l}}class og extends sg{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const c=Xn(i);if(!Lt(r)&&!Xn(r)&&(i=Re(i),r=Re(r)),!Rn(t)&&en(i)&&!en(r))return c?!1:(i.value=r,!0)}const o=Rn(t)&&Mc(n)?Number(n)<t.length:Wl(t,n),l=Reflect.set(t,n,r,en(t)?t:a);return t===Re(a)&&(o?En(r,i)&&xn(t,"set",n,r):xn(t,"add",n,r)),l}deleteProperty(t,n){const r=Wl(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&xn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Ba(n)||!ig.has(n))&&ut(t,"has",n),r}ownKeys(t){return ut(t,"iterate",Rn(t)?"length":Gn),Reflect.ownKeys(t)}}class jw extends sg{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Sw=new og,Cw=new jw,Rw=new og(!0),Ql=e=>e,fi=e=>Reflect.getPrototypeOf(e);function Ew(e,t,n){return function(...r){const a=this.__v_raw,i=Re(a),o=Ra(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=a[e](...r),d=n?Ql:t?ec:rt;return!t&&ut(i,"iterate",c?Xl:Gn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:l?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function mi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tw(e,t){const n={get(a){const i=this.__v_raw,o=Re(i),l=Re(a);e||(En(a,l)&&ut(o,"get",a),ut(o,"get",l));const{has:c}=fi(o),u=t?Ql:e?ec:rt;if(c.call(o,a))return u(i.get(a));if(c.call(o,l))return u(i.get(l));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&ut(Re(a),"iterate",Gn),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Re(i),l=Re(a);return e||(En(a,l)&&ut(o,"has",a),ut(o,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const o=this,l=o.__v_raw,c=Re(l),u=t?Ql:e?ec:rt;return!e&&ut(c,"iterate",Gn),l.forEach((d,h)=>a.call(i,u(d),u(h),o))}};return cw(n,e?{add:mi("add"),set:mi("set"),delete:mi("delete"),clear:mi("clear")}:{add(a){!t&&!Lt(a)&&!Xn(a)&&(a=Re(a));const i=Re(this);return fi(i).has.call(i,a)||(i.add(a),xn(i,"add",a,a)),this},set(a,i){!t&&!Lt(i)&&!Xn(i)&&(i=Re(i));const o=Re(this),{has:l,get:c}=fi(o);let u=l.call(o,a);u||(a=Re(a),u=l.call(o,a));const d=c.call(o,a);return o.set(a,i),u?En(i,d)&&xn(o,"set",a,i):xn(o,"add",a,i),this},delete(a){const i=Re(this),{has:o,get:l}=fi(i);let c=o.call(i,a);c||(a=Re(a),c=o.call(i,a)),l&&l.call(i,a);const u=i.delete(a);return c&&xn(i,"delete",a,void 0),u},clear(){const a=Re(this),i=a.size!==0,o=a.clear();return i&&xn(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Ew(a,e,t)}),n}function Vc(e,t){const n=Tw(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Wl(n,a)&&a in r?n:r,a,i)}const Iw={get:Vc(!1,!1)},kw={get:Vc(!1,!0)},Lw={get:Vc(!0,!1)},lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,Pw=new WeakMap;function Aw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ow(e){return e.__v_skip||!Object.isExtensible(e)?0:Aw(mw(e))}function Kc(e){return Xn(e)?e:Yc(e,!1,Sw,Iw,lg)}function Dw(e){return Yc(e,!1,Rw,kw,cg)}function dg(e){return Yc(e,!0,Cw,Lw,ug)}function Yc(e,t,n,r,a){if(!Va(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Ow(e);if(i===0)return e;const o=a.get(e);if(o)return o;const l=new Proxy(e,i===2?r:n);return a.set(e,l),l}function Pi(e){return Xn(e)?Pi(e.__v_raw):!!(e&&e.__v_isReactive)}function Xn(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function Nw(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}const rt=e=>Va(e)?Kc(e):e,ec=e=>Va(e)?dg(e):e;function en(e){return e?e.__v_isRef===!0:!1}function hg(e){return fg(e,!1)}function $w(e){return fg(e,!0)}function fg(e,t){return en(e)?e:new Fw(e,t)}class Fw{constructor(t,n){this.dep=new Hc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:rt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Lt(t)||Xn(t);t=r?t:Re(t),En(t,n)&&(this._rawValue=t,this._value=r?t:rt(t),this.dep.trigger())}}class Mw{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Hc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Aa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return Zm(this,!0),!0}get value(){const t=this.dep.track();return eg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Uw(e,t,n=!1){let r,a;return Gl(e)?r=e:(r=e.get,a=e.set),new Mw(r,a,n)}const gi={},Ji=new WeakMap;let Un;function zw(e,t=!1,n=Un){if(n){let r=Ji.get(n);r||Ji.set(n,r=[]),r.push(e)}}function qw(e,t,n=ow){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:l,call:c}=n,u=w=>a?w:Lt(w)||a===!1||a===0?yn(w,1):yn(w);let d,h,f,p,m=!1,y=!1;if(en(e)?(h=()=>e.value,m=Lt(e)):Pi(e)?(h=()=>u(e),m=!0):Rn(e)?(y=!0,m=e.some(w=>Pi(w)||Lt(w)),h=()=>e.map(w=>{if(en(w))return w.value;if(Pi(w))return u(w);if(Gl(w))return c?c(w,2):w()})):Gl(e)?t?h=c?()=>c(e,2):e:h=()=>{if(f){ng();try{f()}finally{rg()}}const w=Un;Un=d;try{return c?c(e,3,[p]):e(p)}finally{Un=w}}:h=lw,t&&a){const w=h,S=a===!0?1/0:a;h=()=>yn(w(),S)}const g=()=>{d.stop()};if(i&&t){const w=t;t=(...S)=>{w(...S),g()}}let x=y?new Array(e.length).fill(gi):gi;const j=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(t){const S=d.run();if(a||m||(y?S.some((C,v)=>En(C,x[v])):En(S,x))){f&&f();const C=Un;Un=d;try{const v=[S,x===gi?void 0:y&&x[0]===gi?[]:x,p];x=S,c?c(t,3,v):t(...v)}finally{Un=C}}}else d.run()};return l&&l(j),d=new pw(h),d.scheduler=o?()=>o(j,!1):j,p=w=>zw(w,!1,d),f=d.onStop=()=>{const w=Ji.get(d);if(w){if(c)c(w,4);else for(const S of w)S();Ji.delete(d)}},t?r?j(!0):x=d.run():o?o(j.bind(null,!0),!0):d.run(),g.pause=d.pause.bind(d),g.resume=d.resume.bind(d),g.stop=g,g}function yn(e,t=1/0,n){if(t<=0||!Va(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,en(e))yn(e.value,t,n);else if(Rn(e))for(let r=0;r<e.length;r++)yn(e[r],t,n);else if(dw(e)||Ra(e))e.forEach(r=>{yn(r,t,n)});else if(gw(e)){for(const r in e)yn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&yn(e[r],t,n)}return e}/*!
 * veact v1.0.0
 * https://github.com/veactjs/veact
 *
 * Includes @vue/reactivity
 * https://github.com/vuejs/core/tree/main/packages/reactivity
 *
 * (c) 2021-present Surmon and Veact contributors.
 * Released under the MIT License.
 *
 * Date: 2024-09-05T14:34:40.987Z
 */function Ce(e){b.useEffect(()=>{e()},[])}function Wc(e){b.useEffect(()=>()=>{e()},[])}const Hw=e=>e+1,Ka=()=>b.useReducer(Hw,0)[1];function Bw(e,t,n={}){return qw(e,t,{...n,scheduler:r=>r()})}const xt=(e,t,n={})=>{const[r]=b.useState(()=>Bw(e,t,n));return Wc(()=>r.stop()),r};function se(e){const[t]=b.useState(()=>hg(e)),n=Ka();return xt(t,n,{deep:!0}),t}function it(e){const[t]=b.useState(()=>$w(e)),n=Ka();return xt(t,n),t}function mg(e){const[t]=b.useState(()=>Kc(e)),n=Ka();return xt(t,n),t}function sn(e){const[t]=b.useState(()=>Dw(e)),n=Ka();return xt(t,n),t}function pt(e,t){const[n]=b.useState(()=>Uw(e)),r=Ka();return xt(n,r),n}var ta={},Pd;function Vw(){if(Pd)return ta;Pd=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.parse=o,ta.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,p){const m=new i,y=f.length;if(y<2)return m;const g=(p==null?void 0:p.decode)||d;let x=0;do{const j=f.indexOf("=",x);if(j===-1)break;const w=f.indexOf(";",x),S=w===-1?y:w;if(j>S){x=f.lastIndexOf(";",j-1)+1;continue}const C=l(f,x,j),v=c(f,j,C),L=f.slice(C,v);if(m[L]===void 0){let E=l(f,j+1,S),T=c(f,S,E);const F=g(f.slice(E,T));m[L]=F}x=S+1}while(x<y);return m}function l(f,p,m){do{const y=f.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function c(f,p,m){for(;p>m;){const y=f.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(f,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=y(p);if(!t.test(g))throw new TypeError(`argument val is invalid: ${p}`);let x=f+"="+g;if(!m)return x;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);x+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);x+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);x+="; Path="+m.path}if(m.expires){if(!h(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);x+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(x+="; HttpOnly"),m.secure&&(x+="; Secure"),m.partitioned&&(x+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return x}function d(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return a.call(f)==="[object Date]"}return ta}Vw();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gg=e=>{throw TypeError(e)},Kw=(e,t,n)=>t.has(e)||gg("Cannot "+n),ao=(e,t,n)=>(Kw(e,t,"read from private field"),n?n.call(e):t.get(e)),Yw=(e,t,n)=>t.has(e)?gg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ad="popstate";function Ww(e={}){function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return kr("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:rn(a)}return pg(t,n,null,e)}function Gw(e={}){function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=on(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),kr("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:rn(i))}function r(a,i){ke(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return pg(t,n,r,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ke(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function Od(e,t){return{usr:e.state,key:e.key,idx:t}}function kr(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?on(t):t,state:n,key:t&&t.key||r||Jw()}}function rn({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function on(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function pg(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let g=d(),x=g==null?null:g-u;u=g,c&&c({action:l,location:y.location,delta:x})}function f(g,x){l="PUSH";let j=kr(y.location,g,x);n&&n(j,g),u=d()+1;let w=Od(j,u),S=y.createHref(j);try{o.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}i&&c&&c({action:l,location:y.location,delta:1})}function p(g,x){l="REPLACE";let j=kr(y.location,g,x);n&&n(j,g),u=d();let w=Od(j,u),S=y.createHref(j);o.replaceState(w,"",S),i&&c&&c({action:l,location:y.location,delta:0})}function m(g){return xg(g)}let y={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ad,h),c=g,()=>{a.removeEventListener(Ad,h),c=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let x=m(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(g){return o.go(g)}};return y}function xg(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:rn(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ya,Dd=class{constructor(e){if(Yw(this,ya,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(ao(this,ya).has(e))return ao(this,ya).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){ao(this,ya).set(e,t)}};ya=new WeakMap;var Zw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xw(e){return Zw.has(e)}var Qw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function e_(e){return Qw.has(e)}function t_(e){return e.index===!0}function Zi(e,t,n=[],r={}){return e.map((a,i)=>{let o=[...n,String(i)],l=typeof a.id=="string"?a.id:o.join("-");if(fe(a.index!==!0||!a.children,"Cannot specify children on an index route"),fe(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),t_(a)){let c={...a,...t(a),id:l};return r[l]=c,c}else{let c={...a,...t(a),id:l,children:void 0};return r[l]=c,a.children&&(c.children=Zi(a.children,t,o,r)),c}})}function vn(e,t,n="/"){return Ai(e,t,n,!1)}function Ai(e,t,n,r){let a=typeof t=="string"?on(t):t,i=jt(a.pathname||"/",n);if(i==null)return null;let o=yg(e);r_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=m_(i);l=h_(o[c],u,r)}return l}function n_(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function yg(e,t=[],n=[],r=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Kt([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),yg(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u_(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of vg(i.path))a(i,o,c)}),t}function vg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=vg(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function r_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var a_=/^:[\w-]+$/,i_=3,s_=2,o_=1,l_=10,c_=-2,Nd=e=>e==="*";function u_(e,t){let n=e.split("/"),r=n.length;return n.some(Nd)&&(r+=c_),t&&(r+=s_),n.filter(a=>!Nd(a)).reduce((a,i)=>a+(a_.test(i)?i_:i===""?o_:l_),r)}function d_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function h_(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Da({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Da({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Kt([i,h.pathname]),pathnameBase:x_(Kt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Kt([i,h.pathnameBase]))}return o}function Da(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f_(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let m=l[f]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function f_(e,t=!1,n=!0){ke(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function m_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ke(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function g_(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?on(e):e;return{pathname:n?n.startsWith("/")?n:p_(n,t):t,search:y_(r),hash:v_(a)}}function p_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function io(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vs(e){let t=bg(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function bs(e,t,n,r=!1){let a;typeof e=="string"?a=on(e):(a={...e},fe(!a.pathname||!a.pathname.includes("?"),io("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),io("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),io("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=g_(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Kt=e=>e.join("/").replace(/\/\/+/g,"/"),x_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Xi=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Na(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wg=["POST","PUT","PATCH","DELETE"],b_=new Set(wg),w_=["GET",...wg],__=new Set(w_),j_=new Set([301,302,303,307,308]),S_=new Set([307,308]),so={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},C_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},na={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),_g="remix-router-transitions",jg=Symbol("ResetLoaderData");function Sg(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";fe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],a=e.mapRouteProperties||R_,i={},o=Zi(e.routes,a,void 0,i),l,c=e.basename||"/",u=e.dataStrategy||L_,d={unstable_middleware:!1,...e.future},h=null,f=new Set,p=null,m=null,y=null,g=e.hydrationData!=null,x=vn(o,e.history.location,c),j=!1,w=null,S;if(x==null&&!e.patchRoutesOnNavigation){let _=bt(404,{pathname:e.history.location.pathname}),{matches:R,route:I}=Wd(o);S=!0,x=R,w={[I.id]:_}}else if(x&&!e.hydrationData&&si(x,o,e.history.location.pathname).active&&(x=null),x)if(x.some(_=>_.route.lazy))S=!1;else if(!x.some(_=>_.route.loader))S=!0;else{let _=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let I=x.findIndex(U=>R[U.route.id]!==void 0);S=x.slice(0,I+1).every(U=>!nc(U.route,_,R))}else S=x.every(I=>!nc(I.route,_,R))}else{S=!1,x=[];let _=si(null,o,e.history.location.pathname);_.active&&_.matches&&(j=!0,x=_.matches)}let C,v={historyAction:e.history.action,location:e.history.location,matches:x,initialized:S,navigation:so,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L="POP",E=!1,T,F=!1,K=new Map,Y=null,q=!1,H=!1,J=new Set,te=new Map,re=0,we=-1,Ae=new Map,Ke=new Set,Ie=new Map,Me=new Map,Le=new Set,$t=new Map,Pn,An=null;function Kx(){if(h=e.history.listen(({action:_,location:R,delta:I})=>{if(Pn){Pn(),Pn=void 0;return}ke($t.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Ku({currentLocation:v.location,nextLocation:R,historyAction:_});if(U&&I!=null){let V=new Promise(G=>{Pn=G});e.history.go(I*-1),ii(U,{state:"blocked",location:R,proceed(){ii(U,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),V.then(()=>e.history.go(I))},reset(){let G=new Map(v.blockers);G.set(U,na),et({blockers:G})}});return}return On(_,R)}),n){q_(t,K);let _=()=>H_(t,K);t.addEventListener("pagehide",_),Y=()=>t.removeEventListener("pagehide",_)}return v.initialized||On("POP",v.location,{initialHydration:!0}),C}function Yx(){h&&h(),Y&&Y(),f.clear(),T&&T.abort(),v.fetchers.forEach((_,R)=>Hs(R)),v.blockers.forEach((_,R)=>Vu(R))}function Wx(_){return f.add(_),()=>f.delete(_)}function et(_,R={}){v={...v,..._};let I=[],U=[];v.fetchers.forEach((V,G)=>{V.state==="idle"&&(Le.has(G)?I.push(G):U.push(G))}),Le.forEach(V=>{!v.fetchers.has(V)&&!te.has(V)&&I.push(V)}),[...f].forEach(V=>V(v,{deletedFetchers:I,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),I.forEach(V=>Hs(V)),U.forEach(V=>v.fetchers.delete(V))}function ur(_,R,{flushSync:I}={}){var Q,le;let U=v.actionData!=null&&v.navigation.formMethod!=null&&gt(v.navigation.formMethod)&&v.navigation.state==="loading"&&((Q=_.state)==null?void 0:Q._isRedirect)!==!0,V;R.actionData?Object.keys(R.actionData).length>0?V=R.actionData:V=null:U?V=v.actionData:V=null;let G=R.loaderData?Kd(v.loaderData,R.loaderData,R.matches||[],R.errors):v.loaderData,ae=v.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((X,de)=>ae.set(de,na)));let W=E===!0||v.navigation.formMethod!=null&&gt(v.navigation.formMethod)&&((le=_.state)==null?void 0:le._isRedirect)!==!0;l&&(o=l,l=void 0),q||L==="POP"||(L==="PUSH"?e.history.push(_,_.state):L==="REPLACE"&&e.history.replace(_,_.state));let Z;if(L==="POP"){let X=K.get(v.location.pathname);X&&X.has(_.pathname)?Z={currentLocation:v.location,nextLocation:_}:K.has(_.pathname)&&(Z={currentLocation:_,nextLocation:v.location})}else if(F){let X=K.get(v.location.pathname);X?X.add(_.pathname):(X=new Set([_.pathname]),K.set(v.location.pathname,X)),Z={currentLocation:v.location,nextLocation:_}}et({...R,actionData:V,loaderData:G,historyAction:L,location:_,initialized:!0,navigation:so,revalidation:"idle",restoreScrollPosition:Wu(_,R.matches||v.matches),preventScrollReset:W,blockers:ae},{viewTransitionOpts:Z,flushSync:I===!0}),L="POP",E=!1,F=!1,q=!1,H=!1,An==null||An.resolve(),An=null}async function Fu(_,R){if(typeof _=="number"){e.history.go(_);return}let I=tc(v.location,v.matches,c,_,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:U,submission:V,error:G}=$d(!1,I,R),ae=v.location,W=kr(v.location,U,R&&R.state);W={...W,...e.history.encodeLocation(W)};let Z=R&&R.replace!=null?R.replace:void 0,Q="PUSH";Z===!0?Q="REPLACE":Z===!1||V!=null&&gt(V.formMethod)&&V.formAction===v.location.pathname+v.location.search&&(Q="REPLACE");let le=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,X=(R&&R.flushSync)===!0,de=Ku({currentLocation:ae,nextLocation:W,historyAction:Q});if(de){ii(de,{state:"blocked",location:W,proceed(){ii(de,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),Fu(_,R)},reset(){let Ee=new Map(v.blockers);Ee.set(de,na),et({blockers:Ee})}});return}await On(Q,W,{submission:V,pendingError:G,preventScrollReset:le,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:X})}function Gx(){An||(An=B_()),qs(),et({revalidation:"loading"});let _=An.promise;return v.navigation.state==="submitting"?_:v.navigation.state==="idle"?(On(v.historyAction,v.location,{startUninterruptedRevalidation:!0}),_):(On(L||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:F===!0}),_)}async function On(_,R,I){T&&T.abort(),T=null,L=_,q=(I&&I.startUninterruptedRevalidation)===!0,iy(v.location,v.matches),E=(I&&I.preventScrollReset)===!0,F=(I&&I.enableViewTransition)===!0;let U=l||o,V=I&&I.overrideNavigation,G=I!=null&&I.initialHydration&&v.matches&&v.matches.length>0&&!j?v.matches:vn(U,R,c),ae=(I&&I.flushSync)===!0;if(G&&v.initialized&&!H&&$_(v.location,R)&&!(I&&I.submission&&gt(I.submission.formMethod))){ur(R,{matches:G},{flushSync:ae});return}let W=si(G,U,R.pathname);if(W.active&&W.matches&&(G=W.matches),!G){let{error:Ge,notFoundMatches:ft,route:xe}=Bs(R.pathname);ur(R,{matches:ft,loaderData:{},errors:{[xe.id]:Ge}},{flushSync:ae});return}T=new AbortController;let Z=wr(e.history,R,T.signal,I&&I.submission),Q=new Dd(e.unstable_getContext?await e.unstable_getContext():void 0),le;if(I&&I.pendingError)le=[zn(G).route.id,{type:"error",error:I.pendingError}];else if(I&&I.submission&&gt(I.submission.formMethod)){let Ge=await Jx(Z,R,I.submission,G,Q,W.active,I&&I.initialHydration===!0,{replace:I.replace,flushSync:ae});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[ft,xe]=Ge.pendingActionResult;if(mt(xe)&&Na(xe.error)&&xe.error.status===404){T=null,ur(R,{matches:Ge.matches,loaderData:{},errors:{[ft]:xe.error}});return}}G=Ge.matches||G,le=Ge.pendingActionResult,V=oo(R,I.submission),ae=!1,W.active=!1,Z=wr(e.history,Z.url,Z.signal)}let{shortCircuited:X,matches:de,loaderData:Ee,errors:Ue}=await Zx(Z,R,G,Q,W.active,V,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,ae,le);X||(T=null,ur(R,{matches:de||G,...Yd(le),loaderData:Ee,errors:Ue}))}async function Jx(_,R,I,U,V,G,ae,W={}){qs();let Z=U_(R,I);if(et({navigation:Z},{flushSync:W.flushSync===!0}),G){let X=await oi(U,R.pathname,_.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let de=zn(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[de,{type:"error",error:X.error}]}}else if(X.matches)U=X.matches;else{let{notFoundMatches:de,error:Ee,route:Ue}=Bs(R.pathname);return{matches:de,pendingActionResult:[Ue.id,{type:"error",error:Ee}]}}}let Q,le=va(U,R);if(!le.route.action&&!le.route.lazy)Q={type:"error",error:bt(405,{method:_.method,pathname:R.pathname,routeId:le.route.id})};else{let X=Sr(a,i,_,U,le,ae?[]:r,V),de=await Yr(_,X,V,null);if(Q=de[le.route.id],!Q){for(let Ee of U)if(de[Ee.route.id]){Q=de[Ee.route.id];break}}if(_.signal.aborted)return{shortCircuited:!0}}if(Vn(Q)){let X;return W&&W.replace!=null?X=W.replace:X=Hd(Q.response.headers.get("Location"),new URL(_.url),c)===v.location.pathname+v.location.search,await Dn(_,Q,!0,{submission:I,replace:X}),{shortCircuited:!0}}if(mt(Q)){let X=zn(U,le.route.id);return(W&&W.replace)!==!0&&(L="PUSH"),{matches:U,pendingActionResult:[X.route.id,Q,le.route.id]}}return{matches:U,pendingActionResult:[le.route.id,Q]}}async function Zx(_,R,I,U,V,G,ae,W,Z,Q,le,X){let de=G||oo(R,ae),Ee=ae||W||Jd(de),Ue=!q&&!Q;if(V){if(Ue){let vt=Mu(X);et({navigation:de,...vt!==void 0?{actionData:vt}:{}},{flushSync:le})}let _e=await oi(I,R.pathname,_.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let vt=zn(_e.partialMatches).route.id;return{matches:_e.partialMatches,loaderData:{},errors:{[vt]:_e.error}}}else if(_e.matches)I=_e.matches;else{let{error:vt,notFoundMatches:dn,route:ci}=Bs(R.pathname);return{matches:dn,loaderData:{},errors:{[ci.id]:vt}}}}let Ge=l||o,{dsMatches:ft,revalidatingFetchers:xe}=Fd(_,U,a,i,e.history,v,I,Ee,R,Q?[]:r,Q===!0,H,J,Le,Ie,Ke,Ge,c,e.patchRoutesOnNavigation!=null,X);if(we=++re,!e.dataStrategy&&!ft.some(_e=>_e.shouldLoad)&&xe.length===0){let _e=Hu();return ur(R,{matches:I,loaderData:{},errors:X&&mt(X[1])?{[X[0]]:X[1].error}:null,...Yd(X),..._e?{fetchers:new Map(v.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Ue){let _e={};if(!V){_e.navigation=de;let vt=Mu(X);vt!==void 0&&(_e.actionData=vt)}xe.length>0&&(_e.fetchers=Xx(xe)),et(_e,{flushSync:le})}xe.forEach(_e=>{un(_e.key),_e.controller&&te.set(_e.key,_e.controller)});let Wr=()=>xe.forEach(_e=>un(_e.key));T&&T.signal.addEventListener("abort",Wr);let{loaderResults:Nn,fetcherResults:Gr}=await Uu(ft,xe,_,U);if(_.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Wr),xe.forEach(_e=>te.delete(_e.key));let yt=pi(Nn);if(yt)return await Dn(_,yt.result,!0,{replace:Z}),{shortCircuited:!0};if(yt=pi(Gr),yt)return Ke.add(yt.key),await Dn(_,yt.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:Jr,errors:Zr}=Vd(v,I,Nn,X,xe,Gr);Q&&v.errors&&(Zr={...v.errors,...Zr});let Vs=Hu(),$n=Bu(we),li=Vs||$n||xe.length>0;return{matches:I,loaderData:Jr,errors:Zr,...li?{fetchers:new Map(v.fetchers)}:{}}}function Mu(_){if(_&&!mt(_[1]))return{[_[0]]:_[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function Xx(_){return _.forEach(R=>{let I=v.fetchers.get(R.key),U=ra(void 0,I?I.data:void 0);v.fetchers.set(R.key,U)}),new Map(v.fetchers)}async function Qx(_,R,I,U){un(_);let V=(U&&U.flushSync)===!0,G=l||o,ae=tc(v.location,v.matches,c,I,R,U==null?void 0:U.relative),W=vn(G,ae,c),Z=si(W,G,ae);if(Z.active&&Z.matches&&(W=Z.matches),!W){Yt(_,R,bt(404,{pathname:ae}),{flushSync:V});return}let{path:Q,submission:le,error:X}=$d(!0,ae,U);if(X){Yt(_,R,X,{flushSync:V});return}let de=va(W,Q),Ee=new Dd(e.unstable_getContext?await e.unstable_getContext():void 0),Ue=(U&&U.preventScrollReset)===!0;if(le&&gt(le.formMethod)){await ey(_,R,Q,de,W,Ee,Z.active,V,Ue,le);return}Ie.set(_,{routeId:R,path:Q}),await ty(_,R,Q,de,W,Ee,Z.active,V,Ue,le)}async function ey(_,R,I,U,V,G,ae,W,Z,Q){qs(),Ie.delete(_);function le(Oe){if(!Oe.route.action&&!Oe.route.lazy){let dr=bt(405,{method:Q.formMethod,pathname:I,routeId:R});return Yt(_,R,dr,{flushSync:W}),!0}return!1}if(!ae&&le(U))return;let X=v.fetchers.get(_);cn(_,z_(Q,X),{flushSync:W});let de=new AbortController,Ee=wr(e.history,I,de.signal,Q);if(ae){let Oe=await oi(V,I,Ee.signal,_);if(Oe.type==="aborted")return;if(Oe.type==="error"){Yt(_,R,Oe.error,{flushSync:W});return}else if(Oe.matches){if(V=Oe.matches,U=va(V,I),le(U))return}else{Yt(_,R,bt(404,{pathname:I}),{flushSync:W});return}}te.set(_,de);let Ue=re,Ge=Sr(a,i,Ee,V,U,r,G),xe=(await Yr(Ee,Ge,G,_))[U.route.id];if(Ee.signal.aborted){te.get(_)===de&&te.delete(_);return}if(Le.has(_)){if(Vn(xe)||mt(xe)){cn(_,gn(void 0));return}}else{if(Vn(xe))if(te.delete(_),we>Ue){cn(_,gn(void 0));return}else return Ke.add(_),cn(_,ra(Q)),Dn(Ee,xe,!1,{fetcherSubmission:Q,preventScrollReset:Z});if(mt(xe)){Yt(_,R,xe.error);return}}let Wr=v.navigation.location||v.location,Nn=wr(e.history,Wr,de.signal),Gr=l||o,yt=v.navigation.state!=="idle"?vn(Gr,v.navigation.location,c):v.matches;fe(yt,"Didn't find any matches after fetcher action");let Jr=++re;Ae.set(_,Jr);let Zr=ra(Q,xe.data);v.fetchers.set(_,Zr);let{dsMatches:Vs,revalidatingFetchers:$n}=Fd(Nn,G,a,i,e.history,v,yt,Q,Wr,r,!1,H,J,Le,Ie,Ke,Gr,c,e.patchRoutesOnNavigation!=null,[U.route.id,xe]);$n.filter(Oe=>Oe.key!==_).forEach(Oe=>{let dr=Oe.key,Gu=v.fetchers.get(dr),ly=ra(void 0,Gu?Gu.data:void 0);v.fetchers.set(dr,ly),un(dr),Oe.controller&&te.set(dr,Oe.controller)}),et({fetchers:new Map(v.fetchers)});let li=()=>$n.forEach(Oe=>un(Oe.key));de.signal.addEventListener("abort",li);let{loaderResults:_e,fetcherResults:vt}=await Uu(Vs,$n,Nn,G);if(de.signal.aborted)return;if(de.signal.removeEventListener("abort",li),Ae.delete(_),te.delete(_),$n.forEach(Oe=>te.delete(Oe.key)),v.fetchers.has(_)){let Oe=gn(xe.data);v.fetchers.set(_,Oe)}let dn=pi(_e);if(dn)return Dn(Nn,dn.result,!1,{preventScrollReset:Z});if(dn=pi(vt),dn)return Ke.add(dn.key),Dn(Nn,dn.result,!1,{preventScrollReset:Z});let{loaderData:ci,errors:Ks}=Vd(v,yt,_e,void 0,$n,vt);Bu(Jr),v.navigation.state==="loading"&&Jr>we?(fe(L,"Expected pending action"),T&&T.abort(),ur(v.navigation.location,{matches:yt,loaderData:ci,errors:Ks,fetchers:new Map(v.fetchers)})):(et({errors:Ks,loaderData:Kd(v.loaderData,ci,yt,Ks),fetchers:new Map(v.fetchers)}),H=!1)}async function ty(_,R,I,U,V,G,ae,W,Z,Q){let le=v.fetchers.get(_);cn(_,ra(Q,le?le.data:void 0),{flushSync:W});let X=new AbortController,de=wr(e.history,I,X.signal);if(ae){let xe=await oi(V,I,de.signal,_);if(xe.type==="aborted")return;if(xe.type==="error"){Yt(_,R,xe.error,{flushSync:W});return}else if(xe.matches)V=xe.matches,U=va(V,I);else{Yt(_,R,bt(404,{pathname:I}),{flushSync:W});return}}te.set(_,X);let Ee=re,Ue=Sr(a,i,de,V,U,r,G),ft=(await Yr(de,Ue,G,_))[U.route.id];if(te.get(_)===X&&te.delete(_),!de.signal.aborted){if(Le.has(_)){cn(_,gn(void 0));return}if(Vn(ft))if(we>Ee){cn(_,gn(void 0));return}else{Ke.add(_),await Dn(de,ft,!1,{preventScrollReset:Z});return}if(mt(ft)){Yt(_,R,ft.error);return}cn(_,gn(ft.data))}}async function Dn(_,R,I,{submission:U,fetcherSubmission:V,preventScrollReset:G,replace:ae}={}){R.response.headers.has("X-Remix-Revalidate")&&(H=!0);let W=R.response.headers.get("Location");fe(W,"Expected a Location header on the redirect Response"),W=Hd(W,new URL(_.url),c);let Z=kr(v.location,W,{_isRedirect:!0});if(n){let Ue=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Gc.test(W)){const Ge=xg(W,!0);Ue=Ge.origin!==t.location.origin||jt(Ge.pathname,c)==null}if(Ue){ae?t.location.replace(W):t.location.assign(W);return}}T=null;let Q=ae===!0||R.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:le,formAction:X,formEncType:de}=v.navigation;!U&&!V&&le&&X&&de&&(U=Jd(v.navigation));let Ee=U||V;if(S_.has(R.response.status)&&Ee&&gt(Ee.formMethod))await On(Q,Z,{submission:{...Ee,formAction:W},preventScrollReset:G||E,enableViewTransition:I?F:void 0});else{let Ue=oo(Z,U);await On(Q,Z,{overrideNavigation:Ue,fetcherSubmission:V,preventScrollReset:G||E,enableViewTransition:I?F:void 0})}}async function Yr(_,R,I,U){let V,G={};try{V=await P_(u,_,R,U,I,!1)}catch(ae){return R.filter(W=>W.shouldLoad).forEach(W=>{G[W.route.id]={type:"error",error:ae}}),G}if(_.signal.aborted)return G;for(let[ae,W]of Object.entries(V))if(F_(W)){let Z=W.result;G[ae]={type:"redirect",response:D_(Z,_,ae,R,c)}}else G[ae]=await O_(W);return G}async function Uu(_,R,I,U){let V=Yr(I,_,U,null),G=Promise.all(R.map(async Z=>{if(Z.matches&&Z.match&&Z.request&&Z.controller){let le=(await Yr(Z.request,Z.matches,U,Z.key))[Z.match.route.id];return{[Z.key]:le}}else return Promise.resolve({[Z.key]:{type:"error",error:bt(404,{pathname:Z.path})}})})),ae=await V,W=(await G).reduce((Z,Q)=>Object.assign(Z,Q),{});return{loaderResults:ae,fetcherResults:W}}function qs(){H=!0,Ie.forEach((_,R)=>{te.has(R)&&J.add(R),un(R)})}function cn(_,R,I={}){v.fetchers.set(_,R),et({fetchers:new Map(v.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Yt(_,R,I,U={}){let V=zn(v.matches,R);Hs(_),et({errors:{[V.route.id]:I},fetchers:new Map(v.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function zu(_){return Me.set(_,(Me.get(_)||0)+1),Le.has(_)&&Le.delete(_),v.fetchers.get(_)||C_}function Hs(_){let R=v.fetchers.get(_);te.has(_)&&!(R&&R.state==="loading"&&Ae.has(_))&&un(_),Ie.delete(_),Ae.delete(_),Ke.delete(_),Le.delete(_),J.delete(_),v.fetchers.delete(_)}function ny(_){let R=(Me.get(_)||0)-1;R<=0?(Me.delete(_),Le.add(_)):Me.set(_,R),et({fetchers:new Map(v.fetchers)})}function un(_){let R=te.get(_);R&&(R.abort(),te.delete(_))}function qu(_){for(let R of _){let I=zu(R),U=gn(I.data);v.fetchers.set(R,U)}}function Hu(){let _=[],R=!1;for(let I of Ke){let U=v.fetchers.get(I);fe(U,`Expected fetcher: ${I}`),U.state==="loading"&&(Ke.delete(I),_.push(I),R=!0)}return qu(_),R}function Bu(_){let R=[];for(let[I,U]of Ae)if(U<_){let V=v.fetchers.get(I);fe(V,`Expected fetcher: ${I}`),V.state==="loading"&&(un(I),Ae.delete(I),R.push(I))}return qu(R),R.length>0}function ry(_,R){let I=v.blockers.get(_)||na;return $t.get(_)!==R&&$t.set(_,R),I}function Vu(_){v.blockers.delete(_),$t.delete(_)}function ii(_,R){let I=v.blockers.get(_)||na;fe(I.state==="unblocked"&&R.state==="blocked"||I.state==="blocked"&&R.state==="blocked"||I.state==="blocked"&&R.state==="proceeding"||I.state==="blocked"&&R.state==="unblocked"||I.state==="proceeding"&&R.state==="unblocked",`Invalid blocker state transition: ${I.state} -> ${R.state}`);let U=new Map(v.blockers);U.set(_,R),et({blockers:U})}function Ku({currentLocation:_,nextLocation:R,historyAction:I}){if($t.size===0)return;$t.size>1&&ke(!1,"A router only supports one blocker at a time");let U=Array.from($t.entries()),[V,G]=U[U.length-1],ae=v.blockers.get(V);if(!(ae&&ae.state==="proceeding")&&G({currentLocation:_,nextLocation:R,historyAction:I}))return V}function Bs(_){let R=bt(404,{pathname:_}),I=l||o,{matches:U,route:V}=Wd(I);return{notFoundMatches:U,route:V,error:R}}function ay(_,R,I){if(p=_,y=R,m=I||null,!g&&v.navigation===so){g=!0;let U=Wu(v.location,v.matches);U!=null&&et({restoreScrollPosition:U})}return()=>{p=null,y=null,m=null}}function Yu(_,R){return m&&m(_,R.map(U=>n_(U,v.loaderData)))||_.key}function iy(_,R){if(p&&y){let I=Yu(_,R);p[I]=y()}}function Wu(_,R){if(p){let I=Yu(_,R),U=p[I];if(typeof U=="number")return U}return null}function si(_,R,I){if(e.patchRoutesOnNavigation)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:Ai(R,I,c,!0)}}else return{active:!0,matches:Ai(R,I,c,!0)||[]};return{active:!1,matches:null}}async function oi(_,R,I,U){if(!e.patchRoutesOnNavigation)return{type:"success",matches:_};let V=_;for(;;){let G=l==null,ae=l||o,W=i;try{await e.patchRoutesOnNavigation({signal:I,path:R,matches:V,fetcherKey:U,patch:(le,X)=>{I.aborted||Md(le,X,ae,W,a)}})}catch(le){return{type:"error",error:le,partialMatches:V}}finally{G&&!I.aborted&&(o=[...o])}if(I.aborted)return{type:"aborted"};let Z=vn(ae,R,c);if(Z)return{type:"success",matches:Z};let Q=Ai(ae,R,c,!0);if(!Q||V.length===Q.length&&V.every((le,X)=>le.route.id===Q[X].route.id))return{type:"success",matches:null};V=Q}}function sy(_){i={},l=Zi(_,a,void 0,i)}function oy(_,R){let I=l==null;Md(_,R,l||o,i,a),I&&(o=[...o],et({}))}return C={get basename(){return c},get future(){return d},get state(){return v},get routes(){return o},get window(){return t},initialize:Kx,subscribe:Wx,enableScrollRestoration:ay,navigate:Fu,fetch:Qx,revalidate:Gx,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:zu,deleteFetcher:ny,dispose:Yx,getBlocker:ry,deleteBlocker:Vu,patchRoutes:oy,_internalFetchControllers:te,_internalSetRoutes:sy},C}function E_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function tc(e,t,n,r,a,i){let o,l;if(a){o=[];for(let u of t)if(o.push(u),u.route.id===a){l=u;break}}else o=t,l=t[t.length-1];let c=bs(r||".",vs(o),jt(e.pathname,n)||e.pathname,i==="path");if(r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&l){let u=Jc(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(p=>p).forEach(p=>d.append("index",p));let f=d.toString();c.search=f?`?${f}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:Kt([n,c.pathname])),rn(c)}function $d(e,t,n){if(!n||!E_(n))return{path:t};if(n.formMethod&&!M_(n.formMethod))return{path:t,error:bt(405,{method:n.formMethod})};let r=()=>({path:t,error:bt(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),o=kg(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gt(i))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[p,m])=>`${f}${p}=${m}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!gt(i))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}fe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=ac(n.formData),c=n.formData;else if(n.body instanceof FormData)l=ac(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=Bd(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=Bd(l)}catch{return r()}let u={formMethod:i,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(gt(u.formMethod))return{path:t,submission:u};let d=on(t);return e&&d.search&&Jc(d.search)&&l.append("index",""),d.search=`?${l}`,{path:rn(d),submission:u}}function Fd(e,t,n,r,a,i,o,l,c,u,d,h,f,p,m,y,g,x,j,w){var q;let S=w?mt(w[1])?w[1].error:w[1].data:void 0,C=a.createURL(i.location),v=a.createURL(c),L;if(d&&i.errors){let H=Object.keys(i.errors)[0];L=o.findIndex(J=>J.route.id===H)}else if(w&&mt(w[1])){let H=w[0];L=o.findIndex(J=>J.route.id===H)-1}let E=w?w[1].statusCode:void 0,T=E&&E>=400,F={currentUrl:C,currentParams:((q=i.matches[0])==null?void 0:q.params)||{},nextUrl:v,nextParams:o[0].params,...l,actionResult:S,actionStatus:E},K=o.map((H,J)=>{let{route:te}=H,re=null;if(L!=null&&J>L?re=!1:te.lazy?re=!0:te.loader==null?re=!1:d?re=nc(te,i.loaderData,i.errors):T_(i.loaderData,i.matches[J],H)&&(re=!0),re!==null)return rc(n,r,e,H,u,t,re);let we=T?!1:h||C.pathname+C.search===v.pathname+v.search||C.search!==v.search||I_(i.matches[J],H),Ae={...F,defaultShouldRevalidate:we},Ke=Qi(H,Ae);return rc(n,r,e,H,u,t,Ke,Ae)}),Y=[];return m.forEach((H,J)=>{if(d||!o.some(Le=>Le.route.id===H.routeId)||p.has(J))return;let te=i.fetchers.get(J),re=te&&te.state!=="idle"&&te.data===void 0,we=vn(g,H.path,x);if(!we){if(j&&re)return;Y.push({key:J,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(y.has(J))return;let Ae=va(we,H.path),Ke=new AbortController,Ie=wr(a,H.path,Ke.signal),Me=null;if(f.has(J))f.delete(J),Me=Sr(n,r,Ie,we,Ae,u,t);else if(re)h&&(Me=Sr(n,r,Ie,we,Ae,u,t));else{let Le={...F,defaultShouldRevalidate:T?!1:h};Qi(Ae,Le)&&(Me=Sr(n,r,Ie,we,Ae,u,t,Le))}Me&&Y.push({key:J,routeId:H.routeId,path:H.path,matches:Me,match:Ae,request:Ie,controller:Ke})}),{dsMatches:K,revalidatingFetchers:Y}}function nc(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function T_(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function I_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Qi(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Md(e,t,n,r,a){let i;if(e){let c=r[e];fe(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),i=c.children}else i=n;let o=t.filter(c=>!i.some(u=>Cg(c,u))),l=Zi(o,a,[e||"_","patch",String((i==null?void 0:i.length)||"0")],r);i.push(...l)}function Cg(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(i=>Cg(n,i))}):!1}var Ud=new WeakMap,Rg=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let a=n[t.id];if(fe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let o=Ud.get(a);o||(o={},Ud.set(a,o));let l=o[e];if(l)return l;let c=(async()=>{let u=Xw(e),h=a[e]!==void 0&&e!=="hasErrorBoundary";if(u)ke(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)ke(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(a,{[e]:f}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(f=>f===void 0)&&(a.lazy=void 0))})();return o[e]=c,c},zd=new WeakMap;function k_(e,t,n,r,a){let i=n[e.id];if(fe(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=zd.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{fe(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),p={};for(let m in f){let y=f[m];if(y===void 0)continue;let g=e_(m),j=i[m]!==void 0&&m!=="hasErrorBoundary";g?ke(!g,"Route property "+m+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?ke(!j,`Route "${i.id}" has a static property "${m}" defined but its lazy function is also returning a value for this property. The lazy route property "${m}" will be ignored.`):p[m]=y}Object.assign(i,p),Object.assign(i,{...r(i),lazy:void 0})})();return zd.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),l=[],c;for(let d of o){if(a&&a.includes(d))continue;let h=Rg({key:d,route:e,manifest:n,mapRouteProperties:r});h&&(l.push(h),d===t&&(c=h))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function qd(e){let t=e.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{n[t[i].route.id]=a}),n}async function L_(e){return e.matches.some(t=>t.route.unstable_middleware)?Eg(e,!1,()=>qd(e),(t,n)=>({[n]:{type:"error",result:t}})):qd(e)}async function Eg(e,t,n,r){let{matches:a,request:i,params:o,context:l}=e,c={handlerResult:void 0};try{let u=a.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(f=>[h.route.id,f]):[]),d=await Tg({request:i,params:o,context:l},u,t,c,n);return t?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function Tg(e,t,n,r,a,i=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=t[i];if(!l)return r.handlerResult=await a(),r.handlerResult;let[c,u]=l,d=!1,h,f=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await Tg(e,t,n,r,a,i+1)};try{let p=await u({request:e.request,params:e.params,context:e.context},f);return d?p===void 0?h:p:f()}catch(p){throw r.middlewareError?r.middlewareError.error!==p&&(r.middlewareError={routeId:c,error:p}):r.middlewareError={routeId:c,error:p},p}}function Ig(e,t,n,r,a){let i=Rg({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=k_(r.route,gt(n.method)?"action":"loader",t,e,a);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function rc(e,t,n,r,a,i,o,l=null){let c=!1,u=Ig(e,t,n,r,a);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(d){return c=!0,l?typeof d=="boolean"?Qi(r,{...l,defaultShouldRevalidate:d}):Qi(r,l):o},resolve(d){return c||o||d&&n.method==="GET"&&(r.route.lazy||r.route.loader)?A_({request:n,match:r,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Sr(e,t,n,r,a,i,o,l=null){return r.map(c=>c.route.id!==a.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ig(e,t,n,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rc(e,t,n,c,i,o,!0,l))}async function P_(e,t,n,r,a,i){n.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let o={request:t,params:n[0].params,context:a,matches:n},c=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let d=o;return Eg(d,!1,()=>u({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,f)=>({[f]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function A_({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:i}){let o,l,c=gt(e.method),u=c?"action":"loader",d=h=>{let f,p=new Promise((g,x)=>f=x);l=()=>f(),e.signal.addEventListener("abort",l);let m=g=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:i},...g!==void 0?[g]:[]),y=(async()=>{try{return{type:"data",result:await(a?a(x=>m(x)):m())}}catch(g){return{type:"error",result:g}}})();return Promise.race([y,p])};try{let h=c?t.route.action:t.route.loader;if(n||r)if(h){let f,[p]=await Promise.all([d(h).catch(m=>{f=m}),n,r]);if(f!==void 0)throw f;o=p}else{await n;let f=c?t.route.action:t.route.loader;if(f)[o]=await Promise.all([d(f),r]);else if(u==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw bt(405,{method:e.method,pathname:m,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await d(h);else{let f=new URL(e.url),p=f.pathname+f.search;throw bt(404,{pathname:p})}}catch(h){return{type:"error",result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function O_(e){var r,a,i,o,l,c;let{result:t,type:n}=e;if(Lg(t)){let u;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new Xi(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return n==="error"?Gd(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Xi(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Na(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Na(t)?t.status:void 0}:Gd(t)?{type:"data",data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function D_(e,t,n,r,a){let i=e.headers.get("Location");if(fe(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gc.test(i)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=tc(new URL(t.url),o,a,i),e.headers.set("Location",i)}return e}function Hd(e,t,n){if(Gc.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=jt(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function wr(e,t,n,r){let a=e.createURL(kg(t)).toString(),i={signal:n};if(r&&gt(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=ac(r.formData):i.body=r.formData}return new Request(a,i)}function ac(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Bd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function N_(e,t,n,r=!1,a=!1){let i={},o=null,l,c=!1,u={},d=n&&mt(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,p=t[f];if(fe(!Vn(p),"Cannot handle redirect results in processLoaderData"),mt(p)){let m=p.error;if(d!==void 0&&(m=d,d=void 0),o=o||{},a)o[f]=m;else{let y=zn(e,f);o[y.route.id]==null&&(o[y.route.id]=m)}r||(i[f]=jg),c||(c=!0,l=Na(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else i[f]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[f]=p.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:u}}function Vd(e,t,n,r,a,i){let{loaderData:o,errors:l}=N_(t,n,r);return a.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c,f=i[u];if(fe(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(mt(f)){let p=zn(e.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l={...l,[p.route.id]:f.error}),e.fetchers.delete(u)}else if(Vn(f))fe(!1,"Unhandled fetcher revalidation redirect");else{let p=gn(f.data);e.fetchers.set(u,p)}}),{loaderData:o,errors:l}}function Kd(e,t,n,r){let a=Object.entries(t).filter(([,i])=>i!==jg).reduce((i,[o,l])=>(i[o]=l,i),{});for(let i of n){let o=i.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function Yd(e){return e?mt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function zn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Wd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bt(e,{pathname:t,routeId:n,method:r,type:a,message:i}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?l=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",l=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?l=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Xi(e||500,o,new Error(l),!0)}function pi(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Vn(a))return{key:r,result:a}}}function kg(e){let t=typeof e=="string"?on(e):e;return rn({...t,hash:""})}function $_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function F_(e){return Lg(e.result)&&j_.has(e.result.status)}function mt(e){return e.type==="error"}function Vn(e){return(e&&e.type)==="redirect"}function Gd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Lg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function M_(e){return __.has(e.toUpperCase())}function gt(e){return b_.has(e.toUpperCase())}function Jc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function va(e,t){let n=typeof t=="string"?on(t).search:t.search;if(e[e.length-1].route.index&&Jc(n||""))return e[e.length-1];let r=bg(e);return r[r.length-1]}function Jd(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function oo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function U_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ra(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function z_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function gn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function q_(e,t){try{let n=e.sessionStorage.getItem(_g);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function H_(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(_g,JSON.stringify(n))}catch(r){ke(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function B_(){let e,t,n=new Promise((r,a)=>{e=async i=>{r(i);try{await n}catch{}},t=async i=>{a(i);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var sr=b.createContext(null);sr.displayName="DataRouter";var Ya=b.createContext(null);Ya.displayName="DataRouterState";var Zc=b.createContext({isTransitioning:!1});Zc.displayName="ViewTransition";var Pg=b.createContext(new Map);Pg.displayName="Fetchers";var V_=b.createContext(null);V_.displayName="Await";var Ot=b.createContext(null);Ot.displayName="Navigation";var ws=b.createContext(null);ws.displayName="Location";var Ct=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ct.displayName="Route";var Xc=b.createContext(null);Xc.displayName="RouteError";function K_(e,{relative:t}={}){fe(Mr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ot),{hash:a,pathname:i,search:o}=Wa(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Kt([n,i])),r.createHref({pathname:l,search:o,hash:a})}function Mr(){return b.useContext(ws)!=null}function Dt(){return fe(Mr(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ws).location}var Ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Og(e){b.useContext(Ot).static||b.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=b.useContext(Ct);return e?lj():Y_()}function Y_(){fe(Mr(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(sr),{basename:t,navigator:n}=b.useContext(Ot),{matches:r}=b.useContext(Ct),{pathname:a}=Dt(),i=JSON.stringify(vs(r)),o=b.useRef(!1);return Og(()=>{o.current=!0}),b.useCallback((c,u={})=>{if(ke(o.current,Ag),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=bs(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Kt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,a,e])}var W_=b.createContext(null);function G_(e){let t=b.useContext(Ct).outlet;return t&&b.createElement(W_.Provider,{value:e},t)}function J_(){let{matches:e}=b.useContext(Ct),t=e[e.length-1];return t?t.params:{}}function Wa(e,{relative:t}={}){let{matches:n}=b.useContext(Ct),{pathname:r}=Dt(),a=JSON.stringify(vs(n));return b.useMemo(()=>bs(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Z_(e,t,n,r){fe(Mr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Ot),{matches:i}=b.useContext(Ct),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";Dg(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Dt(),f;f=h;let p=f.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=vn(e,{pathname:m});return ke(d||y!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ke(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nj(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Kt([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Kt([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r)}function X_(){let e=oj(),t=Na(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,o)}var Q_=b.createElement(X_,null),ej=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Ct.Provider,{value:this.props.routeContext},b.createElement(Xc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tj({routeContext:e,match:t,children:n}){let r=b.useContext(sr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ct.Provider,{value:e},n)}function nj(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let c=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);fe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let h,f=!1,p=null,m=null;n&&(h=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||Q_,o&&(l<0&&d===0?(Dg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):l===d&&(f=!0,m=u.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,d+1)),g=()=>{let x;return h?x=p:f?x=m:u.route.Component?x=b.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,b.createElement(tj,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?b.createElement(ej,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}function Qc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rj(e){let t=b.useContext(sr);return fe(t,Qc(e)),t}function aj(e){let t=b.useContext(Ya);return fe(t,Qc(e)),t}function ij(e){let t=b.useContext(Ct);return fe(t,Qc(e)),t}function eu(e){let t=ij(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sj(){return eu("useRouteId")}function oj(){var r;let e=b.useContext(Xc),t=aj("useRouteError"),n=eu("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function lj(){let{router:e}=rj("useNavigate"),t=eu("useNavigate"),n=b.useRef(!1);return Og(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{ke(n.current,Ag),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Zd={};function Dg(e,t,n){!t&&!Zd[e]&&(Zd[e]=!0,ke(!1,n))}var Xd={};function Qd(e,t){!e&&!Xd[t]&&(Xd[t]=!0,console.warn(t))}function Ng(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ke(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ke(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ke(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var $g=["HydrateFallback","hydrateFallbackElement"],cj=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function uj({router:e,flushSync:t}){let[n,r]=b.useState(e.state),[a,i]=b.useState(),[o,l]=b.useState({isTransitioning:!1}),[c,u]=b.useState(),[d,h]=b.useState(),[f,p]=b.useState(),m=b.useRef(new Map),y=b.useCallback((w,{deletedFetchers:S,flushSync:C,viewTransitionOpts:v})=>{w.fetchers.forEach((E,T)=>{E.data!==void 0&&m.current.set(T,E.data)}),S.forEach(E=>m.current.delete(E)),Qd(C===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Qd(v==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!v||!L){t&&C?t(()=>r(w)):b.startTransition(()=>r(w));return}if(t&&C){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation})});let E=e.window.document.startViewTransition(()=>{t(()=>r(w))});E.finished.finally(()=>{t(()=>{u(void 0),h(void 0),i(void 0),l({isTransitioning:!1})})}),t(()=>h(E));return}d?(c&&c.resolve(),d.skipTransition(),p({state:w,currentLocation:v.currentLocation,nextLocation:v.nextLocation})):(i(w),l({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}))},[e.window,t,d,c]);b.useLayoutEffect(()=>e.subscribe(y),[e,y]),b.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new cj)},[o]),b.useEffect(()=>{if(c&&a&&e.window){let w=a,S=c.promise,C=e.window.document.startViewTransition(async()=>{b.startTransition(()=>r(w)),await S});C.finished.finally(()=>{u(void 0),h(void 0),i(void 0),l({isTransitioning:!1})}),h(C)}},[a,c,e.window]),b.useEffect(()=>{c&&a&&n.location.key===a.location.key&&c.resolve()},[c,d,n.location,a]),b.useEffect(()=>{!o.isTransitioning&&f&&(i(f.state),l({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))},[o.isTransitioning,f]);let g=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:w=>e.navigate(w),push:(w,S,C)=>e.navigate(w,{state:S,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(w,S,C)=>e.navigate(w,{replace:!0,state:S,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[e]),x=e.basename||"/",j=b.useMemo(()=>({router:e,navigator:g,static:!1,basename:x}),[e,g,x]);return b.createElement(b.Fragment,null,b.createElement(sr.Provider,{value:j},b.createElement(Ya.Provider,{value:n},b.createElement(Pg.Provider,{value:m.current},b.createElement(Zc.Provider,{value:o},b.createElement(mj,{basename:x,location:n.location,navigationType:n.historyAction,navigator:g},b.createElement(dj,{routes:e.routes,future:e.future,state:n})))))),null)}var dj=b.memo(hj);function hj({routes:e,future:t,state:n}){return Z_(e,void 0,n,t)}function lo({to:e,replace:t,state:n,relative:r}){fe(Mr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(Ot);ke(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Ct),{pathname:o}=Dt(),l=ln(),c=bs(e,vs(i),o,r==="path"),u=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function fj(e){return G_(e.context)}function mj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){fe(!Mr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof n=="string"&&(n=on(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,p=b.useMemo(()=>{let m=jt(c,o);return m==null?null:{location:{pathname:m,search:u,hash:d,state:h,key:f},navigationType:r}},[o,c,u,d,h,f,r]);return ke(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(Ot.Provider,{value:l},b.createElement(ws.Provider,{children:t,value:p}))}var Oi="get",Di="application/x-www-form-urlencoded";function _s(e){return e!=null&&typeof e.tagName=="string"}function gj(e){return _s(e)&&e.tagName.toLowerCase()==="button"}function pj(e){return _s(e)&&e.tagName.toLowerCase()==="form"}function xj(e){return _s(e)&&e.tagName.toLowerCase()==="input"}function yj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vj(e,t){return e.button===0&&(!t||t==="_self")&&!yj(e)}var xi=null;function bj(){if(xi===null)try{new FormData(document.createElement("form"),0),xi=!1}catch{xi=!0}return xi}var wj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function co(e){return e!=null&&!wj.has(e)?(ke(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Di}"`),null):e}function _j(e,t){let n,r,a,i,o;if(pj(e)){let l=e.getAttribute("action");r=l?jt(l,t):null,n=e.getAttribute("method")||Oi,a=co(e.getAttribute("enctype"))||Di,i=new FormData(e)}else if(gj(e)||xj(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?jt(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Oi,a=co(e.getAttribute("formenctype"))||co(l.getAttribute("enctype"))||Di,i=new FormData(l,e),!bj()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(_s(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oi,r=null,a=Di,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}function tu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function jj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Cj(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await jj(i,n);return o.links?o.links():[]}return[]}));return Ij(r.flat(1).filter(Sj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eh(e,t,n,r,a,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Rj(e,t,{includeHydrateFallback:n}={}){return Ej(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Ej(e){return[...new Set(e)]}function Tj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ij(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(Tj(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kj=new Set([100,101,204,205]);function Lj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&jt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Fg(){let e=b.useContext(sr);return tu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Pj(){let e=b.useContext(Ya);return tu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nu=b.createContext(void 0);nu.displayName="FrameworkContext";function Mg(){let e=b.useContext(nu);return tu(e,"You must render this element inside a <HydratedRouter> element"),e}function Aj(e,t){let n=b.useContext(nu),[r,a]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=x=>{x.forEach(j=>{o(j.isIntersecting)})},g=new IntersectionObserver(y,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),b.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:aa(l,p),onBlur:aa(c,m),onMouseEnter:aa(u,p),onMouseLeave:aa(d,m),onTouchStart:aa(h,p)}]:[!1,f,{}]}function aa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Oj({page:e,...t}){let{router:n}=Fg(),r=b.useMemo(()=>vn(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(Nj,{page:e,matches:r,...t}):null}function Dj(e){let{manifest:t,routeModules:n}=Mg(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return Cj(e,t,n).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,n]),r}function Nj({page:e,matches:t,...n}){let r=Dt(),{manifest:a,routeModules:i}=Mg(),{basename:o}=Fg(),{loaderData:l,matches:c}=Pj(),u=b.useMemo(()=>eh(e,t,c,a,r,"data"),[e,t,c,a,r]),d=b.useMemo(()=>eh(e,t,c,a,r,"assets"),[e,t,c,a,r]),h=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(t.forEach(x=>{var w;let j=a.routes[x.route.id];!j||!j.hasLoader||(!u.some(S=>S.route.id===x.route.id)&&x.route.id in l&&((w=i[x.route.id])!=null&&w.shouldRevalidate)||j.hasClientLoader?y=!0:m.add(x.route.id))}),m.size===0)return[];let g=Lj(e,o);return y&&m.size>0&&g.searchParams.set("_routes",t.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[g.pathname+g.search]},[o,l,r,a,u,t,e,i]),f=b.useMemo(()=>Rj(d,a),[d,a]),p=Dj(d);return b.createElement(b.Fragment,null,h.map(m=>b.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>b.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>b.createElement("link",{key:m,...y})))}function $j(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ug&&(window.__reactRouterVersion="7.6.2")}catch{}function Fj(e,t){return Sg({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:Ww({window:t==null?void 0:t.window}),hydrationData:zg(),routes:e,mapRouteProperties:Ng,hydrationRouteProperties:$g,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Mj(e,t){return Sg({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:Gw({window:t==null?void 0:t.window}),hydrationData:zg(),routes:e,mapRouteProperties:Ng,hydrationRouteProperties:$g,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function zg(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Uj(e.errors)}),e}function Uj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new Xi(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}var qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},p){let{basename:m}=b.useContext(Ot),y=typeof u=="string"&&qg.test(u),g,x=!1;if(typeof u=="string"&&y&&(g=u,Ug))try{let T=new URL(window.location.href),F=u.startsWith("//")?new URL(T.protocol+u):new URL(u),K=jt(F.pathname,m);F.origin===T.origin&&K!=null?u=K+F.search+F.hash:x=!0}catch{ke(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=K_(u,{relative:a}),[w,S,C]=Aj(r,f),v=Bj(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function L(T){t&&t(T),T.defaultPrevented||v(T)}let E=b.createElement("a",{...f,...C,href:g||j,onClick:x||i?t:L,ref:$j(p,S),target:c,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?b.createElement(b.Fragment,null,E,b.createElement(Oj,{page:j})):E});It.displayName="Link";var zj=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let h=Wa(o,{relative:u.relative}),f=Dt(),p=b.useContext(Ya),{navigator:m,basename:y}=b.useContext(Ot),g=p!=null&&Gj(h)&&l===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,j=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(j=j.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=jt(w,y)||w);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=j===x||!a&&j.startsWith(x)&&j.charAt(S)==="/",v=w!=null&&(w===x||!a&&w.startsWith(x)&&w.charAt(x.length)==="/"),L={isActive:C,isPending:v,isTransitioning:g},E=C?t:void 0,T;typeof r=="function"?T=r(L):T=[r,C?"active":null,v?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(L):i;return b.createElement(It,{...u,"aria-current":E,className:T,ref:d,style:F,to:o,viewTransition:l},typeof c=="function"?c(L):c)});zj.displayName="NavLink";var qj=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:o=Oi,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},p)=>{let m=Yj(),y=Wj(l,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&qg.test(l),j=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let S=w.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||o;m(S||w.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:p,method:g,action:y,onSubmit:r?c:j,...f,"data-discover":!x&&e==="render"?"true":void 0})});qj.displayName="Form";function Hj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hg(e){let t=b.useContext(sr);return fe(t,Hj(e)),t}function Bj(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=ln(),c=Dt(),u=Wa(e,{relative:i});return b.useCallback(d=>{if(vj(d,t)){d.preventDefault();let h=n!==void 0?n:rn(c)===rn(u);l(e,{replace:h,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,n,r,t,e,a,i,o])}var Vj=0,Kj=()=>`__${String(++Vj)}__`;function Yj(){let{router:e}=Hg("useSubmit"),{basename:t}=b.useContext(Ot),n=sj();return b.useCallback(async(r,a={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=_j(r,t);if(a.navigate===!1){let d=a.fetcherKey||Kj();await e.fetch(d,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Wj(e,{relative:t}={}){let{basename:n}=b.useContext(Ot),r=b.useContext(Ct);fe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Wa(e||".",{relative:t})},o=Dt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Kt([n,i.pathname])),rn(i)}function Gj(e,t={}){let n=b.useContext(Zc);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Hg("useViewTransitionState"),a=Wa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Da(a.pathname,o)!=null||Da(a.pathname,i)!=null}[...kj];const Jj=e=>({locale:e.locale,space:{size:Iv},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?zl.darkAlgorithm:zl.defaultAlgorithm,token:{colorPrimary:ir,fontFamily:"inherit"}}}),Zj=e=>{ql.config({holderRender(t){return s.jsx(ql,{...e,children:t})}})},Xj=e=>{const{isDark:t}=ps(),{language:n}=$r(),r=b.useMemo(()=>Gi[n].antd,[n]),a=b.useMemo(()=>Jj({isDarkTheme:t,locale:r}),[t,r]);return b.useLayoutEffect(()=>{Zj(a)},[a]),s.jsx(ql,{...a,children:e.children})},Bg="3.7.7",Qj=Bg,Ur=typeof Buffer=="function",th=typeof TextDecoder=="function"?new TextDecoder:void 0,nh=typeof TextEncoder=="function"?new TextEncoder:void 0,e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ba=Array.prototype.slice.call(e0),yi=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(ba),t0=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ye=String.fromCharCode.bind(String),rh=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Vg=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Kg=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Yg=e=>{let t,n,r,a,i="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=ba[t>>18&63]+ba[t>>12&63]+ba[t>>6&63]+ba[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},ru=typeof btoa=="function"?e=>btoa(e):Ur?e=>Buffer.from(e,"binary").toString("base64"):Yg,ic=Ur?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Ye.apply(null,e.subarray(r,r+4096)));return ru(n.join(""))},Ni=(e,t=!1)=>t?Vg(ic(e)):ic(e),n0=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ye(192|t>>>6)+Ye(128|t&63):Ye(224|t>>>12&15)+Ye(128|t>>>6&63)+Ye(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ye(240|t>>>18&7)+Ye(128|t>>>12&63)+Ye(128|t>>>6&63)+Ye(128|t&63)}},r0=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Wg=e=>e.replace(r0,n0),ah=Ur?e=>Buffer.from(e,"utf8").toString("base64"):nh?e=>ic(nh.encode(e)):e=>ru(Wg(e)),Cr=(e,t=!1)=>t?Vg(ah(e)):ah(e),ih=e=>Cr(e,!0),a0=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,i0=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Ye((n>>>10)+55296)+Ye((n&1023)+56320);case 3:return Ye((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ye((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Gg=e=>e.replace(a0,i0),Jg=e=>{if(e=e.replace(/\s+/g,""),!t0.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let i=0;i<e.length;)t=yi[e.charAt(i++)]<<18|yi[e.charAt(i++)]<<12|(r=yi[e.charAt(i++)])<<6|(a=yi[e.charAt(i++)]),n+=r===64?Ye(t>>16&255):a===64?Ye(t>>16&255,t>>8&255):Ye(t>>16&255,t>>8&255,t&255);return n},au=typeof atob=="function"?e=>atob(Kg(e)):Ur?e=>Buffer.from(e,"base64").toString("binary"):Jg,Zg=Ur?e=>rh(Buffer.from(e,"base64")):e=>rh(au(e).split("").map(t=>t.charCodeAt(0))),Xg=e=>Zg(Qg(e)),s0=Ur?e=>Buffer.from(e,"base64").toString("utf8"):th?e=>th.decode(Zg(e)):e=>Gg(au(e)),Qg=e=>Kg(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),sc=e=>s0(Qg(e)),o0=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},ep=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),tp=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,ep(n));e("fromBase64",function(){return sc(this)}),e("toBase64",function(t){return Cr(this,t)}),e("toBase64URI",function(){return Cr(this,!0)}),e("toBase64URL",function(){return Cr(this,!0)}),e("toUint8Array",function(){return Xg(this)})},np=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,ep(n));e("toBase64",function(t){return Ni(this,t)}),e("toBase64URI",function(){return Ni(this,!0)}),e("toBase64URL",function(){return Ni(this,!0)})},l0=()=>{tp(),np()},oc={version:Bg,VERSION:Qj,atob:au,atobPolyfill:Jg,btoa:ru,btoaPolyfill:Yg,fromBase64:sc,toBase64:Cr,encode:Cr,encodeURI:ih,encodeURL:ih,utob:Wg,btou:Gg,decode:sc,isValid:o0,fromUint8Array:Ni,toUint8Array:Xg,extendString:tp,extendUint8Array:np,extendBuiltins:l0};function rp(e,t){return function(){return e.apply(t,arguments)}}const{toString:c0}=Object.prototype,{getPrototypeOf:iu}=Object,{iterator:js,toStringTag:ap}=Symbol,Ss=(e=>t=>{const n=c0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=e=>(e=e.toLowerCase(),t=>Ss(t)===e),Cs=e=>t=>typeof t===e,{isArray:zr}=Array,$a=Cs("undefined");function u0(e){return e!==null&&!$a(e)&&e.constructor!==null&&!$a(e.constructor)&&dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ip=Nt("ArrayBuffer");function d0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ip(e.buffer),t}const h0=Cs("string"),dt=Cs("function"),sp=Cs("number"),Rs=e=>e!==null&&typeof e=="object",f0=e=>e===!0||e===!1,$i=e=>{if(Ss(e)!=="object")return!1;const t=iu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ap in e)&&!(js in e)},m0=Nt("Date"),g0=Nt("File"),p0=Nt("Blob"),x0=Nt("FileList"),y0=e=>Rs(e)&&dt(e.pipe),v0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dt(e.append)&&((t=Ss(e))==="formdata"||t==="object"&&dt(e.toString)&&e.toString()==="[object FormData]"))},b0=Nt("URLSearchParams"),[w0,_0,j0,S0]=["ReadableStream","Request","Response","Headers"].map(Nt),C0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ga(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),zr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function op(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lp=e=>!$a(e)&&e!==Kn;function lc(){const{caseless:e}=lp(this)&&this||{},t={},n=(r,a)=>{const i=e&&op(t,a)||a;$i(t[i])&&$i(r)?t[i]=lc(t[i],r):$i(r)?t[i]=lc({},r):zr(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ga(arguments[r],n);return t}const R0=(e,t,n,{allOwnKeys:r}={})=>(Ga(t,(a,i)=>{n&&dt(a)?e[i]=rp(a,n):e[i]=a},{allOwnKeys:r}),e),E0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),T0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},I0=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&iu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},k0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},L0=e=>{if(!e)return null;if(zr(e))return e;let t=e.length;if(!sp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},P0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iu(Uint8Array)),A0=(e,t)=>{const r=(e&&e[js]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},O0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},D0=Nt("HTMLFormElement"),N0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),sh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$0=Nt("RegExp"),cp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ga(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},F0=e=>{cp(e,(t,n)=>{if(dt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},M0=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return zr(e)?r(e):r(String(e).split(t)),n},U0=()=>{},z0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function q0(e){return!!(e&&dt(e.append)&&e[ap]==="FormData"&&e[js])}const H0=e=>{const t=new Array(10),n=(r,a)=>{if(Rs(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=zr(r)?[]:{};return Ga(r,(o,l)=>{const c=n(o,a+1);!$a(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},B0=Nt("AsyncFunction"),V0=e=>e&&(Rs(e)||dt(e))&&dt(e.then)&&dt(e.catch),up=((e,t)=>e?setImmediate:t?((n,r)=>(Kn.addEventListener("message",({source:a,data:i})=>{a===Kn&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Kn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dt(Kn.postMessage)),K0=typeof queueMicrotask<"u"?queueMicrotask.bind(Kn):typeof process<"u"&&process.nextTick||up,Y0=e=>e!=null&&dt(e[js]),k={isArray:zr,isArrayBuffer:ip,isBuffer:u0,isFormData:v0,isArrayBufferView:d0,isString:h0,isNumber:sp,isBoolean:f0,isObject:Rs,isPlainObject:$i,isReadableStream:w0,isRequest:_0,isResponse:j0,isHeaders:S0,isUndefined:$a,isDate:m0,isFile:g0,isBlob:p0,isRegExp:$0,isFunction:dt,isStream:y0,isURLSearchParams:b0,isTypedArray:P0,isFileList:x0,forEach:Ga,merge:lc,extend:R0,trim:C0,stripBOM:E0,inherits:T0,toFlatObject:I0,kindOf:Ss,kindOfTest:Nt,endsWith:k0,toArray:L0,forEachEntry:A0,matchAll:O0,isHTMLForm:D0,hasOwnProperty:sh,hasOwnProp:sh,reduceDescriptors:cp,freezeMethods:F0,toObjectSet:M0,toCamelCase:N0,noop:U0,toFiniteNumber:z0,findKey:op,global:Kn,isContextDefined:lp,isSpecCompliantForm:q0,toJSONObject:H0,isAsyncFn:B0,isThenable:V0,setImmediate:up,asap:K0,isIterable:Y0};function ue(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}k.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const dp=ue.prototype,hp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hp[e]={value:e}});Object.defineProperties(ue,hp);Object.defineProperty(dp,"isAxiosError",{value:!0});ue.from=(e,t,n,r,a,i)=>{const o=Object.create(dp);return k.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ue.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const W0=null;function cc(e){return k.isPlainObject(e)||k.isArray(e)}function fp(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function oh(e,t,n){return e?e.concat(t).map(function(a,i){return a=fp(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function G0(e){return k.isArray(e)&&!e.some(cc)}const J0=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Es(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!k.isUndefined(g[y])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(k.isBoolean(m))return m.toString();if(!c&&k.isBlob(m))throw new ue("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,g){let x=m;if(m&&!g&&typeof m=="object"){if(k.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&G0(m)||(k.isFileList(m)||k.endsWith(y,"[]"))&&(x=k.toArray(m)))return y=fp(y),x.forEach(function(w,S){!(k.isUndefined(w)||w===null)&&t.append(o===!0?oh([y],S,i):o===null?y:y+"[]",u(w))}),!1}return cc(m)?!0:(t.append(oh(g,y,i),u(m)),!1)}const h=[],f=Object.assign(J0,{defaultVisitor:d,convertValue:u,isVisitable:cc});function p(m,y){if(!k.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),k.forEach(m,function(x,j){(!(k.isUndefined(x)||x===null)&&a.call(t,x,k.isString(j)?j.trim():j,y,f))===!0&&p(x,y?y.concat(j):[j])}),h.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return p(e),t}function lh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function su(e,t){this._pairs=[],e&&Es(e,this,t)}const mp=su.prototype;mp.append=function(t,n){this._pairs.push([t,n])};mp.toString=function(t){const n=t?function(r){return t.call(this,r,lh)}:lh;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Z0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gp(e,t,n){if(!t)return e;const r=n&&n.encode||Z0;k.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=k.isURLSearchParams(t)?t.toString():new su(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ch{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const pp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X0=typeof URLSearchParams<"u"?URLSearchParams:su,Q0=typeof FormData<"u"?FormData:null,eS=typeof Blob<"u"?Blob:null,tS={isBrowser:!0,classes:{URLSearchParams:X0,FormData:Q0,Blob:eS},protocols:["http","https","file","blob","url","data"]},ou=typeof window<"u"&&typeof document<"u",uc=typeof navigator=="object"&&navigator||void 0,nS=ou&&(!uc||["ReactNative","NativeScript","NS"].indexOf(uc.product)<0),rS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aS=ou&&window.location.href||"http://localhost",iS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ou,hasStandardBrowserEnv:nS,hasStandardBrowserWebWorkerEnv:rS,navigator:uc,origin:aS},Symbol.toStringTag,{value:"Module"})),Ze={...iS,...tS};function sS(e,t){return Es(e,new Ze.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Ze.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function oS(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lS(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function xp(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&k.isArray(a)?a.length:o,c?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&k.isArray(a[o])&&(a[o]=lS(a[o])),!l)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,a)=>{t(oS(r),a,n,0)}),n}return null}function cS(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ja={transitional:pp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(xp(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sS(t,this.formSerializer).toString();if((l=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Es(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),cS(t)):t}],transformResponse:[function(t){const n=this.transitional||Ja.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ue.from(l,ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{Ja.headers[e]={}});const uS=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dS=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&uS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},uh=Symbol("internals");function ia(e){return e&&String(e).trim().toLowerCase()}function Fi(e){return e===!1||e==null?e:k.isArray(e)?e.map(Fi):String(e)}function hS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const fS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uo(e,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function mS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gS(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let ht=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const d=ia(c);if(!d)throw new Error("header name must be a non-empty string");const h=k.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Fi(l))}const o=(l,c)=>k.forEach(l,(u,d)=>i(u,d,c));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!fS(t))o(dS(t),n);else if(k.isObject(t)&&k.isIterable(t)){let l={},c,u;for(const d of t){if(!k.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?k.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ia(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return hS(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ia(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||uo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=ia(o),o){const l=k.findKey(r,o);l&&(!n||uo(r,r[l],l,n))&&(delete r[l],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||uo(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){n[o]=Fi(a),delete n[i];return}const l=t?mS(i):String(i).trim();l!==i&&delete n[i],n[l]=Fi(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[uh]=this[uh]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=ia(o);r[l]||(gS(a,o),r[l]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ht.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(ht);function ho(e,t){const n=this||Ja,r=t||n,a=ht.from(r.headers);let i=r.data;return k.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function yp(e){return!!(e&&e.__CANCEL__)}function qr(e,t,n){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(qr,ue,{__CANCEL__:!0});function vp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[a]=c,r[a]=u;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function yS(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const es=(e,t,n=3)=>{let r=0;const a=xS(50,250);return yS(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},dh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},hh=e=>(...t)=>k.asap(()=>e(...t)),vS=Ze.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ze.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,bS=Ze.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _S(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bp(e,t,n){let r=!wS(t);return e&&(r||n==!1)?_S(e,t):t}const fh=e=>e instanceof ht?{...e}:e;function Qn(e,t){t=t||{};const n={};function r(u,d,h,f){return k.isPlainObject(u)&&k.isPlainObject(d)?k.merge.call({caseless:f},u,d):k.isPlainObject(d)?k.merge({},d):k.isArray(d)?d.slice():d}function a(u,d,h,f){if(k.isUndefined(d)){if(!k.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!k.isUndefined(d))return r(void 0,d)}function o(u,d){if(k.isUndefined(d)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(fh(u),fh(d),h,!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||a,f=h(e[d],t[d],d);k.isUndefined(f)&&h!==l||(n[d]=f)}),n}const wp=e=>{const t=Qn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=ht.from(o),t.url=gp(bp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(k.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ze.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&vS(t.url))){const u=a&&i&&bS.read(i);u&&o.set(a,u)}return t},jS=typeof XMLHttpRequest<"u",SS=jS&&function(e){return new Promise(function(n,r){const a=wp(e);let i=a.data;const o=ht.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,p,m;function y(){p&&p(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function x(){if(!g)return;const w=ht.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};vp(function(L){n(L),y()},function(L){r(L),y()},C),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(r(new ue("Request aborted",ue.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||pp;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),r(new ue(S,C.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&k.forEach(o.toJSON(),function(S,C){g.setRequestHeader(C,S)}),k.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([f,m]=es(u,!0),g.addEventListener("progress",f)),c&&g.upload&&([h,p]=es(c),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=w=>{g&&(r(!w||w.type?new qr(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const j=pS(a.url);if(j&&Ze.protocols.indexOf(j)===-1){r(new ue("Unsupported protocol "+j+":",ue.ERR_BAD_REQUEST,e));return}g.send(i||null)})},CS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ue?d:new qr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>k.asap(l),c}},RS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},ES=async function*(e,t){for await(const n of TS(e))yield*RS(n,t)},TS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},mh=(e,t,n,r)=>{const a=ES(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Ts=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_p=Ts&&typeof ReadableStream=="function",IS=Ts&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kS=_p&&jp(()=>{let e=!1;const t=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gh=64*1024,dc=_p&&jp(()=>k.isReadableStream(new Response("").body)),ts={stream:dc&&(e=>e.body)};Ts&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ts[t]&&(ts[t]=k.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ue(`Response type '${t}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const LS=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(Ze.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await IS(e)).byteLength},PS=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??LS(t)},AS=Ts&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=wp(e);u=u?(u+"").toLowerCase():"text";let p=CS([a,i&&i.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&kS&&n!=="get"&&n!=="head"&&(g=await PS(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),v;if(k.isFormData(r)&&(v=C.headers.get("content-type"))&&d.setContentType(v),C.body){const[L,E]=dh(g,es(hh(c)));r=mh(C.body,gh,L,E)}}k.isString(h)||(h=h?"include":"omit");const x="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:x?h:void 0});let j=await fetch(m,f);const w=dc&&(u==="stream"||u==="response");if(dc&&(l||w&&y)){const C={};["status","statusText","headers"].forEach(T=>{C[T]=j[T]});const v=k.toFiniteNumber(j.headers.get("content-length")),[L,E]=l&&dh(v,es(hh(l),!0))||[];j=new Response(mh(j.body,gh,L,()=>{E&&E(),y&&y()}),C)}u=u||"text";let S=await ts[k.findKey(ts,u)||"text"](j,e);return!w&&y&&y(),await new Promise((C,v)=>{vp(C,v,{data:S,headers:ht.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:m})})}catch(x){throw y&&y(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,e,m),{cause:x.cause||x}):ue.from(x,x&&x.code,e,m)}}),hc={http:W0,xhr:SS,fetch:AS};k.forEach(hc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ph=e=>`- ${e}`,OS=e=>k.isFunction(e)||e===null||e===!1,Sp={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!OS(n)&&(r=hc[(o=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ph).join(`
`):" "+ph(i[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:hc};function fo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qr(null,e)}function xh(e){return fo(e),e.headers=ht.from(e.headers),e.data=ho.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sp.getAdapter(e.adapter||Ja.adapter)(e).then(function(r){return fo(e),r.data=ho.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return yp(r)||(fo(e),r&&r.response&&(r.response.data=ho.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Cp="1.10.0",Is={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Is[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const yh={};Is.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Cp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new ue(a(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!yh[o]&&(yh[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Is.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function DS(e,t,n){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ue("option "+i+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Mi={assertOptions:DS,validators:Is},Ft=Mi.validators;let Jn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ch,response:new ch}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Qn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Mi.assertOptions(r,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:Mi.assertOptions(a,{encode:Ft.function,serialize:Ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mi.assertOptions(n,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[n.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=ht.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!c){const m=[xh.bind(this),void 0];for(m.unshift.apply(m,l),m.push.apply(m,u),f=m.length,d=Promise.resolve(n);h<f;)d=d.then(m[h++],m[h++]);return d}f=l.length;let p=n;for(h=0;h<f;){const m=l[h++],y=l[h++];try{p=m(p)}catch(g){y.call(this,g);break}}try{d=xh.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Qn(this.defaults,t);const n=bp(t.baseURL,t.url,t.allowAbsoluteUrls);return gp(n,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){Jn.prototype[t]=function(n,r){return this.request(Qn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Qn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Jn.prototype[t]=n(),Jn.prototype[t+"Form"]=n(!0)});let NS=class Rp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new qr(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Rp(function(a){t=a}),cancel:t}}};function $S(e){return function(n){return e.apply(null,n)}}function FS(e){return k.isObject(e)&&e.isAxiosError===!0}const fc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fc).forEach(([e,t])=>{fc[t]=e});function Ep(e){const t=new Jn(e),n=rp(Jn.prototype.request,t);return k.extend(n,Jn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Ep(Qn(e,a))},n}const Pe=Ep(Ja);Pe.Axios=Jn;Pe.CanceledError=qr;Pe.CancelToken=NS;Pe.isCancel=yp;Pe.VERSION=Cp;Pe.toFormData=Es;Pe.AxiosError=ue;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=$S;Pe.isAxiosError=FS;Pe.mergeConfig=Qn;Pe.AxiosHeaders=ht;Pe.formToJSON=e=>xp(k.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=Sp.getAdapter;Pe.HttpStatusCode=fc;Pe.default=Pe;const{Axios:bk,AxiosError:wk,CanceledError:_k,isCancel:jk,CancelToken:Sk,VERSION:Ck,all:Rk,Cancel:Ek,isAxiosError:Tk,spread:Ik,toFormData:kk,AxiosHeaders:Lk,HttpStatusCode:Pk,formToJSON:Ak,getAdapter:Ok,mergeConfig:Dk}=Pe,ks={LOGIN:"/auth/login",CHECK_TOKEN:"/auth/check",RENEWAL_TOKEN:"/auth/renewal"};function MS(e){return ee.post(ks.LOGIN,{password:oc.encode(e)}).then(t=>t.result)}function US(){return ee.post(ks.RENEWAL_TOKEN).then(e=>e.result)}function zS(){return ee.post(ks.CHECK_TOKEN).then(e=>e.result)}const Tp=e=>localStorage.getItem(e),Ip=(e,t)=>localStorage.setItem(e,t),qS=e=>{localStorage.removeItem(e)},HS=(e,t)=>{Ip(e,JSON.stringify(t))},BS=e=>{const t=Tp(e);return typeof t=="string"?JSON.parse(t):null},tn={get:Tp,set:Ip,remove:qS,setJSON:HS,getJSON:BS},lu="id_token",cu="token_birth_time",uu="token_expires_in",kp=()=>tn.get(lu),Lp=(e,t)=>{tn.set(lu,e),tn.set(uu,String(t)),tn.set(cu,String(+new Date/1e3))},Ls=()=>{tn.remove(lu),tn.remove(uu),tn.remove(cu)},Pp=()=>{const e=kp();return(e==null?void 0:e.split(".").length)===3},Ap=()=>{const e=Number(localStorage.getItem(uu)),n=Number(localStorage.getItem(cu))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},ns={getToken:kp,setToken:Lp,removeToken:Ls,isTokenValid:Pp,getTokenCountdown:Ap};let mc=null;const Op=()=>{typeof mc=="number"&&window.clearTimeout(mc)},Dp=()=>{Op();const t=Ap()-10;console.debug("Token auto-renewal is working.",`Token will be updated automatically after ${t}s!`),mc=window.setTimeout(()=>{US().then(n=>{Lp(n.access_token,n.expires_in),Dp()})},t*1e3)},VS="_appLoading_19idb_1",KS={appLoading:VS},Np=600,vh=200,YS={transitionProperty:"all",transitionDuration:`${vh}ms`,transitionDelay:`${Np-vh}ms`,backgroundColor:"transparent",opacity:0},WS=e=>{const t=ln(),{i18n:n}=Ve(),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),u=async()=>{try{a(!0),console.debug("Token verifying..."),await(Pp()?Promise.resolve():Promise.reject("The local token is invalid")),await zS(),console.debug("Token verification successful."),a(!1),Dp(),o(!0),setTimeout(()=>c(!0),Np)}catch(d){console.debug("Invalid token, need to log in again.",d),zt.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),Ls(),t(Xe[ge.Hello])}};return Ce(()=>u()),Wc(()=>Op()),s.jsxs("div",{id:"app-auth",children:[i&&e.children,!l&&s.jsx(me,{align:"center",justify:"center",className:KS.appLoading,style:i?YS:{},children:s.jsxs(P,{direction:"vertical",align:"center",children:[s.jsx(at,{indicator:s.jsx(my,{spin:!0,style:{fontSize:48}})}),s.jsx(B.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},mo=(e=!1)=>{const[t,n]=b.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}},$p="/option",GS="/archive",Fp={STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function JS(){return ee.get(Fp.STATISTIC).then(e=>e.result)}function ZS(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return ee.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function XS(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return ee.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function QS(){return ee.patch(GS).then(e=>e.result)}function eC(){return ee.patch(Fp.DATA_BASE_BACKUP).then(e=>e.result)}function tC(){return ee.get($p).then(e=>e.result)}function nC(e){return ee.put($p,e).then(t=>t.result)}const Mp={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function rC(e){return ee.post(Mp.BATCH_RUN_REPORTS,e)}function aC(e){return ee.post(Mp.RUN_REALTIME_REPORT,e)}const sa=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),iC=e=>{var t;return((t=e[0])==null?void 0:t.rows)||[]},sC=e=>{var t;return((t=e[1])==null?void 0:t.rows)||[]},oC=e=>{var t;return((t=e[2])==null?void 0:t.rows)||[]},lC=e=>{var t;return((t=e[3])==null?void 0:t.rows)||[]},cC=e=>{var t;return((t=e[4])==null?void 0:t.rows)||[]},uC=async(e,t,n)=>rC({requests:[sa({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),sa({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),sa({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),sa({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),sa({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),Ui=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>Je().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>Je().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>Je().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>Je().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],dC=127397,du=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+dC)),hC=e=>{try{return!!new Intl.DisplayNames("en",{type:"region",fallback:"code"}).of(e)}catch{return!1}},fC=(e,t=navigator.language)=>{try{return new Intl.DisplayNames([t],{type:"region"}).of(e)??null}catch{return null}};iv([lv,cv,uv,dv,hv,fv]);const hu=Dr.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useRef(),a=()=>{var i;(i=r.current)==null||i.resize({animation:{duration:300}})};return b.useEffect(()=>{var i;n.current&&(r.current=sv(n.current)??ov(n.current,null,{renderer:"svg"}),e.options&&((i=r.current)==null||i.setOption(e.options)))},[n,e.options]),b.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),b.useImperativeHandle(t,()=>({instance:()=>r.current})),s.jsx("div",{ref:n,className:e.className,style:e.style})}),Up=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:ir,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});var go,bh;function mC(){if(bh)return go;bh=1;function e(t){return t==null}return go=e,go}var gC=mC();const pC=At(gC);function Za(e){var n;if(pC(e.data))return s.jsx(B.Text,{type:"secondary",children:e.placeholder??"-"});const t=(n=e.children)==null?void 0:n.call(e,e.data);return typeof t=="string"||typeof t=="number"?s.jsx("span",{children:t}):t||null}const ne=e=>s.jsxs(P,{size:"small",className:e.className,children:[e.prefix,s.jsx(Za,{data:e.text,placeholder:e.placeholder,children:t=>s.jsx(B.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?s.jsx("small",{children:t}):t})}),e.suffix]}),wh=e=>aC({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),xC=e=>{const t=b.useRef(),n=b.useRef(!1),[r,a]=b.useState([]),[i,o]=b.useState([]),l=b.useMemo(()=>{const f=[],p=[];return Array.from({length:30},(m,y)=>{const g=String(Math.abs(y-30)).padStart(2,"0"),x=r.find(w=>w.dimensionValues[0].value===g),j=x==null?void 0:x.metricValues[0].value;f.push(g),p.push(j?Number(j):0)}),{timeList:f,valueList:p}},[r]),c=b.useMemo(()=>l.valueList.reduce((f,p)=>f+p,0),[l]),u=b.useMemo(()=>Up({xLabelFormatter:f=>`-${Number(f)}分钟`,tooltipLabelFormatter:({value:f})=>`${Number(f)} 分钟前`,categoryData:l.timeList,barsData:[{data:l.valueList,name:"Active Users",color:ir}]}),[l]),d=()=>{window.clearTimeout(t.current);const f=wh(["minutesAgo"]).then(m=>{a(m.result.data.rows??[])}),p=wh(["countryId","city"]).then(m=>{o(m.result.data.rows??[])});Promise.all([f,p]).then(()=>{n.current||(t.current=window.setTimeout(d,e.pollIntervalSeconds*1e3))})};Ce(()=>{d()}),Wc(()=>{n.current=!0,window.clearTimeout(t.current)});const h=f=>s.jsx(nn,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:f,renderItem:(p,m)=>s.jsx(nn.Item,{style:{paddingInline:0},children:s.jsxs(me,{justify:"space-between",children:[p.dimensionValues[0].value.includes("other")?s.jsx(ne,{text:"__",prefix:"🌍",suffix:s.jsx(ne,{text:p.dimensionValues[1].value,type:"secondary",small:!0})}):s.jsx(ne,{text:p.dimensionValues[0].value,prefix:du(p.dimensionValues[0].value),suffix:s.jsx(ne,{text:p.dimensionValues[1].value,type:"secondary",small:!0})}),s.jsx(ne,{text:p.metricValues[0].value,type:"secondary"})]})},m)});return s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{xs:16,children:s.jsx(hu,{options:u,style:{width:"100%",height:e.chartHeight}})}),s.jsxs($e,{xs:8,children:[s.jsx(Sn,{prefix:s.jsx(rr,{}),title:"Active Users",value:c}),s.jsx(oe,{style:{marginBottom:0,marginTop:14}}),i.length?h(i):s.jsx(gy,{image:null,styles:{image:{height:"1rem"}}})]})]})},yC=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),_h={users:0,views:0,events:0},oa={users:ir,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},vC=e=>{const t=b.useMemo(()=>Ui.find(i=>i.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=b.useMemo(()=>t.xAxisList(),[t]),r=b.useMemo(()=>{let i=0,o=0,l=0;const c=new Map(n.map(u=>[u,{..._h}]));return e.rows.forEach(u=>{const d=u.dimensionValues[0].value,[h,f,p]=u.metricValues.map(y=>Number(y.value)),m=c.get(d)??{..._h};m.users+=h,m.views+=f,m.events+=p,c.set(d,m),i+=h,o+=f,l+=p}),{totalUsers:i,totalViews:o,totalEvents:l,map:c}},[n,e.rows]),a=b.useMemo(()=>{const i=[...r.map.values()],o=i.map(c=>c.users),l=i.map(c=>c.views);return i.map(c=>c.events),yC({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:oa.users},{data:l,name:"Page Views",zIndex:2,color:oa.views}]})},[r]);return s.jsxs(me,{gap:"large",children:[s.jsx(hu,{options:a,style:{width:"100%",height:e.chartHeight}}),s.jsxs(P,{direction:"vertical",size:"small",style:{width:120},children:[s.jsx(Sn,{value:r.totalUsers,title:s.jsxs(me,{justify:"space-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx(Ys,{style:{color:oa.users}})]})}),s.jsx(Sn,{value:r.totalViews,title:s.jsxs(me,{justify:"space-between",children:[s.jsx("span",{children:"Page Views"}),s.jsx(Ys,{style:{color:oa.views}})]})}),s.jsx(Sn,{value:r.totalEvents,title:s.jsxs(me,{justify:"space-between",children:[s.jsx("span",{children:"Event Count"}),s.jsx(Ys,{style:{color:oa.events}})]})})]})]})},bC="_childList_p2pes_1",wC="_listItem_p2pes_5",_C="_listItemPercent_p2pes_9",jC="_percentCore_p2pes_15",xr={childList:bC,listItem:wC,listItemPercent:_C,percentCore:jC},SC=e=>{const t=e.data.children??[],[n,r]=b.useState(e.defaultExpanded??!0),a=b.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),i=()=>{var l,c;return s.jsx(ne,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?(l=e.labelPrefix)==null?void 0:l.call(e,e.data):e.labelPrefix,suffix:s.jsxs(s.Fragment,{children:[typeof e.labelSuffix=="function"?(c=e.labelSuffix)==null?void 0:c.call(e,e.data):e.labelSuffix,t!=null&&t.length?s.jsx(z,{type:"text",size:"small",icon:n?s.jsx(xy,{}):s.jsx(yy,{}),onClick:()=>r(!n)}):null]})})},o=()=>s.jsxs("ul",{className:xr.childList,children:[t.slice(0,e.limit).map(l=>s.jsx("li",{className:xr.childItem,children:s.jsxs(me,{justify:"space-between",children:[s.jsx(ne,{text:l.name}),s.jsx(ne,{text:l.value,type:"secondary"})]})},l.name)),e.limit&&t.length>e.limit&&s.jsx("li",{className:xr.childItem,children:s.jsx(py,{})})]});return s.jsxs(nn.Item,{className:xr.listItem,children:[s.jsx("div",{className:xr.listItemPercent,children:s.jsx("div",{className:xr.percentCore,style:{width:`${a}%`}})}),s.jsxs(me,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):i(),s.jsx("span",{children:e.data.value})]}),t!=null&&t.length&&n?o():null]})},Ps=e=>{const t=b.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[i,o]=a.dimensionValues.map(u=>u.value),l=Number(a.metricValues[0].value),c=r.get(i)??{value:0};c.value+=l,c.name=i,o&&(c.children=c.children||[],c.children.push({name:o,value:l})),r.set(i,c)}),[...r.values()]},[e.rows]),n=b.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return s.jsx(nn,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>s.jsx(SC,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},CC=e=>{const{language:t}=$r();return s.jsx(Ps,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:({name:n})=>hC(n)?du(n):"🌍",labelSuffix:n=>fC(n.name,t)??""})},RC=e=>e==="Windows"?s.jsx(vy,{}):e==="Macintosh"?s.jsx(Ju,{}):e==="iOS"?s.jsx(Ju,{}):e==="Android"?s.jsx(by,{}):e==="Linux"?s.jsx(wy,{}):e.includes("Chrome")?s.jsx(_y,{}):s.jsx(cs,{}),EC=e=>s.jsx(Ps,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>RC(t.name)}),Fa=0;var nt=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(nt||{});const fu=[{id:0,name:"待审核",icon:s.jsx(We,{}),color:"blue"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"},{id:-2,name:"垃圾评论",icon:s.jsx(us,{}),color:"red"},{id:-1,name:"回收站",icon:s.jsx(He,{}),color:"orange"}],TC=new Map(fu.map(e=>[e.id,e])),Ia=e=>TC.get(e),As=e=>{const t=Js.endsWith("/")?Js:`${Js}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},jh=e=>`${Ha}${e}`,zp=`${Ha}/article/`,rs=e=>`${zp}${e}`,IC=e=>`${Ha}/tag/${e}`,kC=e=>`${Ha}/category/${e}`,qp=()=>`${Ha}/guestbook`,LC=e=>e===Fa?qp():rs(e),PC=e=>s.jsx(Ps,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Tn,{placement:"topLeft",title:jh(t.name),children:s.jsx(B.Link,{href:jh(t.name),target:"_blank",children:s.jsxs(P,{size:"small",children:[s.jsx(Tr,{}),t.name]})})})}),AC=e=>s.jsx(Ps,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Tn,{placement:"topLeft",title:t.name,children:s.jsx(B.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function mu(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function OC(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const DC="_statisticCard_kjkfk_1",NC="_icon_kjkfk_4",$C="_link_kjkfk_11",qn={statisticCard:DC,icon:NC,link:$C},vi=e=>s.jsxs(ve,{variant:"borderless",className:qn.statisticCard,children:[s.jsxs(me,{justify:"space-between",children:[s.jsx(Sn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),s.jsx("div",{className:qn.icon,children:e.icon})]}),s.jsx(oe,{size:"middle"}),e.loading?s.jsx(Rc.Input,{block:!0,active:!0,size:"small"}):e.extra]}),FC=(e,t)=>[s.jsx(vi,{loading:t,title:"今日阅读（文章页 PV）",value:(e==null?void 0:e.todayViews)??"-",suffix:"次",icon:s.jsx(Ec,{}),extra:s.jsxs(me,{justify:"space-between",children:[s.jsxs(B.Text,{type:"secondary",children:["累计阅读 ",s.jsx("strong",{children:mu((e==null?void 0:e.totalViews)??0)})]}),s.jsxs(It,{className:qn.link,to:Xe[ge.ArticlePost],children:[s.jsx(We,{})," 写文章"]})]})},"views"),s.jsx(vi,{loading:t,title:"全站评论",value:(e==null?void 0:e.comments)??"-",suffix:"条",icon:s.jsx(za,{}),extra:s.jsxs(me,{justify:"space-between",align:"center",children:[s.jsx(It,{className:qn.link,to:Xe[ge.Comment],children:"管理评论"}),s.jsx(oe,{type:"vertical"}),s.jsx(It,{className:qn.link,to:Xe[ge.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),s.jsx(vi,{loading:t,title:"累计获得喜欢",value:(e==null?void 0:e.totalLikes)??"-",suffix:"次",icon:s.jsx(Tc,{}),extra:s.jsxs(me,{justify:"space-between",children:[s.jsx(jy,{count:5,disabled:!0,allowHalf:!0,value:e==null?void 0:e.averageEmotion}),s.jsx(It,{className:qn.link,to:Xe[ge.Feedback],children:"站点反馈"})]})},"likes"),s.jsx(vi,{loading:t,title:"共发布文章",value:(e==null?void 0:e.articles)??"-",suffix:"篇",icon:s.jsx(hm,{}),extra:s.jsxs(me,{justify:"space-between",children:[s.jsxs(B.Text,{type:"secondary",children:[s.jsx("strong",{children:(e==null?void 0:e.tags)??"-"})," 个文章标签"]}),s.jsx(It,{className:qn.link,to:Xe[ge.Tag],children:"管理标签"})]})},"contents")],MC="YYYY-MM-DD",la="YYYY/MM/DD",UC=e=>{const t=b.useRef(null),n=b.useMemo(()=>Je(),[]),r=b.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const c=Je(e.articleData[0].date),u=Je(e.commentData[0].date);return c.isBefore(u)?c:u},[e.articleData,e.commentData]),a=b.useMemo(()=>{if(!r)return null;const c=new Map(e.articleData.flatMap(m=>[[m.date,m.count]])),u=new Map(e.commentData.flatMap(m=>[[m.date,m.count]])),d=n.diff(r,"day"),h=[],f=[],p=[];for(let m=0;m<=d;m++){const y=r.add(m,"day"),g=y.format(MC),x=y.format(la);h.push(x),f.push(c.get(g)||0),p.push(u.get(g)||0)}return{dateList:h,articleCountList:f,commentCountList:p}},[r,e.articleData,e.commentData]),i=b.useMemo(()=>Up({dataZoom:!0,startValue:n.subtract(3,"months").format(la),endValue:n.format(la),categoryData:(a==null?void 0:a.dateList)??[],barsData:[{data:(a==null?void 0:a.articleCountList)??[],name:"Articles",color:ir},{data:(a==null?void 0:a.commentCountList)??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{var c,u;(u=(c=t.current)==null?void 0:c.instance())==null||u.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},l=c=>{var u,d;(d=(u=t.current)==null?void 0:u.instance())==null||d.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:c.format(la),endValue:Je().format(la)})};return s.jsx(ve,{variant:"borderless",title:e.title,loading:e.loading,extra:s.jsxs(P,{wrap:!0,children:[s.jsxs(P.Compact,{size:"small",children:[s.jsx(z,{onClick:()=>l(Je().subtract(1,"month")),children:"最近一月"}),s.jsx(z,{onClick:()=>l(Je().subtract(3,"months")),children:"最近三个月"}),s.jsx(z,{onClick:()=>l(Je().subtract(1,"year")),children:"最近一年"}),s.jsx(z,{onClick:o,children:"全部视图"})]}),s.jsx(oe,{type:"vertical"}),e.cardExtra]}),children:s.jsx(hu,{ref:t,options:i,style:{width:"100%",height:e.height}})})},zC="_dashboardPage_1jxrl_1",qC="_gaChartContent_1jxrl_4",HC="_gaTreeListContent_1jxrl_8",Fn={dashboardPage:zC,gaChartContent:qC,gaTreeListContent:HC},BC=()=>{const e=mo(),[t,n]=b.useState([]),[r,a]=b.useState([]),i=async()=>{const x=Promise.all([ZS(),XS()]),[j,w]=await e.promise(x);n(j),a(w)},o=mo(),[l,c]=b.useState(null),u=()=>{o.promise(JS()).then(x=>{c(x)})},d=b.useMemo(()=>FC(l,o.state),[l,o.state]),h=mo(),[f,p]=b.useState([]),[m,y]=b.useState(Ui[0].value),g=()=>{const x=Ui.find(v=>v.value===m),{getStartDate:j,getEndDate:w,dimension:S}=x.gaQueryParams,C=uC(j(),w(),S);h.promise(C).then(v=>{var L,E;p(((E=(L=v.result)==null?void 0:L.data)==null?void 0:E.reports)??[])})};return b.useEffect(()=>g(),[m]),Ce(()=>{u(),i()}),s.jsxs(P,{direction:"vertical",size:Pm,className:Fn.dashboardPage,children:[s.jsx(qt,{gutter:[qe,qe],children:d.map((x,j)=>s.jsx($e,{xs:24,md:12,lg:6,children:x},j))}),s.jsx(qt,{gutter:[qe,qe],children:s.jsx($e,{xs:24,children:s.jsx(UC,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:s.jsx(z,{size:"small",loading:e.state,icon:s.jsx(Qe,{}),onClick:()=>i()})})})}),s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{xs:24,md:24,lg:9,children:s.jsx(ve,{variant:"borderless",classNames:{body:Fn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:s.jsx(xC,{pollIntervalSeconds:16,chartHeight:200})})}),s.jsx($e,{xs:24,md:24,lg:15,children:s.jsx(ve,{variant:"borderless",classNames:{body:Fn.gaChartContent},loading:h.state,title:"GA Overview",extra:s.jsxs(P,{wrap:!0,children:[s.jsx(Ri.Group,{options:Ui,onChange:x=>y(x.target.value),value:m,disabled:h.state,optionType:"button",size:"small"}),s.jsx(oe,{type:"vertical"}),s.jsx(z,{size:"small",loading:h.state,icon:s.jsx(Qe,{}),onClick:()=>g()})]}),children:!h.state&&s.jsx(vC,{chartHeight:200,activeDateRange:m,rows:iC(f)})})})]}),s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{variant:"borderless",title:"GA Regions Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&s.jsx(CC,{rows:sC(f)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{variant:"borderless",title:"GA Devices Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&s.jsx(EC,{rows:oC(f)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{variant:"borderless",title:"GA Urls Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&s.jsx(PC,{rows:lC(f)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{variant:"borderless",title:"GA Page Titles Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&s.jsx(AC,{rows:cC(f)})})})]})]})},VC=(e=!1,t=hg)=>{const n=t(e),r=()=>{n.value=!0},a=()=>{n.value=!1};return{state:n,start:r,stop:a,promise:o=>(r(),o.finally(a))}},pe=(e=!1)=>VC(e,se);var po,Sh;function KC(){if(Sh)return po;Sh=1;var e=4,t=.001,n=1e-7,r=10,a=11,i=1/(a-1),o=typeof Float32Array=="function";function l(y,g){return 1-3*g+3*y}function c(y,g){return 3*g-6*y}function u(y){return 3*y}function d(y,g,x){return((l(g,x)*y+c(g,x))*y+u(g))*y}function h(y,g,x){return 3*l(g,x)*y*y+2*c(g,x)*y+u(g)}function f(y,g,x,j,w){var S,C,v=0;do C=g+(x-g)/2,S=d(C,j,w)-y,S>0?x=C:g=C;while(Math.abs(S)>n&&++v<r);return C}function p(y,g,x,j){for(var w=0;w<e;++w){var S=h(g,x,j);if(S===0)return g;var C=d(g,x,j)-y;g-=C/S}return g}function m(y){return y}return po=function(g,x,j,w){if(!(0<=g&&g<=1&&0<=j&&j<=1))throw new Error("bezier x values must be in [0, 1] range");if(g===x&&j===w)return m;for(var S=o?new Float32Array(a):new Array(a),C=0;C<a;++C)S[C]=d(C*i,g,j);function v(L){for(var E=0,T=1,F=a-1;T!==F&&S[T]<=L;++T)E+=i;--T;var K=(L-S[T])/(S[T+1]-S[T]),Y=E+K*i,q=h(Y,g,j);return q>=t?p(L,Y,g,j):q===0?Y:f(L,E,E+i,g,j)}return function(E){return E===0?0:E===1?1:d(v(E),x,w)}},po}var YC=KC();const Ch=At(YC),WC={ease:[.25,.1,.25,1]},bi={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},st=(e,t=500,n={})=>{n.easing=WC.ease;const r=bi.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let i=!1;const o=function(){i=!0};bi.on(r,a,o);let l=0;const c=window.pageYOffset;if(typeof e=="number")l=e;else{const m=typeof e=="string"?bi.$(e):e;l=c+m.getBoundingClientRect().top}let u=document.body.scrollHeight-l<window.innerHeight?document.body.scrollHeight-window.innerHeight:l;n.offset&&(u+=n.offset);const d=u-c,h=Reflect.apply(Ch,Ch,n.easing);let f;const p=function(){bi.off(r,a,o),i&&n.onCancel&&n.onCancel(),!i&&n.onDone&&n.onDone()};d&&window.requestAnimationFrame(function m(y){if(i)return p();f||(f=y);const g=y-f;let x=Math.min(g/t,1);x=h(x),window.scrollTo(0,c+d*x),g<t?window.requestAnimationFrame(m):p()})},Hr=e=>s.jsx(fm,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:s.jsx(z,{disabled:e.disabled,icon:s.jsx(Sy,{}),iconPosition:"end",children:e.text??e.children})});var Hp=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Hp||{});const gu=[{id:0,name:"原创",icon:s.jsx(We,{}),color:"default"},{id:1,name:"转载",icon:s.jsx(Ic,{}),color:"default"},{id:2,name:"衍生",icon:s.jsx(Cy,{}),color:"default"}],GC=new Map(gu.map(e=>[e.id,e])),JC=e=>GC.get(e);var Bp=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(Bp||{});const pu=[{id:1,name:"公开",icon:s.jsx(mm,{}),color:"green"},{id:-1,name:"私密",icon:s.jsx(gm,{}),color:"red"},{id:0,name:"保留",icon:s.jsx(us,{}),color:"orange"}],ZC=new Map(pu.map(e=>[e.id,e])),XC=e=>ZC.get(e);var Rt=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Rt||{});const xu=[{id:0,name:"草稿",icon:s.jsx(We,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"},{id:-1,name:"回收站",icon:s.jsx(He,{}),color:"red"}],QC=new Map(xu.map(e=>[e.id,e])),gc=e=>QC.get(e),xo=({emoji:e})=>s.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var Vp=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(Vp||{});const yu=[{id:"zh",name:"中文",icon:s.jsx(xo,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:s.jsx(xo,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:s.jsx(xo,{emoji:"🌐"})}];new Map(yu.map(e=>[e.id,e]));const Br="/article";function eR(e={}){return ee.get(Br,{params:e}).then(t=>t.result)}function Kp(e){return ee.get(`${Br}/${e}`).then(t=>t.result)}function tR(e){return ee.post(Br,e).then(t=>t.result)}function nR(e){return ee.put(`${Br}/${e._id}`,e).then(t=>t.result)}function Rh(e,t){return ee.patch(Br,{article_ids:e,state:t}).then(n=>n.result)}function rR(e){return ee.delete(Br,{data:{article_ids:e}}).then(t=>t.result)}const Yp=1,Wp=-1;var er=(e=>(e[e.Asc=Yp]="Asc",e[e.Desc=Wp]="Desc",e))(er||{}),tr=(e=>(e[e.Asc=Yp]="Asc",e[e.Desc=Wp]="Desc",e[e.Hot=2]="Hot",e))(tr||{});const aR=[{id:tr.Desc,name:"最新",icon:s.jsx(Ry,{})},{id:tr.Asc,name:"最早",icon:s.jsx(Ey,{})},{id:2,name:"最热",icon:s.jsx(Ty,{})}],iR=new Map(aR.map(e=>[e.id,e])),Eh=e=>iR.get(e),or=e=>{const t=[er.Desc,er.Asc],n=e.withHot?[...t,tr.Hot]:t;return s.jsx(be,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:s.jsxs(P,{size:"small",children:[Eh(r).icon,Eh(r).name]})}))})},Vr="/tag";function sR(e={}){return ee.get(Vr,{params:e}).then(t=>t.result)}function Gp(){return ee.get(`${Vr}/all`).then(e=>e.result)}function oR(e){return ee.post(Vr,e).then(t=>t.result)}function lR(e){return ee.put(`${Vr}/${e._id}`,e).then(t=>t.result)}function cR(e){return ee.delete(`${Vr}/${e}`).then(t=>t.result)}function uR(e){return ee.delete(Vr,{data:{tag_ids:e}}).then(t=>t.result)}var ca={},Th;function dR(){return Th||(Th=1,function(e){var t=ca&&ca.__assign||function(){return(t=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++)for(var d in l=arguments[c])Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,l){l===void 0&&(l={});for(var c,u=t(t({},n),l),d=[],h={},f=u.throwIfOrphans?new Set:null,p=0,m=o;p<m.length;p++){var y=m[p],g=u.nestedIds?i(y,u.id):y[u.id],x=u.nestedIds?i(y,u.parentId):y[u.parentId];if(u.rootParentIds[g])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(g,'", `rootParentIds`: ').concat(Object.keys(u.rootParentIds).map(function(j){return'"'.concat(j,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(h,g)||(h[g]=((c={})[u.childrenField]=[],c)),f&&f.delete(g),u.dataField?h[g][u.dataField]=y:u.assign?h[g]=Object.assign(y,((c={})[u.childrenField]=h[g][u.childrenField],c)):h[g]=t(t({},y),((y={})[u.childrenField]=h[g][u.childrenField],y)),y=h[g],x==null||u.rootParentIds[x]?d.push(y):(Object.prototype.hasOwnProperty.call(h,x)||(h[x]=((g={})[u.childrenField]=[],g),f&&f.add(x)),h[x][u.childrenField].push(y))}if(f!=null&&f.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(f),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(u.throwIfOrphans&&a(d,u.childrenField)<Object.keys(h).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return d}function a(o,l){return o.reduce(function(c,u){return c+1+(u[l]&&a(u[l],l))},0)}function i(o,l){return l.split(".").reduce(function(c,u){return c&&c[u]},o)}e.arrayToTree=r,e.countNodes=a}(ca)),ca}var Jp=dR();const Os="/category";function vu(){return ee.get(`${Os}/all`).then(e=>({list:e.result,tree:Jp.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function bu(e){const t=n=>n.map(r=>{var a;return{data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:((a=e.disabledWhen)==null?void 0:a.call(e,r))??!1,children:t(r.children||[])}});return t(e.tree)}function hR(e){return ee.post(Os,e).then(t=>t.result)}function fR(e){return ee.put(`${Os}/${e._id}`,e).then(t=>t.result)}function mR(e){return ee.delete(`${Os}/${e}`).then(t=>t.result)}const ze="ALL",Ih={sort:tr.Desc,featured:!1,tag_slug:ze,category_slug:ze,public:ze,state:ze,origin:ze,lang:ze},gR=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==ze?e.tag_slug:void 0,category_slug:e.category_slug!==ze?e.category_slug:void 0,state:e.state!==ze?e.state:void 0,public:e.public!==ze?e.public:void 0,origin:e.origin!==ze?e.origin:void 0,lang:e.lang!==ze?e.lang:void 0}),pR=e=>{const{i18n:t}=Ve(),n=pe(),r=it([]),a=()=>{n.promise(vu()).then(c=>{r.value=c.tree})},i=pe(),o=it([]),l=()=>{i.promise(Gp()).then(c=>{o.value=c})};return Ce(()=>{l(),a()}),s.jsxs(me,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[s.jsxs(P,{direction:"vertical",children:[s.jsxs(P,{wrap:!0,children:[s.jsx(z,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?s.jsx(kc,{}):s.jsx(Lc,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),s.jsx(be,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:c=>e.onParamsChange({state:c}),options:[{label:"全部状态",value:ze},...xu.map(c=>({value:c.id,label:s.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(be,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:c=>e.onParamsChange({public:c}),options:[{label:"全部可见",value:ze},...pu.map(c=>({value:c.id,label:s.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(be,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:c=>e.onParamsChange({origin:c}),options:[{label:"全部来源",value:ze},...gu.map(c=>({value:c.id,label:s.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(be,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:c=>e.onParamsChange({lang:c}),options:[{label:"全部语言",value:ze},...yu.map(c=>({value:c.id,label:s.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),s.jsxs(P.Compact,{children:[s.jsx(pm,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:c=>e.onParamsChange({category_slug:c}),treeData:[{label:"全部分类",key:ze,value:ze},...bu({tree:r.value,valuer:c=>c.slug})]}),s.jsx(be,{style:{width:140},loading:i.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:c=>e.onParamsChange({tag_slug:c}),options:[{label:"全部标签",value:ze},...o.value.map(c=>({value:c.slug,label:`${c.name} (${c.article_count})`}))]})]})]}),s.jsxs(P,{wrap:!0,children:[s.jsx(or,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:c=>e.onParamsChange({sort:c})}),s.jsx(he.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:c=>e.onKeywordChange(c.target.value),allowClear:!0,onSearch:(c,u,d)=>{(d==null?void 0:d.source)==="input"&&e.onKeywordSearch()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),s.jsx(P,{children:e.extra})]})},Zp=e=>{var t;return(t=Je(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Fe=e=>{var t;return(t=Je(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},xR=e=>{var t,n,r;return s.jsx(an,{rowKey:a=>a._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(a,i)=>s.jsx(xm.Ribbon,{color:i.featured?ir:"transparent",text:i.featured?"精选":null,children:s.jsxs(ve,{size:"small",variant:"borderless",styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${i.thumbnail}") center / cover`},children:[s.jsx(B.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:i.title}),s.jsx(B.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:i.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(a,i){return s.jsx(P,{direction:"vertical",size:"small",wrap:!0,children:i.tags.map(o=>s.jsx(Vt,{style:{cursor:"pointer"},icon:s.jsx(ym,{}),onClick:()=>e.onClickTag(o),children:o.name},o._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(a,i){var o,l,c;return s.jsxs(P,{direction:"vertical",children:[s.jsxs(P,{size:"small",children:[s.jsx(Ec,{}),"浏览 ",mu(((o=i.meta)==null?void 0:o.views)??0)," 次"]}),s.jsxs(P,{size:"small",children:[s.jsx(Tc,{}),"喜欢 ",(l=i.meta)==null?void 0:l.likes," 次"]}),s.jsxs(P,{size:"small",children:[s.jsx(za,{}),"评论 ",(c=i.meta)==null?void 0:c.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsxs("div",{children:["分类：",i.categories.map((o,l)=>s.jsxs("span",{children:[s.jsx(B.Link,{onClick:()=>e.onClickCategory(o),children:o.name}),i.categories[l+1]?s.jsx(oe,{type:"vertical"}):""]},l))]}),s.jsxs("div",{children:["发布：",Fe(i.created_at)]}),s.jsxs("div",{children:["更新：",Fe(i.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(a,i)=>s.jsx(P,{direction:"vertical",children:[gc(i.state),XC(i.public),JC(i.origin)].map(o=>s.jsx(Vt,{icon:o.icon,color:o.color,children:o.name},o.id+o.name))})},{title:"操作",width:110,dataIndex:"actions",render:(a,i)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(It,{to:$u.articleDetail(i._id),children:s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(We,{}),children:"文章详情"})}),i.state===Rt.Draft&&s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(St,{}),onClick:()=>e.onUpdateState(i,Rt.Published),children:s.jsx(B.Text,{type:"success",children:"直接发布"})}),i.state===Rt.Published&&s.jsx(z,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(He,{}),onClick:()=>e.onUpdateState(i,Rt.Recycle),children:"移回收站"}),i.state===Rt.Recycle&&s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(vm,{}),onClick:()=>e.onUpdateState(i,Rt.Draft),children:s.jsx(B.Text,{type:"warning",children:"退至草稿"})}),s.jsx(z,{size:"small",block:!0,type:"link",target:"_blank",icon:s.jsx(qa,{}),href:rs(i.id),children:"宿主页面"})]})}]})},yR=()=>{var h;const{i18n:e}=Ve(),t=pe(),n=sn({data:[],pagination:void 0}),r=se([]),a=se(""),i=se({...Ih}),o=(f={})=>{a.value="",i.value={...Ih,...f}},l=f=>{const p={...f,...gR(i.value),keyword:a.value||void 0};t.promise(eR(p)).then(m=>{n.data=m.data,n.pagination=m.pagination,st(document.body)})},c=()=>{var f,p;l({page:(f=n.pagination)==null?void 0:f.current_page,per_page:(p=n.pagination)==null?void 0:p.per_page})},u=(f,p)=>{const m=gc(p).name;Se.confirm({title:`确定要将此文章更新为「 ${m} 」状态吗？`,content:`《${f.title}》`,centered:!0,onOk:()=>Rh([f._id],p).then(()=>{c()})})},d=(f,p)=>{const m=gc(p).name;Se.confirm({title:`确定要将 ${f.length} 个文章更新为「 ${m} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>Rh(f,p).then(()=>{c()})})};return xt(()=>i.value,()=>l(),{deep:!0}),Ce(()=>{l()}),s.jsxs(ve,{variant:"borderless",title:e.t("page.article.list.title",{total:((h=n.pagination)==null?void 0:h.total)??"-"}),extra:s.jsx(It,{to:Xe[ge.ArticlePost],children:s.jsx(z,{type:"primary",size:"small",icon:s.jsx(We,{}),children:e.t("page.article.create")})}),children:[s.jsx(pR,{loading:t.state.value,keyword:a.value,onKeywordChange:f=>a.value=f,onKeywordSearch:()=>l(),params:i.value,onParamsChange:f=>Object.assign(i.value,f),onResetRefresh:()=>o({}),extra:s.jsx(Hr,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:s.jsx(vm,{}),onClick:()=>d(r.value,Rt.Draft)},{label:"直接发布",icon:s.jsx(St,{}),onClick:()=>d(r.value,Rt.Published)},{label:"移回收站",icon:s.jsx(He,{}),onClick:()=>d(r.value,Rt.Recycle)}]})}),s.jsx(oe,{}),s.jsx(xR,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:f=>r.value=f,onPaginate:(f,p)=>l({page:f,per_page:p}),onUpdateState:(f,p)=>u(f,p),onClickCategory:({slug:f})=>o({category_slug:f}),onClickTag:({slug:f})=>o({tag_slug:f})})]})};var yo,kh;function Ds(){if(kh)return yo;kh=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return yo=e,yo}var vo,Lh;function vR(){if(Lh)return vo;Lh=1;var e=typeof ui=="object"&&ui&&ui.Object===Object&&ui;return vo=e,vo}var bo,Ph;function Xa(){if(Ph)return bo;Ph=1;var e=vR(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return bo=n,bo}var wo,Ah;function bR(){if(Ah)return wo;Ah=1;var e=Xa(),t=function(){return e.Date.now()};return wo=t,wo}var _o,Oh;function wR(){if(Oh)return _o;Oh=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return _o=t,_o}var jo,Dh;function _R(){if(Dh)return jo;Dh=1;var e=wR(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return jo=n,jo}var So,Nh;function Xp(){if(Nh)return So;Nh=1;var e=Xa(),t=e.Symbol;return So=t,So}var Co,$h;function jR(){if($h)return Co;$h=1;var e=Xp(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(l?o[a]=c:delete o[a]),d}return Co=i,Co}var Ro,Fh;function SR(){if(Fh)return Ro;Fh=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ro=n,Ro}var Eo,Mh;function wu(){if(Mh)return Eo;Mh=1;var e=Xp(),t=jR(),n=SR(),r="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:r:i&&i in Object(l)?t(l):n(l)}return Eo=o,Eo}var To,Uh;function Qp(){if(Uh)return To;Uh=1;function e(t){return t!=null&&typeof t=="object"}return To=e,To}var Io,zh;function CR(){if(zh)return Io;zh=1;var e=wu(),t=Qp(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Io=r,Io}var ko,qh;function RR(){if(qh)return ko;qh=1;var e=_R(),t=Ds(),n=CR(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=i.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):a.test(u)?r:+u}return ko=c,ko}var Lo,Hh;function ER(){if(Hh)return Lo;Hh=1;var e=Ds(),t=bR(),n=RR(),r="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,h,f,p,m,y,g=0,x=!1,j=!1,w=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(u)&&(x=!!u.leading,j="maxWait"in u,f=j?a(n(u.maxWait)||0,c):f,w="trailing"in u?!!u.trailing:w);function S(q){var H=d,J=h;return d=h=void 0,g=q,p=l.apply(J,H),p}function C(q){return g=q,m=setTimeout(E,c),x?S(q):p}function v(q){var H=q-y,J=q-g,te=c-H;return j?i(te,f-J):te}function L(q){var H=q-y,J=q-g;return y===void 0||H>=c||H<0||j&&J>=f}function E(){var q=t();if(L(q))return T(q);m=setTimeout(E,v(q))}function T(q){return m=void 0,w&&d?S(q):(d=h=void 0,p)}function F(){m!==void 0&&clearTimeout(m),g=0,d=y=h=m=void 0}function K(){return m===void 0?p:T(t())}function Y(){var q=t(),H=L(q);if(d=arguments,h=this,y=q,H){if(m===void 0)return C(y);if(j)return clearTimeout(m),m=setTimeout(E,c),S(y)}return m===void 0&&(m=setTimeout(E,c)),p}return Y.cancel=F,Y.flush=K,Y}return Lo=o,Lo}var TR=ER();const IR=At(TR);var as=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(as||{});const kR=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],Nk=new Map(kR.map(e=>[e.id,e])),ex=e=>`uneditor-${e}`,$k=IR((e,t)=>tn.set(ex(e),t),666),LR=e=>tn.get(ex(e)),PR=Dr.lazy(()=>mv(()=>import("./Editor-ev6krssS.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),Lr=e=>s.jsx(Dr.Suspense,{fallback:s.jsx(ve,{size:"small",loading:!0}),children:s.jsx(PR,{...e})}),AR=e=>t=>s.jsx(Nm,{initTheme:e.initTheme,children:s.jsx(Lm,{initLanguage:e.initLanguage,children:s.jsx(Lr,{...t})})}),pc=e=>navigator.clipboard.writeText(e);var Po,Bh;function OR(){if(Bh)return Po;Bh=1;var e=wu(),t=Qp(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return Po=r,Po}var DR=OR();const NR=At(DR),tx={UPLOAD:"/extension/static/upload",LIST:"/extension/static/list"};async function $R(e){return ee.get(tx.LIST,{params:e}).then(t=>t.result)}async function FR(e){const t=new FormData;return t.append("file",e.file),t.append("name",e.name),ee.post(tx.UPLOAD,t,{onUploadProgress:({loaded:n,total:r})=>{var a;if(NR(r)){const i=n/r*100;(a=e.onProgress)==null||a.call(e,i)}}}).then(n=>n.result)}const MR=3e6;var nx=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(nx||{});const rx=()=>{const e=pe(),t=se(!1),n=se(0);return{upload:(a,i=null,o)=>{if(a.size>MR)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const l=(i??a.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",l),e.promise(FR({file:a,name:l,onProgress:c=>{var u;console.debug("[upoader]","New upload progress:",c),t.value=!0,n.value=c*100,(u=o==null?void 0:o.onProgress)==null||u.call(o,c)}}).then(c=>(console.debug("[upoader]","Upload completed:",c.url),c)).catch(c=>(console.warn("[upoader]","Upload failed:",c),Promise.reject({code:"failure",error:c}))).finally(()=>{t.value=!1}))},uploading:e,progressing:t,progress:n}},is=e=>`![](${e})`,UR="_imageUploader_1yty1_1",zR="_copyMarkdown_1yty1_4",qR="_uploader_1yty1_7",HR="_tigger_1yty1_15",BR="_image_1yty1_1",ua={imageUploader:UR,copyMarkdown:zR,uploader:qR,tigger:HR,image:BR},ax=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,ix=e=>{const{i18n:t}=Ve(),n=rx(),r=a=>{zt.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,ax(a,e.directory)).then(i=>{var o;(o=e.onChange)==null||o.call(e,i.url),zt.success({message:t.t("component.image_uploader.state.succeeded"),description:i.key})}).catch(i=>{var o;zt.error({message:t.t("component.image_uploader.state.failed"),description:i.code===nx.Failure?String(((o=i.error)==null?void 0:o.message)??i.error):i.code})})};return s.jsxs(P,{direction:"vertical",className:ua.imageUploader,children:[s.jsx(Pc,{name:"file",listType:"picture-card",className:ua.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>{var a;return(a=e.onChange)==null?void 0:a.call(e,"")},customRequest:a=>{a.file&&r(a.file)},children:e.value?s.jsx("img",{className:ua.image,src:e.value,alt:e.value}):s.jsxs(P,{className:ua.tigger,direction:"vertical",align:"center",size:"small",children:[n!=null&&n.uploading.state.value?s.jsx(bm,{}):s.jsx(kn,{}),n!=null&&n.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&s.jsx(he,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:s.jsx(Tr,{}),value:e.value,onChange:a=>{var i;return(i=e.onChange)==null?void 0:i.call(e,a.target.value)}}),!e.disabledMarkdown&&e.value&&s.jsxs(P.Compact,{className:ua.copyMarkdown,children:[s.jsx(he,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:s.jsx(Iy,{}),value:is(e.value)}),s.jsx(Tn,{title:"Copy Markdown",children:s.jsx(z,{icon:s.jsx(Ic,{}),onClick:()=>pc(is(e.value))})})]})]})},VR="_inputWrapper_kev5k_1",KR="_inputGroup_kev5k_4",Vh={inputWrapper:VR,inputGroup:KR},Qa=e=>s.jsx(O.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>s.jsxs(P,{direction:"vertical",size:"middle",className:Vh.inputWrapper,children:[t.map(a=>s.jsxs(P,{size:"middle",className:Vh.inputGroup,children:[s.jsx(O.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:s.jsx(he,{placeholder:"Name"})}),s.jsx(O.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:s.jsx(he,{placeholder:"Value"})}),s.jsx(z,{icon:s.jsx(He,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),s.jsx(z,{block:!0,type:"dashed",icon:s.jsx(kn,{}),onClick:()=>n(),children:s.jsx("span",{children:s.jsx(Fr,{i18nKey:"component.form_key_value.add"})})})]})});function YR(e){let t=JSON.stringify(e.initValue,null,2);const n=AR({initTheme:e.initTheme,initLanguage:e.initLanguage});return Se.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:Wn.t("component.modal_json_editor.save"),content:s.jsx("div",{style:{display:"grid",width:"100%"},children:s.jsx(n,{value:t,onChange:r=>t=r,placeholder:Wn.t("component.modal_json_editor.placeholder"),defaultLanguage:as.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=Wn.t("component.modal_json_editor.error");return Cn.error(a),Promise.reject(a)}}})}const tt=e=>e.isFolder,sx=e=>`${(e/1024).toFixed(2)}kb`,_u=e=>["jpg","jpeg","png","webp","svg","ico"].some(t=>e.toLowerCase().endsWith(t)),ox=e=>["mp3","wma","wav","ape","flac"].some(t=>e.toLowerCase().endsWith(t)),lx=e=>["mp4","wmv","mov","webp"].some(t=>e.toLowerCase().endsWith(t)),cx=e=>_u(e)?s.jsx(Ac,{}):lx(e)?s.jsx(Ws,{}):ox(e)?s.jsx(Ws,{}):e.toLowerCase().endsWith("html")?s.jsx(ky,{}):e.toLowerCase().endsWith("pdf")?s.jsx(Ly,{}):s.jsx(Ws,{}),WR=e=>{const t=[{title:"Key",dataIndex:"key",sorter:(n,r)=>{const a=tt(n)?n.prefix:n.key,i=tt(r)?r.prefix:r.key;return a.localeCompare(i)},render:(n,r)=>s.jsxs(P,{size:"small",children:[tt(r)?s.jsx(wm,{}):cx(r.key),tt(r)?s.jsx(B.Link,{onClick:()=>e.onClickFolder(r.prefix),children:r.prefix}):s.jsx(Tn,{title:r.url,placement:"topLeft",children:s.jsx(B.Link,{copyable:{text:r.url},onClick:()=>e.onClickFile(r),children:r.key})})]})},{width:96,title:"Size",dataIndex:"size",sorter:(n,r)=>{const a=tt(n)?0:n.size,i=tt(r)?0:r.size;return a-i},render:(n,r)=>tt(r)?"-":sx(r.size)},{width:160,title:"LastModified",dataIndex:"lastModified",defaultSortOrder:"descend",sorter:(n,r)=>{const a=tt(n)?0:n.lastModified??0,i=tt(r)?0:r.lastModified??0;return a-i},render:(n,r)=>tt(r)?"-":Zp(r.lastModified)},{width:120,title:"StorageClass",dataIndex:"storageClass",render:(n,r)=>tt(r)?"-":r.storageClass}];return s.jsx(an,{size:e.size,pagination:!1,columns:t,loading:e.loading,dataSource:e.data})},GR="_fileModalDescriptions_12vi3_1",JR="_fileModalImage_12vi3_4",ZR="_fileModalVideo_12vi3_7",XR="_fileModalAudio_12vi3_11",QR="_fileModalIframe_12vi3_14",eE="_fileModalPdf_12vi3_18",tE="_fileGridList_12vi3_23",nE="_listItem_12vi3_32",rE="_handler_12vi3_32",aE="_image_12vi3_44",iE="_name_12vi3_53",Et={fileModalDescriptions:GR,fileModalImage:JR,fileModalVideo:ZR,fileModalAudio:XR,fileModalIframe:QR,fileModalPdf:eE,fileGridList:tE,listItem:nE,handler:rE,image:aE,name:iE},sE=e=>{const t=r=>{tt(r)?e.onClickFolder(r.prefix):e.onClickFile(r)},n=r=>tt(r)?s.jsx(wm,{}):_u(r.key)?s.jsx("img",{loading:"lazy",className:Et.image,src:r.url}):cx(r.key);return s.jsx(at,{spinning:e.loading,children:s.jsx("ul",{className:Et.fileGridList,children:e.data.map((r,a)=>s.jsx(Tn,{placement:"topLeft",destroyOnHidden:!0,mouseEnterDelay:.01,mouseLeaveDelay:.01,title:tt(r)?r.prefix:r.key,children:s.jsxs("li",{className:Et.listItem,onClick:()=>t(r),children:[s.jsx("div",{className:Et.handler,children:n(r)}),s.jsx("p",{className:Et.name,children:tt(r)?r.prefix:r.key})]})},a))})})},Kh=[280,500,1e3],ux=e=>{var y;const t=it("list"),n=mg({limit:e.initLimit??Kh[1],prefix:e.initPrefix??""}),r=it(null),a=pt(()=>!!r.value),i=g=>{r.value=g},o=()=>{r.value=null},{i18n:l}=Ve(),c=pe(),u=it(),d=se([]),h=pt(()=>{var x,j;return[...((j=(x=u.value)==null?void 0:x.commonPrefixes)==null?void 0:j.map(w=>({isFolder:!0,prefix:w.Prefix,key:w.Prefix})))??[],...d.value.filter(w=>!(w.key.endsWith("/")&&w.size===0))]}),f=g=>c.promise($R({limit:n.limit,prefix:n.prefix,delimiter:"/",startAfter:g})).then(x=>{u.value=x,g?d.value.push(...x.files):d.value=x.files}),p=g=>{n.prefix=g,f()};xt(()=>n.limit,()=>f()),Ce(()=>f());const m=g=>{const x=()=>_u(g.key)?s.jsx(B.Link,{href:g.url,target:"_blank",children:s.jsx("img",{src:g.url,alt:g.key,className:Et.fileModalImage})}):lx(g.key)?s.jsx("video",{src:g.url,controls:!0,autoPlay:!0,className:Et.fileModalVideo}):ox(g.key)?s.jsx("audio",{src:g.url,controls:!0,autoPlay:!0,className:Et.fileModalAudio}):g.key.toLowerCase().endsWith("html")?s.jsx("iframe",{src:g.url,className:Et.fileModalIframe}):g.key.toLowerCase().endsWith("pdf")?s.jsx("iframe",{src:g.url,className:Et.fileModalPdf}):s.jsx(B.Link,{href:g.url,target:"_blank",children:"新窗口打开"});return s.jsxs(mn,{size:"middle",column:2,className:Et.fileModalDescriptions,children:[s.jsx(mn.Item,{label:"size",children:sx(g.size)}),s.jsx(mn.Item,{label:"StorageClass",children:g.storageClass}),s.jsx(mn.Item,{label:"lastModified",span:2,children:Zp(g.lastModified)}),s.jsx(mn.Item,{label:"ETag",span:2,children:g.eTag}),s.jsx(mn.Item,{label:"Key",span:2,children:s.jsx(B.Text,{copyable:{text:g.url},children:g.key})}),s.jsx(mn.Item,{span:2,children:x()})]})};return s.jsxs("div",{children:[s.jsx(Se,{title:((y=r.value)==null?void 0:y.key)??"文件详情",centered:!0,closable:!0,destroyOnHidden:!0,footer:null,open:a.value,onCancel:o,children:r.value?m(r.value):null}),s.jsxs(me,{justify:"space-between",children:[s.jsxs(P,{children:[s.jsx(be,{placeholder:"每页数据",disabled:c.state.value,value:n.limit,onChange:g=>n.limit=g,labelRender:g=>`每页 ${g.value} 条数据`,optionRender:g=>`${g.value} 条`,options:Kh.map(g=>({value:g}))}),s.jsx(he.Search,{style:{width:260},allowClear:!0,placeholder:"输入前缀以过滤",disabled:c.state.value,value:n.prefix,onChange:g=>n.prefix=g.target.value,onSearch:(g,x,j)=>{(j==null?void 0:j.source)==="input"&&f()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:c.state.value,onClick:()=>f(),children:l.t("common.list.filter.refresh")})]}),s.jsx(be,{placeholder:"展示方式",value:t.value,onChange:g=>t.value=g,options:[{value:"list",label:s.jsxs(P,{size:"small",children:[s.jsx(Py,{})," 列表"]})},{value:"grid",label:s.jsxs(P,{size:"small",children:[s.jsx(_m,{})," 网格"]})}]})]}),s.jsx(oe,{}),t.value==="list"?s.jsx(WR,{loading:c.state.value,data:h.value,size:e.tableListSize,onClickFolder:p,onClickFile:i}):s.jsx(sE,{loading:c.state.value,data:h.value,onClickFolder:p,onClickFile:i}),s.jsx("br",{}),u.value&&s.jsx(me,{justify:"center",children:u.value.files.length<u.value.limit?s.jsx(B.Text,{type:"secondary",children:"没有更多了"}):s.jsx(z,{size:"large",icon:s.jsx(kn,{}),disabled:c.state.value,loading:c.state.value,onClick:()=>{var g;return f((g=d.value.at(-1))==null?void 0:g.key)},children:c.state.value?"加载中...":"加载更多"})})]})},oE="_categorySelect_1vnzs_1",lE="_multipleImageUploader_1vnzs_11",cE="_copyButton_1vnzs_14",zi={categorySelect:oE,multipleImageUploader:lE,copyButton:cE},uE=e=>{const t=rx(),n=mg([]);return s.jsxs("div",{className:zi.multipleImageUploader,children:[n.length?s.jsx(z,{block:!0,type:"dashed",className:zi.copyButton,onClick:()=>{pc(n.map(is).join(`
`)),Cn.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,s.jsxs(Pc.Dragger,{className:zi.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:s.jsx(Tn,{title:"Copy Markdown",children:s.jsx(Ic,{})})},onDownload:r=>{pc(is(r.response.url)),Cn.info("复制成功")},onPreview:r=>{Se.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>{var a,i;return s.jsx(ve,{title:((a=r.response)==null?void 0:a.key)??"",children:s.jsx("img",{style:{width:"100%"},src:(i=r.response)==null?void 0:i.url})})}})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,ax(a,e.directory),{onProgress:i=>{var o;return(o=r.onProgress)==null?void 0:o.call(r,{percent:i})}}).then(i=>{var o;n.push(i.url),(o=r.onSuccess)==null||o.call(r,i)}).catch(i=>{var o;(o=r.onError)==null||o.call(r,i)})}},children:[s.jsx("br",{}),s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(ds,{})}),s.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),s.jsx("br",{})]})]})},dE=e=>{const t=s.jsxs(P,{children:[s.jsx(Ac,{}),"图片上传器"]}),n=s.jsx(z,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return s.jsx(Se,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(uE,{directory:e.uploaderDirectory})})},hE=e=>{const t=pe(),n=it([]),r=()=>{t.promise(Gp()).then(l=>{n.value=l})},a=e.value||[],i=(l,c)=>{var h;const u=l._id,d=c?[...a,u]:a.filter(f=>f!==u);(h=e.onChange)==null||h.call(e,d)};Ce(()=>{r()});const o=l=>{const c=a.includes(l._id);return s.jsx(z,{size:"small",onClick:()=>i(l,!c),type:c?"primary":"default",icon:c?s.jsx(jm,{}):s.jsx(ym,{style:{opacity:.6}}),children:l.name},l._id)};return s.jsxs("div",{children:[s.jsx(at,{spinning:t.state.value&&!!n.value.length,children:s.jsx(Rc,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?s.jsx(P,{wrap:!0,size:[12,12],children:n.value.map(o)}):s.jsx(B.Text,{type:"secondary",children:"无数据"})})}),s.jsx(oe,{}),s.jsx(z,{size:"small",type:"dashed",icon:s.jsx(Qe,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},fE=e=>{var r;const t=se(!1),n=se(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(O,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[(r=e.extraItems)==null?void 0:r.map((a,i)=>s.jsx(O.Item,{label:a.label,wrapperCol:{span:12},children:a.content},i)),s.jsx(O.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:s.jsx(he,{addonBefore:zp,placeholder:"article-title",allowClear:!0})}),s.jsx(O.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:s.jsx(he,{placeholder:"文章标题"})}),s.jsx(O.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:s.jsx(he.TextArea,{rows:4,placeholder:"文章描述"})}),s.jsx(O.Item,{label:"关键词",name:"keywords",children:s.jsx(be,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(O.Item,{label:"标签",name:"tags",children:s.jsx(hE,{})}),s.jsx("br",{}),s.jsx(O.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:s.jsx(Lr,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:()=>s.jsxs(s.Fragment,{children:[s.jsx(z,{size:"small",icon:s.jsx(Oc,{}),onClick:()=>{n.value=!0}}),s.jsx(z,{size:"small",icon:s.jsx(hs,{}),onClick:()=>{t.value=!0}})]})})})]}),s.jsx(dE,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${Je().format("YYYY-MM-DD")}`}),s.jsx(Se,{title:"云存储文件管理",centered:!0,closable:!0,width:880,footer:null,open:n.value,onCancel:()=>n.value=!1,styles:{body:{paddingTop:"12px",paddingRight:"14px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(ux,{initPrefix:"nodepress/",tableListSize:"small"})})]})},mE=e=>{const t=pe(),n=it([]),r=()=>{t.promise(vu()).then(i=>{n.value=i.tree})};Ce(()=>{r()});const a=()=>s.jsx(Ay,{className:zi.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:i=>{var l;const o=Array.isArray(i)?i:i.checked;(l=e.onChange)==null||l.call(e,o)},treeData:bu({tree:n.value,valuer:i=>i._id}),titleRender:i=>{const o=i.data;return s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{strong:!0,children:o.name}),s.jsx(oe,{type:"vertical"}),o.slug]})}});return s.jsxs("div",{children:[s.jsx(at,{spinning:t.state.value&&!!n.value.length,children:s.jsx(Rc,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():s.jsx(B.Text,{type:"secondary",children:"无数据"})})}),s.jsx(oe,{}),s.jsx(z,{size:"small",type:"dashed",icon:s.jsx(Qe,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},gE=e=>s.jsx(O,{scrollToFirstError:!0,form:e.form,children:s.jsx(O.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n!=null&&n.length?Promise.resolve():Promise.reject()}}],children:s.jsx(mE,{})})}),yr={message:"必选",required:!0},pE=e=>s.jsxs(O,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[s.jsx(O.Item,{required:!0,name:"state",label:"发布状态",rules:[yr],children:s.jsx(be,{placeholder:"文章发布状态",options:xu.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(O.Item,{required:!0,name:"origin",label:"文章来源",rules:[yr],children:s.jsx(be,{placeholder:"文章来源",options:gu.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(O.Item,{required:!0,name:"public",label:"公开类型",rules:[yr],children:s.jsx(be,{placeholder:"文章公开类型",options:pu.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(O.Item,{required:!0,name:"lang",label:"内容语言",rules:[yr],children:s.jsx(be,{placeholder:"文章语言",options:yu.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(O.Item,{required:!0,name:"featured",label:"精选文章",rules:[yr],valuePropName:"checked",children:s.jsx(Hl,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(O.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[yr],valuePropName:"checked",children:s.jsx(Hl,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(oe,{}),s.jsx(z,{type:"primary",block:!0,icon:s.jsx(St,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),xE=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:Hp.Original,state:Rt.Published,public:Bp.Public,lang:Vp.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),dx=e=>{const{i18n:t}=Ve(),{language:n}=$r(),{theme:r}=ps(),[a]=O.useForm(),[i]=O.useForm(),[o]=O.useForm(),[l]=O.useForm(),[c]=O.useForm(),u=f=>{a.setFieldsValue(f),i.setFieldsValue(f),o.setFieldsValue(f),l.setFieldsValue(f),c.setFieldsValue(f)},d=async()=>{var f;try{const p={...e.article,...await a.validateFields(),...await i.validateFields(),...await o.validateFields(),...await l.validateFields(),...await c.validateFields()};p.slug=p.slug||null,(f=e.onSubmit)==null||f.call(e,p)}catch(p){console.debug("Article 提交错误：",p),Cn.error("请检查表单中的不合法项")}},h=()=>{YR({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:l.getFieldsValue(),callback:f=>l.setFieldsValue(f)})};return b.useEffect(()=>{e.article&&u(e.article)},[e.article]),Ce(()=>{u(xE),st(document.body)}),s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{xs:24,lg:17,children:s.jsx(ve,{variant:"borderless",title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:s.jsx(at,{spinning:e.loading,children:s.jsx(fE,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),s.jsx($e,{xs:24,lg:7,children:s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.categories"),variant:"borderless",children:s.jsx(at,{spinning:e.loading,children:s.jsx(gE,{form:i})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.thumbnail"),variant:"borderless",children:s.jsx(at,{spinning:e.loading,children:s.jsx(O,{scrollToFirstError:!0,form:o,children:s.jsx(O.Item,{noStyle:!0,name:"thumbnail",children:s.jsx(ix,{directory:"thumbnail"})})})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.extends"),variant:"borderless",extra:s.jsx(z,{type:"link",size:"small",icon:s.jsx(We,{}),disabled:e.loading,onClick:h,children:"以 JSON 编辑"}),children:s.jsx(at,{spinning:e.loading,children:s.jsx(O,{scrollToFirstError:!0,form:l,children:s.jsx(O.Item,{noStyle:!0,shouldUpdate:!0,children:s.jsx(Qa,{fieldName:"extends"})})})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.states"),variant:"borderless",children:s.jsx(at,{spinning:e.loading,children:s.jsx(pE,{form:c,submitting:e.submitting,onSubmit:d})})})})]})})]})},hx="/vote";function fx(e={}){return ee.get(hx,{params:e}).then(t=>t.result)}function yE(e){return ee.delete(hx,{data:{vote_ids:e}}).then(t=>t.result)}const vE="_emoji_9ujl9_1",bE={emoji:vE},lr=e=>s.jsx(Za,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&du(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return s.jsxs("span",{className:e.className,children:[n?s.jsx("span",{className:bE.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var ju=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(ju||{}),jr=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(jr||{}),qi=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(qi||{});const wE=new Map([[1,"页面"],[2,"评论"]]),Hi=e=>wE.get(e),_E=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),Su=e=>_E.get(e),mx=[{id:1,name:"+1",icon:s.jsx(ar,{})},{id:-1,name:"-1",icon:s.jsx(Nr,{})}],jE=new Map(mx.map(e=>[e.id,e])),ss=e=>jE.get(e);var SE="2.0.3",xc=500,Yh="user-agent",Pr="",Wh="?",os="function",_n="undefined",Ar="object",yc="string",ot="browser",Zt="cpu",Ut="device",Tt="engine",wt="os",Rr="result",$="name",A="type",N="vendor",M="version",lt="architecture",Ma="major",D="model",wa="console",ce="mobile",je="tablet",De="smarttv",Mt="wearable",Ao="xr",_a="embedded",da="inapp",Cu="brands",Hn="formFactors",Ru="fullVersionList",Er="platform",Eu="platformVersion",Ns="bitness",Ln="sec-ch-ua",CE=Ln+"-full-version-list",RE=Ln+"-arch",EE=Ln+"-"+Ns,TE=Ln+"-form-factors",IE=Ln+"-"+ce,kE=Ln+"-"+D,gx=Ln+"-"+Er,LE=gx+"-version",px=[Cu,Ru,ce,D,Er,Eu,lt,Hn,Ns],wi="Amazon",vr="Apple",Gh="ASUS",Jh="BlackBerry",Mn="Google",Zh="Huawei",Xh="Lenovo",Qh="Honor",_i="LG",Oo="Microsoft",Do="Motorola",No="Nvidia",ef="OnePlus",$o="OPPO",ha="Samsung",tf="Sharp",fa="Sony",Fo="Xiaomi",Mo="Zebra",nf="Chrome",rf="Chromium",hn="Chromecast",PE="Edge",ma="Firefox",ga="Opera",Uo="Facebook",af="Sogou",br="Mobile ",pa=" Browser",vc="Windows",AE=typeof window!==_n,ct=AE&&window.navigator?window.navigator:void 0,bn=ct&&ct.userAgentData?ct.userAgentData:void 0,OE=function(e,t){var n={},r=t;if(!ls(t)){r={};for(var a in t)for(var i in t[a])r[i]=t[a][i].concat(r[i]?r[i]:[])}for(var o in e)n[o]=r[o]&&r[o].length%2===0?r[o].concat(e[o]):e[o];return n},$s=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},bc=function(e,t){if(typeof e===Ar&&e.length>0){for(var n in e)if(Xt(e[n])==Xt(t))return!0;return!1}return Kr(e)?Xt(t).indexOf(Xt(e))!==-1:!1},ls=function(e,t){for(var n in e)return/^(browser|cpu|device|engine|os)$/.test(n)||(t?ls(e[n]):!1)},Kr=function(e){return typeof e===yc},zo=function(e){if(e){for(var t=[],n=Or(/\\?\"/g,e).split(","),r=0;r<n.length;r++)if(n[r].indexOf(";")>-1){var a=Ua(n[r]).split(";v=");t[r]={brand:a[0],version:a[1]}}else t[r]=Ua(n[r]);return t}},Xt=function(e){return Kr(e)?e.toLowerCase():e},qo=function(e){return Kr(e)?Or(/[^\d\.]/g,e).split(".")[0]:void 0},Qt=function(e){for(var t in e){var n=e[t];typeof n==Ar&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Or=function(e,t){return Kr(t)?t.replace(e,Pr):t},xa=function(e){return Or(/\\?\"/g,e)},Ua=function(e,t){if(Kr(e))return e=Or(/^\s\s*/,e),typeof t===_n?e:e.substring(0,xc)},Ho=function(e,t){if(!(!e||!t))for(var n=0,r,a,i,o,l,c;n<t.length&&!l;){var u=t[n],d=t[n+1];for(r=a=0;r<u.length&&!l&&u[r];)if(l=u[r++].exec(e),l)for(i=0;i<d.length;i++)c=l[++a],o=d[i],typeof o===Ar&&o.length>0?o.length===2?typeof o[1]==os?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:o.length===3?typeof o[1]===os&&!(o[1].exec&&o[1].test)?this[o[0]]=c?o[1].call(this,c,o[2]):void 0:this[o[0]]=c?c.replace(o[1],o[2]):void 0:o.length===4&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):void 0):this[o]=c||void 0;n+=2}},wn=function(e,t){for(var n in t)if(typeof t[n]===Ar&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(bc(t[n][r],e))return n===Wh?void 0:n}else if(bc(t[n],e))return n===Wh?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},sf={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},of={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},lf={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[M,[$,br+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[M,[$,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[$,M],[/opios[\/ ]+([\w\.]+)/i],[M,[$,ga+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[M,[$,ga+" GX"]],[/\bopr\/([\w\.]+)/i],[M,[$,ga]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[M,[$,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[M,[$,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[$,M],[/quark(?:pc)?\/([-\w\.]+)/i],[M,[$,"Quark"]],[/\bddg\/([\w\.]+)/i],[M,[$,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[M,[$,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[M,[$,"WeChat"]],[/konqueror\/([\w\.]+)/i],[M,[$,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[M,[$,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[M,[$,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[M,[$,"Smart "+Xh+pa]],[/(avast|avg)\/([\w\.]+)/i],[[$,/(.+)/,"$1 Secure"+pa],M],[/\bfocus\/([\w\.]+)/i],[M,[$,ma+" Focus"]],[/\bopt\/([\w\.]+)/i],[M,[$,ga+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[M,[$,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[M,[$,"Dolphin"]],[/coast\/([\w\.]+)/i],[M,[$,ga+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[M,[$,"MIUI"+pa]],[/fxios\/([\w\.-]+)/i],[M,[$,br+ma]],[/\bqihoobrowser\/?([\w\.]*)/i],[M,[$,"360"]],[/\b(qq)\/([\w\.]+)/i],[[$,/(.+)/,"$1Browser"],M],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[$,/(.+)/,"$1"+pa],M],[/samsungbrowser\/([\w\.]+)/i],[M,[$,ha+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[M,[$,af+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[$,af+" Mobile"],M],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[$,M],[/(lbbrowser|rekonq)/i],[$],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[M,$],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[$,Uo],M,[A,da]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[$,M,[A,da]],[/\bgsa\/([\w\.]+) .*safari\//i],[M,[$,"GSA"],[A,da]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[M,[$,"TikTok"],[A,da]],[/\[(linkedin)app\]/i],[$,[A,da]],[/(chromium)[\/ ]([-\w\.]+)/i],[$,M],[/headlesschrome(?:\/([\w\.]+)| )/i],[M,[$,nf+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[$,nf+" WebView"],M],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[M,[$,"Android"+pa]],[/chrome\/([\w\.]+) mobile/i],[M,[$,br+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[$,M],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[M,[$,br+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[$,br+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[M,$],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[$,[M,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[$,M],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[$,br+ma],M],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[$,"Netscape"],M],[/(wolvic|librewolf)\/([\w\.]+)/i],[$,M],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[M,[$,ma+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[$,[M,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[$,[M,/[^\d\.]+./,Pr]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[lt,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[lt,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[lt,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[lt,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[lt,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[lt,/ower/,Pr,Xt]],[/ sun4\w[;\)]/i],[[lt,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[lt,Xt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[D,[N,ha],[A,je]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[D,[N,ha],[A,ce]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[D,[N,vr],[A,ce]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[D,[N,vr],[A,je]],[/(macintosh);/i],[D,[N,vr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[D,[N,tf],[A,ce]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[D,[N,Qh],[A,je]],[/honor([-\w ]+)[;\)]/i],[D,[N,Qh],[A,ce]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[D,[N,Zh],[A,je]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[D,[N,Zh],[A,ce]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[D,/_/g," "],[N,Fo],[A,je]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[D,/_/g," "],[N,Fo],[A,ce]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[D,[N,$o],[A,ce]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[D,[N,wn,{OnePlus:["304","403","203"],"*":$o}],[A,je]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[D,[N,"BLU"],[A,ce]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[D,[N,"Vivo"],[A,ce]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[D,[N,"Realme"],[A,ce]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[D,[N,Do],[A,ce]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[D,[N,Do],[A,je]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[D,[N,_i],[A,je]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[D,[N,_i],[A,ce]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[D,[N,Xh],[A,je]],[/(nokia) (t[12][01])/i],[N,D,[A,je]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[D,/_/g," "],[A,ce],[N,"Nokia"]],[/(pixel (c|tablet))\b/i],[D,[N,Mn],[A,je]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[D,[N,Mn],[A,ce]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[D,[N,fa],[A,ce]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[D,"Xperia Tablet"],[N,fa],[A,je]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[D,[N,ef],[A,ce]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[D,[N,wi],[A,je]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[D,/(.+)/g,"Fire Phone $1"],[N,wi],[A,ce]],[/(playbook);[-\w\),; ]+(rim)/i],[D,N,[A,je]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[D,[N,Jh],[A,ce]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[D,[N,Gh],[A,je]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[D,[N,Gh],[A,ce]],[/(nexus 9)/i],[D,[N,"HTC"],[A,je]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[N,[D,/_/g," "],[A,ce]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[D,[N,"TCL"],[A,je]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[D,[N,"TCL"],[A,ce]],[/(itel) ((\w+))/i],[[N,Xt],D,[A,wn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[D,[N,"Acer"],[A,je]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[D,[N,"Meizu"],[A,ce]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[D,[N,"Ulefone"],[A,ce]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[D,[N,"Energizer"],[A,ce]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[D,[N,"Cat"],[A,ce]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[D,[N,"Smartfren"],[A,ce]],[/droid.+; (a(?:015|06[35]|142p?))/i],[D,[N,"Nothing"],[A,ce]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[D,[N,"Archos"],[A,je]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[D,[N,"Archos"],[A,ce]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[N,D,[A,je]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[N,D,[A,ce]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[N,D,[A,je]],[/(surface duo)/i],[D,[N,Oo],[A,je]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[D,[N,"Fairphone"],[A,ce]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[D,[N,No],[A,je]],[/(sprint) (\w+)/i],[N,D,[A,ce]],[/(kin\.[onetw]{3})/i],[[D,/\./g," "],[N,Oo],[A,ce]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[D,[N,Mo],[A,je]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[D,[N,Mo],[A,ce]],[/smart-tv.+(samsung)/i],[N,[A,De]],[/hbbtv.+maple;(\d+)/i],[[D,/^/,"SmartTV"],[N,ha],[A,De]],[/tcast.+(lg)e?. ([-\w]+)/i],[N,D,[A,De]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[N,_i],[A,De]],[/(apple) ?tv/i],[N,[D,vr+" TV"],[A,De]],[/crkey.*devicetype\/chromecast/i],[[D,hn+" Third Generation"],[N,Mn],[A,De]],[/crkey.*devicetype\/([^/]*)/i],[[D,/^/,"Chromecast "],[N,Mn],[A,De]],[/fuchsia.*crkey/i],[[D,hn+" Nest Hub"],[N,Mn],[A,De]],[/crkey/i],[[D,hn],[N,Mn],[A,De]],[/(portaltv)/i],[D,[N,Uo],[A,De]],[/droid.+aft(\w+)( bui|\))/i],[D,[N,wi],[A,De]],[/(shield \w+ tv)/i],[D,[N,No],[A,De]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[D,[N,tf],[A,De]],[/(bravia[\w ]+)( bui|\))/i],[D,[N,fa],[A,De]],[/(mi(tv|box)-?\w+) bui/i],[D,[N,Fo],[A,De]],[/Hbbtv.*(technisat) (.*);/i],[N,D,[A,De]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[N,Ua],[D,Ua],[A,De]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[D,[A,De]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[A,De]],[/(ouya)/i,/(nintendo) (\w+)/i],[N,D,[A,wa]],[/droid.+; (shield)( bui|\))/i],[D,[N,No],[A,wa]],[/(playstation \w+)/i],[D,[N,fa],[A,wa]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[D,[N,Oo],[A,wa]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[D,[N,ha],[A,Mt]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[N,D,[A,Mt]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[D,[N,$o],[A,Mt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[D,[N,vr],[A,Mt]],[/(opwwe\d{3})/i],[D,[N,ef],[A,Mt]],[/(moto 360)/i],[D,[N,Do],[A,Mt]],[/(smartwatch 3)/i],[D,[N,fa],[A,Mt]],[/(g watch r)/i],[D,[N,_i],[A,Mt]],[/droid.+; (wt63?0{2,3})\)/i],[D,[N,Mo],[A,Mt]],[/droid.+; (glass) \d/i],[D,[N,Mn],[A,Ao]],[/(pico) (4|neo3(?: link|pro)?)/i],[N,D,[A,Ao]],[/(quest( \d| pro)?s?).+vr/i],[D,[N,Uo],[A,Ao]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[N,[A,_a]],[/(aeobc)\b/i],[D,[N,wi],[A,_a]],[/(homepod).+mac os/i],[D,[N,vr],[A,_a]],[/windows iot/i],[[A,_a]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[D,[A,wn,{mobile:"Mobile",xr:"VR","*":je}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[A,je]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[A,ce]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[D,[N,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[M,[$,PE+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[$,M],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[M,[$,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[$,M],[/ladybird\//i],[[$,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[M,$]],os:[[/microsoft (windows) (vista|xp)/i],[$,M],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[$,[M,wn,sf]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[M,wn,sf],[$,vc]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[M,/_/g,"."],[$,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[$,"macOS"],[M,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[M,[$,hn+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[M,[$,hn+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[M,[$,hn+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[M,[$,hn+" Linux"]],[/crkey\/([\d\.]+)/i],[M,[$,hn]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[M,$],[/(ubuntu) ([\w\.]+) like android/i],[[$,/(.+)/,"$1 Touch"],M],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[$,M],[/\(bb(10);/i],[M,[$,Jh]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[M,[$,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[M,[$,ma+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[M,[$,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[M,[$,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[$,"Chrome OS"],M],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[$,M],[/(sunos) ?([\w\.\d]*)/i],[[$,"Solaris"],M],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[$,M]]},ji=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Qt.call(e.init,[[ot,[$,M,Ma,A]],[Zt,[lt]],[Ut,[A,D,N]],[Tt,[$,M]],[wt,[$,M]]]),Qt.call(e.isIgnore,[[ot,[M,Ma]],[Tt,[M]],[wt,[M]]]),Qt.call(e.isIgnoreRgx,[[ot,/ ?browser$/i],[wt,/ ?os$/i]]),Qt.call(e.toString,[[ot,[$,M]],[Zt,[lt]],[Ut,[N,D]],[Tt,[$,M]],[wt,[$,M]]]),e}(),DE=function(e,t){var n=ji.init[t],r=ji.isIgnore[t]||0,a=ji.isIgnoreRgx[t]||0,i=ji.toString[t]||0;function o(){Qt.call(this,n)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return bn?bn.getHighEntropyValues(px).then(function(l){return e.setCH(new xx(l,!1)).parseCH().get()}):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=Rr&&(o.prototype.is=function(l){var c=!1;for(var u in this)if(this.hasOwnProperty(u)&&!bc(r,u)&&Xt(a?Or(a,this[u]):this[u])==Xt(a?Or(a,l):l)){if(c=!0,l!=_n)break}else if(l==_n&&c){c=!c;break}return c},o.prototype.toString=function(){var l=Pr;for(var c in i)typeof this[i[c]]!==_n&&(l+=(l?" ":Pr)+this[i[c]]);return l||_n}),bn||(o.prototype.then=function(l){var c=this,u=function(){for(var h in c)c.hasOwnProperty(h)&&(this[h]=c[h])};u.prototype={is:o.prototype.is,toString:o.prototype.toString};var d=new u;return l(d),d}),new o};function xx(e,t){if(e=e||{},Qt.call(this,px),t)Qt.call(this,[[Cu,zo(e[Ln])],[Ru,zo(e[CE])],[ce,/\?1/.test(e[IE])],[D,xa(e[kE])],[Er,xa(e[gx])],[Eu,xa(e[LE])],[lt,xa(e[RE])],[Hn,zo(e[TE])],[Ns,xa(e[EE])]]);else for(var n in e)this.hasOwnProperty(n)&&typeof e[n]!==_n&&(this[n]=e[n])}function cf(e,t,n,r){return this.get=function(a){return a?this.data.hasOwnProperty(a)?this.data[a]:void 0:this.data},this.set=function(a,i){return this.data[a]=i,this},this.setCH=function(a){return this.uaCH=a,this},this.detectFeature=function(){if(ct&&ct.userAgent==this.ua)switch(this.itemType){case ot:ct.brave&&typeof ct.brave.isBrave==os&&this.set($,"Brave");break;case Ut:!this.get(A)&&bn&&bn[ce]&&this.set(A,ce),this.get(D)=="Macintosh"&&ct&&typeof ct.standalone!==_n&&ct.maxTouchPoints&&ct.maxTouchPoints>2&&this.set(D,"iPad").set(A,je);break;case wt:!this.get($)&&bn&&bn[Er]&&this.set($,bn[Er]);break;case Rr:var a=this.data,i=function(o){return a[o].getItem().detectFeature().get()};this.set(ot,i(ot)).set(Zt,i(Zt)).set(Ut,i(Ut)).set(Tt,i(Tt)).set(wt,i(wt))}return this},this.parseUA=function(){return this.itemType!=Rr&&Ho.call(this.data,this.ua,this.rgxMap),this.itemType==ot&&this.set(Ma,qo(this.get(M))),this},this.parseCH=function(){var a=this.uaCH,i=this.rgxMap;switch(this.itemType){case ot:case Tt:var o=a[Ru]||a[Cu],l;if(o)for(var c in o){var u=o[c].brand||o[c],d=o[c].version;this.itemType==ot&&!/not.a.brand/i.test(u)&&(!l||/chrom/i.test(l)&&u!=rf)&&(u=wn(u,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set($,u).set(M,d).set(Ma,qo(d)),l=u),this.itemType==Tt&&u==rf&&this.set(M,d)}break;case Zt:var h=a[lt];h&&(h&&a[Ns]=="64"&&(h+="64"),Ho.call(this.data,h+";",i));break;case Ut:if(a[ce]&&this.set(A,ce),a[D]&&(this.set(D,a[D]),!this.get(A)||!this.get(N))){var f={};Ho.call(f,"droid 9; "+a[D]+")",i),!this.get(A)&&f.type&&this.set(A,f.type),!this.get(N)&&f.vendor&&this.set(N,f.vendor)}if(a[Hn]){var p;if(typeof a[Hn]!="string")for(var m=0;!p&&m<a[Hn].length;)p=wn(a[Hn][m++],of);else p=wn(a[Hn],of);this.set(A,p)}break;case wt:var y=a[Er];if(y){var g=a[Eu];y==vc&&(g=parseInt(qo(g),10)>=13?"11":"10"),this.set($,y).set(M,g)}this.get($)==vc&&a[D]=="Xbox"&&this.set($,"Xbox").set(M,void 0);break;case Rr:var x=this.data,j=function(w){return x[w].getItem().setCH(a).parseCH().get()};this.set(ot,j(ot)).set(Zt,j(Zt)).set(Ut,j(Ut)).set(Tt,j(Tt)).set(wt,j(wt))}return this},Qt.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",n],["data",DE(this,e)]]),this}function Pt(e,t,n){if(typeof e===Ar?(ls(e,!0)?(typeof t===Ar&&(n=t),t=e):(n=e,t=void 0),e=void 0):typeof e===yc&&!ls(t,!0)&&(n=t,t=void 0),n&&typeof n.append===os){var r={};n.forEach(function(c,u){r[u]=c}),n=r}if(!(this instanceof Pt))return new Pt(e,t,n).getResult();var a=typeof e===yc?e:n&&n[Yh]?n[Yh]:ct&&ct.userAgent?ct.userAgent:Pr,i=new xx(n,!0),o=t?OE(lf,t):lf,l=function(c){return c==Rr?function(){return new cf(c,a,o,i).set("ua",a).set(ot,this.getBrowser()).set(Zt,this.getCPU()).set(Ut,this.getDevice()).set(Tt,this.getEngine()).set(wt,this.getOS()).get()}:function(){return new cf(c,a,o[c],i).parseUA().get()}};return Qt.call(this,[["getBrowser",l(ot)],["getCPU",l(Zt)],["getDevice",l(Ut)],["getEngine",l(Tt)],["getOS",l(wt)],["getResult",l(Rr)],["getUA",function(){return a}],["setUA",function(c){return Kr(c)&&(a=c.length>xc?Ua(c,xc):c),this}]]).setUA(a),this}Pt.VERSION=SE;Pt.BROWSER=$s([$,M,Ma,A]);Pt.CPU=$s([lt]);Pt.DEVICE=$s([D,N,A,wa,ce,De,je,Mt,_a]);Pt.ENGINE=Pt.OS=$s([$,M]);const In=e=>{const{browser:t}=Pt(e);return t.name&&t.version?`${t.name} | ${t.version}`:null},cr=e=>{const{os:t}=Pt(e);return t.name&&t.version?`${t.name} | ${t.version}`:null},ei=e=>{const{device:t}=Pt(e);return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},NE=e=>{var t;return s.jsx(mn,{column:3,items:[{key:"user",label:"用户",children:s.jsx(P,{direction:"vertical",children:s.jsx(Ir,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:s.jsxs("span",{children:[s.jsx(ne,{text:(t=e.author)==null?void 0:t.name,placeholder:"未知用户"}),"（",Su(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:s.jsx(Vt,{icon:ss(e.vote_type).icon,color:e.vote_type===ju.Upvote?"green":"red",children:s.jsx("strong",{children:ss(e.vote_type).name})})},{key:"browser",label:"浏览器",children:s.jsx(ne,{text:In(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:s.jsx(ne,{text:Fe(e.created_at)})},{key:"os",label:"系统",children:s.jsx(ne,{text:cr(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:s.jsx(lr,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:s.jsx(ne,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]})},$E=e=>{const t=pe(),n=pe(),r=se([]),a=it(null),i=it(er.Desc),o=pt(()=>a.value?a.value.current_page<a.value.total_page:!1),l=async(c=1)=>{const u=c===1,d=u?t:n;u&&(r.value=[],a.value=null);const h={page:c,per_page:50,target_type:jr.Post,target_id:e.articleId,sort:i.value},f=await d.promise(fx(h));u?(r.value=f.data,a.value=f.pagination):(r.value.push(...f.data),a.value=f.pagination)};return Ce(()=>l()),s.jsxs(fs,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnHidden:!0,open:e.open,onClose:e.onClose,extra:s.jsxs(P.Compact,{children:[s.jsx(or,{disabled:t.state.value||n.state.value,value:i.value,onChange:c=>{i.value=c,l()}}),s.jsx(z,{icon:s.jsx(Qe,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"})]}),children:[s.jsx(nn,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:c=>s.jsx(nn.Item,{children:NE(c)})}),s.jsx("br",{}),s.jsx(me,{justify:"center",children:s.jsx(z,{style:{width:240},icon:s.jsx(kn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var c;return l(((c=a.value)==null?void 0:c.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},ti="/comment",FE=e=>Jp.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function yx(e={}){return ee.get(ti,{params:e}).then(t=>t.result)}function ME(e){return ee.put(`${ti}/${e._id}`,e).then(t=>t.result)}function UE(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return ee.patch(ti,r).then(a=>a.result)}function zE(e,t){return ee.delete(ti,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function qE(e){return ee.put(`${ti}/${e}/ip_location`).then(t=>t.result)}const HE=e=>{const t=pe(),n=pe(),r=se([]),a=it(null),i=it(tr.Desc),o=pt(()=>a.value?a.value.current_page<a.value.total_page:!1),l=pt(()=>FE(r.value)),c=async(u=1)=>{const d=u===1,h=d?t:n;d&&(r.value=[],a.value=null);const f={page:u,per_page:50,post_id:e.articleId,sort:i.value},p=await h.promise(yx(f));d?(r.value=p.data,a.value=p.pagination):(r.value.push(...p.data),a.value=p.pagination)};return Ce(()=>c()),s.jsxs(fs,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnHidden:!0,open:e.open,onClose:e.onClose,extra:s.jsx(or,{withHot:!0,disabled:t.state.value||n.state.value,value:i.value,onChange:u=>{i.value=u,c()}}),footer:s.jsxs(me,{justify:"space-between",align:"bottom",children:[s.jsx(z,{size:"small",icon:s.jsx(Qe,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"}),s.jsx(z,{size:"small",type:"primary",icon:s.jsx(qa,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:l.value,loading:n.state.value}),s.jsx(oe,{}),s.jsx(me,{justify:"center",children:s.jsx(z,{style:{width:240},icon:s.jsx(kn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var u;return c(((u=a.value)==null?void 0:u.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},BE=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},VE=(e,t)=>e.length?BE(e)[t]:void 0,vx=e=>VE(e,"disqus-author-username"),KE=e=>`https://www.gravatar.com/avatar/${e}`,YE=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,WE=e=>{if(e.author.email_hash)return KE(e.author.email_hash);const t=vx(e.extends);return t?YE(t):""},GE="_commentContent_9dq3k_1",JE="_avatarBadge_9dq3k_5",ZE="_avatarBadgeIconWrapper_9dq3k_5",XE="_avatarBadgeIcon_9dq3k_5",Bi={commentContent:GE,avatarBadge:JE,avatarBadgeIconWrapper:ZE,avatarBadgeIcon:XE},Tu=e=>{const t=!!vx(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return s.jsx(xm,{className:Bi.avatarBadge,title:n,count:s.jsx(Ir,{placement:"right",content:n,children:s.jsx("span",{className:Bi.avatarBadgeIconWrapper,children:s.jsx("img",{className:Bi.avatarBadgeIcon,src:As(r)})})}),children:s.jsx(Dc,{shape:"square",size:e.size,src:WE(e.comment)})})},bx=e=>s.jsx(nn,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>{var n;return s.jsx(nn.Item,{children:s.jsxs(me,{align:"flex-start",gap:"large",children:[s.jsx("div",{style:{marginTop:"var(--app-padding)"},children:s.jsx(Tu,{size:"large",comment:t})}),s.jsxs(P,{direction:"vertical",style:{flex:1},children:[s.jsxs(me,{justify:"space-between",children:[s.jsxs("div",{children:[t.author.site?s.jsx(B.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):s.jsx(B.Text,{strong:!0,children:t.author.name}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{type:"secondary",children:s.jsx(lr,{data:t.ip_location},"ip-location")}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{type:"secondary",children:Fe(t.created_at)})]}),s.jsx(Vt,{color:Ia(t.state).color,icon:Ia(t.state).icon,children:Ia(t.state).name})]}),s.jsx(B.Paragraph,{style:{margin:0},children:t.content}),s.jsxs(P,{children:[s.jsxs(B.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?s.jsx(Oy,{}):s.jsx(ar,{})," ",t.likes]}),s.jsxs(B.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?s.jsx(Dy,{}):s.jsx(Nr,{})," ",t.dislikes]}),s.jsx(ne,{type:"secondary",placeholder:"未知浏览器",small:!0,text:In(t.agent)}),s.jsx(ne,{type:"secondary",placeholder:"未知系统",small:!0,text:cr(t.agent)})]}),(n=t.children)!=null&&n.length?s.jsx(bx,{comments:t.children||[]}):""]})]})})}}),QE=()=>{var f,p,m,y,g,x,j,w,S,C,v,L;const{article_id:e}=J_(),t=$u.articleDetail(e),n=ln(),r=pe(),a=pe(),i=se(null),o=se(!1),l=se(!1),c=async()=>{try{const E=await r.promise(Kp(e)),T=LR(t);T&&T!==E.content?Se.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){i.value={...E,content:T||""}},onCancel(){i.value=E}}):i.value=E}catch(E){Se.error({centered:!0,title:"文章请求失败",content:String(E.message)})}},u=E=>a.promise(nR(E)).then(T=>{i.value=T,st(document.body)}),d=()=>{Se.confirm({title:`你确定要彻底删除文章《${i.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>{var E;return a.promise(rR([(E=i.value)==null?void 0:E._id])).then(()=>{n(Xe[ge.ArticleList]),st(document.body)})}})},h=()=>{var E;n({pathname:Xe[ge.Comment],search:`post_id=${(E=i.value)==null?void 0:E.id}`})};return Ce(()=>c()),s.jsxs(s.Fragment,{children:[s.jsx(dx,{article:i.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:E=>u(E),mainFormExtraItems:[{label:"ID",content:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{children:((f=i.value)==null?void 0:f.id)??"-"}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{children:((p=i.value)==null?void 0:p._id)??"-"})]})}],mainCardExtra:s.jsxs(P,{size:"small",wrap:!0,children:[s.jsxs(P.Compact,{size:"small",children:[s.jsx(Tn,{title:OC(((y=(m=i.value)==null?void 0:m.meta)==null?void 0:y.views)??0),children:s.jsxs(z,{icon:s.jsx(Ec,{}),loading:r.state.value,children:[mu(((x=(g=i.value)==null?void 0:g.meta)==null?void 0:x.views)??0)," 阅读"]})}),s.jsxs(z,{icon:s.jsx(Tc,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>l.value=!0,children:[((w=(j=i.value)==null?void 0:j.meta)==null?void 0:w.likes)??""," 喜欢"]}),s.jsxs(z,{icon:s.jsx(za,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[((C=(S=i.value)==null?void 0:S.meta)==null?void 0:C.comments)??""," 评论"]})]}),s.jsx(oe,{type:"vertical"}),s.jsx(Tn,{title:rs((v=i.value)==null?void 0:v.id),children:s.jsx(z,{size:"small",type:"dashed",target:"_blank",icon:s.jsx(qa,{}),loading:r.state.value,disabled:r.state.value,href:rs((L=i.value)==null?void 0:L.id),children:"打开"})}),s.jsx(oe,{type:"vertical"}),s.jsx(z,{type:"dashed",size:"small",danger:!0,icon:s.jsx(He,{}),disabled:r.state.value,onClick:()=>Cn.warning("双击执行删除操作"),onDoubleClick:d,children:"删除文章"})]})}),i.value&&s.jsxs(s.Fragment,{children:[s.jsx($E,{width:"48rem",open:l.value,likeCount:i.value.meta.likes,articleId:i.value.id,onClose:()=>l.value=!1}),s.jsx(HE,{width:"68rem",open:o.value,commentCount:i.value.meta.comments,articleId:i.value.id,renderTreeList:({comments:E,loading:T})=>s.jsx(bx,{comments:E,loading:T}),onClose:()=>o.value=!1,onNavigate:h})]})]})},e1=()=>{const e=ln(),t=pe(),n=r=>t.promise(tR(r)).then(a=>{e($u.articleDetail(a._id)),st(document.body)});return s.jsx(dx,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},ni="/announcement";function t1(e={}){return ee.get(ni,{params:e}).then(t=>t.result)}function n1(e){return ee.post(ni,e).then(t=>t.result)}function r1(e){return ee.put(`${ni}/${e._id}`,e).then(t=>t.result)}function a1(e){return ee.delete(`${ni}/${e}`).then(t=>t.result)}function i1(e){return ee.delete(ni,{data:{announcement_ids:e}}).then(t=>t.result)}var wx=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(wx||{});const Iu=[{id:0,name:"未发布",icon:s.jsx(We,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"}],s1=new Map(Iu.map(e=>[e.id,e])),o1=e=>s1.get(e),ku="ALL",uf={state:ku,sort:er.Desc},l1=e=>({state:e.state!==ku?e.state:void 0,sort:e.sort}),c1=e=>{const{i18n:t}=Ve();return s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(be,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:ku},...Iu.map(n=>({value:n.id,label:s.jsxs(P,{size:"small",children:[n.icon,n.name]})}))]}),s.jsx(or,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),s.jsx(he.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(P,{children:e.extra})]})},u1=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(a,i)=>Fe(i.created_at)},{title:"状态",width:120,dataIndex:"state",render:(a,i)=>{const o=o1(i.state);return s.jsx(Vt,{icon:o.icon,color:o.color,children:o.name})}},{title:"操作",width:160,dataIndex:"actions",render:(a,i,o)=>s.jsxs(P.Compact,{size:"small",children:[s.jsx(z,{type:"text",icon:s.jsx(We,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(z,{type:"text",danger:!0,icon:s.jsx(He,{}),onClick:()=>e.onDelete(i,o),children:"删除"})]})}]})},d1={labelCol:{span:4},wrapperCol:{span:19}},h1=e=>{const[t]=O.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),s.jsx(Se,{width:e.width,centered:!0,forceRender:!0,destroyOnHidden:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(O,{...d1,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(O.Item,{label:"ID",children:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{copyable:!0,children:e.initData.id}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(O.Item,{label:"发布于",children:Fe(e.initData.created_at)}),s.jsx(O.Item,{label:"最后修改于",children:Fe(e.initData.updated_at)})]}),s.jsx(O.Item,{label:"发布状态",name:"state",initialValue:wx.Published,rules:[{required:!0,message:"请选择状态"}],children:s.jsx(be,{placeholder:"选择状态",options:Iu.map(r=>({value:r.id,label:s.jsxs(P,{size:"small",children:[r.icon,r.name]})}))})}),s.jsx(O.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(Lr,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},f1=()=>{var S;const{i18n:e}=Ve(),t=pe(),n=pe(),r=sn({data:[],pagination:void 0}),a=se(""),i=se({...uf}),o=()=>{a.value="",i.value={...uf}},l=se([]),c=se(!1),u=se(null),d=pt(()=>{const C=u.value;return C!==null?r.data[C]:null}),h=()=>{c.value=!1},f=C=>{u.value=C,c.value=!0},p=()=>{u.value=null,c.value=!0},m=C=>{const v={...C,...l1(i.value),keyword:a.value||void 0};t.promise(t1(v)).then(L=>{r.data=L.data,r.pagination=L.pagination,st(document.body)})},y=()=>{var C,v;m({page:(C=r.pagination)==null?void 0:C.current_page,per_page:(v=r.pagination)==null?void 0:v.per_page})},g=C=>{n.promise(n1(C)).then(()=>{h(),y()})},x=C=>{const v={...d.value,...C};n.promise(r1(v)).then(()=>{h(),y()})},j=C=>{Se.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>a1(C).then(()=>{y()})})},w=C=>{Se.confirm({title:`确定要删除 ${C.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>i1(C).then(()=>{y()})})};return xt(()=>i.value,()=>m(),{deep:!0}),Ce(()=>{m()}),s.jsxs(ve,{variant:"borderless",title:e.t("page.announcement.list.title",{total:((S=r.pagination)==null?void 0:S.total)??"-"}),extra:s.jsx(z,{type:"primary",size:"small",icon:s.jsx(kn,{}),onClick:p,children:"发布新公告"}),children:[s.jsx(c1,{loading:t.state.value,keyword:a.value,onKeywordChange:C=>a.value=C,onKeywordSearch:()=>m(),params:i.value,onParamsChange:C=>Object.assign(i.value,C),onResetRefresh:o,extra:s.jsx(Hr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(He,{}),onClick:()=>w(l.value)}]})}),s.jsx(oe,{}),s.jsx(u1,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:C=>l.value=C,onEdit:(C,v)=>f(v),onDelete:C=>j(C._id),onPaginate:(C,v)=>m({page:C,per_page:v})}),s.jsx(h1,{width:680,title:d.value?"编辑公告":"新公告",open:c.value,submitting:n.state.value,initData:d.value,onCancel:h,onSubmit:C=>{d.value?x(C):g(C)}})]})},m1={labelCol:{span:5},wrapperCol:{span:18}},ja="null",g1={pid:ja,extends:[{name:"icon",value:"icon-category"}]},p1=e=>{const[t]=O.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===ja?null:r.pid})})};return b.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??ja})):(t.resetFields(),t.setFieldsValue({...g1}))},[e.initData,e.open]),s.jsx(Se,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(O,{...m1,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(O.Item,{label:"ID",children:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{copyable:!0,children:e.initData.id}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(O.Item,{label:"创建于",children:Fe(e.initData.created_at)}),s.jsx(O.Item,{label:"最后修改于",children:Fe(e.initData.updated_at)})]}),s.jsx(O.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he,{placeholder:"分类名称"})}),s.jsx(O.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he,{placeholder:"分类别名"})}),s.jsx(O.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){var i;return a===ja?Promise.resolve():a===((i=e.initData)==null?void 0:i._id)?Promise.reject():Promise.resolve()}}],children:s.jsx(pm,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:ja},...e.selectTree]})}),s.jsx(O.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he.TextArea,{rows:4,placeholder:"分类描述"})}),s.jsx(O.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Qa,{fieldName:"extends"})})]})})},x1="_categoryTreeNode_1cgqs_1",y1="_levelIcon_1cgqs_11",Bo={categoryTreeNode:x1,levelIcon:y1},_x=e=>s.jsx(nn,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>{var n;return s.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[s.jsxs(me,{justify:"space-between",align:"start",className:Bo.categoryTreeNode,children:[e.level&&s.jsx("div",{className:Bo.levelIcon,children:s.jsx(Ny,{})}),s.jsxs(P,{direction:"vertical",children:[s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{strong:!0,children:t.name}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{type:"secondary",children:t.slug}),s.jsx(oe,{type:"vertical"}),s.jsxs(B.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),s.jsx(ne,{type:"secondary",text:t.description})]}),s.jsxs("div",{className:Bo.actions,children:[s.jsx(z,{size:"small",type:"text",icon:s.jsx(We,{}),onClick:()=>e.onEdit(t),children:"编辑"}),s.jsx(oe,{type:"vertical"}),s.jsx(z,{size:"small",type:"text",danger:!0,icon:s.jsx(He,{}),onClick:()=>e.onDelete(t),children:"删除"}),s.jsx(oe,{type:"vertical"}),s.jsx(z,{size:"small",icon:s.jsx(qa,{}),type:"link",target:"_blank",href:kC(t.slug),children:"查看"})]})]}),(n=t.children)!=null&&n.length?s.jsx(_x,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}}),v1=()=>{var y;const{i18n:e}=Ve(),t=pe(),n=pe(),r=it([]),a=it([]),i=se(!1),o=se(null),l=pt(()=>o.value?a.value.find(g=>g._id===o.value):null),c=()=>{i.value=!1},u=g=>{o.value=g,i.value=!0},d=()=>{i.value=!0,o.value=null},h=()=>t.promise(vu()).then(g=>{a.value=g.list,r.value=g.tree}),f=g=>{n.promise(hR(g)).then(()=>{c(),h()})},p=g=>{const x={...l.value,...g};n.promise(fR(x)).then(()=>{c(),h()})},m=g=>{Se.confirm({title:`确定要删除分类「 ${g.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>mR(g._id).then(()=>{h()})})};return Ce(()=>h()),s.jsxs(ve,{variant:"borderless",title:e.t("page.category.list.title",{total:((y=a.value)==null?void 0:y.length)??"-"}),extra:s.jsx(z,{type:"primary",size:"small",icon:s.jsx(kn,{}),onClick:d,children:"创建新分类"}),children:[s.jsx(P,{children:s.jsx(z,{icon:s.jsx(Qe,{}),loading:t.state.value,onClick:()=>h(),children:e.t("common.list.filter.refresh")})}),s.jsx(oe,{}),s.jsx(_x,{tree:r.value,loading:t.state.value,onEdit:g=>u(g._id),onDelete:g=>m(g)}),s.jsx(p1,{width:680,title:l.value?"编辑分类":"新分类",open:i.value,submitting:n.state.value,initData:l.value,onCancel:()=>c(),onSubmit:g=>{l.value?p(g):f(g)},selectTree:bu({tree:r.value,valuer:g=>g._id,disabledWhen:g=>{var x,j;return g._id===((x=l.value)==null?void 0:x._id)?!0:g.pid===((j=l.value)==null?void 0:j._id)}})})]})},b1=e=>{const{i18n:t}=Ve();return s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(he.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(P,{children:e.extra})]})},w1=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(a,i,o)=>s.jsxs(P.Compact,{size:"small",children:[s.jsx(z,{type:"text",icon:s.jsx(We,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(z,{type:"text",danger:!0,icon:s.jsx(He,{}),onClick:()=>e.onDelete(i,o),children:"删除"}),s.jsx(z,{type:"link",target:"_blank",icon:s.jsx(qa,{}),href:IC(i.slug),children:"查看"})]})}]})},_1={labelCol:{span:5},wrapperCol:{span:18}},j1={extends:[{name:"icon",value:"icon-tag"}]},S1=e=>{var r,a,i,o;const[t]=O.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??j1)},[e.initData,e.open]),s.jsx(Se,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(O,{..._1,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(O.Item,{label:"ID",children:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{copyable:!0,children:(r=e.initData)==null?void 0:r.id}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{copyable:!0,children:(a=e.initData)==null?void 0:a._id})]})}),s.jsx(O.Item,{label:"创建于",children:Fe((i=e.initData)==null?void 0:i.created_at)}),s.jsx(O.Item,{label:"最后修改于",children:Fe((o=e.initData)==null?void 0:o.updated_at)})]}),s.jsx(O.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he,{placeholder:"标签名称"})}),s.jsx(O.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he,{placeholder:"标签别名"})}),s.jsx(O.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he.TextArea,{rows:4,placeholder:"标签描述"})}),s.jsx(O.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Qa,{fieldName:"extends"})})]})})},C1=()=>{var w;const{i18n:e}=Ve(),t=pe(),n=pe(),r=sn({data:[],pagination:void 0}),a=se(""),i=se([]),o=se(!1),l=se(null),c=pt(()=>{const S=l.value;return S!==null?r.data[S]:null}),u=()=>{o.value=!1},d=S=>{l.value=S,o.value=!0},h=()=>{l.value=null,o.value=!0},f=S=>{const C={...S,keyword:a.value||void 0};t.promise(sR(C)).then(v=>{r.data=v.data,r.pagination=v.pagination,st(document.body)})},p=()=>{var S,C;f({page:(S=r.pagination)==null?void 0:S.current_page,per_page:(C=r.pagination)==null?void 0:C.per_page})},m=S=>{n.promise(oR(S)).then(()=>{u(),p()})},y=S=>{const C={...c.value,...S};n.promise(lR(C)).then(()=>{u(),p()})},g=S=>{Se.confirm({title:`确定要删除标签「 ${S.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>cR(S._id).then(()=>{p()})})},x=S=>{Se.confirm({title:`确定要删除 ${S.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>uR(S).then(()=>{p()})})},j=()=>{a.value="",f()};return Ce(()=>{f()}),s.jsxs(ve,{variant:"borderless",title:e.t("page.tag.list.title",{total:((w=r.pagination)==null?void 0:w.total)??"-"}),extra:s.jsx(z,{type:"primary",size:"small",icon:s.jsx(kn,{}),onClick:h,children:"创建新标签"}),children:[s.jsx(b1,{loading:t.state.value,keyword:a.value,onKeywordChange:S=>a.value=S,onKeywordSearch:()=>f(),onResetRefresh:j,extra:s.jsx(Hr,{text:"批量操作",disabled:!i.value.length,options:[{label:"批量删除",icon:s.jsx(He,{}),onClick:()=>x(i.value)}]})}),s.jsx(oe,{}),s.jsx(w1,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:i.value,onSelect:S=>i.value=S,onPaginate:(S,C)=>f({page:S,per_page:C}),onEdit:(S,C)=>d(C),onDelete:S=>g(S)}),s.jsx(S1,{width:680,title:c.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:c.value,onCancel:u,onSubmit:S=>c.value?y(S):m(S)})]})},jx="%[a-f0-9]{2}",df=new RegExp("("+jx+")|([^%]+?)","gi"),hf=new RegExp("("+jx+")+","gi");function wc(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],wc(n),wc(r))}function R1(e){try{return decodeURIComponent(e)}catch{let t=e.match(df)||[];for(let n=1;n<t.length;n++)e=wc(t,n).join(""),t=e.match(df)||[];return e}}function E1(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=hf.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=R1(n[0]);a!==n[0]&&(t[n[0]]=a)}n=hf.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function T1(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return E1(e)}}function I1(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a!=null&&a.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const i=e[r];t(r,i,e)&&Object.defineProperty(n,r,a)}}return n}function Sx(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const k1=e=>e==null,L1=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),_c=Symbol("encodeFragmentIdentifier");function P1(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[",a,"]"].join("")]:[...n,[Ne(t,e),"[",Ne(a,e),"]=",Ne(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[]"].join("")]:[...n,[Ne(t,e),"[]=",Ne(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),":list="].join("")]:[...n,[Ne(t,e),":list=",Ne(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[Ne(n,e),t,Ne(a,e)].join("")]:[[r,Ne(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Ne(t,e)]:[...n,[Ne(t,e),"=",Ne(r,e)].join("")]}}function A1(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&Jt(r,e).includes(e.arrayFormatSeparator);r=o?Jt(r,e):r;const l=i||o?r.split(e.arrayFormatSeparator).map(c=>Jt(c,e)):r===null?r:Jt(r,e);a[n]=l};case"bracket-separator":return(n,r,a)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){a[n]=r&&Jt(r,e);return}const o=r===null?[]:Jt(r,e).split(e.arrayFormatSeparator);if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function Cx(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Ne(e,t){return t.encode?t.strict?L1(e):encodeURIComponent(e):e}function Jt(e,t){return t.decode?T1(e):e}function Rx(e){return Array.isArray(e)?e.sort():typeof e=="object"?Rx(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function Ex(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function O1(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function ff(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):n==="boolean"&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="boolean"&&e!==null&&(e.toLowerCase()==="1"||e.toLowerCase()==="0")?e.toLowerCase()==="1":n==="string[]"&&t.arrayFormat!=="none"&&typeof e=="string"?[e]:n==="number[]"&&t.arrayFormat!=="none"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?[Number(e)]:n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function Lu(e){e=Ex(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Pu(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},Cx(t.arrayFormatSeparator);const n=A1(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const i=t.decode?a.replaceAll("+"," "):a;let[o,l]=Sx(i,"=");o===void 0&&(o=i),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:Jt(l,t),n(Jt(o,t),l,r)}for(const[a,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[a]!=="string")for(const[o,l]of Object.entries(i)){const c=t.types[a]?t.types[a].replace("[]",""):void 0;i[o]=ff(l,t,c)}else typeof i=="object"&&i!==null&&t.types[a]==="string"?r[a]=Object.values(i).join(t.arrayFormatSeparator):r[a]=ff(i,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,i)=>{const o=r[i];return a[i]=o&&typeof o=="object"&&!Array.isArray(o)?Rx(o):o,a},Object.create(null))}function Tx(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Cx(t.arrayFormatSeparator);const n=o=>t.skipNull&&k1(e[o])||t.skipEmptyString&&e[o]==="",r=P1(t),a={};for(const[o,l]of Object.entries(e))n(o)||(a[o]=l);const i=Object.keys(a);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const l=e[o];return l===void 0?"":l===null?Ne(o,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?Ne(o,t)+"[]":l.reduce(r(o),[]).join("&"):Ne(o,t)+"="+Ne(l,t)}).filter(o=>o.length>0).join("&")}function Ix(e,t){var a;t={decode:!0,...t};let[n,r]=Sx(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:Pu(Lu(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Jt(r,t)}:{}}}function kx(e,t){t={encode:!0,strict:!0,[_c]:!0,...t};const n=Ex(e.url).split("?")[0]||"",r=Lu(e.url),a={...Pu(r,{sort:!1,...t}),...e.query};let i=Tx(a,t);i&&(i=`?${i}`);let o=O1(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(n);l.hash=e.fragmentIdentifier,o=t[_c]?l.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}function Lx(e,t,n){n={parseFragmentIdentifier:!0,[_c]:!1,...n};const{url:r,query:a,fragmentIdentifier:i}=Ix(e,n);return kx({url:r,query:I1(a,t),fragmentIdentifier:i},n)}function D1(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,i)=>!t(a,i);return Lx(e,r,n)}const N1=Object.freeze(Object.defineProperty({__proto__:null,exclude:D1,extract:Lu,parse:Pu,parseUrl:Ix,pick:Lx,stringify:Tx,stringifyUrl:kx},Symbol.toStringTag,{value:"Module"}));var Vo,mf;function $1(){if(mf)return Vo;mf=1;var e=wu(),t=Ds(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==r||c==a||c==n||c==i}return Vo=o,Vo}var Ko,gf;function F1(){if(gf)return Ko;gf=1;var e=Xa(),t=e["__core-js_shared__"];return Ko=t,Ko}var Yo,pf;function M1(){if(pf)return Yo;pf=1;var e=F1(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Yo=n,Yo}var Wo,xf;function U1(){if(xf)return Wo;xf=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Wo=n,Wo}var Go,yf;function z1(){if(yf)return Go;yf=1;var e=$1(),t=M1(),n=Ds(),r=U1(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||t(f))return!1;var p=e(f)?d:i;return p.test(r(f))}return Go=h,Go}var Jo,vf;function q1(){if(vf)return Jo;vf=1;function e(t,n){return t==null?void 0:t[n]}return Jo=e,Jo}var Zo,bf;function Au(){if(bf)return Zo;bf=1;var e=z1(),t=q1();function n(r,a){var i=t(r,a);return e(i)?i:void 0}return Zo=n,Zo}var Xo,wf;function Fs(){if(wf)return Xo;wf=1;var e=Au(),t=e(Object,"create");return Xo=t,Xo}var Qo,_f;function H1(){if(_f)return Qo;_f=1;var e=Fs();function t(){this.__data__=e?e(null):{},this.size=0}return Qo=t,Qo}var el,jf;function B1(){if(jf)return el;jf=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return el=e,el}var tl,Sf;function V1(){if(Sf)return tl;Sf=1;var e=Fs(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return r.call(o,i)?o[i]:void 0}return tl=a,tl}var nl,Cf;function K1(){if(Cf)return nl;Cf=1;var e=Fs(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return nl=r,nl}var rl,Rf;function Y1(){if(Rf)return rl;Rf=1;var e=Fs(),t="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&a===void 0?t:a,this}return rl=n,rl}var al,Ef;function W1(){if(Ef)return al;Ef=1;var e=H1(),t=B1(),n=V1(),r=K1(),a=Y1();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,al=i,al}var il,Tf;function G1(){if(Tf)return il;Tf=1;function e(){this.__data__=[],this.size=0}return il=e,il}var sl,If;function J1(){if(If)return sl;If=1;function e(t,n){return t===n||t!==t&&n!==n}return sl=e,sl}var ol,kf;function Ms(){if(kf)return ol;kf=1;var e=J1();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return ol=t,ol}var ll,Lf;function Z1(){if(Lf)return ll;Lf=1;var e=Ms(),t=Array.prototype,n=t.splice;function r(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return ll=r,ll}var cl,Pf;function X1(){if(Pf)return cl;Pf=1;var e=Ms();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return cl=t,cl}var ul,Af;function Q1(){if(Af)return ul;Af=1;var e=Ms();function t(n){return e(this.__data__,n)>-1}return ul=t,ul}var dl,Of;function eT(){if(Of)return dl;Of=1;var e=Ms();function t(n,r){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return dl=t,dl}var hl,Df;function tT(){if(Df)return hl;Df=1;var e=G1(),t=Z1(),n=X1(),r=Q1(),a=eT();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,hl=i,hl}var fl,Nf;function nT(){if(Nf)return fl;Nf=1;var e=Au(),t=Xa(),n=e(t,"Map");return fl=n,fl}var ml,$f;function rT(){if($f)return ml;$f=1;var e=W1(),t=tT(),n=nT();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ml=r,ml}var gl,Ff;function aT(){if(Ff)return gl;Ff=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return gl=e,gl}var pl,Mf;function Us(){if(Mf)return pl;Mf=1;var e=aT();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return pl=t,pl}var xl,Uf;function iT(){if(Uf)return xl;Uf=1;var e=Us();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return xl=t,xl}var yl,zf;function sT(){if(zf)return yl;zf=1;var e=Us();function t(n){return e(this,n).get(n)}return yl=t,yl}var vl,qf;function oT(){if(qf)return vl;qf=1;var e=Us();function t(n){return e(this,n).has(n)}return vl=t,vl}var bl,Hf;function lT(){if(Hf)return bl;Hf=1;var e=Us();function t(n,r){var a=e(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return bl=t,bl}var wl,Bf;function cT(){if(Bf)return wl;Bf=1;var e=rT(),t=iT(),n=sT(),r=oT(),a=lT();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,wl=i,wl}var _l,Vf;function uT(){if(Vf)return _l;Vf=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return _l=t,_l}var jl,Kf;function dT(){if(Kf)return jl;Kf=1;function e(t){return this.__data__.has(t)}return jl=e,jl}var Sl,Yf;function hT(){if(Yf)return Sl;Yf=1;var e=cT(),t=uT(),n=dT();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Sl=r,Sl}var Cl,Wf;function fT(){if(Wf)return Cl;Wf=1;function e(t,n,r,a){for(var i=t.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return Cl=e,Cl}var Rl,Gf;function mT(){if(Gf)return Rl;Gf=1;function e(t){return t!==t}return Rl=e,Rl}var El,Jf;function gT(){if(Jf)return El;Jf=1;function e(t,n,r){for(var a=r-1,i=t.length;++a<i;)if(t[a]===n)return a;return-1}return El=e,El}var Tl,Zf;function pT(){if(Zf)return Tl;Zf=1;var e=fT(),t=mT(),n=gT();function r(a,i,o){return i===i?n(a,i,o):e(a,t,o)}return Tl=r,Tl}var Il,Xf;function xT(){if(Xf)return Il;Xf=1;var e=pT();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return Il=t,Il}var kl,Qf;function yT(){if(Qf)return kl;Qf=1;function e(t,n,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(n,t[a]))return!0;return!1}return kl=e,kl}var Ll,em;function vT(){if(em)return Ll;em=1;function e(t,n){return t.has(n)}return Ll=e,Ll}var Pl,tm;function bT(){if(tm)return Pl;tm=1;var e=Au(),t=Xa(),n=e(t,"Set");return Pl=n,Pl}var Al,nm;function wT(){if(nm)return Al;nm=1;function e(){}return Al=e,Al}var Ol,rm;function Px(){if(rm)return Ol;rm=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return Ol=e,Ol}var Dl,am;function _T(){if(am)return Dl;am=1;var e=bT(),t=wT(),n=Px(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return Dl=a,Dl}var Nl,im;function jT(){if(im)return Nl;im=1;var e=hT(),t=xT(),n=yT(),r=vT(),a=_T(),i=Px(),o=200;function l(c,u,d){var h=-1,f=t,p=c.length,m=!0,y=[],g=y;if(d)m=!1,f=n;else if(p>=o){var x=u?null:a(c);if(x)return i(x);m=!1,f=r,g=new e}else g=u?[]:y;e:for(;++h<p;){var j=c[h],w=u?u(j):j;if(j=d||j!==0?j:0,m&&w===w){for(var S=g.length;S--;)if(g[S]===w)continue e;u&&g.push(w),y.push(j)}else f(g,w,d)||(g!==y&&g.push(w),y.push(j))}return y}return Nl=l,Nl}var $l,sm;function ST(){if(sm)return $l;sm=1;var e=jT();function t(n){return n&&n.length?e(n):[]}return $l=t,$l}var CT=ST();const om=At(CT),RT="_input_1s5lo_1",ET={input:RT};function Ou(e){const t=b.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return s.jsxs(P.Compact,{className:Yn(e.className,e.rootClassName),style:e.style,size:e.size,children:[s.jsx(be,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),s.jsx(he.Search,{className:Yn(ET.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>{var r;return(r=e.onInputChange)==null?void 0:r.call(e,n.target.value)},onSearch:(n,r,a)=>{var i;(a==null?void 0:a.source)==="input"&&((i=e.onInputSearch)==null||i.call(e,n))}})]})}const jn="ALL",Si=Object.freeze({postId:jn,state:jn,sort:tr.Desc}),TT=e=>({post_id:e.postId!==jn?e.postId:void 0,state:e.state!==jn?e.state:void 0,sort:e.sort}),IT=e=>s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(Ou,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):jn;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===jn?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:jn,label:"全部评论"},{value:Fa,label:"留言评论"}]}),s.jsx(be,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:jn},...fu.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(or,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(he.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(Fr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(P,{children:e.extra})]}),kT=e=>{const t=sn({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async i=>{try{await qE(i),t.done.push(i)}catch{t.fail.push(i)}finally{t.todo=t.todo.slice().filter(o=>o!==i)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const i=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];Cn.info(i.join("，"))}},r=()=>{const a=e.comments.filter(i=>{var o;return!!i.ip&&!((o=i.ip_location)!=null&&o.region_code)}).map(i=>i._id);a.length?(t.todo.push(...a),n(),Cn.info(`开始任务，共 ${a.length} 条数据`)):Cn.info("没有需要修正的数据")};return s.jsxs(P,{wrap:!0,children:[s.jsxs(P.Compact,{children:[t.running&&s.jsxs(z,{size:"small",onClick:()=>{Se.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,s.jsx(oe,{type:"vertical"}),"DONE: ",t.done.length,s.jsx(oe,{type:"vertical"}),"FAIL: ",t.fail.length]}),s.jsx(z,{size:"small",icon:s.jsx(cs,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),s.jsx(z,{type:"primary",size:"small",target:"_blank",icon:s.jsx($y,{}),href:qp(),children:"去留言板"})]})},LT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(a,i){return s.jsx(z,{size:"small",onClick:()=>e.onClickPostId(i.post_id),children:i.post_id})}},{title:"评论内容",dataIndex:"content",render:(a,i)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(B.Paragraph,{className:Bi.commentContent,ellipsis:{rows:5,expandable:!0},children:i.content}),s.jsx(ne,{type:"secondary",text:Fe(i.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsxs(P,{children:[s.jsx(Tu,{comment:i}),s.jsx(ne,{text:i.author.name})]}),s.jsxs(P,{direction:"vertical",size:"small",children:[s.jsx(ne,{placeholder:"Left blank",prefix:s.jsx(ms,{}),text:i.author.email,copyable:!0}),s.jsxs(P,{size:"small",children:[s.jsx(Tr,{}),s.jsx(Za,{data:i.author.site,placeholder:"Left blank",children:o=>s.jsx(Ir,{placement:"top",content:o,children:s.jsx(B.Link,{target:"_blank",rel:"noreferrer",href:o,children:"点击打开"})})})]})]})]})}},{title:"终端信息",dataIndex:"agent",minWidth:200,render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsx(ne,{prefix:s.jsx(cs,{}),text:i.ip,copyable:!0}),s.jsxs(P,{size:"small",children:[s.jsx(Sm,{}),s.jsx(lr,{data:i.ip_location})]}),s.jsxs(P,{size:"small",children:[s.jsx(Cm,{}),s.jsx(Ir,{title:"终端信息",placement:"right",content:s.jsxs("div",{children:[s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"浏览器",text:In(i.agent)})}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"系统",text:cr(i.agent)})}),s.jsx("div",{children:s.jsx(ne,{prefix:"设备",text:ei(i.agent)})})]}),children:In(i.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(a,i)=>{const o=Ia(i.state);return s.jsxs(P,{direction:"vertical",children:[s.jsx(Vt,{icon:o.icon,color:o.color,children:o.name}),s.jsxs(Vt,{icon:s.jsx(ar,{}),color:i.likes>0?"processing":void 0,children:[i.likes," 个赞"]}),s.jsxs(Vt,{icon:s.jsx(Nr,{}),color:i.dislikes>0?"gold":void 0,children:[i.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(a,i,o)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(We,{}),onClick:()=>e.onDetail(i,o),children:"评论详情"}),i.state===nt.Auditing&&s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(St,{}),onClick:()=>e.onUpdateState(i,nt.Published),children:s.jsx(B.Text,{type:"success",children:"审核通过"})}),i.state===nt.Published&&s.jsx(z,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(us,{}),onClick:()=>e.onUpdateState(i,nt.Spam),children:"标为垃圾"}),(i.state===nt.Auditing||i.state===nt.Published)&&s.jsx(z,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(He,{}),onClick:()=>e.onUpdateState(i,nt.Deleted),children:"移回收站"}),(i.state===nt.Deleted||i.state===nt.Spam)&&s.jsxs(s.Fragment,{children:[s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(We,{}),onClick:()=>e.onUpdateState(i,nt.Auditing),children:s.jsx(B.Text,{type:"warning",children:"退为草稿"})}),s.jsx(z,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(He,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})]})}]})},PT=e=>{var i,o,l,c,u,d,h,f,p,m,y,g,x,j,w;const[t]=O.useForm(),n=it(null),r=S=>{Kp(S).then(C=>{n.value=C})},a=()=>{t.validateFields().then(S=>{e.onSubmit(S)})};return Ce(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==Fa&&r(e.comment.post_id)}),s.jsxs(O,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(O.Item,{label:"ID",children:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{copyable:!0,children:(i=e.comment)==null?void 0:i.id}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{copyable:!0,children:(o=e.comment)==null?void 0:o._id})]})}),s.jsx(O.Item,{label:"发布于",children:Fe((l=e.comment)==null?void 0:l.created_at)}),s.jsx(O.Item,{label:"最后修改于",children:Fe((c=e.comment)==null?void 0:c.updated_at)}),s.jsx(O.Item,{label:"用户头像",children:s.jsx(Tu,{size:"large",comment:e.comment})}),s.jsx(O.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:s.jsx(he,{prefix:s.jsx(rr,{})})}),s.jsx(O.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:s.jsx(he,{prefix:s.jsx(ms,{}),placeholder:"email",type:"email"})}),s.jsx(O.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:s.jsx(he,{prefix:s.jsx(Tr,{}),type:"url",placeholder:"URL",suffix:s.jsx(Fy,{onClick:()=>{var C;const S=(C=e.comment)==null?void 0:C.author.site;S&&window.open(S)}})})}),s.jsx(O.Item,{label:"IP 地址",children:s.jsx(ne,{text:(u=e.comment)==null?void 0:u.ip,copyable:!0})}),s.jsx(O.Item,{label:"IP 地理位置",children:s.jsx(lr,{data:(d=e.comment)==null?void 0:d.ip_location,fullname:!0})}),s.jsxs(O.Item,{label:"终端",children:[s.jsx(ne,{text:In((h=e.comment)==null?void 0:h.agent),placeholder:"未知浏览器"}),s.jsx(oe,{type:"vertical"}),s.jsx(ne,{text:cr((f=e.comment)==null?void 0:f.agent),placeholder:"未知系统"}),s.jsx(oe,{type:"vertical"}),s.jsx(ne,{text:ei((p=e.comment)==null?void 0:p.agent),placeholder:"未知设备"})]}),s.jsx(O.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:s.jsx(Zu,{addonBefore:s.jsx(ar,{}),placeholder:"多少"})}),s.jsx(O.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:s.jsx(Zu,{addonBefore:s.jsx(Nr,{}),placeholder:"多少"})}),s.jsx(O.Item,{label:"宿主页面",children:s.jsxs(z,{type:"link",target:"_blank",icon:s.jsx(Tr,{}),href:LC((m=e.comment)==null?void 0:m.post_id),children:[((y=e.comment)==null?void 0:y.post_id)===Fa?"留言板":((g=n.value)==null?void 0:g.title)??"加载中⋯",s.jsx(oe,{type:"vertical"}),s.jsxs("span",{children:["#",(x=e.comment)==null?void 0:x.id]})]})}),(j=e.comment)!=null&&j.pid?s.jsx(O.Item,{label:"父级评论",children:s.jsxs(B.Text,{strong:!0,children:["#",(w=e.comment)==null?void 0:w.pid]})}):null,s.jsx(O.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:s.jsx(be,{placeholder:"选择状态",options:fu.map(S=>({value:S.id,label:s.jsxs(P,{size:"small",children:[S.icon,S.name]})}))})}),s.jsx(O.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(Lr,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),s.jsx(O.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:s.jsx(Qa,{fieldName:"extends"})}),s.jsx(O.Item,{label:" ",children:s.jsx(z,{type:"primary",icon:s.jsx(St,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},AT=()=>{var E;const e=Dt(),{i18n:t}=Ve(),{post_id:n}=N1.parse(e.search),r=n?Number(n):void 0,a=pe(),i=pe(),o=sn({data:[],pagination:void 0}),l=se(""),c=se(String(r??"")),u=se({...Si,postId:r??Si.postId}),d=()=>{l.value="",c.value="",u.value={...Si}},h=T=>{l.value="",c.value=String(T),u.value={...Si,postId:Number(T)}},f=se([]),p=pt(()=>o.data.filter(T=>f.value.includes(T._id))),m=se(!1),y=se(null),g=pt(()=>{const T=y.value;return T!==null?o.data[T]:null}),x=()=>{m.value=!1},j=T=>{y.value=T,m.value=!0},w=T=>{const F={...T,...TT(u.value),keyword:l.value||void 0};a.promise(yx(F)).then(K=>{o.data=K.data,o.pagination=K.pagination,st(document.body)})},S=()=>{var T,F;w({page:(T=o.pagination)==null?void 0:T.current_page,per_page:(F=o.pagination)==null?void 0:F.per_page})},C=T=>{const F={...g.value,...T};i.promise(ME(F)).then(()=>{x(),S()})},v=T=>{Se.confirm({title:`确定要彻底删除 ${T.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>zE(T.map(F=>F._id),om(T.map(F=>F.post_id))).then(()=>{S()})})},L=(T,F)=>{Se.confirm({title:`确定要将 ${T.length} 个评论更新为「 ${Ia(F).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>UE(T.map(K=>K._id),om(T.map(K=>K.post_id)),F).then(()=>{S()})})};return xt(()=>u.value,()=>w(),{deep:!0}),Ce(()=>{w()}),s.jsxs(ve,{variant:"borderless",title:t.t("page.comment.list.title",{total:((E=o.pagination)==null?void 0:E.total)??"-"}),extra:s.jsx(kT,{comments:o.data,loading:a.state.value}),children:[s.jsx(IT,{loading:a.state.value,keyword:l.value,onKeywordChange:T=>l.value=T,onKeywordSearch:()=>w(),params:u.value,onParamsChange:T=>Object.assign(u.value,T),postIdInput:c.value,onPostIdInputChange:T=>c.value=T,onResetRefresh:d,extra:s.jsx(Hr,{text:"批量操作",disabled:!f.value.length,options:[{label:"退为草稿",icon:s.jsx(We,{}),onClick:()=>L(p.value,nt.Auditing)},{label:"审核通过",icon:s.jsx(St,{}),onClick:()=>L(p.value,nt.Published)},{label:"标为垃圾",icon:s.jsx(us,{}),onClick:()=>L(p.value,nt.Spam)},{label:"移回收站",icon:s.jsx(He,{}),onClick:()=>L(p.value,nt.Deleted)},{label:"彻底删除",icon:s.jsx(He,{}),onClick:()=>v(p.value)}]})}),s.jsx(oe,{}),s.jsx(LT,{loading:a.state.value,selectedIds:f.value,onSelecte:T=>f.value=T,data:o.data,pagination:o.pagination,onPaginate:(T,F)=>w({page:T,per_page:F}),onDetail:(T,F)=>j(F),onDelete:T=>v([T]),onUpdateState:(T,F)=>L([T],F),onClickPostId:h}),s.jsx(fs,{width:"46rem",title:"评论详情",destroyOnHidden:!0,open:m.value,onClose:x,children:s.jsx(at,{spinning:i.state.value,children:g.value&&s.jsx(PT,{submitting:i.state.value,comment:g.value,onSubmit:T=>C(T)})})})]})},Bt="ALL",OT=void 0,Fl={target_type:Bt,vote_type:Bt,author_type:Bt,sort:er.Desc},DT=e=>({target_type:e.target_type!==Bt?e.target_type:void 0,vote_type:e.vote_type!==Bt?e.vote_type:void 0,author_type:e.author_type!==Bt?e.author_type:void 0,sort:e.sort}),NT=e=>s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(P.Compact,{children:s.jsx(Ou,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===Bt?"目标":Hi(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:Bt,label:"所有类型"},{value:jr.Post,label:Hi(jr.Post)},{value:jr.Comment,label:Hi(jr.Comment)}]})}),s.jsx(be,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:Bt,label:"所有态度"},...mx.map(t=>({value:t.id,label:s.jsxs(P,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(be,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:Bt,label:"所有用户"},...[qi.Anonymous,qi.Guest,qi.Disqus].map(t=>({value:t,label:Su(t)}))]}),s.jsx(or,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(Fr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(P,{children:e.extra})]}),$T=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(a,i)=>s.jsxs(z,{type:"link",onClick:()=>e.onClickTarget(i),children:[Hi(i.target_type)," #",i.target_id===Fa?"Guestbook":i.target_id]})},{title:"态度",dataIndex:"vote_type",render:(a,i)=>s.jsx(Vt,{icon:ss(i.vote_type).icon,color:i.vote_type===ju.Upvote?"green":"red",children:s.jsx("strong",{children:ss(i.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(a,i)=>{var o;return s.jsxs(P,{direction:"vertical",children:[s.jsx(ne,{prefix:s.jsx(My,{}),text:Su(i.author_type)}),s.jsx(Ir,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(i.author,null,2)}),children:s.jsx("span",{children:s.jsx(ne,{prefix:s.jsx(rr,{}),text:(o=i.author)==null?void 0:o.name,placeholder:"未知用户"})})})]})}},{title:"IP / GEO",dataIndex:"ip",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsx(ne,{prefix:s.jsx(cs,{}),text:i.ip,copyable:!0,placeholder:"未知 IP"}),s.jsxs(P,{size:"small",children:[s.jsx(Sm,{}),s.jsx(lr,{data:i.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsx(ne,{prefix:s.jsx(Cm,{}),text:In(i.user_agent),placeholder:"未知浏览器"}),s.jsx(P,{size:"small",children:s.jsx(ne,{prefix:s.jsx(Uy,{}),text:cr(i.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsx(P,{size:"small",children:s.jsx(ne,{prefix:s.jsx(zy,{}),text:ei(i.user_agent),placeholder:"未知设备"})}),s.jsx(ne,{prefix:s.jsx(Rm,{}),text:Fe(i.created_at)})]})}}]})},FT=()=>{var p;const{i18n:e}=Ve(),t=pe(),n=sn({data:[],pagination:void 0}),r=se({...Fl}),a=se(void 0),i=m=>{a.value=Number.isFinite(m)?m:void 0},o=()=>{a.value=OT,r.value={...Fl}},l=m=>{a.value=m.target_id,r.value={...Fl,target_type:m.target_type}},c=se([]),u=pt(()=>n.data.filter(m=>c.value.includes(m._id))),d=m=>{const y={...m,...DT(r.value),target_id:a.value};t.promise(fx(y)).then(g=>{n.data=g.data,n.pagination=g.pagination,st(document.body)})},h=()=>{var m,y;d({page:(m=n.pagination)==null?void 0:m.current_page,per_page:(y=n.pagination)==null?void 0:y.per_page})},f=m=>{Se.confirm({title:`确定要彻底删除 ${m.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>yE(m.map(y=>y._id)).then(()=>{h()})})};return xt(()=>r.value,()=>d(),{deep:!0}),Ce(()=>{d()}),s.jsxs(ve,{variant:"borderless",title:e.t("page.vote.list.title",{total:((p=n.pagination)==null?void 0:p.total)??"-"}),children:[s.jsx(NT,{loading:t.state.value,targetId:a.value,onTargetIdChange:i,onTargetIdSearch:()=>d(),params:r.value,onParamsChange:m=>Object.assign(r.value,m),onResetRefresh:o,extra:s.jsx(Hr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(He,{}),onClick:()=>f(u.value)}]})}),s.jsx(oe,{}),s.jsx($T,{loading:t.state.value,selectedIds:c.value,data:n.data,pagination:n.pagination,onSelecte:m=>c.value=m,onPaginate:(m,y)=>d({page:m,per_page:y}),onClickTarget:m=>l(m)})]})},Du="/feedback";function MT(e={}){return ee.get(Du,{params:e}).then(t=>t.result)}function UT(e){return ee.put(`${Du}/${e._id}`,e).then(t=>t.result)}function zT(e){return ee.delete(Du,{data:{feedback_ids:e}}).then(t=>t.result)}var Ax=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(Ax||{});const qT=[{number:0,boolean:!1,name:"未标记",icon:s.jsx(Lc,{})},{number:1,boolean:!0,name:"已标记",icon:s.jsx(kc,{style:{color:"#fadb14"}})}],HT=new Map(qT.map(e=>[e.number,e])),jc=e=>HT.get(e?1:0),Zn="ALL",lm={marked:!1,tid:Zn,emotion:Zn,sort:er.Desc},BT=e=>({marked:e.marked?Ax.Yes:void 0,tid:e.tid!==Zn?e.tid:void 0,emotion:e.emotion!==Zn?e.emotion:void 0,sort:e.sort}),VT=e=>s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(z,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?s.jsx(kc,{}):s.jsx(Lc,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),s.jsx(Ou,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):Zn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:Zn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),s.jsx(be,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:Zn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),s.jsx(or,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(he.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:s.jsx("span",{children:s.jsx(Fr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(P,{children:e.extra})]}),KT="_feedbackContent_1w5aj_1",YT={feedbackContent:KT},WT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(a,i)=>jc(i.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(a,i)=>s.jsx(Sn,{prefix:i.emotion_emoji,value:i.emotion})},{title:"反馈内容",dataIndex:"content",render:(a,i)=>s.jsx(B.Paragraph,{className:YT.feedbackContent,ellipsis:{rows:3,expandable:!0},children:i.content})},{title:"备注",width:180,dataIndex:"remark",render:(a,i)=>s.jsx(Za,{data:i.remark||null,children:o=>s.jsx(B.Paragraph,{ellipsis:{rows:3,expandable:!0},children:o})})},{title:"发布于",width:200,dataIndex:"agent",render(a,i){return s.jsxs(P,{direction:"vertical",children:[s.jsx(Ir,{title:"终端信息",placement:"left",style:{width:300},content:s.jsxs("div",{children:[s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"用户：",text:i.user_name})}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"邮箱：",text:i.user_email,copyable:!0})}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"来源：",text:i.origin,copyable:!0})}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"IP：",text:i.ip||void 0,copyable:!0})}),s.jsxs(B.Paragraph,{children:["位置： ",s.jsx(lr,{data:i.ip_location})]}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"浏览器：",text:In(i.user_agent)})}),s.jsx(B.Paragraph,{children:s.jsx(ne,{prefix:"系统：",text:cr(i.user_agent)})}),s.jsx("div",{children:s.jsx(ne,{prefix:"设备：",text:ei(i.user_agent)})})]}),children:s.jsx("span",{children:s.jsx(ne,{prefix:s.jsx(rr,{}),text:i.user_name,placeholder:"Anonymous"})})}),s.jsx(ne,{prefix:s.jsx(Rm,{}),text:Fe(i.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(a,i,o)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(z,{size:"small",type:"text",block:!0,icon:s.jsx(We,{}),onClick:()=>e.onDetail(i,o),children:"反馈详情"}),s.jsx(z,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(He,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})}]})},GT=e=>{const[t]=O.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return Ce(()=>{t.setFieldsValue(e.feedback)}),s.jsxs(O,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(O.Item,{label:"ID",children:s.jsxs(P,{size:"small",children:[s.jsx(B.Text,{copyable:!0,children:e.feedback.id}),s.jsx(oe,{type:"vertical"}),s.jsx(B.Text,{copyable:!0,children:e.feedback._id})]})}),s.jsx(O.Item,{label:"TID",children:s.jsx(B.Text,{copyable:!0,children:e.feedback.tid})}),s.jsx(O.Item,{label:"发布于",children:Fe(e.feedback.created_at)}),s.jsx(O.Item,{label:"最后修改于",children:Fe(e.feedback.updated_at)}),s.jsx(O.Item,{name:"marked",label:"是否标记",children:s.jsxs(Ri.Group,{size:"middle",children:[s.jsx(Ri.Button,{value:!1,children:jc(!1).icon}),s.jsx(Ri.Button,{value:!0,children:jc(!0).icon})]})}),s.jsx(O.Item,{name:"user_name",label:"用户昵称",children:s.jsx(he,{prefix:s.jsx(rr,{})})}),s.jsx(O.Item,{name:"user_email",label:"用户邮箱",children:s.jsx(he,{prefix:s.jsx(ms,{}),placeholder:"email",type:"email"})}),s.jsx(O.Item,{label:"IP 地址",children:s.jsx(ne,{text:e.feedback.ip||null,copyable:!0})}),s.jsx(O.Item,{label:"IP 地理位置",children:s.jsx(lr,{data:e.feedback.ip_location,fullname:!0})}),s.jsxs(O.Item,{label:"终端",children:[s.jsx(ne,{text:In(e.feedback.user_agent),placeholder:"未知浏览器"}),s.jsx(oe,{type:"vertical"}),s.jsx(ne,{text:cr(e.feedback.user_agent),placeholder:"未知系统"}),s.jsx(oe,{type:"vertical"}),s.jsx(ne,{text:ei(e.feedback.user_agent),placeholder:"未知设备"})]}),s.jsx(O.Item,{label:"反馈评分",children:s.jsx(Sn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),s.jsx(O.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(he.TextArea,{autoSize:{minRows:8,maxRows:18}})}),s.jsx(O.Item,{label:"备注",name:"remark",children:s.jsx(he.TextArea,{autoSize:{minRows:3,maxRows:8}})}),s.jsx(O.Item,{label:" ",children:s.jsx(z,{type:"primary",icon:s.jsx(St,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},JT=()=>{var j;const{i18n:e}=Ve(),t=pe(),n=pe(),r=sn({data:[],pagination:void 0}),a=se(""),i=se({...lm}),o=()=>{a.value="",i.value={...lm}},l=se([]),c=pt(()=>r.data.filter(w=>l.value.includes(w._id))),u=se(!1),d=se(null),h=pt(()=>{const w=d.value;return w!==null?r.data[w]:null}),f=()=>{u.value=!1},p=w=>{d.value=w,u.value=!0},m=w=>{const S={...w,...BT(i.value),keyword:a.value||void 0};t.promise(MT(S)).then(C=>{r.data=C.data,r.pagination=C.pagination,st(document.body)})},y=()=>{var w,S;m({page:(w=r.pagination)==null?void 0:w.current_page,per_page:(S=r.pagination)==null?void 0:S.per_page})},g=w=>{Se.confirm({title:`确定要彻底删除 ${w.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>zT(w.map(S=>S._id)).then(()=>{y()})})},x=w=>{const{emotion_emoji:S,emotion_text:C,...v}={...h.value,...w},L={...v,ip:v.ip||null};n.promise(UT(L)).then(()=>{f(),y()})};return xt(()=>i.value,()=>m(),{deep:!0}),Ce(()=>{m()}),s.jsxs(ve,{variant:"borderless",title:e.t("page.feedback.list.title",{total:((j=r.pagination)==null?void 0:j.total)??"-"}),children:[s.jsx(VT,{loading:t.state.value,keyword:a.value,onKeywordChange:w=>a.value=w,onKeywordSearch:()=>m(),params:i.value,onParamsChange:w=>Object.assign(i.value,w),onResetRefresh:o,extra:s.jsx(Hr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(He,{}),onClick:()=>g(c.value)}]})}),s.jsx(oe,{}),s.jsx(WT,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:w=>l.value=w,onDetail:(w,S)=>p(S),onDelete:w=>g([w]),onPaginate:(w,S)=>m({page:w,per_page:S})}),s.jsx(fs,{width:"46rem",title:"反馈详情",destroyOnHidden:!0,open:u.value,onClose:f,children:s.jsx(at,{spinning:n.state.value,children:h.value&&s.jsx(GT,{submitting:n.state.value,feedback:h.value,onSubmit:w=>x(w)})})})]})},ZT=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),URL.revokeObjectURL(a)},ri="/disqus";function XT(e){return ee.get(`${ri}/threads`,{params:e})}function QT(e){return ee.get(`${ri}/posts`,{params:e})}function Ox(){return ee.get(`${ri}/config`)}async function eI(e){const t=new FormData;return t.append("file",e),ee.post(`${ri}/import-xml`,t)}async function tI(){const e=await ee.$({url:`${ri}/export-xml`,method:"GET",responseType:"blob"});ZT(e.data,"nodepress-export-to-disqus.xml","application/xml")}var nr=(e=>(e.Desc="desc",e.Asc="asc",e))(nr||{}),Vi=(e=>(e.Open="open",e.Closed="closed",e))(Vi||{}),pn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(pn||{});const Sc="ALL",cm={order:nr.Desc,include:Sc},nI=()=>{var l,c;const e=se(null),t=pe(),n=sn({cursor:null,list:[]}),r=se({...cm}),a=()=>{r.value={...cm}},i=u=>{const d={...u,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==Sc?[r.value.include]:[...Object.values(Vi)]};t.promise(XT(d)).then(h=>{u!=null&&u.cursor?(n.cursor=h.result.cursor,n.list.push(...h.result.response)):(n.cursor=h.result.cursor,n.list=h.result.response,st(document.body))})},o=()=>{i({cursor:n.cursor.next})};return xt(()=>r.value,()=>i(),{deep:!0}),Ce(()=>{Ox().then(u=>{e.value=u.result,i()})}),s.jsxs(ve,{variant:"borderless",title:`Threads (${n.list.length})`,extra:s.jsx(z,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Nc,{}),href:`https://${(l=e.value)==null?void 0:l.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[s.jsxs(P,{wrap:!0,children:[s.jsx(be,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:u=>r.value.include=u,options:[{value:Sc,label:"All state"},{value:Vi.Open,label:"Open"},{value:Vi.Closed,label:"Closed"}]}),s.jsx(be,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:u=>r.value.order=u,options:[{value:nr.Desc,label:"Desc"},{value:nr.Asc,label:"Asc"}]}),s.jsx(z,{icon:s.jsx(Qe,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),s.jsx(oe,{}),s.jsx(an,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(u,d)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(B.Link,{href:`https://disqus.com/home/discussion/${d.forum}/${d.slug}/`,target:"_blank",strong:!0,children:d.title}),s.jsx(B.Link,{href:d.link,target:"_blank",type:"secondary",children:d.link})]})},{title:"ID / Author",key:"id",render:(u,d)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(B.Text,{copyable:!0,children:d.id}),s.jsx(B.Text,{copyable:!0,type:"secondary",children:d.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(u,d)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(P,{children:d.identifiers.map(h=>s.jsx(Vt,{children:h},h))}),s.jsx(B.Text,{type:"secondary",children:Fe(d.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(u,d)=>s.jsxs(P,{size:"small",children:[s.jsx(za,{}),d.posts]})},{title:"Likes",key:"likes",render:(u,d)=>s.jsxs(P,{size:"small",children:[s.jsx(ar,{}),d.likes]})},{title:"Dislikes",key:"dislikes",render:(u,d)=>s.jsxs(P,{size:"small",children:[s.jsx(Nr,{}),d.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(u,d)=>s.jsx(Hl,{disabled:!0,checked:!d.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),s.jsx("br",{}),s.jsx(me,{justify:"center",children:(c=n.cursor)!=null&&c.hasNext?s.jsx(z,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(B.Text,{type:"secondary",children:"NO MORE"})})]})},Nu="ALL",um={order:nr.Desc,include:Nu},rI=e=>s.jsxs(me,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(P,{wrap:!0,children:[s.jsx(be,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:Nu,label:"All state"},{value:pn.Approved,label:"Approved"},{value:pn.Unapproved,label:"Unapproved"},{value:pn.Spam,label:"Spam"},{value:pn.Deleted,label:"Deleted"},{value:pn.Flagged,label:"Flagged"},{value:pn.Highlighted,label:"Highlighted"}]}),s.jsx(be,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:nr.Desc,label:"Desc"},{value:nr.Asc,label:"Asc"}]}),s.jsx(he.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onThreadIdSearch()}}),s.jsx(z,{loading:e.loading,icon:s.jsx(Qe,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),s.jsx(P,{children:e.extra})]}),aI=e=>s.jsx(an,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>s.jsxs(P,{direction:"vertical",children:[s.jsx(ne,{text:n.id,copyable:!0,type:"secondary"}),s.jsx(ne,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>s.jsxs("div",{children:[s.jsx(B.Paragraph,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),s.jsx(B.Text,{type:"secondary",children:Fe(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>s.jsxs(P,{children:[s.jsx(Dc,{size:38,shape:"square",src:n.author.avatar.cache}),s.jsxs(P,{direction:"vertical",size:"small",children:[s.jsx("strong",{children:n.author.name}),s.jsx(Za,{data:n.author.url,children:r=>s.jsx(B.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?s.jsx(B.Text,{type:"secondary",children:"Guest"}):s.jsx(B.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>s.jsxs(P,{size:"small",children:[s.jsx(ar,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>s.jsxs(P,{size:"small",children:[s.jsx(Nr,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>s.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:s.jsx(jm,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:s.jsx(Xu,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:s.jsx(Xu,{})}].filter(r=>r.value).map((r,a)=>s.jsxs(B.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),iI=()=>{var c,u;const e=se(null),t=pe(),n=sn({cursor:null,list:[]}),r=se(""),a=se({...um}),i=d=>{const h={...d,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==Nu?[a.value.include]:[...Object.values(pn)]};t.promise(QT(h)).then(f=>{d!=null&&d.cursor?(n.cursor=f.result.cursor,n.list.push(...f.result.response)):(n.cursor=f.result.cursor,n.list=f.result.response,st(document.body))})},o=()=>{i({cursor:n.cursor.next})},l=()=>{r.value="",a.value={...um}};return xt(()=>a.value,()=>i(),{deep:!0}),Ce(()=>{Ox().then(d=>{e.value=d.result,i()})}),s.jsxs(ve,{title:`Posts (${n.list.length})`,variant:"borderless",extra:s.jsx(z,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Nc,{}),href:`https://${(c=e.value)==null?void 0:c.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[s.jsx(rI,{loading:t.state.value,threadId:r.value,onThreadIdChange:d=>r.value=d,onThreadIdSearch:()=>i(),params:a.value,onParamsChange:d=>Object.assign(a.value,d),onResetRefresh:l}),s.jsx(oe,{}),s.jsx(aI,{loading:t.state.value,data:n.list.slice()}),s.jsx("br",{}),s.jsx(me,{justify:"center",children:(u=n.cursor)!=null&&u.hasNext?s.jsx(z,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(B.Text,{type:"secondary",children:"NO MORE"})})]})},sI=()=>{const e=pe(),t=n=>{e.promise(eI(n)).catch(r=>{Se.error({title:"Upload XML error",content:String(r)})})};return s.jsxs("div",{children:[s.jsx(Em,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:s.jsx(Oc,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:s.jsx(hs,{})}]}),s.jsx($c,{icon:s.jsx(gs,{}),title:"Disqus To NodePress",extra:s.jsxs(P,{children:[s.jsx(z,{size:"large",type:"primary",icon:s.jsx(Tm,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),s.jsx(Pc,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:s.jsx(z,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:s.jsx(ds,{}),children:"Upload XML to NodePress"})})]})})]})},oI=()=>s.jsxs("div",{children:[s.jsx(Em,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:s.jsx(Oc,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:s.jsx(hs,{})}]}),s.jsx($c,{icon:s.jsx(gs,{}),title:"NodePress To Disqus",extra:s.jsxs(P.Compact,{children:[s.jsx(z,{size:"large",type:"primary",icon:s.jsx(Tm,{}),onClick:()=>tI(),children:"Download XML"}),s.jsx(z,{size:"large",type:"primary",icon:s.jsx(ds,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),lI=()=>s.jsxs(P,{direction:"vertical",size:Pm,style:{width:"100%"},children:[s.jsx(ve,{title:"Synchronize NodePress to Disqus",variant:"borderless",children:s.jsx(oI,{})}),s.jsx(ve,{title:"Synchronize Disqus To NodePress",variant:"borderless",children:s.jsx(sI,{})})]}),Ml=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},cI=e=>{var u;const t=pe(),n=pe(),r=se(null),[a]=O.useForm(),i=d=>{r.value=d,a.setFieldsValue({...d,ad_config:Ml(d.ad_config,2)})},o=()=>t.promise(tC()).then(i),l=d=>{const h={...d,ad_config:Ml(d.ad_config)};return n.promise(nC(h)).then(i)},c=()=>{a.validateFields().then(d=>{const h={...r.value,...d};l(h).then(()=>{st(document.body)})})};return Ce(()=>{o()}),s.jsx(at,{spinning:t.state.value||n.state.value,children:s.jsxs(O,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[s.jsx(O.Item,{label:!0,children:s.jsx(Sn,{valueStyle:{fontWeight:"bold"},value:(u=r.value)==null?void 0:u.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),s.jsx(O.Item,{name:"title",label:"站点标题",required:!0,children:s.jsx(he,{placeholder:"站点标题"})}),s.jsx(O.Item,{name:"sub_title",label:"副标题",required:!0,children:s.jsx(he,{placeholder:"副标题"})}),s.jsx(O.Item,{name:"description",label:"站点描述",required:!0,children:s.jsx(he.TextArea,{rows:4,placeholder:"站点描述"})}),s.jsx(O.Item,{name:"keywords",label:"关键词",required:!0,children:s.jsx(be,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(O.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:s.jsx(he,{suffix:s.jsx(Tr,{}),placeholder:"https://example.me"})}),s.jsx(O.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:s.jsx(he,{suffix:s.jsx(ms,{}),placeholder:"example@xxx.me"})}),s.jsx(O.Item,{name:"statement",label:"站点声明",children:s.jsx(Lr,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:as.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(O.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:s.jsx(Qa,{fieldName:"friend_links"})}),s.jsx(O.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:s.jsx(be,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),s.jsx(O.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:s.jsx(be,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),s.jsx(O.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:s.jsx(be,{placeholder:"回车以输入多个关键字",mode:"tags"})}),s.jsx(O.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(d,h){try{return Ml(h||""),Promise.resolve()}catch(f){return Promise.reject(f)}}}],children:s.jsx(Lr,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:as.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(O.Item,{label:!0,children:s.jsx(z,{icon:s.jsx(St,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:c,children:"保存"})})]})})},uI=()=>{const e=pe(),t=pe(),n=()=>{Se.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(eC())})},r=()=>{Se.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise(QS())})};return s.jsxs(qt,{children:[s.jsx(z,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:s.jsx(hs,{}),children:"立即更新数据库备份"}),s.jsx(oe,{}),s.jsx(z,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:s.jsx(gs,{}),children:"更新 Archive 及缓存"})]})},dI=()=>{const e=ln(),t=pe(),n=pe(),r=zs(),[a]=O.useForm(),i=()=>{t.promise(Ux()).then(a.setFieldsValue)},o=u=>n.promise(ak(u)).then(()=>{u.new_password?(zt.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{Ls(),e(Xe[ge.Hello])},1688)):(i(),r.refresh())}),l=()=>{a.validateFields().then(u=>{Reflect.deleteProperty(u,"rel_new_password"),o({...u}).then(()=>{st(document.body)})})},c=async()=>{const u=a.getFieldValue("password"),d=a.getFieldValue("new_password"),h=a.getFieldValue("rel_new_password");if(!(!u&&!d&&!h)&&(d!==h||u===d))throw new Error};return Ce(()=>{i()}),s.jsx(at,{spinning:t.state.value||n.state.value,children:s.jsxs(O,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[s.jsx(O.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:s.jsx(ix,{disabledMarkdown:!0})}),s.jsx(O.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:s.jsx(he,{placeholder:"昵称"})}),s.jsx(O.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:s.jsx(he.TextArea,{placeholder:"签名"})}),s.jsx(oe,{}),s.jsx(O.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(he.Password,{placeholder:"旧密码",autoComplete:"password"})}),s.jsx(O.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(he.Password,{placeholder:"新密码",autoComplete:"new_password"})}),s.jsx(O.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(he.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),s.jsx(z,{type:"primary",block:!0,icon:s.jsx(St,{}),loading:n.state.value,onClick:l,children:"保存"})]})})},Ul=e=>{const t=s.jsxs(P,{size:"small",children:[e.icon,e.title]});return s.jsx(ve,{variant:"borderless",title:t,children:e.children})},hI=()=>{const{i18n:e}=Ve();return s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{xs:24,lg:17,children:s.jsx(Ul,{title:e.t("page.setting.general.title"),icon:s.jsx(qy,{}),children:s.jsx(cI,{labelSpan:4,wrapperSpan:19})})}),s.jsx($e,{xs:24,lg:7,children:s.jsxs(qt,{gutter:[qe,qe],children:[s.jsx($e,{span:24,children:s.jsx(Ul,{title:e.t("page.setting.data.title"),icon:s.jsx(Hy,{}),children:s.jsx(uI,{})})}),s.jsx($e,{span:24,children:s.jsx(Ul,{title:e.t("page.setting.userinfo.title"),icon:s.jsx(rr,{}),children:s.jsx(dI,{})})})]})})]})},fI=()=>{const{i18n:e}=Ve(),t=it(!1);return s.jsxs(ve,{variant:"borderless",title:e.t("page.statics.list.title",{total:"-"}),extra:s.jsx(z,{type:"primary",size:"small",icon:s.jsx(ds,{}),onClick:()=>t.value=!0,children:"上传新文件"}),children:[s.jsx(ux,{tableListSize:"middle"}),s.jsx(Se,{title:"上传文件",centered:!0,closable:!1,footer:null,open:t.value,onCancel:()=>t.value=!1,children:s.jsx("p",{children:"TODO"})})]})};var ge=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Static="static",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(ge||{});const Dx=[{index:!0,element:s.jsx(lo,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:ge.Dashboard,path:"/dashboard",element:s.jsx(BC,{}),handle:{i18nKey:"page.dashboard.title",icon:s.jsx(Nc,{})}},{id:ge.Announcement,path:"/announcement",element:s.jsx(f1,{}),handle:{i18nKey:"page.announcement.title",icon:s.jsx(By,{})}},{id:ge.Category,path:"/category",element:s.jsx(v1,{}),handle:{i18nKey:"page.category.title",icon:s.jsx(Vy,{})}},{id:ge.Tag,path:"/tag",element:s.jsx(C1,{}),handle:{i18nKey:"page.tag.title",icon:s.jsx(Ky,{})}},{id:ge.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:s.jsx(hm,{})},children:[{index:!0,element:s.jsx(lo,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:ge.ArticleList,path:"/article/list",element:s.jsx(yR,{}),handle:{i18nKey:"page.article.list",icon:s.jsx(Qu,{})}},{id:ge.ArticlePost,path:"/article/post",element:s.jsx(e1,{}),handle:{i18nKey:"page.article.create",icon:s.jsx(We,{})}},{id:ge.ArticleEdit,path:"/article/edit/:article_id",element:s.jsx(QE,{}),handle:{i18nKey:"page.article.edit",icon:s.jsx(We,{}),hiddenInMenu:!0}}]},{id:ge.Comment,path:"/comment",element:s.jsx(AT,{}),handle:{i18nKey:"page.comment.title",icon:s.jsx(za,{})}},{id:ge.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:s.jsx("img",{src:As("/images/disqus.svg"),width:"1em"})},children:[{index:!0,element:s.jsx(lo,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:ge.DisqusPost,path:"/disqus/posts",element:s.jsx(iI,{}),handle:{i18nKey:"page.disqus.posts",icon:s.jsx(Qu,{})}},{id:ge.DisqusThread,path:"/disqus/threads",element:s.jsx(nI,{}),handle:{i18nKey:"page.disqus.threads",icon:s.jsx(_m,{})}},{id:ge.DisqusSync,path:"/disqus/synchronize",element:s.jsx(lI,{}),handle:{i18nKey:"page.disqus.synchronize",icon:s.jsx(gs,{})}}]},{id:ge.Vote,path:"/vote",element:s.jsx(FT,{}),handle:{i18nKey:"page.vote.title",icon:s.jsx(ar,{})}},{id:ge.Feedback,path:"/feedback",element:s.jsx(JT,{}),handle:{i18nKey:"page.feedback.title",icon:s.jsx(Yy,{})}},{id:ge.Static,path:"/static",element:s.jsx(fI,{}),handle:{i18nKey:"page.setting.statics",icon:s.jsx(Ac,{})}},{id:ge.Setting,path:"/setting",element:s.jsx(hI,{}),handle:{i18nKey:"page.setting.title",icon:s.jsx(Im,{})}}],mI="_appLayout_th6z3_1",gI="_appSider_th6z3_1",pI="_siderContent_th6z3_9",xI="_logo_th6z3_15",yI="_userInfo_th6z3_23",vI="_collapsed_th6z3_29",bI="_avatar_th6z3_32",wI="_name_th6z3_36",_I="_slogan_th6z3_57",jI="_menus_th6z3_61",SI="_footerLink_th6z3_79",CI="_appHeader_th6z3_93",RI="_headerContent_th6z3_104",EI="_userMenu_th6z3_108",TI="_appFooter_th6z3_116",II="_appContent_th6z3_121",kI="_pageContainer_th6z3_121",LI="_pageHeader_th6z3_121",PI="_title_th6z3_127",AI="_icon_th6z3_130",OI="_breadcrumb_th6z3_133",DI="_pageContent_th6z3_137",NI="_backTop_th6z3_140",$I="_pageHeaderAdvert_th6z3_144",FI="_adCard_th6z3_148",ye={appLayout:mI,appSider:gI,siderContent:pI,logo:xI,userInfo:yI,collapsed:vI,avatar:bI,name:wI,slogan:_I,menus:jI,footerLink:SI,appHeader:CI,headerContent:RI,userMenu:EI,appFooter:TI,appContent:II,pageContainer:kI,pageHeader:LI,title:PI,icon:AI,breadcrumb:OI,pageContent:DI,backTop:NI,pageHeaderAdvert:$I,adCard:FI},Nx=e=>e.filter(t=>{var n;return!((n=t.handle)!=null&&n.hiddenInMenu)}).map(t=>{var n,r,a;return{key:t.path,icon:(n=t.handle)==null?void 0:n.icon,children:t!=null&&t.children?Nx(t.children):null,label:(r=t.handle)!=null&&r.i18nKey?s.jsx(Fr,{i18nKey:t.handle.i18nKey}):(a=t.handle)==null?void 0:a.name}}),MI=({isSiderCollapsed:e})=>{const t=ln(),n=Dt(),{language:r}=$r(),a=zs(),i=b.useMemo(()=>Nx(Dx),[r]);return s.jsxs("div",{className:ye.siderContent,children:[s.jsx(It,{to:"/",className:ye.logo,children:s.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:As(e?"/images/logo.mini.svg":"/images/logo.svg")})}),s.jsx(at,{spinning:a.loading,size:"small",children:s.jsxs(me,{vertical:!0,justify:"center",align:"center",className:Yn(ye.userInfo,e&&ye.collapsed),children:[s.jsx("img",{draggable:!1,className:ye.avatar,src:a.data.avatar,alt:a.data.name}),s.jsx(B.Title,{level:5,className:ye.name,title:a.data.name,children:a.data.name||"-"}),s.jsx(B.Text,{type:"secondary",ellipsis:!0,className:ye.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),s.jsx(Wy,{mode:"inline",className:ye.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[Xe[ge.Article]],items:i}),s.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:Rv,className:Yn(ye.footerLink,e&&ye.collapsed),children:e?s.jsx(ed,{}):s.jsxs(P,{size:"small",children:[s.jsx(ed,{}),"source-code"]})})]})},UI=e=>{const t=ln(),n=ps(),r=$r(),a=zs(),{i18n:i}=Ve(),o=()=>{t(Xe[ge.Setting])},l=()=>{Se.confirm({title:i.t("logout.confirmation"),centered:!0,onOk(){Ls(),t(Xe[ge.Hello])}})};return s.jsxs(me,{justify:"space-between",className:ye.headerContent,children:[s.jsxs(me,{align:"center",gap:"middle",children:[s.jsx(z,{type:"text",className:ye.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?s.jsx(Gy,{}):s.jsx(Jy,{})}),s.jsx(z,{type:"text",className:ye.item,onClick:()=>n.toggleTheme(),icon:n.isDark?s.jsx(Zy,{}):s.jsx(Xy,{})}),s.jsx(be,{size:"small",className:ye.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:Sv.map(c=>({value:c.code,label:c.name}))})]}),s.jsx(me,{align:"center",justify:"center",children:s.jsx(fm,{placement:"bottomRight",menu:{items:[{key:"profile",icon:s.jsx(Im,{}),label:i.t("page.setting.title"),onClick:o},{key:"divider",type:"divider"},{key:"logout",icon:s.jsx(Qy,{}),label:i.t("logout.title"),danger:!0,onClick:l}]},children:s.jsxs("div",{className:ye.userMenu,children:[s.jsx("span",{children:a.data.name}),s.jsx(Dc,{shape:"square",size:"small",icon:s.jsx(rr,{}),className:ye.avatar,src:a.data.avatar})]})})})]})},zI=()=>(Ce(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),s.jsx("div",{className:ye.pageHeaderAdvert,children:s.jsx(ve,{classNames:{body:ye.adCard},size:"small",variant:"borderless",children:s.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),qI=e=>{var i,o,l;const{i18n:t}=Ve(),n=Dt(),[,...r]=n.pathname.split("/"),a=$x.find(c=>Da(c.path,n.pathname));return s.jsxs("div",{className:ye.pageContainer,children:[s.jsxs(me,{align:"center",justify:"space-between",className:ye.pageHeader,children:[s.jsxs(B.Title,{className:ye.title,level:4,children:[s.jsx("span",{className:ye.icon,children:(i=a==null?void 0:a.handle)==null?void 0:i.icon}),(o=a==null?void 0:a.handle)!=null&&o.i18nKey?t.t(a.handle.i18nKey):(l=a==null?void 0:a.handle)==null?void 0:l.name]}),s.jsx(ev,{className:ye.breadcrumb,items:r.map(c=>({title:c}))})]}),Av&&s.jsx(zI,{}),s.jsx("div",{className:ye.pageContent,children:e==null?void 0:e.children}),s.jsx(tv.BackTop,{className:ye.backTop,shape:"square",type:"primary",icon:s.jsx(nv,{}),onClick:()=>st(document.body)})]})},HI="xl",BI=zl.getDesignToken().screenXL,VI=window.innerWidth>=BI,KI=e=>{const t=zs(),[n,r]=b.useState(!VI),a=()=>r(!n);return Ce(()=>{t.refresh()}),s.jsxs(hr,{id:"app-layout",className:ye.appLayout,children:[s.jsx(hr.Sider,{className:ye.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:HI,onBreakpoint:i=>r(i),children:s.jsx(MI,{isSiderCollapsed:n})}),s.jsxs(hr,{children:[s.jsx(hr.Header,{className:ye.appHeader,children:s.jsx(UI,{isSiderCollapsed:n,onToggleSider:a})}),s.jsx(hr.Content,{className:ye.appContent,children:s.jsx(qI,{children:e==null?void 0:e.children})}),s.jsx(hr.Footer,{className:ye.appFooter,children:s.jsxs(P,{size:"small",children:[s.jsx(rv,{}),"Powered by",s.jsx(B.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",s.jsx(B.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},YI="_helloPage_37uqv_1",WI="_iconWrapper_37uqv_9",GI="_icon_37uqv_9",JI="_lockIcon_37uqv_21",ZI="_unlockIcon_37uqv_25",XI="_input_37uqv_35",Gt={helloPage:YI,iconWrapper:WI,icon:GI,lockIcon:JI,unlockIcon:ZI,input:XI},QI=()=>{const e=ln(),[t,n]=b.useState(""),[r,a]=b.useState(!1),[i,o]=b.useState(!1),l=()=>a(!0),c=()=>a(!1),u=async p=>{try{o(!0);const m=await MS(p);ns.setToken(m.access_token,m.expires_in),e(Xe[ge.Dashboard])}catch(m){return console.warn("Login failed！",m),Promise.reject(m)}finally{o(!1)}},d=p=>{p.key==="Escape"&&c(),p.key==="Enter"&&t&&u(t)},h=s.jsxs("div",{className:Gt.iconWrapper,onClick:l,onTouchEnd:l,children:[s.jsx(gm,{className:Yn(Gt.icon,Gt.lockIcon)}),s.jsx(mm,{className:Yn(Gt.icon,Gt.unlockIcon)})]}),f=s.jsx(he.Password,{className:Gt.input,id:"password",size:"large",autoComplete:"off",autoFocus:!0,disabled:i,value:t,visibilityToggle:!1,onBlur:c,onKeyDownCapture:d,onInput:p=>n(p.target.value)});return s.jsx("div",{className:Yn(Gt.helloPage,r?Gt.inputing:Gt.normal),children:s.jsx(at,{spinning:i,indicator:s.jsx(bm,{}),children:r?f:h})})},ek="_notFoundPage_u75hf_1",tk={notFoundPage:ek},nk=()=>s.jsx(me,{justify:"center",align:"center",className:tk.notFoundPage,children:s.jsx($c,{status:"warning",title:"404 NOT FOUND",extra:s.jsx(It,{to:"/",children:s.jsx(z,{type:"link",children:s.jsx(Fr,{i18nKey:"page.404.link"})})})})}),Cc=[{id:ge.Hello,path:"/hello",element:s.jsx(QI,{})},{path:"/",children:Dx,element:s.jsx(WS,{children:s.jsx(KI,{children:s.jsx(fj,{})})})},{path:"*",element:s.jsx(nk,{})}],$x=[],Xe={},rk=new Map,Fx=e=>{e.forEach(t=>{var n;t.id&&($x.push(t),Xe[t.id]=t.path,rk.set(t.id,t)),(n=t.children)!=null&&n.length&&Fx(t.children)})};Fx(Cc);const $u={articleDetail:e=>`/article/edit/${e}`},ai=Pe.create({baseURL:Pv,adapter:window.__axiosAdapter||void 0});ai.interceptors.request.use(e=>(ns.isTokenValid()?(e.headers=e.headers||{},e.headers[Tv]=`Bearer ${ns.getToken()}`):e.url!==ks.LOGIN&&zt.error({message:Wn.t("nodepress.request.invalid_token.title"),description:Wn.t("nodepress.request.invalid_token.description"),duration:2}),e));ai.interceptors.response.use(e=>{var t;return(t=e.headers["content-type"])!=null&&t.includes("json")?e.data.status==="success"?(zt.success({message:Wn.t("nodepress.response.success"),description:e.data.message,duration:2}),Promise.resolve(e.data)):(zt.error({message:e.data.message,description:e.data.error,duration:3}),Promise.reject(e)):(zt.success({message:Wn.t("nodepress.response.success"),description:e.statusText,duration:2}),e)},e=>{var i,o,l,c,u,d,h,f;const t=(i=e==null?void 0:e.toJSON)==null?void 0:i.call(e),n=((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||"Error",r=((u=(c=e.response)==null?void 0:c.data)==null?void 0:u.error)||((d=e.response)==null?void 0:d.statusText)||(t==null?void 0:t.message)||"",a={...t,config:e.config,request:e.request,response:e.response,code:e.code||((h=e.response)==null?void 0:h.status)||400,message:`${n}: ${r}`};return console.debug("axios error:",a),zt.error({message:n,description:r,duration:3}),((f=e.response)==null?void 0:f.status)===401&&(ns.removeToken(),window.location.href=Xe[ge.Hello]),Promise.reject(a)});const fn=e=>(...t)=>ai[e](...t),ee={$:ai,request:fn("request"),head:fn("head"),get:fn("get"),post:fn("post"),put:fn("put"),patch:fn("patch"),delete:fn("delete"),options:fn("options")},Mx="/auth/admin";function Ux(){return ee.get(Mx).then(e=>e.result)}function ak(e){const t={...e,password:e.password?oc.encode(e.password):"",new_password:e.new_password?oc.encode(e.new_password):""};return ee.put(Mx,t).then(n=>n.result)}const ik=Object.freeze({name:"Admin",slogan:"NodePress",avatar:As("/images/nodepress.png")}),zx=Dr.createContext({}),zs=()=>b.useContext(zx),sk=e=>{const[t,n]=b.useState({...ik}),[r,a]=b.useState(!1),i=async()=>{try{a(!0),n(await Ux())}finally{a(!1)}};return s.jsx(zx.Provider,{value:{data:t,loading:r,refresh:i},children:e.children})};var ok=()=>{};function lk(e,t,n){let r=b.useRef(ok);b.useEffect(()=>{r.current=e}),b.useEffect(()=>{},[n]),b.useEffect(()=>{if(t===null||t===!1)return;let a=setInterval(()=>r.current(),t);return()=>clearInterval(a)},[t])}function qx(e,t){return Math.random()*(t-e+1)+e}function Ci(e,t){return Math.floor(qx(e,t))}var ck=b.forwardRef(({progress:e,height:t=2,className:n="",color:r="red",background:a="transparent",onLoaderFinished:i,transitionTime:o=300,loaderSpeed:l=500,waitingTime:c=1e3,shadow:u=!0,containerStyle:d={},style:h={},shadowStyle:f={},containerClassName:p=""},m)=>{let y=b.useRef(!1),[g,x]=b.useState(0),j=b.useRef({active:!1,refreshRate:1e3}),[w,S]=b.useState({active:!1,value:60}),C={height:"100%",background:r,transition:`all ${l}ms ease`,width:"0%"},v={position:"fixed",top:0,left:0,height:t,background:a,zIndex:99999999999,width:"100%"},L={boxShadow:`0 0 10px ${r}, 0 0 10px ${r}`,width:"5%",opacity:1,position:"absolute",height:"100%",transition:`all ${l}ms ease`,transform:"rotate(2deg) translate(0px, -2px)",left:"-10rem"},[E,T]=b.useState(C),[F,K]=b.useState(L);b.useEffect(()=>(y.current=!0,()=>{y.current=!1}),[]),b.useImperativeHandle(m,()=>({continuousStart(q,H=1e3){if(w.active)return;if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}let J=q||Ci(10,20);j.current={active:!0,refreshRate:H},x(J),Y(J)},staticStart(q){if(j.current.active)return;if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}let H=q||Ci(30,60);S({active:!0,value:H}),x(H),Y(H)},start(q="continuous",H,J){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}q==="continuous"?j.current={active:!0,refreshRate:J||1e3}:S({active:!0,value:H||20});let te=Ci(10,20),re=Ci(30,70),we=H||(q==="continuous"?te:re);x(we),Y(we)},complete(){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}x(100),Y(100)},increase(q){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}x(H=>{let J=H+q;return Y(J),J})},decrease(q){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}x(H=>{let J=H-q;return Y(J),J})},getProgress(){return g}})),b.useEffect(()=>{T({...E,background:r}),K({...F,boxShadow:`0 0 10px ${r}, 0 0 5px ${r}`})},[r]),b.useEffect(()=>{if(m){if(m&&e!==void 0){console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);return}Y(g)}else e&&Y(e)},[e]);let Y=q=>{q>=100?(T({...E,width:"100%"}),u&&K({...F,left:q-10+"%"}),setTimeout(()=>{y.current&&(T({...E,opacity:0,width:"100%",transition:`all ${o}ms ease-out`,color:r}),setTimeout(()=>{y.current&&(j.current.active&&(j.current={...j.current,active:!1},x(0),Y(0)),w.active&&(S({...w,active:!1}),x(0),Y(0)),i&&i(),x(0),Y(0))},o))},c)):(T(H=>({...H,width:q+"%",opacity:1,transition:q>0?`all ${l}ms ease`:""})),u&&K({...F,left:q-5.5+"%",transition:q>0?`all ${l}ms ease`:""}))};return lk(()=>{let q=Math.min(10,(100-g)/5),H=Math.min(20,(100-g)/3),J=qx(q,H);g+J<95&&(x(g+J),Y(g+J))},j.current.active?j.current.refreshRate:null),b.createElement("div",{className:p,style:{...v,...d}},b.createElement("div",{className:n,style:{...E,...h}},u?b.createElement("div",{style:{...F,...f}}):null))});b.createContext(void 0);const uk=e=>{const{axios:t,...n}=e,r=b.useRef(null);return Ce(()=>{t.interceptors.request.use(a=>{var i;return(i=r.current)==null||i.continuousStart(),a}),t.interceptors.response.use(a=>{var i;return(i=r.current)==null||i.complete(),a},a=>{var i;return(i=r.current)==null||i.complete(),Promise.reject(a)})}),s.jsx(ck,{...n,ref:r})},dk=Ov?Mj(Cc):Fj(Cc),hk=()=>{const{theme:e}=ps(),{language:t}=$r();return Ce(()=>{console.group("🟢 App is running."),console.table({VITE_ENV:kv}),console.groupEnd()}),s.jsx(Xj,{children:s.jsx(av,{className:"app-container",children:s.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[s.jsx(uk,{axios:ai,color:ir,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),s.jsx(sk,{children:s.jsx(uj,{router:dk})})]})})})};Je.extend(jv);const Hx=iw({fallbackLanguage:Am}),Bx=Hx.resolvedLanguage??Am,Vx=window.matchMedia("(prefers-color-scheme: dark)").matches?Bl.Dark:Bl.Light,fk=e=>Hx.changeLanguage(e).then(()=>{Je.locale(Gi[e].dayjs)});console.group("🔵 App booting up...");console.table({APP_VERSION:Ev,ENV_MODE:Om,INIT_THEME:Vx,INIT_LANGUAGE:Bx});console.groupEnd();vv.createRoot(document.getElementById("root")).render(s.jsx(Lm,{initLanguage:Bx,onChange:fk,children:s.jsx(Nm,{initTheme:Vx,children:s.jsx(hk,{})})}));export{Fr as T,as as U,kR as a,ps as b,Nk as c,$k as d,s as j,ZT as s,Zp as t,Ve as u};
