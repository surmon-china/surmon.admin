const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-CozPrIll.js","assets/antd-Dr3HCwni.js","assets/codemirror-BbxrCuMP.js","assets/echarts-C4LX7dmx.js","assets/Editor-BdGec0f9.css"])))=>i.map(i=>d[i]);
import{r as b,a as Yf,c as Rt,g as Ht,R as mr,d as Cu,b as Wf,e as Gf,f as Jf,h as Zf,i as Qf,C as Pi,t as Ai,F as ue,S as O,j as dt,k as Xf,T as M,s as Ft,l as Xe,m as Mt,n as $e,o as mn,p as Mn,D as ee,E as eg,L as Xt,q as si,B as N,u as tg,v as ng,w as rg,x as ag,y as kl,z as sg,A as ig,G as og,H as Rs,I as Ze,J as St,K as Is,M as Ke,N as cr,O as ur,P as ve,Q as ho,U as fo,V as ha,W as go,X as lg,Y as Eu,Z as ot,_ as Ga,$ as Tu,a0 as cg,a1 as mo,a2 as ug,a3 as dg,a4 as hg,a5 as fg,a6 as gg,a7 as mg,a8 as je,a9 as po,aa as xo,ab as Ru,ac as ie,ad as wn,ae as Iu,af as Bt,ag as Lu,ah as ku,ai as fa,aj as Ie,ak as yo,al as Pu,am as Un,an as pg,ao as P,ap as pn,aq as vo,ar as xg,as as Au,at as Ls,au as yg,av as Oi,aw as zn,ax as pr,ay as ks,az as vg,aA as dr,aB as bo,aC as bg,aD as wg,aE as jg,aF as ra,aG as _g,aH as Ps,aI as Ou,aJ as Du,aK as Sg,aL as Pl,aM as Cg,aN as Eg,aO as Tg,aP as Nu,aQ as wo,aR as Al,aS as $u,aT as Fu,aU as jo,aV as As,aW as Mu,aX as Rg,aY as Ig,aZ as Lg,a_ as kg,a$ as Pg,b0 as Ol,b1 as Ag,b2 as Og,b3 as Dg,b4 as Uu,b5 as Ng,b6 as Dl,b7 as $g,b8 as Fg,b9 as Mg,ba as Ug,bb as zg,bc as Bg,bd as Hg,be as qg,bf as Zn,bg as Vg,bh as Kg}from"./antd-Dr3HCwni.js";import{u as Yg,g as Wg,i as Gg,a as Jg,b as Zg,c as Qg,d as Xg,e as em,f as tm}from"./echarts-C4LX7dmx.js";import{_ as nm}from"./codemirror-BbxrCuMP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var zu={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=b,am=Symbol.for("react.element"),sm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,om=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lm={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)im.call(t,r)&&!lm.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:am,type:e,key:i,ref:o,props:a,_owner:om.current}}Os.Fragment=sm;Os.jsx=Bu;Os.jsxs=Bu;zu.exports=Os;var s=zu.exports,Di={},Nl=Yf;Di.createRoot=Nl.createRoot,Di.hydrateRoot=Nl.hydrateRoot;var Hu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Rt,function(){var n,r,a=1e3,i=6e4,o=36e5,c=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2628e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:c,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},p=function(y){return y instanceof j},g=function(y,L,E){return new j(y,E,L.$l)},x=function(y){return r.p(y)+"s"},m=function(y){return y<0},C=function(y){return m(y)?Math.ceil(y):Math.floor(y)},S=function(y){return Math.abs(y)},w=function(y,L){return y?m(y)?{negative:!0,format:""+S(y)+L}:{negative:!1,format:""+y+L}:{negative:!1,format:""}},j=function(){function y(E,R,D){var $=this;if(this.$d={},this.$l=D,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return g(E*d[x(R)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(B){$.$d[x(B)]=E[B]}),this.calMilliseconds(),this;if(typeof E=="string"){var z=E.match(f);if(z){var Z=z.slice(2).map(function(B){return B!=null?Number(B):0});return this.$d.years=Z[0],this.$d.months=Z[1],this.$d.weeks=Z[2],this.$d.days=Z[3],this.$d.hours=Z[4],this.$d.minutes=Z[5],this.$d.seconds=Z[6],this.calMilliseconds(),this}}return this}var L=y.prototype;return L.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(R,D){return R+(E.$d[D]||0)*d[D]},0)},L.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=C(E/u),E%=u,this.$d.months=C(E/h),E%=h,this.$d.days=C(E/c),E%=c,this.$d.hours=C(E/o),E%=o,this.$d.minutes=C(E/i),E%=i,this.$d.seconds=C(E/a),E%=a,this.$d.milliseconds=E},L.toISOString=function(){var E=w(this.$d.years,"Y"),R=w(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var $=w(D,"D"),z=w(this.$d.hours,"H"),Z=w(this.$d.minutes,"M"),B=this.$d.seconds||0;this.$d.milliseconds&&(B+=this.$d.milliseconds/1e3,B=Math.round(1e3*B)/1e3);var oe=w(B,"S"),ge=E.negative||R.negative||$.negative||z.negative||Z.negative||oe.negative,Y=z.format||Z.format||oe.format?"T":"",xe=(ge?"-":"")+"P"+E.format+R.format+$.format+Y+z.format+Z.format+oe.format;return xe==="P"||xe==="-P"?"P0D":xe},L.toJSON=function(){return this.toISOString()},L.format=function(E){var R=E||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return R.replace(l,function($,z){return z||String(D[$])})},L.as=function(E){return this.$ms/d[x(E)]},L.get=function(E){var R=this.$ms,D=x(E);return D==="milliseconds"?R%=1e3:R=D==="weeks"?C(R/d[D]):this.$d[D],R||0},L.add=function(E,R,D){var $;return $=R?E*d[x(R)]:p(E)?E.$ms:g(E,this).$ms,g(this.$ms+$*(D?-1:1),this)},L.subtract=function(E,R){return this.add(E,R,!0)},L.locale=function(E){var R=this.clone();return R.$l=E,R},L.clone=function(){return g(this.$ms,this)},L.humanize=function(E){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},L.valueOf=function(){return this.asMilliseconds()},L.milliseconds=function(){return this.get("milliseconds")},L.asMilliseconds=function(){return this.as("milliseconds")},L.seconds=function(){return this.get("seconds")},L.asSeconds=function(){return this.as("seconds")},L.minutes=function(){return this.get("minutes")},L.asMinutes=function(){return this.as("minutes")},L.hours=function(){return this.get("hours")},L.asHours=function(){return this.as("hours")},L.days=function(){return this.get("days")},L.asDays=function(){return this.as("days")},L.weeks=function(){return this.get("weeks")},L.asWeeks=function(){return this.as("weeks")},L.months=function(){return this.get("months")},L.asMonths=function(){return this.as("months")},L.years=function(){return this.get("years")},L.asYears=function(){return this.as("years")},y}(),T=function(y,L,E){return y.add(L.years()*E,"y").add(L.months()*E,"M").add(L.days()*E,"d").add(L.hours()*E,"h").add(L.minutes()*E,"m").add(L.seconds()*E,"s").add(L.milliseconds()*E,"ms")};return function(y,L,E){n=E,r=E().$utils(),E.duration=function($,z){var Z=E.locale();return g($,{$l:Z},z)},E.isDuration=p;var R=L.prototype.add,D=L.prototype.subtract;L.prototype.add=function($,z){return p($)?T(this,$,1):R.bind(this)($,z)},L.prototype.subtract=function($,z){return p($)?T(this,$,-1):D.bind(this)($,z)}}})})(Hu);var cm=Hu.exports;const um=Ht(cm);var Qr=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(Qr||{});const dm=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],qu=mr.createContext({}),xr=()=>b.useContext(qu),Vu=e=>{const[t,n]=b.useState(e.initLanguage),r=a=>{var o;const i=(o=e.onChange)==null?void 0:o.call(e,a);i instanceof Promise?i.then(()=>n(a)):n(a)};return s.jsx(qu.Provider,{value:{language:t,changeLanguage:r},children:e.children})},hm={BASE_URL:"/surmon.admin/",DEV:!1,MODE:"demo",PROD:!0,SSR:!1,VITE_API_URL:"/",VITE_ENABLE_AD:"true",VITE_ENABLE_HASH_ROUTER:"true"},ga="https://surmon.me",fm="https://github.com/surmon-china/surmon.admin",gm="Authorization",mm="middle",Ku="large",Ve=24,Bn="#0088f5",Yu=Qr.English,pm=hm,xm="demo",ym=xm==="development",ii="/surmon.admin/",vm="/",bm=!0,wm=!0;var Ni=(e=>(e.Light="light",e.Dark="dark",e))(Ni||{});const jm=e=>e==="dark",_m=e=>e==="light",Wu=mr.createContext({}),Ds=()=>b.useContext(Wu),Gu=e=>{const[t,n]=b.useState(e.initTheme),r=b.useMemo(()=>jm(t),[t]),a=b.useMemo(()=>_m(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return s.jsx(Wu.Provider,{value:o,children:e.children})},Sm={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class ds{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Sm,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new ds(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ds(this.logger,t)}}var Ut=new ds;class Ns{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[c,l]=o;for(let u=0;u<l;u++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[c,l]=o;for(let u=0;u<l;u++)c.apply(c,[t,...r])})}}const Or=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},$l=e=>e==null?"":""+e,Cm=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Em=/###/g,Fl=e=>e&&e.indexOf("###")>-1?e.replace(Em,"."):e,Ml=e=>!e||typeof e=="string",Xr=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let a=0;for(;a<r.length-1;){if(Ml(e))return{};const i=Fl(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return Ml(e)?{}:{obj:e,k:Fl(r[a])}},Ul=(e,t,n)=>{const{obj:r,k:a}=Xr(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=Xr(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=Xr(e,o,Object),c&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Tm=(e,t,n,r)=>{const{obj:a,k:i}=Xr(e,t,Object);a[i]=a[i]||[],a[i].push(n)},hs=(e,t)=>{const{obj:n,k:r}=Xr(e,t);if(n)return n[r]},Rm=(e,t,n)=>{const r=hs(e,n);return r!==void 0?r:hs(t,n)},Ju=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):Ju(e[r],t[r],n):e[r]=t[r]);return e},Qn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Im={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Lm=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Im[t]):e;class km{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Pm=[" ",",","?","!",";"],Am=new km(20),Om=(e,t,n)=>{t=t||"",n=n||"";const r=Pm.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Am.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},$i=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,c="";for(let l=i;l<r.length;++l)if(l!==i&&(c+=n),c+=r[l],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}a=o}return a},fs=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class zl extends Ns{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):typeof r=="string"&&i?c.push(...r.split(i)):c.push(r)));const l=hs(this.data,c);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),l||!o||typeof r!="string"?l:$i(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,n];r&&(c=c.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(c=t.split("."),a=n,n=c[1]),this.addNamespaces(n),Ul(this.data,c,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),a=r,r=n,n=c[1]),this.addNamespaces(n);let l=hs(this.data,c)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Ju(l,r,i):l={...l,...r},Ul(this.data,c,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Zu={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,a))}),t}};const Bl={};class gs extends Ns{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Cm(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ut.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Om(t,r,a);if(o&&!c){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:i};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),l=c[c.length-1],u=n.lng||this.language,h=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const j=n.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${j}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${j}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(t,n);let d=f&&f.res;const p=f&&f.usedKey||o,g=f&&f.exactUsedKey||o,x=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(x)<0&&!(typeof C=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(f.res=j,f.usedParams=this.getUsedParamsDetails(n),f):j}if(i){const j=Array.isArray(d),T=j?[]:{},y=j?g:p;for(const L in d)if(Object.prototype.hasOwnProperty.call(d,L)){const E=`${y}${i}${L}`;T[L]=this.translate(E,{...n,joinArrays:!1,ns:c}),T[L]===E&&(T[L]=d[L])}d=T}}else if(S&&typeof C=="string"&&Array.isArray(d))d=d.join(C),d&&(d=this.extendTranslation(d,t,n,r));else{let j=!1,T=!1;const y=n.count!==void 0&&typeof n.count!="string",L=gs.hasDefaultValue(n),E=y?this.pluralResolver.getSuffix(u,n.count,n):"",R=n.ordinal&&y?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",D=y&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),$=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${R}`]||n.defaultValue;!this.isValidLookup(d)&&L&&(j=!0,d=$),this.isValidLookup(d)||(T=!0,d=o);const Z=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:d,B=L&&$!==d&&this.options.updateMissing;if(T||j||B){if(this.logger.log(B?"updateKey":"missingKey",u,l,o,B?$:d),i){const xe=this.resolve(o,{...n,keySeparator:!1});xe&&xe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let xe=0;xe<ge.length;xe++)oe.push(ge[xe]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(n.lng||this.language):oe.push(n.lng||this.language);const Y=(xe,Ae,Ue)=>{const ze=L&&Ue!==d?Ue:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(xe,l,Ae,ze,B,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(xe,l,Ae,ze,B,n),this.emit("missingKey",xe,l,Ae,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?oe.forEach(xe=>{const Ae=this.pluralResolver.getSuffixes(xe,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&Ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ae.push(`${this.options.pluralSeparator}zero`),Ae.forEach(Ue=>{Y([xe],o+Ue,n[`defaultValue${Ue}`]||$)})}):Y(oe,o,$))}d=this.extendTranslation(d,t,n,f,r),T&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(T||j)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,j?d:void 0):d=this.options.parseMissingKeyHandler(d))}return a?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const d=t.match(this.interpolator.nestingRegexp);h=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||a.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),p=d&&d.length;h<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];return i&&i[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,l=typeof c=="string"?[c]:c;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=Zu.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,i,o,c;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),h=u.key;a=h;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(c=m,!Bl[`${x[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Bl[`${x[0]}-${m}`]=!0,this.logger.warn(`key "${a}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(C=>{if(this.isValidLookup(r))return;o=C;const S=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,h,C,m,n);else{let j;d&&(j=this.pluralResolver.getSuffix(C,n.count,n));const T=`${this.options.pluralSeparator}zero`,y=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(S.push(h+j),n.ordinal&&j.indexOf(y)===0&&S.push(h+j.replace(y,this.options.pluralSeparator)),p&&S.push(h+T)),g){const L=`${h}${this.options.contextSeparator}${n.context}`;S.push(L),d&&(S.push(L+j),n.ordinal&&j.indexOf(y)===0&&S.push(L+j.replace(y,this.options.pluralSeparator)),p&&S.push(L+T))}}let w;for(;w=S.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(C,m,w,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const oi=e=>e.charAt(0).toUpperCase()+e.slice(1);class Hl{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ut.create("languageUtils")}getScriptPartFromCode(t){if(t=fs(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=fs(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=oi(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=oi(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=oi(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let Dm=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Nm={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const $m=["v1","v2","v3"],Fm=["v4"],ql={zero:0,one:1,two:2,few:3,many:4,other:5},Mm=()=>{const e={};return Dm.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Nm[t.fc]}})}),e};class Um{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Ut.create("pluralResolver"),(!this.options.compatibilityJSON||Fm.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Mm()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(fs(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,i)=>ql[a]-ql[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!$m.includes(this.options.compatibilityJSON)}}const Vl=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Rm(e,t,n);return!i&&a&&typeof n=="string"&&(i=$i(e,n,r),i===void 0&&(i=$i(t,n,r))),i},li=e=>e.replace(/\$/g,"$$$$");class zm{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ut.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:m,maxReplaces:C,alwaysFormat:S}=t.interpolation;this.escape=n!==void 0?n:Lm,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Qn(i):o||"{{",this.suffix=c?Qn(c):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=d?Qn(d):p||Qn("$t("),this.nestingSuffix=g?Qn(g):x||Qn(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=C||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,c;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const C=Vl(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...a,...n,interpolationkey:p}):C}const g=p.split(this.formatSeparator),x=g.shift().trim(),m=g.join(this.formatSeparator).trim();return this.format(Vl(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...a,...n,interpolationkey:x})};this.resetRegExp();const h=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,f=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>li(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?li(this.escape(p)):li(p)}].forEach(p=>{for(c=0;i=p.regex.exec(t);){const g=i[1].trim();if(o=u(g),o===void 0)if(typeof h=="function"){const m=h(t,i,a);o=typeof m=="string"?m:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=$l(o));const x=p.safeValue(o);if(t=t.replace(i[0],x),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const c=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const f=l.split(new RegExp(`${h}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),g=d.match(/"/g);(p&&p.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${h}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;a=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const h=a[1].split(this.formatSeparator).map(f=>f.trim());a[1]=h.shift(),l=h,u=!0}if(i=n(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=$l(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=l.reduce((h,f)=>this.format(h,f,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const Bm=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=c.trim();n[h]||(n[h]=u),u==="false"&&(n[h]=!1),u==="true"&&(n[h]=!0),isNaN(u)||(n[h]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Xn=e=>{const t={};return(n,r,a)=>{const i=r+JSON.stringify(a);let o=t[i];return o||(o=e(fs(r),a),t[i]=o),o(n)}};class Hm{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ut.create("formatter"),this.options=t,this.formats={number:Xn((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return i=>a.format(i)}),currency:Xn((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>a.format(i)}),datetime:Xn((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return i=>a.format(i)}),relativetime:Xn((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return i=>a.format(i,r.range||"day")}),list:Xn((n,r)=>{const a=new Intl.ListFormat(n,{...r});return i=>a.format(i)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Xn(n)}format(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,l)=>{const{formatName:u,formatOptions:h}=Bm(l);if(this.formats[u]){let f=c;try{const d=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=d.locale||d.lng||a.locale||a.lng||r;f=this.formats[u](c,p,{...h,...a,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return c},t)}}const qm=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Vm extends Ns{constructor(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Ut.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},c={},l={};return t.forEach(u=>{let h=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,h=!1,o[d]===void 0&&(o[d]=!0),i[d]===void 0&&(i[d]=!0),l[f]===void 0&&(l[f]=!0)))}),h||(c[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const c={};this.queue.forEach(l=>{Tm(l.loaded,[i],o),qm(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{c[u]||(c[u]={});const h=l.loaded[u];h.length&&h.forEach(f=>{c[u][f]===void 0&&(c[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&h&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(u,h)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(h=>c(null,h)).catch(c):c(null,u)}catch(u){c(u)}return}return l(t,n,c)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(t,n,r,a,l):h=u(t,n,r,a),h&&typeof h.then=="function"?h.then(f=>c(null,f)).catch(c):c(null,h)}catch(h){c(h)}else u(t,n,r,a,c,l)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const Kl=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Yl=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),$a=()=>{},Km=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class aa extends Ns{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Yl(t),this.services={},this.logger=Ut,this.modules={external:[]},Km(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=Kl();this.options={...a,...this.options,...Yl(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Ut.init(i(this.modules.logger),this.options):Ut.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=Hm);const f=new Hl(this.options);this.store=new zl(this.options.resources,this.options);const d=this.services;d.logger=Ut,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Um(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(d.formatter=i(h),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new zm(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Vm(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var g=arguments.length,x=new Array(g>1?g-1:0),m=1;m<g;m++)x[m-1]=arguments[m];t.emit(p,...x)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new gs(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,x=new Array(g>1?g-1:0),m=1;m<g;m++)x[m-1]=arguments[m];t.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=$a),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return t.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return t.store[h](...arguments),t}});const l=Or(),u=()=>{const h=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$a;const a=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(t,n,r){const a=Or();return t||(t=this.languages),n||(n=this.options.ns),r||(r=$a),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Zu.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const a=Or();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},c=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{o(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),a}getFixedT(t,n,r){var a=this;const i=function(o,c){let l;if(typeof c!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),f=2;f<u;f++)h[f-2]=arguments[f];l=a.options.overloadTranslationOptionHandler([o,c].concat(h))}else l={...c};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const d=a.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(g=>`${l.keyPrefix}${d}${g}`):p=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,a.t(p,l)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(c,l)=>{const u=this.services.backendConnector.state[`${c}|${l}`];return u===-1||u===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Or();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Or();typeof t=="string"&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Hl(Kl());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new aa(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$a;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new aa(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new zl(this.store.data,a),i.services.resourceStore=i.store),i.translator=new gs(i.services,a),i.translator.on("*",function(c){for(var l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];i.emit(c,...u)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ye=aa.createInstance();Ye.createInstance=aa.createInstance;Ye.createInstance;Ye.dir;Ye.init;Ye.loadResources;Ye.reloadResources;Ye.use;Ye.changeLanguage;Ye.getFixedT;Ye.t;Ye.exists;Ye.setDefaultNamespace;Ye.hasLoadedNamespace;Ye.loadNamespaces;Ye.loadLanguages;const{slice:Ym,forEach:Wm}=[];function Gm(e){return Wm.call(Ym.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const Wl=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Jm=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const a=encodeURIComponent(t);let i=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Wl.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Wl.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},Gl={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=Jm(e,encodeURIComponent(t),a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e){this.create(e,"",-1)}};var Zm={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Gl.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&Gl.create(n,e,r,a,i)}},Qm={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let c=0;c<o.length;c++){const l=o[c].indexOf("=");l>0&&o[c].substring(0,l)===t&&(n=o[c].substring(l+1))}}return n}};let Dr=null;const Jl=()=>{if(Dr!==null)return Dr;try{Dr=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Dr=!1}return Dr};var Xm={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Jl())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Jl()&&window.localStorage.setItem(n,e)}};let Nr=null;const Zl=()=>{if(Nr!==null)return Nr;try{Nr=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Nr=!1}return Nr};var ep={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Zl())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Zl()&&window.sessionStorage.setItem(n,e)}},tp={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},np={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},rp={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},ap={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function sp(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class Qu{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Gm(n,this.options||{},sp()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Zm),this.addDetector(Qm),this.addDetector(Xm),this.addDetector(ep),this.addDetector(tp),this.addDetector(np),this.addDetector(rp),this.addDetector(ap)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}Qu.type="languageDetector";var ip={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const op=Ht(ip);var lp=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Ql(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(op[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(lp),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),c=[o,""];o.indexOf("=")>-1&&(c=o.split("=")),t.attrs[c[0]]=c[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var cp=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,up=/^\s*$/,dp=Object.create(null);function Xu(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Xu,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var hp={parse:function(e,t){t||(t={}),t.components||(t.components=dp);var n,r=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");r.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(cp,function(l,u){if(o){if(l!=="</"+n.name+">")return;o=!1}var h,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,g=e.charAt(p);if(d){var x=Ql(l);return i<0?(r.push(x),r):((h=a[i]).children.push(x),r)}if(f&&(i++,(n=Ql(l)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!g||g==="<"||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),i===0&&r.push(n),(h=a[i-1])&&h.children.push(n),a[i]=n),(!f||n.voidElement)&&(i>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(i--,n=i===-1?r:a[i]),!o&&g!=="<"&&g)){h=i===-1?r:a[i].children;var m=e.indexOf("<",p),C=e.slice(p,m===-1?void 0:m);up.test(C)&&(C=" "),(m>-1&&i+h.length>=0||C!==" ")&&h.push({type:"text",content:C})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+Xu("",n)},"")}};const Ja=(...e)=>{console!=null&&console.warn&&(_t(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},Xl={},ms=(...e)=>{_t(e[0])&&Xl[e[0]]||(_t(e[0])&&(Xl[e[0]]=new Date),Ja(...e))},ed=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},ec=(e,t,n)=>{e.loadNamespaces(t,ed(e,n))},tc=(e,t,n,r)=>{_t(n)&&(n=[n]),n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,ed(e,r))},fp=(e,t,n={})=>!t.languages||!t.languages.length?(ms("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),_t=e=>typeof e=="string",ar=e=>typeof e=="object"&&e!==null,gp=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mp={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},pp=e=>mp[e],xp=e=>e.replace(gp,pp);let Fi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:xp};const yp=(e={})=>{Fi={...Fi,...e}},td=()=>Fi;let nd;const vp=e=>{nd=e},_o=()=>nd,ci=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},ui=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?sr(t):t},bp=e=>Array.isArray(e)&&e.every(b.isValidElement),sr=e=>Array.isArray(e)?e:[e],wp=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},rd=(e,t)=>{if(!e)return"";let n="";const r=sr(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((i,o)=>{if(_t(i))n+=`${i}`;else if(b.isValidElement(i)){const{props:c,type:l}=i,u=Object.keys(c).length,h=a.indexOf(l)>-1,f=c.children;if(!f&&h&&!u)n+=`<${l}/>`;else if(!f&&(!h||u)||c.i18nIsDynamicList)n+=`<${o}></${o}>`;else if(h&&u===1&&_t(f))n+=`<${l}>${f}</${l}>`;else{const d=rd(f,t);n+=`<${o}>${d}</${o}>`}}else if(i===null)Ja("Trans: the passed in value is invalid - seems you passed in a null child.");else if(ar(i)){const{format:c,...l}=i,u=Object.keys(l);if(u.length===1){const h=c?`${u[0]}, ${c}`:u[0];n+=`{{${h}}}`}else Ja("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else Ja("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},jp=(e,t,n,r,a,i)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(o.map(m=>`<${m}`).join("|")).test(t);if(!e&&!c&&!i)return[t];const l={},u=m=>{sr(m).forEach(S=>{_t(S)||(ci(S)?u(ui(S)):ar(S)&&!b.isValidElement(S)&&Object.assign(l,S))})};u(e);const h=hp.parse(`<0>${t}</0>`),f={...l,...a},d=(m,C,S)=>{var T;const w=ui(m),j=g(w,C.children,S);return bp(w)&&j.length===0||(T=m.props)!=null&&T.i18nIsDynamicList?w:j},p=(m,C,S,w,j)=>{m.dummy?(m.children=C,S.push(b.cloneElement(m,{key:w},j?void 0:C))):S.push(...b.Children.map([m],T=>{const y={...T.props};return delete y.i18nIsDynamicList,b.createElement(T.type,{...y,key:w,ref:T.ref},j?null:C)}))},g=(m,C,S)=>{const w=sr(m);return sr(C).reduce((T,y,L)=>{var R,D;const E=((D=(R=y.children)==null?void 0:R[0])==null?void 0:D.content)&&n.services.interpolator.interpolate(y.children[0].content,f,n.language);if(y.type==="tag"){let $=w[parseInt(y.name,10)];S.length===1&&!$&&($=S[0][y.name]),$||($={});const z=Object.keys(y.attrs).length!==0?wp({props:y.attrs},$):$,Z=b.isValidElement(z),B=Z&&ci(y,!0)&&!y.voidElement,oe=c&&ar(z)&&z.dummy&&!Z,ge=ar(e)&&Object.hasOwnProperty.call(e,y.name);if(_t(z)){const Y=n.services.interpolator.interpolate(z,f,n.language);T.push(Y)}else if(ci(z)||B){const Y=d(z,y,S);p(z,Y,T,L)}else if(oe){const Y=g(w,y.children,S);p(z,Y,T,L)}else if(Number.isNaN(parseFloat(y.name)))if(ge){const Y=d(z,y,S);p(z,Y,T,L,y.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(y.name)>-1)if(y.voidElement)T.push(b.createElement(y.name,{key:`${y.name}-${L}`}));else{const Y=g(w,y.children,S);T.push(b.createElement(y.name,{key:`${y.name}-${L}`},Y))}else if(y.voidElement)T.push(`<${y.name} />`);else{const Y=g(w,y.children,S);T.push(`<${y.name}>${Y}</${y.name}>`)}else if(ar(z)&&!Z){const Y=y.children[0]?E:null;Y&&T.push(Y)}else p(z,E,T,L,y.children.length!==1||!E)}else if(y.type==="text"){const $=r.transWrapTextNodes,z=i?r.unescape(n.services.interpolator.interpolate(y.content,f,n.language)):n.services.interpolator.interpolate(y.content,f,n.language);$?T.push(b.createElement($,{key:`${y.name}-${L}`},z)):T.push(z)}return T},[])},x=g([{dummy:!0,children:e||[]}],h,sr(e||[]));return ui(x[0])};function _p({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:u,i18n:h,t:f,shouldUnescape:d,...p}){var $,z,Z,B;const g=h||_o();if(!g)return ms("You will need to pass in an i18next instance by using i18nextReactModule"),e;const x=f||g.t.bind(g)||(oe=>oe),m={...td(),...($=g.options)==null?void 0:$.react};let C=u||x.ns||((z=g.options)==null?void 0:z.defaultNS);C=_t(C)?[C]:C||["translation"];const S=rd(e,m),w=c||S||m.transEmptyNodeValue||r,{hashTransKey:j}=m,T=r||(j?j(S||w):S||w);(B=(Z=g.options)==null?void 0:Z.interpolation)!=null&&B.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const y=o||t!==void 0||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},L={...i,context:a||i.context,count:t,...o,...y,defaultValue:w,ns:C},E=T?x(T,L):w;l&&Object.keys(l).forEach(oe=>{const ge=l[oe];if(typeof ge.type=="function"||!ge.props||!ge.props.children||E.indexOf(`${oe}/>`)<0&&E.indexOf(`${oe} />`)<0)return;function Y(){return b.createElement(b.Fragment,null,ge)}l[oe]=b.createElement(Y)});const R=jp(l||e,E,g,m,L,d),D=n??m.defaultTransParent;return D?b.createElement(D,p,R):R}const Sp={type:"3rdParty",init(e){yp(e.options.react),vp(e)}},ad=b.createContext();class Cp{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function yr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:u,i18n:h,t:f,shouldUnescape:d,...p}){var S;const{i18n:g,defaultNS:x}=b.useContext(ad)||{},m=h||g||_o(),C=f||(m==null?void 0:m.t.bind(m));return _p({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:o,defaults:c,components:l,ns:u||(C==null?void 0:C.ns)||x||((S=m==null?void 0:m.options)==null?void 0:S.defaultNS),i18n:m,t:f,shouldUnescape:d,...p})}const Ep=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},sd=(e,t,n,r)=>e.getFixedT(t,n,r),Tp=(e,t,n,r)=>b.useCallback(sd(e,t,n,r),[e,t,n,r]),tt=(e,t={})=>{var j,T,y,L;const{i18n:n}=t,{i18n:r,defaultNS:a}=b.useContext(ad)||{},i=n||r||_o();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Cp),!i){ms("You will need to pass in an i18next instance by using initReactI18next");const E=(D,$)=>_t($)?$:ar($)&&_t($.defaultValue)?$.defaultValue:Array.isArray(D)?D[D.length-1]:D,R=[E,{},!1];return R.t=E,R.i18n={},R.ready=!1,R}(j=i.options.react)!=null&&j.wait&&ms("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...td(),...i.options.react,...t},{useSuspense:c,keyPrefix:l}=o;let u=a||((T=i.options)==null?void 0:T.defaultNS);u=_t(u)?[u]:u||["translation"],(L=(y=i.reportNamespaces).addUsedNamespaces)==null||L.call(y,u);const h=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>fp(E,i,o)),f=Tp(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),d=()=>f,p=()=>sd(i,t.lng||null,o.nsMode==="fallback"?u:u[0],l),[g,x]=b.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const C=Ep(m),S=b.useRef(!0);b.useEffect(()=>{const{bindI18n:E,bindI18nStore:R}=o;S.current=!0,!h&&!c&&(t.lng?tc(i,t.lng,u,()=>{S.current&&x(p)}):ec(i,u,()=>{S.current&&x(p)})),h&&C&&C!==m&&S.current&&x(p);const D=()=>{S.current&&x(p)};return E&&(i==null||i.on(E,D)),R&&(i==null||i.store.on(R,D)),()=>{S.current=!1,i&&(E==null||E.split(" ").forEach($=>i.off($,D))),R&&i&&R.split(" ").forEach($=>i.store.off($,D))}},[i,m]),b.useEffect(()=>{S.current&&h&&x(d)},[i,l,h]);const w=[g,i,h];if(w.t=g,w.i18n=i,w.ready=h,h||!h&&!c)return w;throw new Promise(E=>{t.lng?tc(i,t.lng,u,()=>E()):ec(i,u,()=>E())})};var id={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Rt,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})})(id);var Rp=id.exports;const Ip=Ht(Rp);var od={exports:{}};(function(e,t){(function(n,r){e.exports=r(Cu)})(Rt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(od);var Lp=od.exports;const kp=Ht(Lp);var ld={exports:{}};(function(e,t){(function(n,r){e.exports=r(Cu)})(Rt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(ld);var Pp=ld.exports;const Ap=Ht(Pp),Op={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile"},Dp={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料"},Np={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料"},ps={[Qr.English]:{i18n:Op,dayjs:Ip,antd:Wf},[Qr.SimplifiedChinese]:{i18n:Dp,dayjs:kp,antd:Gf},[Qr.TraditionalChinese]:{i18n:Np,dayjs:Ap,antd:Jf}},In=Ye,$p=Object.keys(ps).reduce((e,t)=>(e[t]={translation:ps[t].i18n},e),{}),Fp=e=>(Ye.use(Qu).use(Sp).init({debug:ym,cleanCode:!0,resources:$p,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),Ye);/**
* @vue/shared v3.5.0-beta.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mp(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Up=Object.prototype.hasOwnProperty,Mi=(e,t)=>Up.call(e,t),ea=Array.isArray,Za=e=>cd(e)==="[object Map]",zp=e=>typeof e=="function",Bp=e=>typeof e=="string",ma=e=>typeof e=="symbol",$s=e=>e!==null&&typeof e=="object",Hp=Object.prototype.toString,cd=e=>Hp.call(e),qp=e=>cd(e).slice(8,-1),So=e=>Bp(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vr=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.5.0-beta.1
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;const nc={ACTIVE:1,1:"ACTIVE",RUNNING:2,2:"RUNNING",TRACKING:4,4:"TRACKING",NOTIFIED:8,8:"NOTIFIED",DIRTY:16,16:"DIRTY",ALLOW_RECURSE:32,32:"ALLOW_RECURSE",NO_BATCH:64,64:"NO_BATCH",PAUSED:128,128:"PAUSED"},di=new WeakSet;class Vp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=128}resume(){this.flags&128&&(this.flags&=-129,di.has(this)&&(di.delete(this),this.trigger()))}notify(){if(!(this.flags&2&&!(this.flags&32))){if(this.flags&64)return this.trigger();this.flags&8||(this.flags|=8,this.nextEffect=ta,ta=this)}}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rc(this),ud(this);const t=Re,n=It;Re=this,It=!0;try{return this.fn()}finally{dd(this),Re=t,It=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)To(t);this.deps=this.depsTail=void 0,rc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&128?di.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ui(this)&&this.run()}get dirty(){return Ui(this)}}let Qa=0,ta;function Co(){Qa++}function Eo(){if(Qa>1){Qa--;return}let e;for(;ta;){let t=ta;for(ta=void 0;t;){const n=t.nextEffect;if(t.nextEffect=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(Qa--,e)throw e}function ud(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dd(e){let t,n=e.depsTail;for(let r=n;r;r=r.prevDep)r.version===-1?(r===n&&(n=r.prevDep),To(r),Kp(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0;e.deps=t,e.depsTail=n}function Ui(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&hd(t.dep.computed)===!1||t.dep.version!==t.version)return!0;return!!e._dirty}function hd(e){if(e.flags&2)return!1;if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===sa))return;e.globalVersion=sa;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&!Ui(e)){e.flags&=-3;return}const n=Re,r=It;Re=e,It=!0;try{ud(e);const a=e.fn();(t.version===0||vr(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Re=n,It=r,dd(e),e.flags&=-3}}function To(e){const{dep:t,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),t.subs===e&&(t.subs=n),!t.subs&&t.computed){t.computed.flags&=-5;for(let a=t.computed.deps;a;a=a.nextDep)To(a)}}function Kp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let It=!0;const fd=[];function Yp(){fd.push(It),It=!1}function Wp(){const e=fd.pop();It=e===void 0?!0:e}function rc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Re;Re=void 0;try{t()}finally{Re=n}}}let sa=0;class Ro{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0}track(t){if(!Re||!It)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink={dep:this,sub:Re,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,Re.flags&4&&gd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=r)}return n}trigger(t){this.version++,sa++,this.notify(t)}notify(t){Co();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Eo()}}}function gd(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)gd(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const zi=new WeakMap,Ln=Symbol(""),Bi=Symbol(""),ia=Symbol("");function ft(e,t,n){if(It&&Re){let r=zi.get(e);r||zi.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=new Ro),a.track()}}function xn(e,t,n,r,a,i){const o=zi.get(e);if(!o){sa++;return}let c=[];if(t==="clear")c=[...o.values()];else{const l=ea(e),u=l&&So(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,d)=>{(d==="length"||d===ia||!ma(d)&&d>=h)&&c.push(f)})}else{const h=f=>f&&c.push(f);switch(n!==void 0&&h(o.get(n)),u&&h(o.get(ia)),t){case"add":l?u&&h(o.get("length")):(h(o.get(Ln)),Za(e)&&h(o.get(Bi)));break;case"delete":l||(h(o.get(Ln)),Za(e)&&h(o.get(Bi)));break;case"set":Za(e)&&h(o.get(Ln));break}}}Co();for(const l of c)l.trigger();Eo()}function er(e){const t=Se(e);return t===e?t:(ft(t,"iterate",ia),Lt(e)?t:t.map(ut))}function Io(e){return ft(e=Se(e),"iterate",ia),e}const Gp={__proto__:null,[Symbol.iterator](){return hi(this,Symbol.iterator,ut)},concat(...e){return er(this).concat(...e.map(t=>er(t)))},entries(){return hi(this,"entries",e=>(e[1]=ut(e[1]),e))},every(e,t){return Wt(this,"every",e,t)},filter(e,t){return Wt(this,"filter",e,t,n=>n.map(ut))},find(e,t){return Wt(this,"find",e,t,ut)},findIndex(e,t){return Wt(this,"findIndex",e,t)},findLast(e,t){return Wt(this,"findLast",e,t,ut)},findLastIndex(e,t){return Wt(this,"findLastIndex",e,t)},forEach(e,t){return Wt(this,"forEach",e,t)},includes(...e){return fi(this,"includes",e)},indexOf(...e){return fi(this,"indexOf",e)},join(e){return er(this).join(e)},lastIndexOf(...e){return fi(this,"lastIndexOf",e)},map(e,t){return Wt(this,"map",e,t)},pop(){return $r(this,"pop")},push(...e){return $r(this,"push",e)},reduce(e,...t){return ac(this,"reduce",e,t)},reduceRight(e,...t){return ac(this,"reduceRight",e,t)},shift(){return $r(this,"shift")},some(e,t){return Wt(this,"some",e,t)},splice(...e){return $r(this,"splice",e)},toReversed(){return er(this).toReversed()},toSorted(e){return er(this).toSorted(e)},toSpliced(...e){return er(this).toSpliced(...e)},unshift(...e){return $r(this,"unshift",e)},values(){return hi(this,"values",ut)}};function hi(e,t,n){const r=Io(e),a=r[t]();return r!==e&&!Lt(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}function Wt(e,t,n,r,a){const i=Io(e);let o=!1,c=n;i!==e&&(o=!Lt(e),o?c=function(u,h){return n.call(this,ut(u),h,e)}:n.length>2&&(c=function(u,h){return n.call(this,u,h,e)}));const l=i[t](c,r);return o&&a?a(l):l}function ac(e,t,n,r){const a=Io(e);let i=n;return a!==e&&(Lt(e)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,e)}):i=function(o,c,l){return n.call(this,o,ut(c),l,e)}),a[t](i,...r)}function fi(e,t,n){const r=Se(e);ft(r,"iterate",ia);const a=r[t](...n);return(a===-1||a===!1)&&gx(n[0])?(n[0]=Se(n[0]),r[t](...n)):a}function $r(e,t,n=[]){Yp(),Co();const r=Se(e)[t].apply(e,n);return Eo(),Wp(),r}const Jp=Mp("__proto__,__v_isRef,__isVue"),md=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ma));function Zp(e){ma(e)||(e=String(e));const t=Se(this);return ft(t,"has",e),t.hasOwnProperty(e)}class pd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?ux:bd:i?vd:yd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ea(t);if(!a){let l;if(o&&(l=Gp[n]))return l;if(n==="hasOwnProperty")return Zp}const c=Reflect.get(t,n,yn(t)?t:r);return(ma(n)?md.has(n):Jp(n))||(a||ft(t,"get",n),i)?c:yn(c)?o&&So(n)?c:c.value:$s(c)?a?wd(c):Po(c):c}}class xd extends pd{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=An(i);if(!Lt(r)&&!An(r)&&(i=Se(i),r=Se(r)),!ea(t)&&yn(i)&&!yn(r))return l?!1:(i.value=r,!0)}const o=ea(t)&&So(n)?Number(n)<t.length:Mi(t,n),c=Reflect.set(t,n,r,a);return t===Se(a)&&(o?vr(r,i)&&xn(t,"set",n,r):xn(t,"add",n,r)),c}deleteProperty(t,n){const r=Mi(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&xn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!ma(n)||!md.has(n))&&ft(t,"has",n),r}ownKeys(t){return ft(t,"iterate",ea(t)?"length":Ln),Reflect.ownKeys(t)}}class Qp extends pd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Xp=new xd,ex=new Qp,tx=new xd(!0),Lo=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function Fa(e,t,n=!1,r=!1){e=e.__v_raw;const a=Se(e),i=Se(t);n||(vr(t,i)&&ft(a,"get",t),ft(a,"get",i));const{has:o}=Fs(a),c=r?Lo:n?Oo:ut;if(o.call(a,t))return c(e.get(t));if(o.call(a,i))return c(e.get(i));e!==a&&e.get(t)}function Ma(e,t=!1){const n=this.__v_raw,r=Se(n),a=Se(e);return t||(vr(e,a)&&ft(r,"has",e),ft(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Ua(e,t=!1){return e=e.__v_raw,!t&&ft(Se(e),"iterate",Ln),Reflect.get(e,"size",e)}function sc(e,t=!1){!t&&!Lt(e)&&!An(e)&&(e=Se(e));const n=Se(this);return Fs(n).has.call(n,e)||(n.add(e),xn(n,"add",e,e)),this}function ic(e,t,n=!1){!n&&!Lt(t)&&!An(t)&&(t=Se(t));const r=Se(this),{has:a,get:i}=Fs(r);let o=a.call(r,e);o||(e=Se(e),o=a.call(r,e));const c=i.call(r,e);return r.set(e,t),o?vr(t,c)&&xn(r,"set",e,t):xn(r,"add",e,t),this}function oc(e){const t=Se(this),{has:n,get:r}=Fs(t);let a=n.call(t,e);a||(e=Se(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&xn(t,"delete",e,void 0),i}function lc(){const e=Se(this),t=e.size!==0,n=e.clear();return t&&xn(e,"clear",void 0,void 0),n}function za(e,t){return function(r,a){const i=this,o=i.__v_raw,c=Se(o),l=t?Lo:e?Oo:ut;return!e&&ft(c,"iterate",Ln),o.forEach((u,h)=>r.call(a,l(u),l(h),i))}}function Ba(e,t,n){return function(...r){const a=this.__v_raw,i=Se(a),o=Za(i),c=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...r),h=n?Lo:t?Oo:ut;return!t&&ft(i,"iterate",l?Bi:Ln),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:c?[h(f[0]),h(f[1])]:h(f),done:d}},[Symbol.iterator](){return this}}}}function on(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function nx(){const e={get(i){return Fa(this,i)},get size(){return Ua(this)},has:Ma,add:sc,set:ic,delete:oc,clear:lc,forEach:za(!1,!1)},t={get(i){return Fa(this,i,!1,!0)},get size(){return Ua(this)},has:Ma,add(i){return sc.call(this,i,!0)},set(i,o){return ic.call(this,i,o,!0)},delete:oc,clear:lc,forEach:za(!1,!0)},n={get(i){return Fa(this,i,!0)},get size(){return Ua(this,!0)},has(i){return Ma.call(this,i,!0)},add:on("add"),set:on("set"),delete:on("delete"),clear:on("clear"),forEach:za(!0,!1)},r={get(i){return Fa(this,i,!0,!0)},get size(){return Ua(this,!0)},has(i){return Ma.call(this,i,!0)},add:on("add"),set:on("set"),delete:on("delete"),clear:on("clear"),forEach:za(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ba(i,!1,!1),n[i]=Ba(i,!0,!1),t[i]=Ba(i,!1,!0),r[i]=Ba(i,!0,!0)}),[e,n,t,r]}const[rx,ax,sx,ix]=nx();function ko(e,t){const n=t?e?ix:sx:e?ax:rx;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Mi(n,a)&&a in r?n:r,a,i)}const ox={get:ko(!1,!1)},lx={get:ko(!1,!0)},cx={get:ko(!0,!1)},yd=new WeakMap,vd=new WeakMap,bd=new WeakMap,ux=new WeakMap;function dx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hx(e){return e.__v_skip||!Object.isExtensible(e)?0:dx(qp(e))}function Po(e){return An(e)?e:Ao(e,!1,Xp,ox,yd)}function fx(e){return Ao(e,!1,tx,lx,vd)}function wd(e){return Ao(e,!0,ex,cx,bd)}function Ao(e,t,n,r,a){if(!$s(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=hx(e);if(o===0)return e;const c=new Proxy(e,o===2?r:n);return a.set(e,c),c}function Xa(e){return An(e)?Xa(e.__v_raw):!!(e&&e.__v_isReactive)}function An(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function gx(e){return e?!!e.__v_raw:!1}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}const ut=e=>$s(e)?Po(e):e,Oo=e=>$s(e)?wd(e):e;function yn(e){return e?e.__v_isRef===!0:!1}function jd(e){return _d(e,!1)}function mx(e){return _d(e,!0)}function _d(e,t){return yn(e)?e:new px(e,t)}class px{constructor(t,n){this.dep=new Ro,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Se(t),this._value=n?t:ut(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Lt(t)||An(t);t=r?t:Se(t),vr(t,n)&&(this._rawValue=t,this._value=r?t:ut(t),this.dep.trigger())}}class xx{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ro(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sa-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){Re!==this&&(this.flags|=16,this.dep.notify())}get value(){const t=this.dep.track();return hd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yx(e,t,n=!1){let r,a;return zp(e)?r=e:(r=e.get,a=e.set),new xx(r,a,n)}const vx={SKIP:"__v_skip",IS_REACTIVE:"__v_isReactive",IS_READONLY:"__v_isReadonly",IS_SHALLOW:"__v_isShallow",RAW:"__v_raw",IS_REF:"__v_isRef"};/*!
 * veact v1.0.0-beta.1
 * https://github.com/veactjs/veact
 *
 * Includes @vue/reactivity
 * https://github.com/vuejs/core/tree/main/packages/reactivity
 *
 * (c) 2021-present Surmon and Veact contributors.
 * Released under the MIT License.
 *
 * Date: 2024-08-14T18:49:27.186Z
 */function Ce(e){b.useEffect(()=>{e()},[])}function Do(e){b.useEffect(()=>()=>{e()},[])}const bx=e=>e+1,pa=()=>b.useReducer(bx,0)[1],cc=(e,t)=>e!==t&&(e===e||t===t),No=Array.isArray,wx=Object.prototype.toString,$o=e=>wx.call(e),jx=e=>$o(e)==="[object Map]",_x=e=>$o(e)==="[object Set]",oa=e=>typeof e=="function",Sd=e=>e!==null&&typeof e=="object",Sx=e=>$o(e)==="[object Object]",Cx=e=>Sd(e)&&oa(e.then)&&oa(e.catch),gi="veact",Fo={...console,log(...e){console.log(`[${gi}]`,...e)},warn(...e){console.warn(`[${gi}]`,...e)},error(...e){console.error(`[${gi}]`,...e)}},Ex=()=>{},uc="watcher getter",Tx="watcher cleanup function",Rx="watcher callback";function es(e,t,n){try{return n?e(...n):e()}catch(r){Fo.error(r,t)}}function Cd(e,t,n){if(oa(e)){const r=es(e,t,n);return r&&Cx(r)&&r.catch(a=>{Fo.error(a,t)}),r}if(No(e)){const r=[];for(let a=0;a<e.length;a++)r.push(Cd(e[a],t,n));return r}}function hn(e,t=1/0,n){if(t<=0||!Sd(e)||e[vx.SKIP]||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,yn(e))hn(e.value,t,n);else if(No(e))for(let r=0;r<e.length;r++)hn(e[r],t,n);else if(_x(e)||jx(e))e.forEach(r=>{hn(r,t,n)});else if(Sx(e)){for(const r in e)hn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&hn(e[r],t,n)}return e}const Ha={},dc=e=>{Fo.warn("Invalid watch source: ",e,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")};function Ix(e,t,n={}){const{immediate:r,deep:a,once:i,onTrack:o,onTrigger:c}=n,l=S=>a?S:Lt(S)||a===!1||a===0?hn(S,1):hn(S);let u,h,f=!1,d=!1,p;if(i){const S=t;t=(...w)=>{S(...w),u()}}if(yn(e)?(h=()=>e.value,f=Lt(e)):Xa(e)?(h=()=>l(e),f=!0):No(e)?(d=!0,f=e.some(S=>Xa(S)||Lt(S)),h=()=>e.map(S=>{if(yn(S))return S.value;if(Xa(S))return l(S);if(oa(S))return es(S,uc);dc(S)})):oa(e)?h=()=>es(e,uc):(h=Ex,dc(e)),a){const S=h,w=a===!0?1/0:a;h=()=>hn(S(),w)}let g,x=S=>{g=p.onStop=()=>{es(S,Tx),g=p.onStop=void 0}},m=d?new Array(e.length).fill(Ha):Ha;const C=S=>{if(!(p.flags&nc.ACTIVE)||!p.dirty&&!S)return;const w=p.run();(a||f||(d?w.some((j,T)=>cc(j,m[T])):cc(w,m)))&&(g==null||g(),Cd(t,Rx,[w,m===Ha?void 0:d&&m[0]===Ha?[]:m,x]),m=w)};return p=new Vp(h),p.flags|=nc.NO_BATCH,p.scheduler=C,p.onTrack=o,p.onTrigger=c,u=()=>{p.stop()},u.pause=p.pause.bind(p),u.resume=p.resume.bind(p),u.stop=u,r?C(!0):m=p.run(),u}const Ct=(e,t,n={})=>{const[r]=b.useState(()=>Ix(e,t,n));return Do(()=>r.stop()),r};function X(e){const[t]=b.useState(()=>jd(e)),n=pa();return Ct(t,n,{deep:!0}),t}function Pt(e){const[t]=b.useState(()=>mx(e)),n=pa();return Ct(t,n),t}function Lx(e){const[t]=b.useState(()=>Po(e)),n=pa();return Ct(t,n),t}function en(e){const[t]=b.useState(()=>fx(e)),n=pa();return Ct(t,n),t}function At(e,t){const[n]=b.useState(()=>yx(e)),r=pa();return Ct(n,r),n}/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}var Ne;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ne||(Ne={}));const hc="popstate";function kx(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:c}=r.location;return hr("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:vn(a)}return Ed(t,n,null,e)}function Px(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:c="",hash:l=""}=tn(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),hr("",{pathname:o,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");c=u===-1?l:l.slice(0,u)}return c+"#"+(typeof i=="string"?i:vn(i))}function r(a,i){On(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ed(t,n,r,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ax(){return Math.random().toString(36).substr(2,8)}function fc(e,t){return{usr:e.state,key:e.key,idx:t}}function hr(e,t,n,r){return n===void 0&&(n=null),ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tn(t):t,{state:n,key:t&&t.key||r||Ax()})}function vn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ed(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c=Ne.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(ke({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){c=Ne.Pop;let m=h(),C=m==null?null:m-u;u=m,l&&l({action:c,location:x.location,delta:C})}function d(m,C){c=Ne.Push;let S=hr(x.location,m,C);n&&n(S,m),u=h()+1;let w=fc(S,u),j=x.createHref(S);try{o.pushState(w,"",j)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(j)}i&&l&&l({action:c,location:x.location,delta:1})}function p(m,C){c=Ne.Replace;let S=hr(x.location,m,C);n&&n(S,m),u=h();let w=fc(S,u),j=x.createHref(S);o.replaceState(w,"",j),i&&l&&l({action:c,location:x.location,delta:0})}function g(m){let C=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof m=="string"?m:vn(m);return S=S.replace(/ $/,"%20"),se(C,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,C)}let x={get action(){return c},get location(){return e(a,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hc,f),l=m,()=>{a.removeEventListener(hc,f),l=null}},createHref(m){return t(a,m)},createURL:g,encodeLocation(m){let C=g(m);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:d,replace:p,go(m){return o.go(m)}};return x}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));const Ox=new Set(["lazy","caseSensitive","path","id","index","children"]);function Dx(e){return e.index===!0}function la(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...n,String(i)],c=typeof a.id=="string"?a.id:o.join("-");if(se(a.index!==!0||!a.children,"Cannot specify children on an index route"),se(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),Dx(a)){let l=ke({},a,t(a),{id:c});return r[c]=l,l}else{let l=ke({},a,t(a),{id:c,children:void 0});return r[c]=l,a.children&&(l.children=la(a.children,t,o,r)),l}})}function Cn(e,t,n){return n===void 0&&(n="/"),ts(e,t,n,!1)}function ts(e,t,n,r){let a=typeof t=="string"?tn(t):t,i=br(a.pathname||"/",n);if(i==null)return null;let o=Td(e);$x(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=Wx(i);c=Kx(o[l],u,r)}return c}function Nx(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zt([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Td(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:qx(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of Rd(i.path))a(i,o,l)}),t}function Rd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Rd(r.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function $x(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fx=/^:[\w-]+$/,Mx=3,Ux=2,zx=1,Bx=10,Hx=-2,gc=e=>e==="*";function qx(e,t){let n=e.split("/"),r=n.length;return n.some(gc)&&(r+=Hx),t&&(r+=Ux),n.filter(a=>!gc(a)).reduce((a,i)=>a+(Fx.test(i)?Mx:i===""?zx:Bx),r)}function Vx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Kx(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let c=0;c<r.length;++c){let l=r[c],u=c===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Hi({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Hi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Zt([i,f.pathname]),pathnameBase:Zx(Zt([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Zt([i,f.pathnameBase]))}return o}function Hi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Yx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:p}=h;if(d==="*"){let x=c[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=c[f];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Yx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Wx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function br(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Gx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?tn(e):e;return{pathname:n?n.startsWith("/")?n:Jx(n,t):t,search:Qx(r),hash:Xx(a)}}function Jx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Id(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ms(e,t){let n=Id(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Us(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=tn(e):(a=ke({},e),se(!a.pathname||!a.pathname.includes("?"),mi("?","pathname","search",a)),se(!a.pathname||!a.pathname.includes("#"),mi("#","pathname","hash",a)),se(!a.search||!a.search.includes("#"),mi("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}c=f>=0?t[f]:"/"}let l=Gx(a,c),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),Zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class xs{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zs(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ld=["post","put","patch","delete"],ey=new Set(Ld),ty=["get",...Ld],ny=new Set(ty),ry=new Set([301,302,303,307,308]),ay=new Set([307,308]),pi={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sy={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iy=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),kd="remix-router-transitions";function Pd(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let v=e.detectErrorBoundary;a=_=>({hasErrorBoundary:v(_)})}else a=iy;let i={},o=la(e.routes,a,void 0,i),c,l=e.basename||"/",u=e.unstable_dataStrategy||dy,h=e.unstable_patchRoutesOnMiss,f=ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,p=new Set,g=null,x=null,m=null,C=e.hydrationData!=null,S=Cn(o,e.history.location,l),w=null;if(S==null&&!h){let v=st(404,{pathname:e.history.location.pathname}),{matches:_,route:I}=Sc(o);S=_,w={[I.id]:v}}S&&!e.hydrationData&&Pa(S,o,e.history.location.pathname).active&&(S=null);let j;if(S)if(S.some(v=>v.route.lazy))j=!1;else if(!S.some(v=>v.route.loader))j=!0;else if(f.v7_partialHydration){let v=e.hydrationData?e.hydrationData.loaderData:null,_=e.hydrationData?e.hydrationData.errors:null,I=A=>A.route.loader?typeof A.route.loader=="function"&&A.route.loader.hydrate===!0?!1:v&&v[A.route.id]!==void 0||_&&_[A.route.id]!==void 0:!0;if(_){let A=S.findIndex(U=>_[U.route.id]!==void 0);j=S.slice(0,A+1).every(I)}else j=S.every(I)}else j=e.hydrationData!=null;else if(j=!1,S=[],f.v7_partialHydration){let v=Pa(null,o,e.history.location.pathname);v.active&&v.matches&&(S=v.matches)}let T,y={historyAction:e.history.action,location:e.history.location,matches:S,initialized:j,navigation:pi,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L=Ne.Pop,E=!1,R,D=!1,$=new Map,z=null,Z=!1,B=!1,oe=[],ge=new Set,Y=new Map,xe=0,Ae=-1,Ue=new Map,ze=new Set,nt=new Map,wt=new Map,ct=new Set,rt=new Map,Qe=new Map,Dt=new Map,Vt=!1;function Kt(){if(d=e.history.listen(v=>{let{action:_,location:I,delta:A}=v;if(Vt){Vt=!1;return}On(Qe.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Tl({currentLocation:y.location,nextLocation:I,historyAction:_});if(U&&A!=null){Vt=!0,e.history.go(A*-1),La(U,{state:"blocked",location:I,proceed(){La(U,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),e.history.go(A)},reset(){let H=new Map(y.blockers);H.set(U,Fr),Ee({blockers:H})}});return}return Te(_,I)}),n){Sy(t,$);let v=()=>Cy(t,$);t.addEventListener("pagehide",v),z=()=>t.removeEventListener("pagehide",v)}return y.initialized||Te(Ne.Pop,y.location,{initialHydration:!0}),T}function rn(){d&&d(),z&&z(),p.clear(),R&&R.abort(),y.fetchers.forEach((v,_)=>ce(_)),y.blockers.forEach((v,_)=>El(_))}function Kn(v){return p.add(v),()=>p.delete(v)}function Ee(v,_){_===void 0&&(_={}),y=ke({},y,v);let I=[],A=[];f.v7_fetcherPersist&&y.fetchers.forEach((U,H)=>{U.state==="idle"&&(ct.has(H)?A.push(H):I.push(H))}),[...p].forEach(U=>U(y,{deletedFetchers:A,unstable_viewTransitionOpts:_.viewTransitionOpts,unstable_flushSync:_.flushSync===!0})),f.v7_fetcherPersist&&(I.forEach(U=>y.fetchers.delete(U)),A.forEach(U=>ce(U)))}function gt(v,_,I){var A,U;let{flushSync:H}=I===void 0?{}:I,W=y.actionData!=null&&y.navigation.formMethod!=null&&Et(y.navigation.formMethod)&&y.navigation.state==="loading"&&((A=v.state)==null?void 0:A._isRedirect)!==!0,F;_.actionData?Object.keys(_.actionData).length>0?F=_.actionData:F=null:W?F=y.actionData:F=null;let re=_.loaderData?jc(y.loaderData,_.loaderData,_.matches||[],_.errors):y.loaderData,q=y.blockers;q.size>0&&(q=new Map(q),q.forEach((ye,_e)=>q.set(_e,Fr)));let V=E===!0||y.navigation.formMethod!=null&&Et(y.navigation.formMethod)&&((U=v.state)==null?void 0:U._isRedirect)!==!0;c&&(o=c,c=void 0),Z||L===Ne.Pop||(L===Ne.Push?e.history.push(v,v.state):L===Ne.Replace&&e.history.replace(v,v.state));let be;if(L===Ne.Pop){let ye=$.get(y.location.pathname);ye&&ye.has(v.pathname)?be={currentLocation:y.location,nextLocation:v}:$.has(v.pathname)&&(be={currentLocation:v,nextLocation:y.location})}else if(D){let ye=$.get(y.location.pathname);ye?ye.add(v.pathname):(ye=new Set([v.pathname]),$.set(y.location.pathname,ye)),be={currentLocation:y.location,nextLocation:v}}Ee(ke({},_,{actionData:F,loaderData:re,historyAction:L,location:v,initialized:!0,navigation:pi,revalidation:"idle",restoreScrollPosition:Il(v,_.matches||y.matches),preventScrollReset:V,blockers:q}),{viewTransitionOpts:be,flushSync:H===!0}),L=Ne.Pop,E=!1,D=!1,Z=!1,B=!1,oe=[]}async function at(v,_){if(typeof v=="number"){e.history.go(v);return}let I=qi(y.location,y.matches,l,f.v7_prependBasename,v,f.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:A,submission:U,error:H}=mc(f.v7_normalizeFormMethod,!1,I,_),W=y.location,F=hr(y.location,A,_&&_.state);F=ke({},F,e.history.encodeLocation(F));let re=_&&_.replace!=null?_.replace:void 0,q=Ne.Push;re===!0?q=Ne.Replace:re===!1||U!=null&&Et(U.formMethod)&&U.formAction===y.location.pathname+y.location.search&&(q=Ne.Replace);let V=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,be=(_&&_.unstable_flushSync)===!0,ye=Tl({currentLocation:W,nextLocation:F,historyAction:q});if(ye){La(ye,{state:"blocked",location:F,proceed(){La(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),at(v,_)},reset(){let _e=new Map(y.blockers);_e.set(ye,Fr),Ee({blockers:_e})}});return}return await Te(q,F,{submission:U,pendingError:H,preventScrollReset:V,replace:_&&_.replace,enableViewTransition:_&&_.unstable_viewTransition,flushSync:be})}function We(){if(Q(),Ee({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Te(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Te(L||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Te(v,_,I){R&&R.abort(),R=null,L=v,Z=(I&&I.startUninterruptedRevalidation)===!0,Hf(y.location,y.matches),E=(I&&I.preventScrollReset)===!0,D=(I&&I.enableViewTransition)===!0;let A=c||o,U=I&&I.overrideNavigation,H=Cn(A,_,l),W=(I&&I.flushSync)===!0,F=Pa(H,A,_.pathname);if(F.active&&F.matches&&(H=F.matches),!H){let{error:me,notFoundMatches:Ge,route:Oe}=ri(_.pathname);gt(_,{matches:Ge,loaderData:{},errors:{[Oe.id]:me}},{flushSync:W});return}if(y.initialized&&!B&&xy(y.location,_)&&!(I&&I.submission&&Et(I.submission.formMethod))){gt(_,{matches:H},{flushSync:W});return}R=new AbortController;let re=tr(e.history,_,R.signal,I&&I.submission),q;if(I&&I.pendingError)q=[ir(H).route.id,{type:we.error,error:I.pendingError}];else if(I&&I.submission&&Et(I.submission.formMethod)){let me=await jt(re,_,I.submission,H,F.active,{replace:I.replace,flushSync:W});if(me.shortCircuited)return;if(me.pendingActionResult){let[Ge,Oe]=me.pendingActionResult;if(vt(Oe)&&zs(Oe.error)&&Oe.error.status===404){R=null,gt(_,{matches:me.matches,loaderData:{},errors:{[Ge]:Oe.error}});return}}H=me.matches||H,q=me.pendingActionResult,U=xi(_,I.submission),W=!1,F.active=!1,re=tr(e.history,re.url,re.signal)}let{shortCircuited:V,matches:be,loaderData:ye,errors:_e}=await kr(re,_,H,F.active,U,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,W,q);V||(R=null,gt(_,ke({matches:be||H},_c(q),{loaderData:ye,errors:_e})))}async function jt(v,_,I,A,U,H){H===void 0&&(H={}),Q();let W=jy(_,I);if(Ee({navigation:W},{flushSync:H.flushSync===!0}),U){let q=await Aa(A,_.pathname,v.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let{boundaryId:V,error:be}=ka(_.pathname,q);return{matches:q.partialMatches,pendingActionResult:[V,{type:we.error,error:be}]}}else if(q.matches)A=q.matches;else{let{notFoundMatches:V,error:be,route:ye}=ri(_.pathname);return{matches:V,pendingActionResult:[ye.id,{type:we.error,error:be}]}}}let F,re=Wr(A,_);if(!re.route.action&&!re.route.lazy)F={type:we.error,error:st(405,{method:v.method,pathname:_.pathname,routeId:re.route.id})};else if(F=(await ne("action",v,[re],A))[0],v.signal.aborted)return{shortCircuited:!0};if(Tn(F)){let q;return H&&H.replace!=null?q=H.replace:q=vc(F.response.headers.get("Location"),new URL(v.url),l)===y.location.pathname+y.location.search,await Nt(v,F,{submission:I,replace:q}),{shortCircuited:!0}}if(En(F))throw st(400,{type:"defer-action"});if(vt(F)){let q=ir(A,re.route.id);return(H&&H.replace)!==!0&&(L=Ne.Push),{matches:A,pendingActionResult:[q.route.id,F]}}return{matches:A,pendingActionResult:[re.route.id,F]}}async function kr(v,_,I,A,U,H,W,F,re,q,V){let be=U||xi(_,H),ye=H||W||Rc(be),_e=!Z&&(!f.v7_partialHydration||!re);if(A){if(_e){let Pe=Ta(V);Ee(ke({navigation:be},Pe!==void 0?{actionData:Pe}:{}),{flushSync:q})}let ae=await Aa(I,_.pathname,v.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:Pe,error:xt}=ka(_.pathname,ae);return{matches:ae.partialMatches,loaderData:{},errors:{[Pe]:xt}}}else if(ae.matches)I=ae.matches;else{let{error:Pe,notFoundMatches:xt,route:Le}=ri(_.pathname);return{matches:xt,loaderData:{},errors:{[Le.id]:Pe}}}}let me=c||o,[Ge,Oe]=pc(e.history,y,I,ye,_,f.v7_partialHydration&&re===!0,f.v7_skipActionErrorRevalidation,B,oe,ge,ct,nt,ze,me,l,V);if(ai(ae=>!(I&&I.some(Pe=>Pe.route.id===ae))||Ge&&Ge.some(Pe=>Pe.route.id===ae)),Ae=++xe,Ge.length===0&&Oe.length===0){let ae=Pr();return gt(_,ke({matches:I,loaderData:{},errors:V&&vt(V[1])?{[V[0]]:V[1].error}:null},_c(V),ae?{fetchers:new Map(y.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(_e){let ae={};if(!A){ae.navigation=be;let Pe=Ta(V);Pe!==void 0&&(ae.actionData=Pe)}Oe.length>0&&(ae.fetchers=Ra(Oe)),Ee(ae,{flushSync:q})}Oe.forEach(ae=>{Y.has(ae.key)&&He(ae.key),ae.controller&&Y.set(ae.key,ae.controller)});let Ar=()=>Oe.forEach(ae=>He(ae.key));R&&R.signal.addEventListener("abort",Ar);let{loaderResults:sn,fetcherResults:Wn}=await fe(y.matches,I,Ge,Oe,v);if(v.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Ar),Oe.forEach(ae=>Y.delete(ae.key));let Gn=Cc([...sn,...Wn]);if(Gn){if(Gn.idx>=Ge.length){let ae=Oe[Gn.idx-Ge.length].key;ze.add(ae)}return await Nt(v,Gn.result,{replace:F}),{shortCircuited:!0}}let{loaderData:Jn,errors:$t}=wc(y,I,Ge,sn,V,Oe,Wn,rt);rt.forEach((ae,Pe)=>{ae.subscribe(xt=>{(xt||ae.done)&&rt.delete(Pe)})}),f.v7_partialHydration&&re&&y.errors&&Object.entries(y.errors).filter(ae=>{let[Pe]=ae;return!Ge.some(xt=>xt.route.id===Pe)}).forEach(ae=>{let[Pe,xt]=ae;$t=Object.assign($t||{},{[Pe]:xt})});let Oa=Pr(),Da=Cl(Ae),Na=Oa||Da||Oe.length>0;return ke({matches:I,loaderData:Jn,errors:$t},Na?{fetchers:new Map(y.fetchers)}:{})}function Ta(v){if(v&&!vt(v[1]))return{[v[0]]:v[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Ra(v){return v.forEach(_=>{let I=y.fetchers.get(_.key),A=Mr(void 0,I?I.data:void 0);y.fetchers.set(_.key,A)}),new Map(y.fetchers)}function Ia(v,_,I,A){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Y.has(v)&&He(v);let U=(A&&A.unstable_flushSync)===!0,H=c||o,W=qi(y.location,y.matches,l,f.v7_prependBasename,I,f.v7_relativeSplatPath,_,A==null?void 0:A.relative),F=Cn(H,W,l),re=Pa(F,H,W);if(re.active&&re.matches&&(F=re.matches),!F){Be(v,_,st(404,{pathname:W}),{flushSync:U});return}let{path:q,submission:V,error:be}=mc(f.v7_normalizeFormMethod,!0,W,A);if(be){Be(v,_,be,{flushSync:U});return}let ye=Wr(F,q);if(E=(A&&A.preventScrollReset)===!0,V&&Et(V.formMethod)){mt(v,_,q,ye,F,re.active,U,V);return}nt.set(v,{routeId:_,path:q}),an(v,_,q,ye,F,re.active,U,V)}async function mt(v,_,I,A,U,H,W,F){Q(),nt.delete(v);function re(Le){if(!Le.route.action&&!Le.route.lazy){let Yt=st(405,{method:F.formMethod,pathname:I,routeId:_});return Be(v,_,Yt,{flushSync:W}),!0}return!1}if(!H&&re(A))return;let q=y.fetchers.get(v);le(v,_y(F,q),{flushSync:W});let V=new AbortController,be=tr(e.history,I,V.signal,F);if(H){let Le=await Aa(U,I,be.signal);if(Le.type==="aborted")return;if(Le.type==="error"){let{error:Yt}=ka(I,Le);Be(v,_,Yt,{flushSync:W});return}else if(Le.matches){if(U=Le.matches,A=Wr(U,I),re(A))return}else{Be(v,_,st(404,{pathname:I}),{flushSync:W});return}}Y.set(v,V);let ye=xe,me=(await ne("action",be,[A],U))[0];if(be.signal.aborted){Y.get(v)===V&&Y.delete(v);return}if(f.v7_fetcherPersist&&ct.has(v)){if(Tn(me)||vt(me)){le(v,un(void 0));return}}else{if(Tn(me))if(Y.delete(v),Ae>ye){le(v,un(void 0));return}else return ze.add(v),le(v,Mr(F)),Nt(be,me,{fetcherSubmission:F});if(vt(me)){Be(v,_,me.error);return}}if(En(me))throw st(400,{type:"defer-action"});let Ge=y.navigation.location||y.location,Oe=tr(e.history,Ge,V.signal),Ar=c||o,sn=y.navigation.state!=="idle"?Cn(Ar,y.navigation.location,l):y.matches;se(sn,"Didn't find any matches after fetcher action");let Wn=++xe;Ue.set(v,Wn);let Gn=Mr(F,me.data);y.fetchers.set(v,Gn);let[Jn,$t]=pc(e.history,y,sn,F,Ge,!1,f.v7_skipActionErrorRevalidation,B,oe,ge,ct,nt,ze,Ar,l,[A.route.id,me]);$t.filter(Le=>Le.key!==v).forEach(Le=>{let Yt=Le.key,Ll=y.fetchers.get(Yt),Kf=Mr(void 0,Ll?Ll.data:void 0);y.fetchers.set(Yt,Kf),Y.has(Yt)&&He(Yt),Le.controller&&Y.set(Yt,Le.controller)}),Ee({fetchers:new Map(y.fetchers)});let Oa=()=>$t.forEach(Le=>He(Le.key));V.signal.addEventListener("abort",Oa);let{loaderResults:Da,fetcherResults:Na}=await fe(y.matches,sn,Jn,$t,Oe);if(V.signal.aborted)return;V.signal.removeEventListener("abort",Oa),Ue.delete(v),Y.delete(v),$t.forEach(Le=>Y.delete(Le.key));let ae=Cc([...Da,...Na]);if(ae){if(ae.idx>=Jn.length){let Le=$t[ae.idx-Jn.length].key;ze.add(Le)}return Nt(Oe,ae.result)}let{loaderData:Pe,errors:xt}=wc(y,y.matches,Jn,Da,void 0,$t,Na,rt);if(y.fetchers.has(v)){let Le=un(me.data);y.fetchers.set(v,Le)}Cl(Wn),y.navigation.state==="loading"&&Wn>Ae?(se(L,"Expected pending action"),R&&R.abort(),gt(y.navigation.location,{matches:sn,loaderData:Pe,errors:xt,fetchers:new Map(y.fetchers)})):(Ee({errors:xt,loaderData:jc(y.loaderData,Pe,sn,xt),fetchers:new Map(y.fetchers)}),B=!1)}async function an(v,_,I,A,U,H,W,F){let re=y.fetchers.get(v);le(v,Mr(F,re?re.data:void 0),{flushSync:W});let q=new AbortController,V=tr(e.history,I,q.signal);if(H){let me=await Aa(U,I,V.signal);if(me.type==="aborted")return;if(me.type==="error"){let{error:Ge}=ka(I,me);Be(v,_,Ge,{flushSync:W});return}else if(me.matches)U=me.matches,A=Wr(U,I);else{Be(v,_,st(404,{pathname:I}),{flushSync:W});return}}Y.set(v,q);let be=xe,_e=(await ne("loader",V,[A],U))[0];if(En(_e)&&(_e=await $d(_e,V.signal,!0)||_e),Y.get(v)===q&&Y.delete(v),!V.signal.aborted){if(ct.has(v)){le(v,un(void 0));return}if(Tn(_e))if(Ae>be){le(v,un(void 0));return}else{ze.add(v),await Nt(V,_e);return}if(vt(_e)){Be(v,_,_e.error);return}se(!En(_e),"Unhandled fetcher deferred data"),le(v,un(_e.data))}}async function Nt(v,_,I){let{submission:A,fetcherSubmission:U,replace:H}=I===void 0?{}:I;_.response.headers.has("X-Remix-Revalidate")&&(B=!0);let W=_.response.headers.get("Location");se(W,"Expected a Location header on the redirect Response"),W=vc(W,new URL(v.url),l);let F=hr(y.location,W,{_isRedirect:!0});if(n){let _e=!1;if(_.response.headers.has("X-Remix-Reload-Document"))_e=!0;else if(Mo.test(W)){const me=e.history.createURL(W);_e=me.origin!==t.location.origin||br(me.pathname,l)==null}if(_e){H?t.location.replace(W):t.location.assign(W);return}}R=null;let re=H===!0||_.response.headers.has("X-Remix-Replace")?Ne.Replace:Ne.Push,{formMethod:q,formAction:V,formEncType:be}=y.navigation;!A&&!U&&q&&V&&be&&(A=Rc(y.navigation));let ye=A||U;if(ay.has(_.response.status)&&ye&&Et(ye.formMethod))await Te(re,F,{submission:ke({},ye,{formAction:W}),preventScrollReset:E});else{let _e=xi(F,A);await Te(re,F,{overrideNavigation:_e,fetcherSubmission:U,preventScrollReset:E})}}async function ne(v,_,I,A){try{let U=await hy(u,v,_,I,A,i,a);return await Promise.all(U.map((H,W)=>{if(vy(H)){let F=H.result;return{type:we.redirect,response:my(F,_,I[W].route.id,A,l,f.v7_relativeSplatPath)}}return gy(H)}))}catch(U){return I.map(()=>({type:we.error,error:U}))}}async function fe(v,_,I,A,U){let[H,...W]=await Promise.all([I.length?ne("loader",U,I,_):[],...A.map(F=>{if(F.matches&&F.match&&F.controller){let re=tr(e.history,F.path,F.controller.signal);return ne("loader",re,[F.match],F.matches).then(q=>q[0])}else return Promise.resolve({type:we.error,error:st(404,{pathname:F.path})})})]);return await Promise.all([Tc(v,I,H,H.map(()=>U.signal),!1,y.loaderData),Tc(v,A.map(F=>F.match),W,A.map(F=>F.controller?F.controller.signal:null),!0)]),{loaderResults:H,fetcherResults:W}}function Q(){B=!0,oe.push(...ai()),nt.forEach((v,_)=>{Y.has(_)&&(ge.add(_),He(_))})}function le(v,_,I){I===void 0&&(I={}),y.fetchers.set(v,_),Ee({fetchers:new Map(y.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Be(v,_,I,A){A===void 0&&(A={});let U=ir(y.matches,_);ce(v),Ee({errors:{[U.route.id]:I},fetchers:new Map(y.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function pt(v){return f.v7_fetcherPersist&&(wt.set(v,(wt.get(v)||0)+1),ct.has(v)&&ct.delete(v)),y.fetchers.get(v)||sy}function ce(v){let _=y.fetchers.get(v);Y.has(v)&&!(_&&_.state==="loading"&&Ue.has(v))&&He(v),nt.delete(v),Ue.delete(v),ze.delete(v),ct.delete(v),ge.delete(v),y.fetchers.delete(v)}function G(v){if(f.v7_fetcherPersist){let _=(wt.get(v)||0)-1;_<=0?(wt.delete(v),ct.add(v)):wt.set(v,_)}else ce(v);Ee({fetchers:new Map(y.fetchers)})}function He(v){let _=Y.get(v);se(_,"Expected fetch controller: "+v),_.abort(),Y.delete(v)}function Yn(v){for(let _ of v){let I=pt(_),A=un(I.data);y.fetchers.set(_,A)}}function Pr(){let v=[],_=!1;for(let I of ze){let A=y.fetchers.get(I);se(A,"Expected fetcher: "+I),A.state==="loading"&&(ze.delete(I),v.push(I),_=!0)}return Yn(v),_}function Cl(v){let _=[];for(let[I,A]of Ue)if(A<v){let U=y.fetchers.get(I);se(U,"Expected fetcher: "+I),U.state==="loading"&&(He(I),Ue.delete(I),_.push(I))}return Yn(_),_.length>0}function zf(v,_){let I=y.blockers.get(v)||Fr;return Qe.get(v)!==_&&Qe.set(v,_),I}function El(v){y.blockers.delete(v),Qe.delete(v)}function La(v,_){let I=y.blockers.get(v)||Fr;se(I.state==="unblocked"&&_.state==="blocked"||I.state==="blocked"&&_.state==="blocked"||I.state==="blocked"&&_.state==="proceeding"||I.state==="blocked"&&_.state==="unblocked"||I.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+_.state);let A=new Map(y.blockers);A.set(v,_),Ee({blockers:A})}function Tl(v){let{currentLocation:_,nextLocation:I,historyAction:A}=v;if(Qe.size===0)return;Qe.size>1&&On(!1,"A router only supports one blocker at a time");let U=Array.from(Qe.entries()),[H,W]=U[U.length-1],F=y.blockers.get(H);if(!(F&&F.state==="proceeding")&&W({currentLocation:_,nextLocation:I,historyAction:A}))return H}function ri(v){let _=st(404,{pathname:v}),I=c||o,{matches:A,route:U}=Sc(I);return ai(),{notFoundMatches:A,route:U,error:_}}function ka(v,_){return{boundaryId:ir(_.partialMatches).route.id,error:st(400,{type:"route-discovery",pathname:v,message:_.error!=null&&"message"in _.error?_.error:String(_.error)})}}function ai(v){let _=[];return rt.forEach((I,A)=>{(!v||v(A))&&(I.cancel(),_.push(A),rt.delete(A))}),_}function Bf(v,_,I){if(g=v,m=_,x=I||null,!C&&y.navigation===pi){C=!0;let A=Il(y.location,y.matches);A!=null&&Ee({restoreScrollPosition:A})}return()=>{g=null,m=null,x=null}}function Rl(v,_){return x&&x(v,_.map(A=>Nx(A,y.loaderData)))||v.key}function Hf(v,_){if(g&&m){let I=Rl(v,_);g[I]=m()}}function Il(v,_){if(g){let I=Rl(v,_),A=g[I];if(typeof A=="number")return A}return null}function Pa(v,_,I){if(h)if(v){let A=v[v.length-1].route;if(A.path&&(A.path==="*"||A.path.endsWith("/*")))return{active:!0,matches:ts(_,I,l,!0)}}else return{active:!0,matches:ts(_,I,l,!0)||[]};return{active:!1,matches:null}}async function Aa(v,_,I){let A=v,U=A.length>0?A[A.length-1].route:null;for(;;){let H=c==null,W=c||o;try{await uy(h,_,A,W,i,a,Dt,I)}catch(V){return{type:"error",error:V,partialMatches:A}}finally{H&&(o=[...o])}if(I.aborted)return{type:"aborted"};let F=Cn(W,_,l),re=!1;if(F){let V=F[F.length-1].route;if(V.index)return{type:"success",matches:F};if(V.path&&V.path.length>0)if(V.path==="*")re=!0;else return{type:"success",matches:F}}let q=ts(W,_,l,!0);if(!q||A.map(V=>V.route.id).join("-")===q.map(V=>V.route.id).join("-"))return{type:"success",matches:re?F:null};if(A=q,U=A[A.length-1].route,U.path==="*")return{type:"success",matches:A}}}function qf(v){i={},c=la(v,a,void 0,i)}function Vf(v,_){let I=c==null;Od(v,_,c||o,i,a),I&&(o=[...o],Ee({}))}return T={get basename(){return l},get future(){return f},get state(){return y},get routes(){return o},get window(){return t},initialize:Kt,subscribe:Kn,enableScrollRestoration:Bf,navigate:at,fetch:Ia,revalidate:We,createHref:v=>e.history.createHref(v),encodeLocation:v=>e.history.encodeLocation(v),getFetcher:pt,deleteFetcher:G,dispose:rn,getBlocker:zf,deleteBlocker:El,patchRoutes:Vf,_internalFetchControllers:Y,_internalActiveDeferreds:rt,_internalSetRoutes:qf},T}function oy(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function qi(e,t,n,r,a,i,o,c){let l,u;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){u=f;break}}else l=t,u=t[t.length-1];let h=Us(a||".",Ms(l,i),br(e.pathname,n)||e.pathname,c==="path");return a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&u&&u.route.index&&!Uo(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Zt([n,h.pathname])),vn(h)}function mc(e,t,n,r){if(!r||!oy(r))return{path:n};if(r.formMethod&&!wy(r.formMethod))return{path:n,error:st(405,{method:r.formMethod})};let a=()=>({path:n,error:st(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),c=Dd(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Et(o))return a();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[x,m]=g;return""+p+x+"="+m+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Et(o))return a();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return a()}}}se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Vi(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Vi(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=bc(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=bc(l)}catch{return a()}let h={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Et(h.formMethod))return{path:n,submission:h};let f=tn(n);return t&&f.search&&Uo(f.search)&&l.append("index",""),f.search="?"+l,{path:vn(f),submission:h}}function ly(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function pc(e,t,n,r,a,i,o,c,l,u,h,f,d,p,g,x){let m=x?vt(x[1])?x[1].error:x[1].data:void 0,C=e.createURL(t.location),S=e.createURL(a),w=x&&vt(x[1])?x[0]:void 0,j=w?ly(n,w):n,T=x?x[1].statusCode:void 0,y=o&&T&&T>=400,L=j.filter((R,D)=>{let{route:$}=R;if($.lazy)return!0;if($.loader==null)return!1;if(i)return typeof $.loader!="function"||$.loader.hydrate?!0:t.loaderData[$.id]===void 0&&(!t.errors||t.errors[$.id]===void 0);if(cy(t.loaderData,t.matches[D],R)||l.some(B=>B===R.route.id))return!0;let z=t.matches[D],Z=R;return xc(R,ke({currentUrl:C,currentParams:z.params,nextUrl:S,nextParams:Z.params},r,{actionResult:m,actionStatus:T,defaultShouldRevalidate:y?!1:c||C.pathname+C.search===S.pathname+S.search||C.search!==S.search||Ad(z,Z)}))}),E=[];return f.forEach((R,D)=>{if(i||!n.some(oe=>oe.route.id===R.routeId)||h.has(D))return;let $=Cn(p,R.path,g);if(!$){E.push({key:D,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let z=t.fetchers.get(D),Z=Wr($,R.path),B=!1;d.has(D)?B=!1:u.has(D)?(u.delete(D),B=!0):z&&z.state!=="idle"&&z.data===void 0?B=c:B=xc(Z,ke({currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:m,actionStatus:T,defaultShouldRevalidate:y?!1:c})),B&&E.push({key:D,routeId:R.routeId,path:R.path,matches:$,match:Z,controller:new AbortController})}),[L,E]}function cy(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Ad(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function xc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function uy(e,t,n,r,a,i,o,c){let l=[t,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=e({path:t,matches:n,patch:(h,f)=>{c.aborted||Od(h,f,r,a,i)}}),o.set(l,u)),u&&yy(u)&&await u}finally{o.delete(l)}}function Od(e,t,n,r,a){if(e){var i;let o=r[e];se(o,"No route found to patch children into: routeId = "+e);let c=la(t,a,[e,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...c):o.children=c}else{let o=la(t,a,["patch",String(n.length||"0")],r);n.push(...o)}}async function yc(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];se(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";On(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Ox.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,ke({},t(a),{lazy:void 0}))}function dy(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function hy(e,t,n,r,a,i,o,c){let l=r.reduce((f,d)=>f.add(d.route.id),new Set),u=new Set,h=await e({matches:a.map(f=>{let d=l.has(f.route.id);return ke({},f,{shouldLoad:d,resolve:g=>(u.add(f.route.id),d?fy(t,n,f,i,o,g,c):Promise.resolve({type:we.data,result:void 0}))})}),request:n,params:a[0].params,context:c});return a.forEach(f=>se(u.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((f,d)=>l.has(a[d].route.id))}async function fy(e,t,n,r,a,i,o){let c,l,u=h=>{let f,d=new Promise((x,m)=>f=m);l=()=>f(),t.signal.addEventListener("abort",l);let p=x=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):h({request:t,params:n.params,context:o},...x!==void 0?[x]:[]),g;return i?g=i(x=>p(x)):g=(async()=>{try{return{type:"data",result:await p()}}catch(x){return{type:"error",result:x}}})(),Promise.race([g,d])};try{let h=n.route[e];if(n.route.lazy)if(h){let f,[d]=await Promise.all([u(h).catch(p=>{f=p}),yc(n.route,a,r)]);if(f!==void 0)throw f;c=d}else if(await yc(n.route,a,r),h=n.route[e],h)c=await u(h);else if(e==="action"){let f=new URL(t.url),d=f.pathname+f.search;throw st(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:we.data,result:void 0};else if(h)c=await u(h);else{let f=new URL(t.url),d=f.pathname+f.search;throw st(404,{pathname:d})}se(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:we.error,result:h}}finally{l&&t.signal.removeEventListener("abort",l)}return c}async function gy(e){let{result:t,type:n}=e;if(Nd(t)){let u;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(h){return{type:we.error,error:h}}return n===we.error?{type:we.error,error:new xs(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:we.data,data:u,statusCode:t.status,headers:t.headers}}if(n===we.error){if(Ec(t)){var r;if(t.data instanceof Error){var a;return{type:we.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status}}t=new xs(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:we.error,error:t,statusCode:zs(t)?t.status:void 0}}if(by(t)){var i,o;return{type:we.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(Ec(t)){var c,l;return{type:we.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:we.data,data:t}}function my(e,t,n,r,a,i){let o=e.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mo.test(o)){let c=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=qi(new URL(t.url),c,a,!0,o,i),e.headers.set("Location",o)}return e}function vc(e,t,n){if(Mo.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=br(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function tr(e,t,n,r){let a=e.createURL(Dd(t)).toString(),i={signal:n};if(r&&Et(r.formMethod)){let{formMethod:o,formEncType:c}=r;i.method=o.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=Vi(r.formData):i.body=r.formData}return new Request(a,i)}function Vi(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function bc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function py(e,t,n,r,a,i){let o={},c=null,l,u=!1,h={},f=r&&vt(r[1])?r[1].error:void 0;return n.forEach((d,p)=>{let g=t[p].route.id;if(se(!Tn(d),"Cannot handle redirect results in processLoaderData"),vt(d)){let x=d.error;f!==void 0&&(x=f,f=void 0),c=c||{};{let m=ir(e,g);c[m.route.id]==null&&(c[m.route.id]=x)}o[g]=void 0,u||(u=!0,l=zs(d.error)?d.error.status:500),d.headers&&(h[g]=d.headers)}else En(d)?(a.set(g,d.deferredData),o[g]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(h[g]=d.headers)):(o[g]=d.data,d.statusCode&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(h[g]=d.headers))}),f!==void 0&&r&&(c={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:c,statusCode:l||200,loaderHeaders:h}}function wc(e,t,n,r,a,i,o,c){let{loaderData:l,errors:u}=py(t,n,r,a,c);for(let h=0;h<i.length;h++){let{key:f,match:d,controller:p}=i[h];se(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(p&&p.signal.aborted))if(vt(g)){let x=ir(e.matches,d==null?void 0:d.route.id);u&&u[x.route.id]||(u=ke({},u,{[x.route.id]:g.error})),e.fetchers.delete(f)}else if(Tn(g))se(!1,"Unhandled fetcher revalidation redirect");else if(En(g))se(!1,"Unhandled fetcher deferred data");else{let x=un(g.data);e.fetchers.set(f,x)}}return{loaderData:l,errors:u}}function jc(e,t,n,r){let a=ke({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function _c(e){return e?vt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ir(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Sc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function st(e,t){let{pathname:n,routeId:r,method:a,type:i,message:o}=t===void 0?{}:t,c="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(c="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):a&&n&&r?l="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(c="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(c="Not Found",l='No route matches URL "'+n+'"'):e===405&&(c="Method Not Allowed",a&&n&&r?l="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new xs(e||500,c,new Error(l),!0)}function Cc(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Tn(n))return{result:n,idx:t}}}function Dd(e){let t=typeof e=="string"?tn(e):e;return vn(ke({},t,{hash:""}))}function xy(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function yy(e){return typeof e=="object"&&e!=null&&"then"in e}function vy(e){return Nd(e.result)&&ry.has(e.result.status)}function En(e){return e.type===we.deferred}function vt(e){return e.type===we.error}function Tn(e){return(e&&e.type)===we.redirect}function Ec(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function by(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Nd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function wy(e){return ny.has(e.toLowerCase())}function Et(e){return ey.has(e.toLowerCase())}async function Tc(e,t,n,r,a,i){for(let o=0;o<n.length;o++){let c=n[o],l=t[o];if(!l)continue;let u=e.find(f=>f.route.id===l.route.id),h=u!=null&&!Ad(u,l)&&(i&&i[l.route.id])!==void 0;if(En(c)&&(a||h)){let f=r[o];se(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await $d(c,f,a).then(d=>{d&&(n[o]=d||n[o])})}}}async function $d(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(a){return{type:we.error,error:a}}return{type:we.data,data:e.deferredData.data}}}function Uo(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Wr(e,t){let n=typeof t=="string"?tn(t).search:t.search;if(e[e.length-1].route.index&&Uo(n||""))return e[e.length-1];let r=Id(e);return r[r.length-1]}function Rc(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function xi(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jy(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Mr(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function _y(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function un(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Sy(e,t){try{let n=e.sessionStorage.getItem(kd);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Cy(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(kd,JSON.stringify(n))}catch(r){On(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}const Bs=b.createContext(null),Fd=b.createContext(null),jn=b.createContext(null),zo=b.createContext(null),qt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Md=b.createContext(null);function Ey(e,t){let{relative:n}=t===void 0?{}:t;wr()||se(!1);let{basename:r,navigator:a}=b.useContext(jn),{hash:i,pathname:o,search:c}=zd(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zt([r,o])),a.createHref({pathname:l,search:c,hash:i})}function wr(){return b.useContext(zo)!=null}function _n(){return wr()||se(!1),b.useContext(zo).location}function Ud(e){b.useContext(jn).static||b.useLayoutEffect(e)}function nn(){let{isDataRoute:e}=b.useContext(qt);return e?zy():Ty()}function Ty(){wr()||se(!1);let e=b.useContext(Bs),{basename:t,future:n,navigator:r}=b.useContext(jn),{matches:a}=b.useContext(qt),{pathname:i}=_n(),o=JSON.stringify(Ms(a,n.v7_relativeSplatPath)),c=b.useRef(!1);return Ud(()=>{c.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=Us(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zt([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,o,i,e])}const Ry=b.createContext(null);function Iy(e){let t=b.useContext(qt).outlet;return t&&b.createElement(Ry.Provider,{value:e},t)}function Ly(){let{matches:e}=b.useContext(qt),t=e[e.length-1];return t?t.params:{}}function zd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(jn),{matches:a}=b.useContext(qt),{pathname:i}=_n(),o=JSON.stringify(Ms(a,r.v7_relativeSplatPath));return b.useMemo(()=>Us(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function ky(e,t,n,r){wr()||se(!1);let{navigator:a}=b.useContext(jn),{matches:i}=b.useContext(qt),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=_n(),h;h=u;let f=h.pathname||"/",d=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=Cn(e,{pathname:d});return Ny(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Zt([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Zt([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r)}function Py(){let e=Uy(),t=zs(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,null)}const Ay=b.createElement(Py,null);class Oy extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(qt.Provider,{value:this.props.routeContext},b.createElement(Md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dy(e){let{routeContext:t,match:n,children:r}=e,a=b.useContext(Bs);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(qt.Provider,{value:t},r)}function Ny(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let h=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);h>=0||se(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:p}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let p,g=!1,x=null,m=null;n&&(p=c&&f.route.id?c[f.route.id]:void 0,x=f.route.errorElement||Ay,l&&(u<0&&d===0?(g=!0,m=null):u===d&&(g=!0,m=f.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,d+1)),S=()=>{let w;return p?w=x:g?w=m:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,b.createElement(Dy,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?b.createElement(Oy,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}var Bd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bd||{}),vs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vs||{});function $y(e){let t=b.useContext(Bs);return t||se(!1),t}function Fy(e){let t=b.useContext(Fd);return t||se(!1),t}function My(e){let t=b.useContext(qt);return t||se(!1),t}function Hd(e){let t=My(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function Uy(){var e;let t=b.useContext(Md),n=Fy(vs.UseRouteError),r=Hd(vs.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zy(){let{router:e}=$y(Bd.UseNavigateStable),t=Hd(vs.UseNavigateStable),n=b.useRef(!1);return Ud(()=>{n.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ys({fromRouteId:t},i)))},[e,t])}function yi(e){let{to:t,replace:n,state:r,relative:a}=e;wr()||se(!1);let{future:i,static:o}=b.useContext(jn),{matches:c}=b.useContext(qt),{pathname:l}=_n(),u=nn(),h=Us(t,Ms(c,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(h);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function By(e){return Iy(e.context)}function Hy(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ne.Pop,navigator:i,static:o=!1,future:c}=e;wr()&&se(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ys({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof r=="string"&&(r=tn(r));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:g="default"}=r,x=b.useMemo(()=>{let m=br(h,l);return m==null?null:{location:{pathname:m,search:f,hash:d,state:p,key:g},navigationType:a}},[l,h,f,d,p,g,a]);return x==null?null:b.createElement(jn.Provider,{value:u},b.createElement(zo.Provider,{children:n,value:x}))}new Promise(()=>{});function qd(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)}function qy(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Vy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ky(e,t){return e.button===0&&(!t||t==="_self")&&!Vy(e)}const Yy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Wy="6";try{window.__reactRouterVersion=Wy}catch{}function Gy(e,t){return Pd({basename:void 0,future:fr({},void 0,{v7_prependBasename:!0}),history:kx({window:void 0}),hydrationData:Vd(),routes:e,mapRouteProperties:qd,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function Jy(e,t){return Pd({basename:void 0,future:fr({},void 0,{v7_prependBasename:!0}),history:Px({window:void 0}),hydrationData:Vd(),routes:e,mapRouteProperties:qd,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function Vd(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=fr({},t,{errors:Zy(t.errors)})),t}function Zy(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new xs(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const Qy=b.createContext({isTransitioning:!1}),Xy=b.createContext(new Map),ev="startTransition",Ic=Zf[ev],tv="flushSync",Lc=Qf[tv];function nv(e){Ic?Ic(e):e()}function Ur(e){Lc?Lc(e):e()}class rv{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function av(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=b.useState(n.state),[o,c]=b.useState(),[l,u]=b.useState({isTransitioning:!1}),[h,f]=b.useState(),[d,p]=b.useState(),[g,x]=b.useState(),m=b.useRef(new Map),{v7_startTransition:C}=r||{},S=b.useCallback(E=>{C?nv(E):E()},[C]),w=b.useCallback((E,R)=>{let{deletedFetchers:D,unstable_flushSync:$,unstable_viewTransitionOpts:z}=R;D.forEach(B=>m.current.delete(B)),E.fetchers.forEach((B,oe)=>{B.data!==void 0&&m.current.set(oe,B.data)});let Z=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||Z){$?Ur(()=>i(E)):S(()=>i(E));return}if($){Ur(()=>{d&&(h&&h.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let B=n.window.document.startViewTransition(()=>{Ur(()=>i(E))});B.finished.finally(()=>{Ur(()=>{f(void 0),p(void 0),c(void 0),u({isTransitioning:!1})})}),Ur(()=>p(B));return}d?(h&&h.resolve(),d.skipTransition(),x({state:E,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(c(E),u({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,d,h,m,S]);b.useLayoutEffect(()=>n.subscribe(w),[n,w]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new rv)},[l]),b.useEffect(()=>{if(h&&o&&n.window){let E=o,R=h.promise,D=n.window.document.startViewTransition(async()=>{S(()=>i(E)),await R});D.finished.finally(()=>{f(void 0),p(void 0),c(void 0),u({isTransitioning:!1})}),p(D)}},[S,o,h,n.window]),b.useEffect(()=>{h&&o&&a.location.key===o.location.key&&h.resolve()},[h,d,a.location,o]),b.useEffect(()=>{!l.isTransitioning&&g&&(c(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),x(void 0))},[l.isTransitioning,g]),b.useEffect(()=>{},[]);let j=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,R,D)=>n.navigate(E,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,R,D)=>n.navigate(E,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),T=n.basename||"/",y=b.useMemo(()=>({router:n,navigator:j,static:!1,basename:T}),[n,j,T]),L=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(Bs.Provider,{value:y},b.createElement(Fd.Provider,{value:a},b.createElement(Xy.Provider,{value:m.current},b.createElement(Qy.Provider,{value:l},b.createElement(Hy,{basename:T,location:a.location,navigationType:a.historyAction,navigator:j,future:L},a.initialized||n.future.v7_partialHydration?b.createElement(sv,{routes:n.routes,future:n.future,state:a}):t))))),null)}const sv=b.memo(iv);function iv(e){let{routes:t,future:n,state:r}=e;return ky(t,void 0,r,n)}const ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=b.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:u,preventScrollReset:h,unstable_viewTransition:f}=t,d=qy(t,Yy),{basename:p}=b.useContext(jn),g,x=!1;if(typeof u=="string"&&lv.test(u)&&(g=u,ov))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=br(j.pathname,p);j.origin===w.origin&&T!=null?u=T+j.search+j.hash:x=!0}catch{}let m=Ey(u,{relative:a}),C=cv(u,{replace:o,state:c,target:l,preventScrollReset:h,relative:a,unstable_viewTransition:f});function S(w){r&&r(w),w.defaultPrevented||C(w)}return b.createElement("a",fr({},d,{href:g||m,onClick:x||i?r:S,ref:n,target:l}))});var kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var Pc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pc||(Pc={}));function cv(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c}=t===void 0?{}:t,l=nn(),u=_n(),h=zd(e,{relative:o});return b.useCallback(f=>{if(Ky(f,n)){f.preventDefault();let d=r!==void 0?r:vn(u)===vn(h);l(e,{replace:d,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c})}},[u,l,h,r,a,n,e,i,o,c])}const uv=e=>({locale:e.locale,space:{size:mm},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?Ai.darkAlgorithm:Ai.defaultAlgorithm,token:{colorPrimary:Bn,fontFamily:"inherit"}}}),dv=e=>{Pi.config({holderRender(t){return s.jsx(Pi,{...e,children:t})}})},hv=e=>{const{isDark:t}=Ds(),{language:n}=xr(),r=b.useMemo(()=>ps[n].antd,[n]),a=b.useMemo(()=>uv({isDarkTheme:t,locale:r}),[t,r]);return b.useLayoutEffect(()=>{dv(a)},[a]),s.jsx(Pi,{...a,children:e.children})},Kd="3.7.7",fv=Kd,jr=typeof Buffer=="function",Ac=typeof TextDecoder=="function"?new TextDecoder:void 0,Oc=typeof TextEncoder=="function"?new TextEncoder:void 0,gv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Gr=Array.prototype.slice.call(gv),qa=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Gr),mv=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Je=String.fromCharCode.bind(String),Dc=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Yd=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Wd=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Gd=e=>{let t,n,r,a,i="";const o=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=Gr[t>>18&63]+Gr[t>>12&63]+Gr[t>>6&63]+Gr[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},Bo=typeof btoa=="function"?e=>btoa(e):jr?e=>Buffer.from(e,"binary").toString("base64"):Gd,Ki=jr?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Je.apply(null,e.subarray(r,r+4096)));return Bo(n.join(""))},ns=(e,t=!1)=>t?Yd(Ki(e)):Ki(e),pv=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Je(192|t>>>6)+Je(128|t&63):Je(224|t>>>12&15)+Je(128|t>>>6&63)+Je(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Je(240|t>>>18&7)+Je(128|t>>>12&63)+Je(128|t>>>6&63)+Je(128|t&63)}},xv=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Jd=e=>e.replace(xv,pv),Nc=jr?e=>Buffer.from(e,"utf8").toString("base64"):Oc?e=>Ki(Oc.encode(e)):e=>Bo(Jd(e)),lr=(e,t=!1)=>t?Yd(Nc(e)):Nc(e),$c=e=>lr(e,!0),yv=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,vv=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Je((n>>>10)+55296)+Je((n&1023)+56320);case 3:return Je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Zd=e=>e.replace(yv,vv),Qd=e=>{if(e=e.replace(/\s+/g,""),!mv.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let i=0;i<e.length;)t=qa[e.charAt(i++)]<<18|qa[e.charAt(i++)]<<12|(r=qa[e.charAt(i++)])<<6|(a=qa[e.charAt(i++)]),n+=r===64?Je(t>>16&255):a===64?Je(t>>16&255,t>>8&255):Je(t>>16&255,t>>8&255,t&255);return n},Ho=typeof atob=="function"?e=>atob(Wd(e)):jr?e=>Buffer.from(e,"base64").toString("binary"):Qd,Xd=jr?e=>Dc(Buffer.from(e,"base64")):e=>Dc(Ho(e).split("").map(t=>t.charCodeAt(0))),eh=e=>Xd(th(e)),bv=jr?e=>Buffer.from(e,"base64").toString("utf8"):Ac?e=>Ac.decode(Xd(e)):e=>Zd(Ho(e)),th=e=>Wd(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Yi=e=>bv(th(e)),wv=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},nh=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),rh=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,nh(n));e("fromBase64",function(){return Yi(this)}),e("toBase64",function(t){return lr(this,t)}),e("toBase64URI",function(){return lr(this,!0)}),e("toBase64URL",function(){return lr(this,!0)}),e("toUint8Array",function(){return eh(this)})},ah=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,nh(n));e("toBase64",function(t){return ns(this,t)}),e("toBase64URI",function(){return ns(this,!0)}),e("toBase64URL",function(){return ns(this,!0)})},jv=()=>{rh(),ah()},Wi={version:Kd,VERSION:fv,atob:Ho,atobPolyfill:Qd,btoa:Bo,btoaPolyfill:Gd,fromBase64:Yi,toBase64:lr,encode:lr,encodeURI:$c,encodeURL:$c,utob:Jd,btou:Zd,decode:Yi,isValid:wv,fromUint8Array:ns,toUint8Array:eh,extendString:rh,extendUint8Array:ah,extendBuiltins:jv};function sh(e,t){return function(){return e.apply(t,arguments)}}const{toString:_v}=Object.prototype,{getPrototypeOf:qo}=Object,Hs=(e=>t=>{const n=_v.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>Hs(t)===e),qs=e=>t=>typeof t===e,{isArray:_r}=Array,ca=qs("undefined");function Sv(e){return e!==null&&!ca(e)&&e.constructor!==null&&!ca(e.constructor)&&bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ih=Ot("ArrayBuffer");function Cv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ih(e.buffer),t}const Ev=qs("string"),bt=qs("function"),oh=qs("number"),Vs=e=>e!==null&&typeof e=="object",Tv=e=>e===!0||e===!1,rs=e=>{if(Hs(e)!=="object")return!1;const t=qo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rv=Ot("Date"),Iv=Ot("File"),Lv=Ot("Blob"),kv=Ot("FileList"),Pv=e=>Vs(e)&&bt(e.pipe),Av=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bt(e.append)&&((t=Hs(e))==="formdata"||t==="object"&&bt(e.toString)&&e.toString()==="[object FormData]"))},Ov=Ot("URLSearchParams"),[Dv,Nv,$v,Fv]=["ReadableStream","Request","Response","Headers"].map(Ot),Mv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),_r(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function lh(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ch=e=>!ca(e)&&e!==Rn;function Gi(){const{caseless:e}=ch(this)&&this||{},t={},n=(r,a)=>{const i=e&&lh(t,a)||a;rs(t[i])&&rs(r)?t[i]=Gi(t[i],r):rs(r)?t[i]=Gi({},r):_r(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xa(arguments[r],n);return t}const Uv=(e,t,n,{allOwnKeys:r}={})=>(xa(t,(a,i)=>{n&&bt(a)?e[i]=sh(a,n):e[i]=a},{allOwnKeys:r}),e),zv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Hv=(e,t,n,r)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&qo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},qv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Vv=e=>{if(!e)return null;if(_r(e))return e;let t=e.length;if(!oh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Kv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qo(Uint8Array)),Yv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Wv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Gv=Ot("HTMLFormElement"),Jv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Fc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zv=Ot("RegExp"),uh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xa(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Qv=e=>{uh(e,(t,n)=>{if(bt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(bt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Xv=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return _r(e)?r(e):r(String(e).split(t)),n},eb=()=>{},tb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,vi="abcdefghijklmnopqrstuvwxyz",Mc="0123456789",dh={DIGIT:Mc,ALPHA:vi,ALPHA_DIGIT:vi+vi.toUpperCase()+Mc},nb=(e=16,t=dh.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function rb(e){return!!(e&&bt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ab=e=>{const t=new Array(10),n=(r,a)=>{if(Vs(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=_r(r)?[]:{};return xa(r,(o,c)=>{const l=n(o,a+1);!ca(l)&&(i[c]=l)}),t[a]=void 0,i}}return r};return n(e,0)},sb=Ot("AsyncFunction"),ib=e=>e&&(Vs(e)||bt(e))&&bt(e.then)&&bt(e.catch),hh=((e,t)=>e?setImmediate:t?((n,r)=>(Rn.addEventListener("message",({source:a,data:i})=>{a===Rn&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Rn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",bt(Rn.postMessage)),ob=typeof queueMicrotask<"u"?queueMicrotask.bind(Rn):typeof process<"u"&&process.nextTick||hh,k={isArray:_r,isArrayBuffer:ih,isBuffer:Sv,isFormData:Av,isArrayBufferView:Cv,isString:Ev,isNumber:oh,isBoolean:Tv,isObject:Vs,isPlainObject:rs,isReadableStream:Dv,isRequest:Nv,isResponse:$v,isHeaders:Fv,isUndefined:ca,isDate:Rv,isFile:Iv,isBlob:Lv,isRegExp:Zv,isFunction:bt,isStream:Pv,isURLSearchParams:Ov,isTypedArray:Kv,isFileList:kv,forEach:xa,merge:Gi,extend:Uv,trim:Mv,stripBOM:zv,inherits:Bv,toFlatObject:Hv,kindOf:Hs,kindOfTest:Ot,endsWith:qv,toArray:Vv,forEachEntry:Yv,matchAll:Wv,isHTMLForm:Gv,hasOwnProperty:Fc,hasOwnProp:Fc,reduceDescriptors:uh,freezeMethods:Qv,toObjectSet:Xv,toCamelCase:Jv,noop:eb,toFiniteNumber:tb,findKey:lh,global:Rn,isContextDefined:ch,ALPHABET:dh,generateString:nb,isSpecCompliantForm:rb,toJSONObject:ab,isAsyncFn:sb,isThenable:ib,setImmediate:hh,asap:ob};function te(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}k.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fh=te.prototype,gh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gh[e]={value:e}});Object.defineProperties(te,gh);Object.defineProperty(fh,"isAxiosError",{value:!0});te.from=(e,t,n,r,a,i)=>{const o=Object.create(fh);return k.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),te.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const lb=null;function Ji(e){return k.isPlainObject(e)||k.isArray(e)}function mh(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Uc(e,t,n){return e?e.concat(t).map(function(a,i){return a=mh(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function cb(e){return k.isArray(e)&&!e.some(Ji)}const ub=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Ks(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,m){return!k.isUndefined(m[x])});const r=n.metaTokens,a=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(k.isDate(g))return g.toISOString();if(!l&&k.isBlob(g))throw new te("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(g)||k.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,x,m){let C=g;if(g&&!m&&typeof g=="object"){if(k.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(k.isArray(g)&&cb(g)||(k.isFileList(g)||k.endsWith(x,"[]"))&&(C=k.toArray(g)))return x=mh(x),C.forEach(function(w,j){!(k.isUndefined(w)||w===null)&&t.append(o===!0?Uc([x],j,i):o===null?x:x+"[]",u(w))}),!1}return Ji(g)?!0:(t.append(Uc(m,x,i),u(g)),!1)}const f=[],d=Object.assign(ub,{defaultVisitor:h,convertValue:u,isVisitable:Ji});function p(g,x){if(!k.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),k.forEach(g,function(C,S){(!(k.isUndefined(C)||C===null)&&a.call(t,C,k.isString(S)?S.trim():S,x,d))===!0&&p(C,x?x.concat(S):[S])}),f.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return p(e),t}function zc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Vo(e,t){this._pairs=[],e&&Ks(e,this,t)}const ph=Vo.prototype;ph.append=function(t,n){this._pairs.push([t,n])};ph.toString=function(t){const n=t?function(r){return t.call(this,r,zc)}:zc;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function db(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xh(e,t,n){if(!t)return e;const r=n&&n.encode||db,a=n&&n.serialize;let i;if(a?i=a(t,n):i=k.isURLSearchParams(t)?t.toString():new Vo(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Bc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const yh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hb=typeof URLSearchParams<"u"?URLSearchParams:Vo,fb=typeof FormData<"u"?FormData:null,gb=typeof Blob<"u"?Blob:null,mb={isBrowser:!0,classes:{URLSearchParams:hb,FormData:fb,Blob:gb},protocols:["http","https","file","blob","url","data"]},Ko=typeof window<"u"&&typeof document<"u",pb=(e=>Ko&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),xb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yb=Ko&&window.location.href||"http://localhost",vb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ko,hasStandardBrowserEnv:pb,hasStandardBrowserWebWorkerEnv:xb,origin:yb},Symbol.toStringTag,{value:"Module"})),kt={...vb,...mb};function bb(e,t){return Ks(e,new kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return kt.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function wb(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jb(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function vh(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&k.isArray(a)?a.length:o,l?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!c):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&k.isArray(a[o])&&(a[o]=jb(a[o])),!c)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,a)=>{t(wb(r),a,n,0)}),n}return null}function _b(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ya={transitional:yh,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(vh(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bb(t,this.formSerializer).toString();if((c=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ks(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),_b(t)):t}],transformResponse:[function(t){const n=this.transitional||ya.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?te.from(c,te.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{ya.headers[e]={}});const Sb=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cb=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&Sb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Hc=Symbol("internals");function zr(e){return e&&String(e).trim().toLowerCase()}function as(e){return e===!1||e==null?e:k.isArray(e)?e.map(as):String(e)}function Eb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Tb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bi(e,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function Rb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Ib(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ht{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(c,l,u){const h=zr(l);if(!h)throw new Error("header name must be a non-empty string");const f=k.findKey(a,h);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=as(c))}const o=(c,l)=>k.forEach(c,(u,h)=>i(u,h,l));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!Tb(t))o(Cb(t),n);else if(k.isHeaders(t))for(const[c,l]of t.entries())i(l,c,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=zr(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Eb(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=zr(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||bi(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=zr(o),o){const c=k.findKey(r,o);c&&(!n||bi(r,r[c],c,n))&&(delete r[c],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||bi(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){n[o]=as(a),delete n[i];return}const c=t?Rb(i):String(i).trim();c!==i&&delete n[i],n[c]=as(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Hc]=this[Hc]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=zr(o);r[c]||(Ib(a,o),r[c]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}}ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ht.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(ht);function wi(e,t){const n=this||ya,r=t||n,a=ht.from(r.headers);let i=r.data;return k.forEach(e,function(c){i=c.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function bh(e){return!!(e&&e.__CANCEL__)}function Sr(e,t,n){te.call(this,e??"canceled",te.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(Sr,te,{__CANCEL__:!0});function wh(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Lb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function kb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),h=r[i];o||(o=u),n[a]=l,r[a]=u;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=h&&u-h;return p?Math.round(d*1e3/p):void 0}}function Pb(e,t){let n=0,r=1e3/t,a,i;const o=(u,h=Date.now())=>{n=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const bs=(e,t,n=3)=>{let r=0;const a=kb(50,250);return Pb(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-r,u=a(l),h=o<=c;r=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&h?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},n)},qc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vc=e=>(...t)=>k.asap(()=>e(...t)),Ab=kt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const c=k.isString(o)?a(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}(),Ob=kt.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Db(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Nb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jh(e,t){return e&&!Db(t)?Nb(e,t):t}const Kc=e=>e instanceof ht?{...e}:e;function Dn(e,t){t=t||{};const n={};function r(u,h,f){return k.isPlainObject(u)&&k.isPlainObject(h)?k.merge.call({caseless:f},u,h):k.isPlainObject(h)?k.merge({},h):k.isArray(h)?h.slice():h}function a(u,h,f){if(k.isUndefined(h)){if(!k.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function i(u,h){if(!k.isUndefined(h))return r(void 0,h)}function o(u,h){if(k.isUndefined(h)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function c(u,h,f){if(f in t)return r(u,h);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,h)=>a(Kc(u),Kc(h),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(h){const f=l[h]||a,d=f(e[h],t[h],h);k.isUndefined(d)&&f!==c||(n[h]=d)}),n}const _h=e=>{const t=Dn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=ht.from(o),t.url=xh(jh(t.baseURL,t.url),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(k.isFormData(n)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(kt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&Ab(t.url))){const u=a&&i&&Ob.read(i);u&&o.set(a,u)}return t},$b=typeof XMLHttpRequest<"u",Fb=$b&&function(e){return new Promise(function(n,r){const a=_h(e);let i=a.data;const o=ht.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=a,h,f,d,p,g;function x(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let m=new XMLHttpRequest;m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout;function C(){if(!m)return;const w=ht.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:e,request:m};wh(function(L){n(L),x()},function(L){r(L),x()},T),m=null}"onloadend"in m?m.onloadend=C:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(C)},m.onabort=function(){m&&(r(new te("Request aborted",te.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new te("Network Error",te.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||yh;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new te(j,T.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&k.forEach(o.toJSON(),function(j,T){m.setRequestHeader(T,j)}),k.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),c&&c!=="json"&&(m.responseType=a.responseType),u&&([d,g]=bs(u,!0),m.addEventListener("progress",d)),l&&m.upload&&([f,p]=bs(l),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(h=w=>{m&&(r(!w||w.type?new Sr(null,e,m):w),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=Lb(a.url);if(S&&kt.protocols.indexOf(S)===-1){r(new te("Unsupported protocol "+S+":",te.ERR_BAD_REQUEST,e));return}m.send(i||null)})},Mb=(e,t)=>{let n=new AbortController,r;const a=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof te?u:new Sr(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{a(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",a):l.unsubscribe(a))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=o,[c,()=>{i&&clearTimeout(i),i=null}]},Ub=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},zb=async function*(e,t,n){for await(const r of e)yield*Ub(ArrayBuffer.isView(r)?r:await n(String(r)),t)},Yc=(e,t,n,r,a)=>{const i=zb(e,t,a);let o=0,c,l=u=>{c||(c=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){l(),u.close();return}let d=f.byteLength;if(n){let p=o+=d;n(p)}u.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Ys=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sh=Ys&&typeof ReadableStream=="function",Zi=Ys&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ch=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Bb=Sh&&Ch(()=>{let e=!1;const t=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Wc=64*1024,Qi=Sh&&Ch(()=>k.isReadableStream(new Response("").body)),ws={stream:Qi&&(e=>e.body)};Ys&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ws[t]&&(ws[t]=k.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,r)})})})(new Response);const Hb=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await Zi(e)).byteLength},qb=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??Hb(t)},Vb=Ys&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:d}=_h(e);u=u?(u+"").toLowerCase():"text";let[p,g]=a||i||o?Mb([a,i],o):[],x,m;const C=()=>{!x&&setTimeout(()=>{p&&p.unsubscribe()}),x=!0};let S;try{if(l&&Bb&&n!=="get"&&n!=="head"&&(S=await qb(h,r))!==0){let y=new Request(t,{method:"POST",body:r,duplex:"half"}),L;if(k.isFormData(r)&&(L=y.headers.get("content-type"))&&h.setContentType(L),y.body){const[E,R]=qc(S,bs(Vc(l)));r=Yc(y.body,Wc,E,R,Zi)}}k.isString(f)||(f=f?"include":"omit"),m=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:f});let w=await fetch(m);const j=Qi&&(u==="stream"||u==="response");if(Qi&&(c||j)){const y={};["status","statusText","headers"].forEach(D=>{y[D]=w[D]});const L=k.toFiniteNumber(w.headers.get("content-length")),[E,R]=c&&qc(L,bs(Vc(c),!0))||[];w=new Response(Yc(w.body,Wc,E,()=>{R&&R(),j&&C()},Zi),y)}u=u||"text";let T=await ws[k.findKey(ws,u)||"text"](w,e);return!j&&C(),g&&g(),await new Promise((y,L)=>{wh(y,L,{data:T,headers:ht.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:m})})}catch(w){throw C(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,m),{cause:w.cause||w}):te.from(w,w&&w.code,e,m)}}),Xi={http:lb,xhr:Fb,fetch:Vb};k.forEach(Xi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gc=e=>`- ${e}`,Kb=e=>k.isFunction(e)||e===null||e===!1,Eh={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Kb(n)&&(r=Xi[(o=String(n)).toLowerCase()],r===void 0))throw new te(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Gc).join(`
`):" "+Gc(i[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xi};function ji(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr(null,e)}function Jc(e){return ji(e),e.headers=ht.from(e.headers),e.data=wi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Eh.getAdapter(e.adapter||ya.adapter)(e).then(function(r){return ji(e),r.data=wi.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return bh(r)||(ji(e),r&&r.response&&(r.response.data=wi.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Th="1.7.4",Yo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Zc={};Yo.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Th+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new te(a(o," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!Zc[o]&&(Zc[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};function Yb(e,t,n){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new te("option "+i+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+i,te.ERR_BAD_OPTION)}}const eo={assertOptions:Yb,validators:Yo},ln=eo.validators;class kn{constructor(t){this.defaults=t,this.interceptors={request:new Bc,response:new Bc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Dn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&eo.assertOptions(r,{silentJSONParsing:ln.transitional(ln.boolean),forcedJSONParsing:ln.transitional(ln.boolean),clarifyTimeoutError:ln.transitional(ln.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:eo.assertOptions(a,{encode:ln.function,serialize:ln.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[n.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=ht.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let h,f=0,d;if(!l){const g=[Jc.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,u),d=g.length,h=Promise.resolve(n);f<d;)h=h.then(g[f++],g[f++]);return h}d=c.length;let p=n;for(f=0;f<d;){const g=c[f++],x=c[f++];try{p=g(p)}catch(m){x.call(this,m);break}}try{h=Jc.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)h=h.then(u[f++],u[f++]);return h}getUri(t){t=Dn(this.defaults,t);const n=jh(t.baseURL,t.url);return xh(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){kn.prototype[t]=function(n,r){return this.request(Dn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,c){return this.request(Dn(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}kn.prototype[t]=n(),kn.prototype[t+"Form"]=n(!0)});class Wo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new Sr(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Wo(function(a){t=a}),cancel:t}}}function Wb(e){return function(n){return e.apply(null,n)}}function Gb(e){return k.isObject(e)&&e.isAxiosError===!0}const to={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(to).forEach(([e,t])=>{to[t]=e});function Rh(e){const t=new kn(e),n=sh(kn.prototype.request,t);return k.extend(n,kn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Rh(Dn(e,a))},n}const Fe=Rh(ya);Fe.Axios=kn;Fe.CanceledError=Sr;Fe.CancelToken=Wo;Fe.isCancel=bh;Fe.VERSION=Th;Fe.toFormData=Ks;Fe.AxiosError=te;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=Wb;Fe.isAxiosError=Gb;Fe.mergeConfig=Dn;Fe.AxiosHeaders=ht;Fe.formToJSON=e=>vh(k.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=Eh.getAdapter;Fe.HttpStatusCode=to;Fe.default=Fe;const Ws={LOGIN:"/auth/login",CHECK_TOKEN:"/auth/check",RENEWAL_TOKEN:"/auth/renewal"};function Jb(e){return K.post(Ws.LOGIN,{password:Wi.encode(e)}).then(t=>t.result)}function Zb(){return K.post(Ws.RENEWAL_TOKEN).then(e=>e.result)}function Qb(){return K.post(Ws.CHECK_TOKEN).then(e=>e.result)}const Ih=e=>localStorage.getItem(e),Lh=(e,t)=>localStorage.setItem(e,t),Xb=e=>{localStorage.removeItem(e)},ew=(e,t)=>{Lh(e,JSON.stringify(t))},tw=e=>{const t=Ih(e);return typeof t=="string"?JSON.parse(t):null},Qt={get:Ih,set:Lh,remove:Xb,setJSON:ew,getJSON:tw},Go="id_token",Jo="token_birth_time",Zo="token_expires_in",kh=()=>Qt.get(Go),Ph=(e,t)=>{Qt.set(Go,e),Qt.set(Zo,String(t)),Qt.set(Jo,String(+new Date/1e3))},Gs=()=>{Qt.remove(Go),Qt.remove(Zo),Qt.remove(Jo)},Ah=()=>{const e=kh();return(e==null?void 0:e.split(".").length)===3},Oh=()=>{const e=Number(localStorage.getItem(Zo)),n=Number(localStorage.getItem(Jo))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},js={getToken:kh,setToken:Ph,removeToken:Gs,isTokenValid:Ah,getTokenCountdown:Oh};let no=null;const Dh=()=>{typeof no=="number"&&window.clearTimeout(no)},Nh=()=>{Dh();const t=Oh()-10;console.debug("Token auto-renewal is working.",`Token will be updated automatically after ${t}s!`),no=window.setTimeout(()=>{Zb().then(n=>{Ph(n.access_token,n.expires_in),Nh()})},t*1e3)},nw="_appLoading_19idb_1",rw={appLoading:nw},$h=600,Qc=200,aw={transitionProperty:"all",transitionDuration:`${Qc}ms`,transitionDelay:`${$h-Qc}ms`,backgroundColor:"transparent",opacity:0},sw=e=>{const t=nn(),{i18n:n}=tt(),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[c,l]=b.useState(!1),u=async()=>{try{a(!0),console.debug("Token verifying..."),await(Ah()?Promise.resolve():Promise.reject("The local token is invalid")),await Qb(),console.debug("Token verification successful."),a(!1),Nh(),o(!0),setTimeout(()=>l(!0),$h)}catch(h){console.debug("Invalid token, need to log in again.",h),Ft.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),Gs(),t(et[de.Hello])}};return Ce(()=>u()),Do(()=>Dh()),s.jsxs("div",{id:"app-auth",children:[i&&e.children,!c&&s.jsx(ue,{align:"center",justify:"center",className:rw.appLoading,style:i?aw:{},children:s.jsxs(O,{direction:"vertical",align:"center",children:[s.jsx(dt,{indicator:s.jsx(Xf,{spin:!0,style:{fontSize:48}})}),s.jsx(M.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},_i=(e=!1)=>{const[t,n]=b.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}};var iw=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt,ow=iw,lw=ow,cw=typeof self=="object"&&self&&self.Object===Object&&self,uw=lw||cw||Function("return this")(),va=uw,dw=va,hw=dw.Symbol,Fh=hw,Xc=Fh,Mh=Object.prototype,fw=Mh.hasOwnProperty,gw=Mh.toString,Br=Xc?Xc.toStringTag:void 0;function mw(e){var t=fw.call(e,Br),n=e[Br];try{e[Br]=void 0;var r=!0}catch{}var a=gw.call(e);return r&&(t?e[Br]=n:delete e[Br]),a}var pw=mw,xw=Object.prototype,yw=xw.toString;function vw(e){return yw.call(e)}var bw=vw,eu=Fh,ww=pw,jw=bw,_w="[object Null]",Sw="[object Undefined]",tu=eu?eu.toStringTag:void 0;function Cw(e){return e==null?e===void 0?Sw:_w:tu&&tu in Object(e)?ww(e):jw(e)}var Qo=Cw;function Ew(e){return e!=null&&typeof e=="object"}var Uh=Ew,Tw=Qo,Rw=Uh,Iw="[object Number]";function Lw(e){return typeof e=="number"||Rw(e)&&Tw(e)==Iw}var kw=Lw;const Pw=Ht(kw),zh="/option",Aw="/archive",Xo={UPLOAD:"/extension/upload",STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function Ow(){return K.get(Xo.STATISTIC).then(e=>e.result)}function Dw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return K.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function Nw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return K.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function $w(){return K.patch(Aw).then(e=>e.result)}function Fw(){return K.patch(Xo.DATA_BASE_BACKUP).then(e=>e.result)}function Mw(){return K.get(zh).then(e=>e.result)}function Uw(e){return K.put(zh,e).then(t=>t.result)}async function zw(e){const t=new FormData;return t.append("file",e.file),t.append("name",e.name),K.post(Xo.UPLOAD,t,{onUploadProgress:({loaded:n,total:r})=>{var a;if(Pw(r)){const i=n/r*100;(a=e.onProgress)==null||a.call(e,i)}}}).then(n=>n.result)}const Bh={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",BATCH_RUN_PIVOT_REPORTS:"/extension/google-analytics/batch-run-pivot-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function Bw(e){return K.post(Bh.BATCH_RUN_REPORTS,e)}function Hw(e){return K.post(Bh.RUN_REALTIME_REPORT,e)}const Hr=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),qw=e=>{var t;return((t=e[0])==null?void 0:t.rows)||[]},Vw=e=>{var t;return((t=e[1])==null?void 0:t.rows)||[]},Kw=e=>{var t;return((t=e[2])==null?void 0:t.rows)||[]},Yw=e=>{var t;return((t=e[3])==null?void 0:t.rows)||[]},Ww=e=>{var t;return((t=e[4])==null?void 0:t.rows)||[]},Gw=async(e,t,n)=>Bw({requests:[Hr({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),Hr({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),Hr({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),Hr({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),Hr({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),ss=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>Xe().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>Xe().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>Xe().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>Xe().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],Jw=127397,el=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Jw)),Zw=(e,t=navigator.language)=>new Intl.DisplayNames([t],{type:"region"}).of(e);Yg([Jg,Zg,Qg,Xg,em,tm]);const tl=mr.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useRef(),a=()=>{var i;(i=r.current)==null||i.resize({animation:{duration:300}})};return b.useEffect(()=>{var i;n.current&&(r.current=Wg(n.current)??Gg(n.current,null,{renderer:"svg"}),e.options&&((i=r.current)==null||i.setOption(e.options)))},[n,e.options]),b.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),b.useImperativeHandle(t,()=>({instance:()=>r.current})),s.jsx("div",{ref:n,className:e.className,style:e.style})}),Hh=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:Bn,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});function Qw(e){return e==null}var Xw=Qw;const ej=Ht(Xw);function ba(e){var n;if(ej(e.data))return s.jsx(M.Text,{type:"secondary",children:e.placeholder??"-"});const t=(n=e.children)==null?void 0:n.call(e,e.data);return typeof t=="string"||typeof t=="number"?s.jsx("span",{children:t}):t||null}const J=e=>s.jsxs(O,{size:"small",className:e.className,children:[e.prefix,s.jsx(ba,{data:e.text,placeholder:e.placeholder,children:t=>s.jsx(M.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?s.jsx("small",{children:t}):t})}),e.suffix]}),nu=e=>Hw({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),tj=e=>{const t=b.useRef(),[n,r]=b.useState([]),[a,i]=b.useState([]),o=b.useMemo(()=>{const f=[],d=[];return Array.from({length:30},(p,g)=>{const x=String(Math.abs(g-30)).padStart(2,"0"),m=n.find(S=>S.dimensionValues[0].value===x),C=m==null?void 0:m.metricValues[0].value;f.push(x),d.push(C?Number(C):0)}),{timeList:f,valueList:d}},[n]),c=b.useMemo(()=>o.valueList.reduce((f,d)=>f+d,0),[o]),l=b.useMemo(()=>Hh({xLabelFormatter:f=>`-${Number(f)}分钟`,tooltipLabelFormatter:({value:f})=>`${Number(f)} 分钟前`,categoryData:o.timeList,barsData:[{data:o.valueList,name:"Active Users",color:Bn}]}),[o]),u=()=>{window.clearTimeout(t.current);const f=nu(["minutesAgo"]).then(p=>{r(p.result.data.rows??[])}),d=nu(["countryId","city"]).then(p=>{i(p.result.data.rows??[])});Promise.all([f,d]).then(()=>{t.current=window.setTimeout(u,e.pollIntervalSeconds*1e3)})};Ce(()=>{u()}),Do(()=>{window.clearTimeout(t.current)});const h=f=>s.jsx(Xt,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:f,renderItem:(d,p)=>s.jsx(Xt.Item,{style:{paddingInline:0},children:s.jsxs(ue,{justify:"space-between",children:[s.jsx(J,{text:d.dimensionValues[0].value,prefix:el(d.dimensionValues[0].value),suffix:s.jsx(J,{text:d.dimensionValues[1].value,type:"secondary",small:!0})}),s.jsx(J,{text:d.metricValues[0].value,type:"secondary"})]})},p)});return s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{xs:16,children:s.jsx(tl,{options:l,style:{width:"100%",height:e.chartHeight}})}),s.jsxs($e,{xs:8,children:[s.jsx(mn,{prefix:s.jsx(Mn,{}),title:"Active Users",value:c}),s.jsx(ee,{style:{marginBottom:0,marginTop:14}}),a.length?h(a):s.jsx(eg,{image:null,imageStyle:{height:"1rem"}})]})]})},nj=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),ru={users:0,views:0,events:0},qr={users:Bn,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},rj=e=>{const t=b.useMemo(()=>ss.find(i=>i.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=b.useMemo(()=>t.xAxisList(),[t]),r=b.useMemo(()=>{let i=0,o=0,c=0;const l=new Map(n.map(u=>[u,{...ru}]));return e.rows.forEach(u=>{const h=u.dimensionValues[0].value,[f,d,p]=u.metricValues.map(x=>Number(x.value)),g=l.get(h)??{...ru};g.users+=f,g.views+=d,g.events+=p,l.set(h,g),i+=f,o+=d,c+=p}),{totalUsers:i,totalViews:o,totalEvents:c,map:l}},[n,e.rows]),a=b.useMemo(()=>{const i=[...r.map.values()],o=i.map(l=>l.users),c=i.map(l=>l.views);return i.map(l=>l.events),nj({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:qr.users},{data:c,name:"Page Views",zIndex:2,color:qr.views}]})},[r]);return s.jsxs(ue,{gap:"large",children:[s.jsx(tl,{options:a,style:{width:"100%",height:e.chartHeight}}),s.jsxs(O,{direction:"vertical",size:"small",style:{width:120},children:[s.jsx(mn,{value:r.totalUsers,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx(si,{style:{color:qr.users}})]})}),s.jsx(mn,{value:r.totalViews,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Page Views"}),s.jsx(si,{style:{color:qr.views}})]})}),s.jsx(mn,{value:r.totalEvents,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Event Count"}),s.jsx(si,{style:{color:qr.events}})]})})]})]})},aj="_childList_p2pes_1",sj="_listItem_p2pes_5",ij="_listItemPercent_p2pes_9",oj="_percentCore_p2pes_15",nr={childList:aj,listItem:sj,listItemPercent:ij,percentCore:oj},lj=e=>{const t=e.data.children??[],[n,r]=b.useState(e.defaultExpanded??!0),a=b.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),i=()=>{var c,l;return s.jsx(J,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?(c=e.labelPrefix)==null?void 0:c.call(e,e.data):e.labelPrefix,suffix:s.jsxs(s.Fragment,{children:[typeof e.labelSuffix=="function"?(l=e.labelSuffix)==null?void 0:l.call(e,e.data):e.labelSuffix,t!=null&&t.length?s.jsx(N,{type:"text",size:"small",icon:n?s.jsx(tg,{}):s.jsx(ng,{}),onClick:()=>r(!n)}):null]})})},o=()=>s.jsxs("ul",{className:nr.childList,children:[t.slice(0,e.limit).map(c=>s.jsx("li",{className:nr.childItem,children:s.jsxs(ue,{justify:"space-between",children:[s.jsx(J,{text:c.name}),s.jsx(J,{text:c.value,type:"secondary"})]})},c.name)),e.limit&&t.length>e.limit&&s.jsx("li",{className:nr.childItem,children:s.jsx(rg,{})})]});return s.jsxs(Xt.Item,{className:nr.listItem,children:[s.jsx("div",{className:nr.listItemPercent,children:s.jsx("div",{className:nr.percentCore,style:{width:`${a}%`}})}),s.jsxs(ue,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):i(),s.jsx("span",{children:e.data.value})]}),t!=null&&t.length&&n?o():null]})},Js=e=>{const t=b.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[i,o]=a.dimensionValues.map(u=>u.value),c=Number(a.metricValues[0].value),l=r.get(i)??{value:0};l.value+=c,l.name=i,o&&(l.children=l.children||[],l.children.push({name:o,value:c})),r.set(i,l)}),[...r.values()]},[e.rows]),n=b.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return s.jsx(Xt,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>s.jsx(lj,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},cj=e=>{const{language:t}=xr();return s.jsx(Js,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:n=>el(n.name),labelSuffix:n=>Zw(n.name,t)??""})},uj=e=>e==="Windows"?s.jsx(ag,{}):e==="Macintosh"?s.jsx(kl,{}):e==="iOS"?s.jsx(kl,{}):e==="Android"?s.jsx(sg,{}):e==="Linux"?s.jsx(ig,{}):e.includes("Chrome")?s.jsx(og,{}):s.jsx(Rs,{}),dj=e=>s.jsx(Js,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>uj(t.name)}),ua=0;var it=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(it||{});const nl=[{id:0,name:"待审核",icon:s.jsx(Ze,{}),color:"blue"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"},{id:-2,name:"垃圾评论",icon:s.jsx(Is,{}),color:"red"},{id:-1,name:"回收站",icon:s.jsx(Ke,{}),color:"orange"}],hj=new Map(nl.map(e=>[e.id,e])),na=e=>hj.get(e),rl=e=>{const t=ii.endsWith("/")?ii:`${ii}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},au=e=>`${ga}${e}`,qh=`${ga}/article/`,_s=e=>`${qh}${e}`,fj=e=>`${ga}/tag/${e}`,gj=e=>`${ga}/category/${e}`,Vh=()=>`${ga}/guestbook`,mj=e=>e===ua?Vh():_s(e),pj=e=>s.jsx(Js,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(cr,{placement:"topLeft",title:au(t.name),children:s.jsx(M.Link,{href:au(t.name),target:"_blank",children:s.jsxs(O,{size:"small",children:[s.jsx(ur,{}),t.name]})})})}),xj=e=>s.jsx(Js,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(cr,{placement:"topLeft",title:t.name,children:s.jsx(M.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function al(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function yj(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const vj="_statisticCard_13tgk_1",bj="_icon_13tgk_4",wj="_divider_13tgk_11",jj="_link_13tgk_14",fn={statisticCard:vj,icon:bj,divider:wj,link:jj},Va=e=>s.jsxs(ve,{bordered:!1,className:fn.statisticCard,children:[s.jsxs(ue,{justify:"space-between",children:[s.jsx(mn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),s.jsx("div",{className:fn.icon,children:e.icon})]}),s.jsx(ee,{className:fn.divider}),e.loading?s.jsx(ho.Input,{block:!0,active:!0,size:"small"}):e.extra]}),_j=(e,t)=>[s.jsx(Va,{loading:t,title:"今日阅读（文章页 PV）",value:(e==null?void 0:e.todayViews)??"-",suffix:"次",icon:s.jsx(fo,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsxs(M.Text,{type:"secondary",children:["累计阅读 ",s.jsx("strong",{children:al((e==null?void 0:e.totalViews)??0)})]}),s.jsxs(Jt,{className:fn.link,to:et[de.ArticlePost],children:[s.jsx(Ze,{})," 写文章"]})]})},"views"),s.jsx(Va,{loading:t,title:"全站评论",value:(e==null?void 0:e.comments)??"-",suffix:"条",icon:s.jsx(ha,{}),extra:s.jsxs(ue,{justify:"space-between",align:"center",children:[s.jsx(Jt,{className:fn.link,to:et[de.Comment],children:"管理评论"}),s.jsx(ee,{type:"vertical"}),s.jsx(Jt,{className:fn.link,to:et[de.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),s.jsx(Va,{loading:t,title:"累计获得喜欢",value:(e==null?void 0:e.totalLikes)??"-",suffix:"次",icon:s.jsx(go,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsx(lg,{count:5,disabled:!0,allowHalf:!0,value:e==null?void 0:e.averageEmotion}),s.jsx(Jt,{className:fn.link,to:et[de.Feedback],children:"站点反馈"})]})},"likes"),s.jsx(Va,{loading:t,title:"共发布文章",value:(e==null?void 0:e.articles)??"-",suffix:"篇",icon:s.jsx(Eu,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsxs(M.Text,{type:"secondary",children:[s.jsx("strong",{children:(e==null?void 0:e.tags)??"-"})," 个文章标签"]}),s.jsx(Jt,{className:fn.link,to:et[de.Tag],children:"管理标签"})]})},"contents")],Sj="YYYY-MM-DD",Vr="YYYY/MM/DD",Cj=e=>{const t=b.useRef(null),n=b.useMemo(()=>Xe(),[]),r=b.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const l=Xe(e.articleData[0].date),u=Xe(e.commentData[0].date);return l.isBefore(u)?l:u},[e.articleData,e.commentData]),a=b.useMemo(()=>{if(!r)return null;const l=new Map(e.articleData.flatMap(g=>[[g.date,g.count]])),u=new Map(e.commentData.flatMap(g=>[[g.date,g.count]])),h=n.diff(r,"day"),f=[],d=[],p=[];for(let g=0;g<=h;g++){const x=r.add(g,"day"),m=x.format(Sj),C=x.format(Vr);f.push(C),d.push(l.get(m)||0),p.push(u.get(m)||0)}return{dateList:f,articleCountList:d,commentCountList:p}},[r,e.articleData,e.commentData]),i=b.useMemo(()=>Hh({dataZoom:!0,startValue:n.subtract(3,"months").format(Vr),endValue:n.format(Vr),categoryData:(a==null?void 0:a.dateList)??[],barsData:[{data:(a==null?void 0:a.articleCountList)??[],name:"Articles",color:Bn},{data:(a==null?void 0:a.commentCountList)??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{var l,u;(u=(l=t.current)==null?void 0:l.instance())==null||u.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},c=l=>{var u,h;(h=(u=t.current)==null?void 0:u.instance())==null||h.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:l.format(Vr),endValue:Xe().format(Vr)})};return s.jsx(ve,{bordered:!1,title:e.title,loading:e.loading,extra:s.jsxs(O,{wrap:!0,children:[s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{onClick:()=>c(Xe().subtract(1,"month")),children:"最近一月"}),s.jsx(N,{onClick:()=>c(Xe().subtract(3,"months")),children:"最近三个月"}),s.jsx(N,{onClick:()=>c(Xe().subtract(1,"year")),children:"最近一年"}),s.jsx(N,{onClick:o,children:"全部视图"})]}),s.jsx(ee,{type:"vertical"}),e.cardExtra]}),children:s.jsx(tl,{ref:t,options:i,style:{width:"100%",height:e.height}})})},Ej="_dashboardPage_1jxrl_1",Tj="_gaChartContent_1jxrl_4",Rj="_gaTreeListContent_1jxrl_8",Sn={dashboardPage:Ej,gaChartContent:Tj,gaTreeListContent:Rj},Ij=()=>{const e=_i(),[t,n]=b.useState([]),[r,a]=b.useState([]),i=async()=>{const C=Promise.all([Dw(),Nw()]),[S,w]=await e.promise(C);n(S),a(w)},o=_i(),[c,l]=b.useState(null),u=()=>{o.promise(Ow()).then(C=>{l(C)})},h=b.useMemo(()=>_j(c,o.state),[c,o.state]),f=_i(),[d,p]=b.useState([]),[g,x]=b.useState(ss[0].value),m=()=>{const C=ss.find(y=>y.value===g),{getStartDate:S,getEndDate:w,dimension:j}=C.gaQueryParams,T=Gw(S(),w(),j);f.promise(T).then(y=>{var L,E;p(((E=(L=y.result)==null?void 0:L.data)==null?void 0:E.reports)??[])})};return b.useEffect(()=>m(),[g]),Ce(()=>{u(),i()}),s.jsxs(O,{direction:"vertical",size:Ku,className:Sn.dashboardPage,children:[s.jsx(Mt,{gutter:[Ve,Ve],children:h.map((C,S)=>s.jsx($e,{xs:24,md:12,lg:6,children:C},S))}),s.jsx(Mt,{gutter:[Ve,Ve],children:s.jsx($e,{xs:24,children:s.jsx(Cj,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:s.jsx(N,{size:"small",loading:e.state,icon:s.jsx(ot,{}),onClick:()=>i()})})})}),s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{xs:24,md:24,lg:9,children:s.jsx(ve,{bordered:!1,classNames:{body:Sn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:s.jsx(tj,{pollIntervalSeconds:10,chartHeight:200})})}),s.jsx($e,{xs:24,md:24,lg:15,children:s.jsx(ve,{bordered:!1,classNames:{body:Sn.gaChartContent},loading:f.state,title:"GA Overview",extra:s.jsxs(O,{wrap:!0,children:[s.jsx(Ga.Group,{options:ss,onChange:C=>x(C.target.value),value:g,disabled:f.state,optionType:"button",size:"small"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",loading:f.state,icon:s.jsx(ot,{}),onClick:()=>m()})]}),children:!f.state&&s.jsx(rj,{chartHeight:200,activeDateRange:g,rows:qw(d)})})})]}),s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Regions Rank",loading:f.state,classNames:{body:Sn.gaTreeListContent},children:!f.state&&s.jsx(cj,{rows:Vw(d)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Devices Rank",loading:f.state,classNames:{body:Sn.gaTreeListContent},children:!f.state&&s.jsx(dj,{rows:Kw(d)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Urls Rank",loading:f.state,classNames:{body:Sn.gaTreeListContent},children:!f.state&&s.jsx(pj,{rows:Yw(d)})})}),s.jsx($e,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Page Titles Rank",loading:f.state,classNames:{body:Sn.gaTreeListContent},children:!f.state&&s.jsx(xj,{rows:Ww(d)})})})]})]})},Lj=(e=!1,t=jd)=>{const n=t(e),r=()=>{n.value=!0},a=()=>{n.value=!1};return{state:n,start:r,stop:a,promise:o=>(r(),o.finally(a))}},he=(e=!1)=>Lj(e,X);var kj=4,Pj=.001,Aj=1e-7,Oj=10,Jr=11,Ka=1/(Jr-1),Dj=typeof Float32Array=="function";function Kh(e,t){return 1-3*t+3*e}function Yh(e,t){return 3*t-6*e}function Wh(e){return 3*e}function Ss(e,t,n){return((Kh(t,n)*e+Yh(t,n))*e+Wh(t))*e}function Gh(e,t,n){return 3*Kh(t,n)*e*e+2*Yh(t,n)*e+Wh(t)}function Nj(e,t,n,r,a){var i,o,c=0;do o=t+(n-t)/2,i=Ss(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Aj&&++c<Oj);return o}function $j(e,t,n,r){for(var a=0;a<kj;++a){var i=Gh(t,n,r);if(i===0)return t;var o=Ss(t,n,r)-e;t-=o/i}return t}function Fj(e){return e}var Mj=function(t,n,r,a){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return Fj;for(var i=Dj?new Float32Array(Jr):new Array(Jr),o=0;o<Jr;++o)i[o]=Ss(o*Ka,t,r);function c(l){for(var u=0,h=1,f=Jr-1;h!==f&&i[h]<=l;++h)u+=Ka;--h;var d=(l-i[h])/(i[h+1]-i[h]),p=u+d*Ka,g=Gh(p,t,r);return g>=Pj?$j(l,p,t,r):g===0?p:Nj(l,u,u+Ka,t,r)}return function(u){return u===0?0:u===1?1:Ss(c(u),n,a)}};const su=Ht(Mj),Uj={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Ya={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},lt=(e,t=500,n={})=>{n.easing=Uj.ease;const r=Ya.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let i=!1;const o=function(){i=!0};Ya.on(r,a,o);let c=0;const l=window.pageYOffset;if(typeof e=="number")c=e;else{const g=typeof e=="string"?Ya.$(e):e;c=l+g.getBoundingClientRect().top}let u=document.body.scrollHeight-c<window.innerHeight?document.body.scrollHeight-window.innerHeight:c;n.offset&&(u+=n.offset);const h=u-l,f=Reflect.apply(su,su,n.easing);let d;const p=function(){Ya.off(r,a,o),i&&n.onCancel&&n.onCancel(),!i&&n.onDone&&n.onDone()};h&&window.requestAnimationFrame(function g(x){if(i)return p();d||(d=x);const m=x-d;let C=Math.min(m/t,1);C=f(C),window.scrollTo(0,l+h*C),m<t?window.requestAnimationFrame(g):p()})},Cr=e=>s.jsx(Tu,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:s.jsx(N,{disabled:e.disabled,icon:s.jsx(cg,{}),iconPosition:"end",children:e.text??e.children})});var Jh=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Jh||{});const sl=[{id:0,name:"原创",icon:s.jsx(Ze,{}),color:"default"},{id:1,name:"转载",icon:s.jsx(mo,{}),color:"default"},{id:2,name:"衍生",icon:s.jsx(ug,{}),color:"default"}],zj=new Map(sl.map(e=>[e.id,e])),Bj=e=>zj.get(e);var Zh=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(Zh||{});const il=[{id:1,name:"公开",icon:s.jsx(dg,{}),color:"green"},{id:-1,name:"私密",icon:s.jsx(hg,{}),color:"red"},{id:0,name:"保留",icon:s.jsx(Is,{}),color:"orange"}],Hj=new Map(il.map(e=>[e.id,e])),qj=e=>Hj.get(e);var Tt=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Tt||{});const ol=[{id:0,name:"草稿",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"},{id:-1,name:"回收站",icon:s.jsx(Ke,{}),color:"red"}],Vj=new Map(ol.map(e=>[e.id,e])),ro=e=>Vj.get(e),Si=({emoji:e})=>s.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var Qh=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(Qh||{});const ll=[{id:"zh",name:"中文",icon:s.jsx(Si,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:s.jsx(Si,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:s.jsx(Si,{emoji:"🌐"})}];new Map(ll.map(e=>[e.id,e]));const Er="/article";function Kj(e={}){return K.get(Er,{params:e}).then(t=>t.result)}function Xh(e){return K.get(`${Er}/${e}`).then(t=>t.result)}function Yj(e){return K.post(Er,e).then(t=>t.result)}function Wj(e){return K.put(`${Er}/${e._id}`,e).then(t=>t.result)}function iu(e,t){return K.patch(Er,{article_ids:e,state:t}).then(n=>n.result)}function Gj(e){return K.delete(Er,{data:{article_ids:e}}).then(t=>t.result)}const ef=1,tf=-1;var Nn=(e=>(e[e.Asc=ef]="Asc",e[e.Desc=tf]="Desc",e))(Nn||{}),$n=(e=>(e[e.Asc=ef]="Asc",e[e.Desc=tf]="Desc",e[e.Hot=2]="Hot",e))($n||{});const Jj=[{id:$n.Desc,name:"最新",icon:s.jsx(fg,{})},{id:$n.Asc,name:"最早",icon:s.jsx(gg,{})},{id:2,name:"最热",icon:s.jsx(mg,{})}],Zj=new Map(Jj.map(e=>[e.id,e])),ou=e=>Zj.get(e),Hn=e=>{const t=[Nn.Desc,Nn.Asc],n=e.withHot?[...t,$n.Hot]:t;return s.jsx(je,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:s.jsxs(O,{size:"small",children:[ou(r).icon,ou(r).name]})}))})},Tr="/tag";function Qj(e={}){return K.get(Tr,{params:e}).then(t=>t.result)}function nf(){return K.get(`${Tr}/all`).then(e=>e.result)}function Xj(e){return K.post(Tr,e).then(t=>t.result)}function e0(e){return K.put(`${Tr}/${e._id}`,e).then(t=>t.result)}function t0(e){return K.delete(`${Tr}/${e}`).then(t=>t.result)}function n0(e){return K.delete(Tr,{data:{tag_ids:e}}).then(t=>t.result)}var cl={};(function(e){var t=Rt&&Rt.__assign||function(){return(t=Object.assign||function(o){for(var c,l=1,u=arguments.length;l<u;l++)for(var h in c=arguments[l])Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,c){c===void 0&&(c={});for(var l,u=t(t({},n),c),h=[],f={},d=u.throwIfOrphans?new Set:null,p=0,g=o;p<g.length;p++){var x=g[p],m=u.nestedIds?i(x,u.id):x[u.id],C=u.nestedIds?i(x,u.parentId):x[u.parentId];if(u.rootParentIds[m])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(m,'", `rootParentIds`: ').concat(Object.keys(u.rootParentIds).map(function(S){return'"'.concat(S,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(f,m)||(f[m]=((l={})[u.childrenField]=[],l)),d&&d.delete(m),u.dataField?f[m][u.dataField]=x:u.assign?f[m]=Object.assign(x,((l={})[u.childrenField]=f[m][u.childrenField],l)):f[m]=t(t({},x),((x={})[u.childrenField]=f[m][u.childrenField],x)),x=f[m],C==null||u.rootParentIds[C]?h.push(x):(Object.prototype.hasOwnProperty.call(f,C)||(f[C]=((m={})[u.childrenField]=[],m),d&&d.add(C)),f[C][u.childrenField].push(x))}if(d!=null&&d.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(d),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(u.throwIfOrphans&&a(h,u.childrenField)<Object.keys(f).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return h}function a(o,c){return o.reduce(function(l,u){return l+1+(u[c]&&a(u[c],c))},0)}function i(o,c){return c.split(".").reduce(function(l,u){return l&&l[u]},o)}e.arrayToTree=r,e.countNodes=a})(cl);const Zs="/category";function ul(){return K.get(`${Zs}/all`).then(e=>({list:e.result,tree:cl.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function dl(e){const t=n=>n.map(r=>{var a;return{data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:((a=e.disabledWhen)==null?void 0:a.call(e,r))??!1,children:t(r.children||[])}});return t(e.tree)}function r0(e){return K.post(Zs,e).then(t=>t.result)}function a0(e){return K.put(`${Zs}/${e._id}`,e).then(t=>t.result)}function s0(e){return K.delete(`${Zs}/${e}`).then(t=>t.result)}const qe="ALL",lu={sort:$n.Desc,featured:!1,tag_slug:qe,category_slug:qe,public:qe,state:qe,origin:qe,lang:qe},i0=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==qe?e.tag_slug:void 0,category_slug:e.category_slug!==qe?e.category_slug:void 0,state:e.state!==qe?e.state:void 0,public:e.public!==qe?e.public:void 0,origin:e.origin!==qe?e.origin:void 0,lang:e.lang!==qe?e.lang:void 0}),o0=e=>{const{i18n:t}=tt(),n=he(),r=Pt([]),a=()=>{n.promise(ul()).then(l=>{r.value=l.tree})},i=he(),o=Pt([]),c=()=>{i.promise(nf()).then(l=>{o.value=l})};return Ce(()=>{c(),a()}),s.jsxs(ue,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?s.jsx(po,{}):s.jsx(xo,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:l=>e.onParamsChange({state:l}),options:[{label:"全部状态",value:qe},...ol.map(l=>({value:l.id,label:s.jsxs(O,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(je,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:l=>e.onParamsChange({public:l}),options:[{label:"全部可见",value:qe},...il.map(l=>({value:l.id,label:s.jsxs(O,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(je,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:l=>e.onParamsChange({origin:l}),options:[{label:"全部来源",value:qe},...sl.map(l=>({value:l.id,label:s.jsxs(O,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(je,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:l=>e.onParamsChange({lang:l}),options:[{label:"全部语言",value:qe},...ll.map(l=>({value:l.id,label:s.jsxs(O,{size:"small",children:[l.icon,l.name]})}))]}),s.jsxs(O.Compact,{children:[s.jsx(Ru,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:l=>e.onParamsChange({category_slug:l}),treeData:[{label:"全部分类",key:qe,value:qe},...dl({tree:r.value,valuer:l=>l.slug})]}),s.jsx(je,{style:{width:140},loading:i.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:l=>e.onParamsChange({tag_slug:l}),options:[{label:"全部标签",value:qe},...o.value.map(l=>({value:l.slug,label:`${l.name} (${l.article_count})`}))]})]})]}),s.jsxs(O,{wrap:!0,children:[s.jsx(Hn,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:l=>e.onParamsChange({sort:l})}),s.jsx(ie.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:l=>e.onKeywordChange(l.target.value),allowClear:!0,onSearch:(l,u,h)=>{(h==null?void 0:h.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),s.jsx(O,{children:e.extra})]})},dR=e=>{var t;return(t=Xe(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Me=e=>{var t;return(t=Xe(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},l0=e=>{var t,n,r;return s.jsx(wn,{rowKey:a=>a._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(a,i)=>s.jsx(Iu.Ribbon,{color:i.featured?Bn:"transparent",text:i.featured?"精选":null,children:s.jsxs(ve,{size:"small",bordered:!1,styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${i.thumbnail}") center / cover`},children:[s.jsx(M.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:i.title}),s.jsx(M.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:i.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(a,i){return s.jsx(O,{direction:"vertical",size:"small",wrap:!0,children:i.tags.map(o=>s.jsx(Bt,{style:{cursor:"pointer"},icon:s.jsx(Lu,{}),onClick:()=>e.onClickTag(o),children:o.name},o._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(a,i){var o,c,l;return s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{size:"small",children:[s.jsx(fo,{}),"浏览 ",al(((o=i.meta)==null?void 0:o.views)??0)," 次"]}),s.jsxs(O,{size:"small",children:[s.jsx(go,{}),"喜欢 ",(c=i.meta)==null?void 0:c.likes," 次"]}),s.jsxs(O,{size:"small",children:[s.jsx(ha,{}),"评论 ",(l=i.meta)==null?void 0:l.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsxs("div",{children:["分类：",i.categories.map((o,c)=>s.jsxs("span",{children:[s.jsx(M.Link,{onClick:()=>e.onClickCategory(o),children:o.name}),i.categories[c+1]?s.jsx(ee,{type:"vertical"}):""]},c))]}),s.jsxs("div",{children:["发布：",Me(i.created_at)]}),s.jsxs("div",{children:["更新：",Me(i.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(a,i)=>s.jsx(O,{direction:"vertical",children:[ro(i.state),qj(i.public),Bj(i.origin)].map(o=>s.jsx(Bt,{icon:o.icon,color:o.color,children:o.name},o.id+o.name))})},{title:"操作",width:110,dataIndex:"actions",render:(a,i)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(Jt,{to:Sl.articleDetail(i._id),children:s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),children:"文章详情"})}),i.state===Tt.Draft&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(St,{}),onClick:()=>e.onUpdateState(i,Tt.Published),children:s.jsx(M.Text,{type:"success",children:"直接发布"})}),i.state===Tt.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onUpdateState(i,Tt.Recycle),children:"移回收站"}),i.state===Tt.Recycle&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(ku,{}),onClick:()=>e.onUpdateState(i,Tt.Draft),children:s.jsx(M.Text,{type:"warning",children:"退至草稿"})}),s.jsx(N,{size:"small",block:!0,type:"link",target:"_blank",icon:s.jsx(fa,{}),href:_s(i.id),children:"宿主页面"})]})}]})},c0=()=>{var f;const{i18n:e}=tt(),t=he(),n=en({data:[],pagination:void 0}),r=X([]),a=X(""),i=X({...lu}),o=(d={})=>{a.value="",i.value={...lu,...d}},c=d=>{const p={...d,...i0(i.value),keyword:a.value||void 0};t.promise(Kj(p)).then(g=>{n.data=g.data,n.pagination=g.pagination,lt(document.body)})},l=()=>{var d,p;c({page:(d=n.pagination)==null?void 0:d.current_page,per_page:(p=n.pagination)==null?void 0:p.per_page})},u=(d,p)=>{const g=ro(p).name;Ie.confirm({title:`确定要将此文章更新为「 ${g} 」状态吗？`,content:`《${d.title}》`,centered:!0,onOk:()=>iu([d._id],p).then(()=>{l()})})},h=(d,p)=>{const g=ro(p).name;Ie.confirm({title:`确定要将 ${d.length} 个文章更新为「 ${g} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>iu(d,p).then(()=>{l()})})};return Ct(()=>i.value,()=>c(),{deep:!0}),Ce(()=>{c()}),s.jsxs(ve,{bordered:!1,title:e.t("page.article.list.title",{total:((f=n.pagination)==null?void 0:f.total)??"-"}),extra:s.jsx(Jt,{to:et[de.ArticlePost],children:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Ze,{}),children:e.t("page.article.create")})}),children:[s.jsx(o0,{loading:t.state.value,keyword:a.value,onKeywordChange:d=>a.value=d,onKeywordSearch:()=>c(),params:i.value,onParamsChange:d=>Object.assign(i.value,d),onResetRefresh:()=>o({}),extra:s.jsx(Cr,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:s.jsx(ku,{}),onClick:()=>h(r.value,Tt.Draft)},{label:"直接发布",icon:s.jsx(St,{}),onClick:()=>h(r.value,Tt.Published)},{label:"移回收站",icon:s.jsx(Ke,{}),onClick:()=>h(r.value,Tt.Recycle)}]})}),s.jsx(ee,{}),s.jsx(l0,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:d=>r.value=d,onPaginate:(d,p)=>c({page:d,per_page:p}),onUpdateState:(d,p)=>u(d,p),onClickCategory:({slug:d})=>o({category_slug:d}),onClickTag:({slug:d})=>o({tag_slug:d})})]})};function u0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qs=u0,d0=va,h0=function(){return d0.Date.now()},f0=h0,g0=/\s/;function m0(e){for(var t=e.length;t--&&g0.test(e.charAt(t)););return t}var p0=m0,x0=p0,y0=/^\s+/;function v0(e){return e&&e.slice(0,x0(e)+1).replace(y0,"")}var b0=v0,w0=Qo,j0=Uh,_0="[object Symbol]";function S0(e){return typeof e=="symbol"||j0(e)&&w0(e)==_0}var C0=S0,E0=b0,cu=Qs,T0=C0,uu=NaN,R0=/^[-+]0x[0-9a-f]+$/i,I0=/^0b[01]+$/i,L0=/^0o[0-7]+$/i,k0=parseInt;function P0(e){if(typeof e=="number")return e;if(T0(e))return uu;if(cu(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cu(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=E0(e);var n=I0.test(e);return n||L0.test(e)?k0(e.slice(2),n?2:8):R0.test(e)?uu:+e}var A0=P0,O0=Qs,Ci=f0,du=A0,D0="Expected a function",N0=Math.max,$0=Math.min;function F0(e,t,n){var r,a,i,o,c,l,u=0,h=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(D0);t=du(t)||0,O0(n)&&(h=!!n.leading,f="maxWait"in n,i=f?N0(du(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function p(y){var L=r,E=a;return r=a=void 0,u=y,o=e.apply(E,L),o}function g(y){return u=y,c=setTimeout(C,t),h?p(y):o}function x(y){var L=y-l,E=y-u,R=t-L;return f?$0(R,i-E):R}function m(y){var L=y-l,E=y-u;return l===void 0||L>=t||L<0||f&&E>=i}function C(){var y=Ci();if(m(y))return S(y);c=setTimeout(C,x(y))}function S(y){return c=void 0,d&&r?p(y):(r=a=void 0,o)}function w(){c!==void 0&&clearTimeout(c),u=0,r=l=a=c=void 0}function j(){return c===void 0?o:S(Ci())}function T(){var y=Ci(),L=m(y);if(r=arguments,a=this,l=y,L){if(c===void 0)return g(l);if(f)return clearTimeout(c),c=setTimeout(C,t),p(l)}return c===void 0&&(c=setTimeout(C,t)),o}return T.cancel=w,T.flush=j,T}var M0=F0;const U0=Ht(M0);var da=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(da||{});const z0=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],hR=new Map(z0.map(e=>[e.id,e])),rf=e=>`uneditor-${e}`,fR=U0((e,t)=>Qt.set(rf(e),t),666),B0=e=>Qt.get(rf(e)),H0=mr.lazy(()=>nm(()=>import("./Editor-CozPrIll.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),gr=e=>s.jsx(mr.Suspense,{fallback:s.jsx(ve,{size:"small",loading:!0}),children:s.jsx(H0,{...e})}),q0=e=>t=>s.jsx(Gu,{initTheme:e.initTheme,children:s.jsx(Vu,{initLanguage:e.initLanguage,children:s.jsx(gr,{...t})})}),ao=e=>navigator.clipboard.writeText(e),V0=3e6;var af=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(af||{});const sf=()=>{const e=he(),t=X(!1),n=X(0);return{upload:(a,i=null,o)=>{if(a.size>V0)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const c=(i??a.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",c),e.promise(zw({file:a,name:c,onProgress:l=>{var u;console.debug("[upoader]","New upload progress:",l),t.value=!0,n.value=l*100,(u=o==null?void 0:o.onProgress)==null||u.call(o,l)}}).then(l=>(console.debug("[upoader]","Upload completed:",l.url),l)).catch(l=>(console.warn("[upoader]","Upload failed:",l),Promise.reject({code:"failure",error:l}))).finally(()=>{t.value=!1}))},uploading:e,progressing:t,progress:n}},Cs=e=>`![](${e})`,K0="_imageUploader_1yty1_1",Y0="_copyMarkdown_1yty1_4",W0="_uploader_1yty1_7",G0="_tigger_1yty1_15",J0="_image_1yty1_1",Kr={imageUploader:K0,copyMarkdown:Y0,uploader:W0,tigger:G0,image:J0},of=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,lf=e=>{const{i18n:t}=tt(),n=sf(),r=a=>{Ft.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,of(a,e.directory)).then(i=>{var o;(o=e.onChange)==null||o.call(e,i.url),Ft.success({message:t.t("component.image_uploader.state.succeeded"),description:i.key})}).catch(i=>{var o;Ft.error({message:t.t("component.image_uploader.state.failed"),description:i.code===af.Failure?String(((o=i.error)==null?void 0:o.message)??i.error):i.code})})};return s.jsxs(O,{direction:"vertical",className:Kr.imageUploader,children:[s.jsx(yo,{name:"file",listType:"picture-card",className:Kr.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>{var a;return(a=e.onChange)==null?void 0:a.call(e,"")},customRequest:a=>{a.file&&r(a.file)},children:e.value?s.jsx("img",{className:Kr.image,src:e.value,alt:e.value}):s.jsxs(O,{className:Kr.tigger,direction:"vertical",align:"center",size:"small",children:[n!=null&&n.uploading.state.value?s.jsx(Pu,{}):s.jsx(Un,{}),n!=null&&n.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&s.jsx(ie,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:s.jsx(ur,{}),value:e.value,onChange:a=>{var i;return(i=e.onChange)==null?void 0:i.call(e,a.target.value)}}),!e.disabledMarkdown&&e.value&&s.jsxs(O.Compact,{className:Kr.copyMarkdown,children:[s.jsx(ie,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:s.jsx(pg,{}),value:Cs(e.value)}),s.jsx(cr,{title:"Copy Markdown",children:s.jsx(N,{icon:s.jsx(mo,{}),onClick:()=>ao(Cs(e.value))})})]})]})},Z0="_inputWrapper_kev5k_1",Q0="_inputGroup_kev5k_4",hu={inputWrapper:Z0,inputGroup:Q0},wa=e=>s.jsx(P.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>s.jsxs(O,{direction:"vertical",size:"middle",className:hu.inputWrapper,children:[t.map(a=>s.jsxs(O,{size:"middle",className:hu.inputGroup,children:[s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:s.jsx(ie,{placeholder:"Name"})}),s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:s.jsx(ie,{placeholder:"Value"})}),s.jsx(N,{icon:s.jsx(Ke,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),s.jsx(N,{block:!0,type:"dashed",icon:s.jsx(Un,{}),onClick:()=>n(),children:s.jsx("span",{children:s.jsx(yr,{i18nKey:"component.form_key_value.add"})})})]})});function X0(e){let t=JSON.stringify(e.initValue,null,2);const n=q0({initTheme:e.initTheme,initLanguage:e.initLanguage});return Ie.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:In.t("component.modal_json_editor.save"),content:s.jsx("div",{style:{display:"grid",width:"100%"},children:s.jsx(n,{value:t,onChange:r=>t=r,placeholder:In.t("component.modal_json_editor.placeholder"),defaultLanguage:da.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=In.t("component.modal_json_editor.error");return pn.error(a),Promise.reject(a)}}})}const e_="_categorySelect_1vnzs_1",t_="_multipleImageUploader_1vnzs_11",n_="_copyButton_1vnzs_14",is={categorySelect:e_,multipleImageUploader:t_,copyButton:n_},r_=e=>{const t=sf(),n=Lx([]);return s.jsxs("div",{className:is.multipleImageUploader,children:[n.length?s.jsx(N,{block:!0,type:"dashed",className:is.copyButton,onClick:()=>{ao(n.map(Cs).join(`
`)),pn.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,s.jsxs(yo.Dragger,{className:is.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:s.jsx(cr,{title:"Copy Markdown",children:s.jsx(mo,{})})},onDownload:r=>{ao(Cs(r.response.url)),pn.info("复制成功")},onPreview:r=>{Ie.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>{var a,i;return s.jsx(ve,{title:((a=r.response)==null?void 0:a.key)??"",children:s.jsx("img",{style:{width:"100%"},src:(i=r.response)==null?void 0:i.url})})}})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,of(a,e.directory),{onProgress:i=>{var o;return(o=r.onProgress)==null?void 0:o.call(r,{percent:i})}}).then(i=>{var o;n.push(i.url),(o=r.onSuccess)==null||o.call(r,i)}).catch(i=>{var o;(o=r.onError)==null||o.call(r,i)})}},children:[s.jsx("br",{}),s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(vo,{})}),s.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),s.jsx("br",{})]})]})},a_=e=>{const t=s.jsxs(O,{children:[s.jsx(xg,{}),"图片上传器"]}),n=s.jsx(N,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return s.jsx(Ie,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(r_,{directory:e.uploaderDirectory})})},s_=e=>{const t=he(),n=Pt([]),r=()=>{t.promise(nf()).then(c=>{n.value=c})},a=e.value||[],i=(c,l)=>{var f;const u=c._id,h=l?[...a,u]:a.filter(d=>d!==u);(f=e.onChange)==null||f.call(e,h)};Ce(()=>{r()});const o=c=>{const l=a.includes(c._id);return s.jsx(N,{size:"small",onClick:()=>i(c,!l),type:l?"primary":"default",icon:l?s.jsx(Au,{}):s.jsx(Lu,{style:{opacity:.6}}),children:c.name},c._id)};return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(ho,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?s.jsx(O,{wrap:!0,size:[12,12],children:n.value.map(o)}):s.jsx(M.Text,{type:"secondary",children:"无数据"})})}),s.jsx(ee,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(ot,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},i_=e=>{var n;const t=X(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(P,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[(n=e.extraItems)==null?void 0:n.map((r,a)=>s.jsx(P.Item,{label:r.label,wrapperCol:{span:12},children:r.content},a)),s.jsx(P.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:s.jsx(ie,{addonBefore:qh,placeholder:"article-title",allowClear:!0})}),s.jsx(P.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:s.jsx(ie,{placeholder:"文章标题"})}),s.jsx(P.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"文章描述"})}),s.jsx(P.Item,{label:"关键词",name:"keywords",children:s.jsx(je,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{label:"标签",name:"tags",children:s.jsx(s_,{})}),s.jsx("br",{}),s.jsx(P.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:s.jsx(gr,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:r=>{if(r===da.Markdown)return s.jsx(N,{size:"small",icon:s.jsx(Ls,{}),onClick:()=>{t.value=!0}})}})})]}),s.jsx(a_,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${Xe().format("YYYY-MM-DD")}`})]})},o_=e=>{const t=he(),n=Pt([]),r=()=>{t.promise(ul()).then(i=>{n.value=i.tree})};Ce(()=>{r()});const a=()=>s.jsx(yg,{className:is.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:i=>{var c;const o=Array.isArray(i)?i:i.checked;(c=e.onChange)==null||c.call(e,o)},treeData:dl({tree:n.value,valuer:i=>i._id}),titleRender:i=>{const o=i.data;return s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{strong:!0,children:o.name}),s.jsx(ee,{type:"vertical"}),o.slug]})}});return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(ho,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():s.jsx(M.Text,{type:"secondary",children:"无数据"})})}),s.jsx(ee,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(ot,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},l_=e=>s.jsx(P,{scrollToFirstError:!0,form:e.form,children:s.jsx(P.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n!=null&&n.length?Promise.resolve():Promise.reject()}}],children:s.jsx(o_,{})})}),rr={message:"必选",required:!0},c_=e=>s.jsxs(P,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[s.jsx(P.Item,{required:!0,name:"state",label:"发布状态",rules:[rr],children:s.jsx(je,{placeholder:"文章发布状态",options:ol.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"origin",label:"文章来源",rules:[rr],children:s.jsx(je,{placeholder:"文章来源",options:sl.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"public",label:"公开类型",rules:[rr],children:s.jsx(je,{placeholder:"文章公开类型",options:il.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"lang",label:"内容语言",rules:[rr],children:s.jsx(je,{placeholder:"文章语言",options:ll.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"featured",label:"精选文章",rules:[rr],valuePropName:"checked",children:s.jsx(Oi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(P.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[rr],valuePropName:"checked",children:s.jsx(Oi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(ee,{}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(St,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),u_=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:Jh.Original,state:Tt.Published,public:Zh.Public,lang:Qh.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),cf=e=>{const{i18n:t}=tt(),{language:n}=xr(),{theme:r}=Ds(),[a]=P.useForm(),[i]=P.useForm(),[o]=P.useForm(),[c]=P.useForm(),[l]=P.useForm(),u=d=>{a.setFieldsValue(d),i.setFieldsValue(d),o.setFieldsValue(d),c.setFieldsValue(d),l.setFieldsValue(d)},h=async()=>{var d;try{const p={...e.article,...await a.validateFields(),...await i.validateFields(),...await o.validateFields(),...await c.validateFields(),...await l.validateFields()};p.slug=p.slug||null,(d=e.onSubmit)==null||d.call(e,p)}catch(p){console.debug("Article 提交错误：",p),pn.error("请检查表单中的不合法项")}},f=()=>{X0({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:c.getFieldsValue(),callback:d=>c.setFieldsValue(d)})};return b.useEffect(()=>{e.article&&u(e.article)},[e.article]),Ce(()=>{u(u_),lt(document.body)}),s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{xs:24,lg:17,children:s.jsx(ve,{bordered:!1,title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(i_,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),s.jsx($e,{xs:24,lg:7,children:s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.categories"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(l_,{form:i})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.thumbnail"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:o,children:s.jsx(P.Item,{noStyle:!0,name:"thumbnail",children:s.jsx(lf,{directory:"thumbnail"})})})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.extends"),bordered:!1,extra:s.jsx(N,{type:"link",size:"small",icon:s.jsx(Ze,{}),disabled:e.loading,onClick:f,children:"以 JSON 编辑"}),children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:c,children:s.jsx(P.Item,{noStyle:!0,shouldUpdate:!0,children:s.jsx(wa,{fieldName:"extends"})})})})})}),s.jsx($e,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.states"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(c_,{form:l,submitting:e.submitting,onSubmit:h})})})})]})})]})},uf="/vote";function df(e={}){return K.get(uf,{params:e}).then(t=>t.result)}function d_(e){return K.delete(uf,{data:{vote_ids:e}}).then(t=>t.result)}const h_="_emoji_9ujl9_1",f_={emoji:h_},qn=e=>s.jsx(ba,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&el(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return s.jsxs("span",{className:e.className,children:[n?s.jsx("span",{className:f_.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var hl=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(hl||{}),or=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(or||{}),os=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(os||{});const g_=new Map([[1,"页面"],[2,"评论"]]),ls=e=>g_.get(e),m_=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),fl=e=>m_.get(e),hf=[{id:1,name:"+1",icon:s.jsx(zn,{})},{id:-1,name:"-1",icon:s.jsx(pr,{})}],p_=new Map(hf.map(e=>[e.id,e])),Es=e=>p_.get(e);var so={exports:{}};(function(e,t){(function(n,r){var a="1.0.38",i="",o="?",c="function",l="undefined",u="object",h="string",f="major",d="model",p="name",g="type",x="vendor",m="version",C="architecture",S="console",w="mobile",j="tablet",T="smarttv",y="wearable",L="embedded",E=500,R="Amazon",D="Apple",$="ASUS",z="BlackBerry",Z="Browser",B="Chrome",oe="Edge",ge="Firefox",Y="Google",xe="Huawei",Ae="LG",Ue="Microsoft",ze="Motorola",nt="Opera",wt="Samsung",ct="Sharp",rt="Sony",Qe="Xiaomi",Dt="Zebra",Vt="Facebook",Kt="Chromium OS",rn="Mac OS",Kn=function(ne,fe){var Q={};for(var le in ne)fe[le]&&fe[le].length%2===0?Q[le]=fe[le].concat(ne[le]):Q[le]=ne[le];return Q},Ee=function(ne){for(var fe={},Q=0;Q<ne.length;Q++)fe[ne[Q].toUpperCase()]=ne[Q];return fe},gt=function(ne,fe){return typeof ne===h?at(fe).indexOf(at(ne))!==-1:!1},at=function(ne){return ne.toLowerCase()},We=function(ne){return typeof ne===h?ne.replace(/[^\d\.]/g,i).split(".")[0]:r},Te=function(ne,fe){if(typeof ne===h)return ne=ne.replace(/^\s\s*/,i),typeof fe===l?ne:ne.substring(0,E)},jt=function(ne,fe){for(var Q=0,le,Be,pt,ce,G,He;Q<fe.length&&!G;){var Yn=fe[Q],Pr=fe[Q+1];for(le=Be=0;le<Yn.length&&!G&&Yn[le];)if(G=Yn[le++].exec(ne),G)for(pt=0;pt<Pr.length;pt++)He=G[++Be],ce=Pr[pt],typeof ce===u&&ce.length>0?ce.length===2?typeof ce[1]==c?this[ce[0]]=ce[1].call(this,He):this[ce[0]]=ce[1]:ce.length===3?typeof ce[1]===c&&!(ce[1].exec&&ce[1].test)?this[ce[0]]=He?ce[1].call(this,He,ce[2]):r:this[ce[0]]=He?He.replace(ce[1],ce[2]):r:ce.length===4&&(this[ce[0]]=He?ce[3].call(this,He.replace(ce[1],ce[2])):r):this[ce]=He||r;Q+=2}},kr=function(ne,fe){for(var Q in fe)if(typeof fe[Q]===u&&fe[Q].length>0){for(var le=0;le<fe[Q].length;le++)if(gt(fe[Q][le],ne))return Q===o?r:Q}else if(gt(fe[Q],ne))return Q===o?r:Q;return ne},Ta={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ra={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ia={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,nt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[p,nt+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[p,nt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/\bddg\/([\w\.]+)/i],[m,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+Z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+Z]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+Z],m],[/\bfocus\/([\w\.]+)/i],[m,[p,ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,nt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,nt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+Z]],[/fxios\/([-\w\.]+)/i],[m,[p,ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+Z]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+Z],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,wt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Vt],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,B+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+Z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,kr,Ta]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,at]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,i,at]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,at]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[x,wt],[g,j]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[x,wt],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[x,D],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[x,D],[g,j]],[/(macintosh);/i],[d,[x,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[x,ct],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[x,xe],[g,j]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[x,xe],[g,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[x,Qe],[g,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[x,Qe],[g,j]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[x,"OPPO"],[g,w]],[/\b(opd2\d{3}a?) bui/i],[d,[x,"OPPO"],[g,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[x,"Vivo"],[g,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[x,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[x,ze],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[x,ze],[g,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[x,Ae],[g,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[x,Ae],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[x,"Lenovo"],[g,j]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[x,"Nokia"],[g,w]],[/(pixel c)\b/i],[d,[x,Y],[g,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[x,Y],[g,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[x,rt],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[x,rt],[g,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[x,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[x,R],[g,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[x,R],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[d,x,[g,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[x,z],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[x,$],[g,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[x,$],[g,w]],[/(nexus 9)/i],[d,[x,"HTC"],[g,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[d,/_/g," "],[g,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[x,"Acer"],[g,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[x,"Meizu"],[g,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[x,"Ulefone"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,d,[g,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,d,[g,j]],[/(surface duo)/i],[d,[x,Ue],[g,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[x,"Fairphone"],[g,w]],[/(u304aa)/i],[d,[x,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[d,[x,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[d,[x,"RCA"],[g,j]],[/\b(venue[\d ]{2,7}) b/i],[d,[x,"Dell"],[g,j]],[/\b(q(?:mv|ta)\w+) b/i],[d,[x,"Verizon"],[g,j]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[x,"Barnes & Noble"],[g,j]],[/\b(tm\d{3}\w+) b/i],[d,[x,"NuVision"],[g,j]],[/\b(k88) b/i],[d,[x,"ZTE"],[g,j]],[/\b(nx\d{3}j) b/i],[d,[x,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[d,[x,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[d,[x,"Swiss"],[g,j]],[/\b((zeki)?tb.*\b) b/i],[d,[x,"Zeki"],[g,j]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],d,[g,j]],[/\b(ns-?\w{0,9}) b/i],[d,[x,"Insignia"],[g,j]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[x,"NextBook"],[g,j]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],d,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],d,[g,w]],[/\b(ph-1) /i],[d,[x,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[x,"Envizen"],[g,j]],[/\b(trio[-\w\. ]+) b/i],[d,[x,"MachSpeed"],[g,j]],[/\btu_(1491) b/i],[d,[x,"Rotor"],[g,j]],[/(shield[\w ]+) b/i],[d,[x,"Nvidia"],[g,j]],[/(sprint) (\w+)/i],[x,d,[g,w]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[x,Ue],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[x,Dt],[g,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[x,Dt],[g,w]],[/smart-tv.+(samsung)/i],[x,[g,T]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[x,wt],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,Ae],[g,T]],[/(apple) ?tv/i],[x,[d,D+" TV"],[g,T]],[/crkey/i],[[d,B+"cast"],[x,Y],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[d,[x,R],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[x,ct],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[d,[x,rt],[g,T]],[/(mitv-\w{5}) bui/i],[d,[x,Qe],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[x,d,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Te],[d,Te],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,d,[g,S]],[/droid.+; (shield) bui/i],[d,[x,"Nvidia"],[g,S]],[/(playstation [345portablevi]+)/i],[d,[x,rt],[g,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[x,Ue],[g,S]],[/((pebble))app/i],[x,d,[g,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[x,D],[g,y]],[/droid.+; (glass) \d/i],[d,[x,Y],[g,y]],[/droid.+; (wt63?0{2,3})\)/i],[d,[x,Dt],[g,y]],[/(quest( \d| pro)?)/i],[d,[x,Vt],[g,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[g,L]],[/(aeobc)\b/i],[d,[x,R],[g,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[g,j]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,oe+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,kr,Ra]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,kr,Ra],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,rn],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Kt],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},mt=function(ne,fe){if(typeof ne===u&&(fe=ne,ne=r),!(this instanceof mt))return new mt(ne,fe).getResult();var Q=typeof n!==l&&n.navigator?n.navigator:r,le=ne||(Q&&Q.userAgent?Q.userAgent:i),Be=Q&&Q.userAgentData?Q.userAgentData:r,pt=fe?Kn(Ia,fe):Ia,ce=Q&&Q.userAgent==le;return this.getBrowser=function(){var G={};return G[p]=r,G[m]=r,jt.call(G,le,pt.browser),G[f]=We(G[m]),ce&&Q&&Q.brave&&typeof Q.brave.isBrave==c&&(G[p]="Brave"),G},this.getCPU=function(){var G={};return G[C]=r,jt.call(G,le,pt.cpu),G},this.getDevice=function(){var G={};return G[x]=r,G[d]=r,G[g]=r,jt.call(G,le,pt.device),ce&&!G[g]&&Be&&Be.mobile&&(G[g]=w),ce&&G[d]=="Macintosh"&&Q&&typeof Q.standalone!==l&&Q.maxTouchPoints&&Q.maxTouchPoints>2&&(G[d]="iPad",G[g]=j),G},this.getEngine=function(){var G={};return G[p]=r,G[m]=r,jt.call(G,le,pt.engine),G},this.getOS=function(){var G={};return G[p]=r,G[m]=r,jt.call(G,le,pt.os),ce&&!G[p]&&Be&&Be.platform&&Be.platform!="Unknown"&&(G[p]=Be.platform.replace(/chrome os/i,Kt).replace(/macos/i,rn)),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return le},this.setUA=function(G){return le=typeof G===h&&G.length>E?Te(G,E):G,this},this.setUA(le),this};mt.VERSION=a,mt.BROWSER=Ee([p,m,f]),mt.CPU=Ee([C]),mt.DEVICE=Ee([d,x,g,S,w,T,j,y,L]),mt.ENGINE=mt.OS=Ee([p,m]),e.exports&&(t=e.exports=mt),t.UAParser=mt;var an=typeof n!==l&&(n.jQuery||n.Zepto);if(an&&!an.ua){var Nt=new mt;an.ua=Nt.getResult(),an.ua.get=function(){return Nt.getUA()},an.ua.set=function(ne){Nt.setUA(ne);var fe=Nt.getResult();for(var Q in fe)an.ua[Q]=fe[Q]}}})(typeof window=="object"?window:Rt)})(so,so.exports);var gl=so.exports;const bn=e=>{const t=new gl.UAParser(e).getBrowser();return t.name&&t.version?`${t.name} | ${t.version}`:null},Vn=e=>{const t=new gl.UAParser(e).getOS();return t.name&&t.version?`${t.name} | ${t.version}`:null},ja=e=>{const t=new gl.UAParser(e).getDevice();return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},x_=e=>{var t;return s.jsx(vg,{column:3,items:[{key:"user",label:"用户",children:s.jsx(O,{direction:"vertical",children:s.jsx(dr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:s.jsxs("span",{children:[s.jsx(J,{text:(t=e.author)==null?void 0:t.name,placeholder:"未知用户"}),"（",fl(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:s.jsx(Bt,{icon:Es(e.vote_type).icon,color:e.vote_type===hl.Upvote?"green":"red",children:s.jsx("strong",{children:Es(e.vote_type).name})})},{key:"browser",label:"浏览器",children:s.jsx(J,{text:bn(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:s.jsx(J,{text:Me(e.created_at)})},{key:"os",label:"系统",children:s.jsx(J,{text:Vn(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:s.jsx(qn,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:s.jsx(J,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]})},y_=e=>{const t=he(),n=he(),r=X([]),a=Pt(null),i=Pt(Nn.Desc),o=At(()=>a.value?a.value.current_page<a.value.total_page:!1),c=async(l=1)=>{const u=l===1,h=u?t:n;u&&(r.value=[],a.value=null);const f={page:l,per_page:50,target_type:or.Post,target_id:e.articleId,sort:i.value},d=await h.promise(df(f));u?(r.value=d.data,a.value=d.pagination):(r.value.push(...d.data),a.value=d.pagination)};return Ce(()=>c()),s.jsxs(ks,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsxs(O.Compact,{children:[s.jsx(Hn,{disabled:t.state.value||n.state.value,value:i.value,onChange:l=>{i.value=l,c()}}),s.jsx(N,{icon:s.jsx(ot,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"})]}),children:[s.jsx(Xt,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:l=>s.jsx(Xt.Item,{children:x_(l)})}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Un,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var l;return c(((l=a.value)==null?void 0:l.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},_a="/comment",v_=e=>cl.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function ff(e={}){return K.get(_a,{params:e}).then(t=>t.result)}function b_(e){return K.put(`${_a}/${e._id}`,e).then(t=>t.result)}function w_(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return K.patch(_a,r).then(a=>a.result)}function j_(e,t){return K.delete(_a,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function __(e){return K.put(`${_a}/${e}/ip_location`).then(t=>t.result)}const S_=e=>{const t=he(),n=he(),r=X([]),a=Pt(null),i=Pt($n.Desc),o=At(()=>a.value?a.value.current_page<a.value.total_page:!1),c=At(()=>v_(r.value)),l=async(u=1)=>{const h=u===1,f=h?t:n;h&&(r.value=[],a.value=null);const d={page:u,per_page:50,post_id:e.articleId,sort:i.value},p=await f.promise(ff(d));h?(r.value=p.data,a.value=p.pagination):(r.value.push(...p.data),a.value=p.pagination)};return Ce(()=>l()),s.jsxs(ks,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsx(Hn,{withHot:!0,disabled:t.state.value||n.state.value,value:i.value,onChange:u=>{i.value=u,l()}}),footer:s.jsxs(ue,{justify:"space-between",align:"bottom",children:[s.jsx(N,{size:"small",icon:s.jsx(ot,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"}),s.jsx(N,{size:"small",type:"primary",icon:s.jsx(fa,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:c.value,loading:n.state.value}),s.jsx(ee,{}),s.jsx(ue,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Un,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var u;return l(((u=a.value)==null?void 0:u.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},C_=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},E_=(e,t)=>e.length?C_(e)[t]:void 0,gf=e=>E_(e,"disqus-author-username"),T_=e=>`https://www.gravatar.com/avatar/${e}`,R_=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,I_=e=>{if(e.author.email_hash)return T_(e.author.email_hash);const t=gf(e.extends);return t?R_(t):""},L_="_commentContent_9dq3k_1",k_="_avatarBadge_9dq3k_5",P_="_avatarBadgeIconWrapper_9dq3k_5",A_="_avatarBadgeIcon_9dq3k_5",cs={commentContent:L_,avatarBadge:k_,avatarBadgeIconWrapper:P_,avatarBadgeIcon:A_},ml=e=>{const t=!!gf(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return s.jsx(Iu,{className:cs.avatarBadge,title:n,count:s.jsx(dr,{placement:"right",content:n,children:s.jsx("span",{className:cs.avatarBadgeIconWrapper,children:s.jsx("img",{className:cs.avatarBadgeIcon,src:rl(r)})})}),children:s.jsx(bo,{shape:"square",size:e.size,src:I_(e.comment)})})},mf=e=>s.jsx(Xt,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>{var n;return s.jsx(Xt.Item,{children:s.jsxs(ue,{align:"flex-start",gap:"large",children:[s.jsx("div",{style:{marginTop:"var(--app-padding)"},children:s.jsx(ml,{size:"large",comment:t})}),s.jsxs(O,{direction:"vertical",style:{flex:1},children:[s.jsxs(ue,{justify:"space-between",children:[s.jsxs("div",{children:[t.author.site?s.jsx(M.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):s.jsx(M.Text,{strong:!0,children:t.author.name}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:s.jsx(qn,{data:t.ip_location},"ip-location")}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:Me(t.created_at)})]}),s.jsx(Bt,{color:na(t.state).color,icon:na(t.state).icon,children:na(t.state).name})]}),s.jsx(M.Paragraph,{style:{margin:0},children:t.content}),s.jsxs(O,{children:[s.jsxs(M.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?s.jsx(bg,{}):s.jsx(zn,{})," ",t.likes]}),s.jsxs(M.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?s.jsx(wg,{}):s.jsx(pr,{})," ",t.dislikes]}),s.jsx(J,{type:"secondary",placeholder:"未知浏览器",small:!0,text:bn(t.agent)}),s.jsx(J,{type:"secondary",placeholder:"未知系统",small:!0,text:Vn(t.agent)})]}),(n=t.children)!=null&&n.length?s.jsx(mf,{comments:t.children||[]}):""]})]})})}}),O_=()=>{var d,p,g,x,m,C,S,w,j,T,y,L;const{article_id:e}=Ly(),t=Sl.articleDetail(e),n=nn(),r=he(),a=he(),i=X(null),o=X(!1),c=X(!1),l=async()=>{try{const E=await r.promise(Xh(e)),R=B0(t);R&&R!==E.content?Ie.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){i.value={...E,content:R||""}},onCancel(){i.value=E}}):i.value=E}catch(E){Ie.error({centered:!0,title:"文章请求失败",content:String(E.message)})}},u=E=>a.promise(Wj(E)).then(R=>{i.value=R,lt(document.body)}),h=()=>{Ie.confirm({title:`你确定要彻底删除文章《${i.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>{var E;return a.promise(Gj([(E=i.value)==null?void 0:E._id])).then(()=>{n(et[de.ArticleList]),lt(document.body)})}})},f=()=>{var E;n({pathname:et[de.Comment],search:`post_id=${(E=i.value)==null?void 0:E.id}`})};return Ce(()=>l()),s.jsxs(s.Fragment,{children:[s.jsx(cf,{article:i.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:E=>u(E),mainFormExtraItems:[{label:"ID",content:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{children:((d=i.value)==null?void 0:d.id)??"-"}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{children:((p=i.value)==null?void 0:p._id)??"-"})]})}],mainCardExtra:s.jsxs(O,{size:"small",wrap:!0,children:[s.jsxs(O.Compact,{size:"small",children:[s.jsx(cr,{title:yj(((x=(g=i.value)==null?void 0:g.meta)==null?void 0:x.views)??0),children:s.jsxs(N,{icon:s.jsx(fo,{}),loading:r.state.value,children:[al(((C=(m=i.value)==null?void 0:m.meta)==null?void 0:C.views)??0)," 阅读"]})}),s.jsxs(N,{icon:s.jsx(go,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>c.value=!0,children:[((w=(S=i.value)==null?void 0:S.meta)==null?void 0:w.likes)??""," 喜欢"]}),s.jsxs(N,{icon:s.jsx(ha,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[((T=(j=i.value)==null?void 0:j.meta)==null?void 0:T.comments)??""," 评论"]})]}),s.jsx(ee,{type:"vertical"}),s.jsx(cr,{title:_s((y=i.value)==null?void 0:y.id),children:s.jsx(N,{size:"small",type:"dashed",target:"_blank",icon:s.jsx(fa,{}),loading:r.state.value,disabled:r.state.value,href:_s((L=i.value)==null?void 0:L.id),children:"打开"})}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{type:"dashed",size:"small",danger:!0,icon:s.jsx(Ke,{}),disabled:r.state.value,onClick:()=>pn.warning("双击执行删除操作"),onDoubleClick:h,children:"删除文章"})]})}),i.value&&s.jsxs(s.Fragment,{children:[s.jsx(y_,{width:"48rem",open:c.value,likeCount:i.value.meta.likes,articleId:i.value.id,onClose:()=>c.value=!1}),s.jsx(S_,{width:"68rem",open:o.value,commentCount:i.value.meta.comments,articleId:i.value.id,renderTreeList:({comments:E,loading:R})=>s.jsx(mf,{comments:E,loading:R}),onClose:()=>o.value=!1,onNavigate:f})]})]})},D_=()=>{const e=nn(),t=he(),n=r=>t.promise(Yj(r)).then(a=>{e(Sl.articleDetail(a._id)),lt(document.body)});return s.jsx(cf,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},Sa="/announcement";function N_(e={}){return K.get(Sa,{params:e}).then(t=>t.result)}function $_(e){return K.post(Sa,e).then(t=>t.result)}function F_(e){return K.put(`${Sa}/${e._id}`,e).then(t=>t.result)}function M_(e){return K.delete(`${Sa}/${e}`).then(t=>t.result)}function U_(e){return K.delete(Sa,{data:{announcement_ids:e}}).then(t=>t.result)}var pf=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(pf||{});const pl=[{id:0,name:"未发布",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(St,{}),color:"green"}],z_=new Map(pl.map(e=>[e.id,e])),B_=e=>z_.get(e),xl="ALL",fu={state:xl,sort:Nn.Desc},H_=e=>({state:e.state!==xl?e.state:void 0,sort:e.sort}),q_=e=>{const{i18n:t}=tt();return s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:xl},...pl.map(n=>({value:n.id,label:s.jsxs(O,{size:"small",children:[n.icon,n.name]})}))]}),s.jsx(Hn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),s.jsx(ie.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(O,{children:e.extra})]})},V_=e=>{var t,n,r;return s.jsx(wn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(a,i)=>Me(i.created_at)},{title:"状态",width:120,dataIndex:"state",render:(a,i)=>{const o=B_(i.state);return s.jsx(Bt,{icon:o.icon,color:o.color,children:o.name})}},{title:"操作",width:160,dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onDelete(i,o),children:"删除"})]})}]})},K_={labelCol:{span:4},wrapperCol:{span:19}},Y_=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),s.jsx(Ie,{width:e.width,centered:!0,forceRender:!0,destroyOnClose:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...K_,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.initData.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"发布于",children:Me(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Me(e.initData.updated_at)})]}),s.jsx(P.Item,{label:"发布状态",name:"state",initialValue:pf.Published,rules:[{required:!0,message:"请选择状态"}],children:s.jsx(je,{placeholder:"选择状态",options:pl.map(r=>({value:r.id,label:s.jsxs(O,{size:"small",children:[r.icon,r.name]})}))})}),s.jsx(P.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(gr,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},W_=()=>{var j;const{i18n:e}=tt(),t=he(),n=he(),r=en({data:[],pagination:void 0}),a=X(""),i=X({...fu}),o=()=>{a.value="",i.value={...fu}},c=X([]),l=X(!1),u=X(null),h=At(()=>{const T=u.value;return T!==null?r.data[T]:null}),f=()=>{l.value=!1},d=T=>{u.value=T,l.value=!0},p=()=>{u.value=null,l.value=!0},g=T=>{const y={...T,...H_(i.value),keyword:a.value||void 0};t.promise(N_(y)).then(L=>{r.data=L.data,r.pagination=L.pagination,lt(document.body)})},x=()=>{var T,y;g({page:(T=r.pagination)==null?void 0:T.current_page,per_page:(y=r.pagination)==null?void 0:y.per_page})},m=T=>{n.promise($_(T)).then(()=>{f(),x()})},C=T=>{const y={...h.value,...T};n.promise(F_(y)).then(()=>{f(),x()})},S=T=>{Ie.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>M_(T).then(()=>{x()})})},w=T=>{Ie.confirm({title:`确定要删除 ${T.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>U_(T).then(()=>{x()})})};return Ct(()=>i.value,()=>g(),{deep:!0}),Ce(()=>{g()}),s.jsxs(ve,{bordered:!1,title:e.t("page.announcement.list.title",{total:((j=r.pagination)==null?void 0:j.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Un,{}),onClick:p,children:"发布新公告"}),children:[s.jsx(q_,{loading:t.state.value,keyword:a.value,onKeywordChange:T=>a.value=T,onKeywordSearch:()=>g(),params:i.value,onParamsChange:T=>Object.assign(i.value,T),onResetRefresh:o,extra:s.jsx(Cr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(Ke,{}),onClick:()=>w(c.value)}]})}),s.jsx(ee,{}),s.jsx(V_,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:T=>c.value=T,onEdit:(T,y)=>d(y),onDelete:T=>S(T._id),onPaginate:(T,y)=>g({page:T,per_page:y})}),s.jsx(Y_,{width:680,title:h.value?"编辑公告":"新公告",open:l.value,submitting:n.state.value,initData:h.value,onCancel:f,onSubmit:T=>{h.value?C(T):m(T)}})]})},G_={labelCol:{span:5},wrapperCol:{span:18}},Zr="null",J_={pid:Zr,extends:[{name:"icon",value:"icon-category"}]},Z_=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===Zr?null:r.pid})})};return b.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??Zr})):(t.resetFields(),t.setFieldsValue({...J_}))},[e.initData,e.open]),s.jsx(Ie,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...G_,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.initData.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"创建于",children:Me(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Me(e.initData.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"分类名称"})}),s.jsx(P.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"分类别名"})}),s.jsx(P.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){var i;return a===Zr?Promise.resolve():a===((i=e.initData)==null?void 0:i._id)?Promise.reject():Promise.resolve()}}],children:s.jsx(Ru,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:Zr},...e.selectTree]})}),s.jsx(P.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"分类描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(wa,{fieldName:"extends"})})]})})},Q_="_categoryTreeNode_1cgqs_1",X_="_levelIcon_1cgqs_11",Ei={categoryTreeNode:Q_,levelIcon:X_},xf=e=>s.jsx(Xt,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>{var n;return s.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[s.jsxs(ue,{justify:"space-between",align:"start",className:Ei.categoryTreeNode,children:[e.level&&s.jsx("div",{className:Ei.levelIcon,children:s.jsx(jg,{})}),s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{strong:!0,children:t.name}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:t.slug}),s.jsx(ee,{type:"vertical"}),s.jsxs(M.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),s.jsx(J,{type:"secondary",text:t.description})]}),s.jsxs("div",{className:Ei.actions,children:[s.jsx(N,{size:"small",type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(t),children:"编辑"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",type:"text",danger:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onDelete(t),children:"删除"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",icon:s.jsx(fa,{}),type:"link",target:"_blank",href:gj(t.slug),children:"查看"})]})]}),(n=t.children)!=null&&n.length?s.jsx(xf,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}}),eS=()=>{var x;const{i18n:e}=tt(),t=he(),n=he(),r=Pt([]),a=Pt([]),i=X(!1),o=X(null),c=At(()=>o.value?a.value.find(m=>m._id===o.value):null),l=()=>{i.value=!1},u=m=>{o.value=m,i.value=!0},h=()=>{i.value=!0,o.value=null},f=()=>t.promise(ul()).then(m=>{a.value=m.list,r.value=m.tree}),d=m=>{n.promise(r0(m)).then(()=>{l(),f()})},p=m=>{const C={...c.value,...m};n.promise(a0(C)).then(()=>{l(),f()})},g=m=>{Ie.confirm({title:`确定要删除分类「 ${m.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>s0(m._id).then(()=>{f()})})};return Ce(()=>f()),s.jsxs(ve,{bordered:!1,title:e.t("page.category.list.title",{total:((x=a.value)==null?void 0:x.length)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Un,{}),onClick:h,children:"创建新分类"}),children:[s.jsx(O,{children:s.jsx(N,{icon:s.jsx(ot,{}),loading:t.state.value,onClick:()=>f(),children:e.t("common.list.filter.refresh")})}),s.jsx(ee,{}),s.jsx(xf,{tree:r.value,loading:t.state.value,onEdit:m=>u(m._id),onDelete:m=>g(m)}),s.jsx(Z_,{width:680,title:c.value?"编辑分类":"新分类",open:i.value,submitting:n.state.value,initData:c.value,onCancel:()=>l(),onSubmit:m=>{c.value?p(m):d(m)},selectTree:dl({tree:r.value,valuer:m=>m._id,disabledWhen:m=>{var C,S;return m._id===((C=c.value)==null?void 0:C._id)?!0:m.pid===((S=c.value)==null?void 0:S._id)}})})]})},tS=e=>{const{i18n:t}=tt();return s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(ie.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(O,{children:e.extra})]})},nS=e=>{var t,n,r;return s.jsx(wn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onDelete(i,o),children:"删除"}),s.jsx(N,{type:"link",target:"_blank",icon:s.jsx(fa,{}),href:fj(i.slug),children:"查看"})]})}]})},rS={labelCol:{span:5},wrapperCol:{span:18}},aS={extends:[{name:"icon",value:"icon-tag"}]},sS=e=>{var r,a,i,o;const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??aS)},[e.initData,e.open]),s.jsx(Ie,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...rS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:(r=e.initData)==null?void 0:r.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:(a=e.initData)==null?void 0:a._id})]})}),s.jsx(P.Item,{label:"创建于",children:Me((i=e.initData)==null?void 0:i.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Me((o=e.initData)==null?void 0:o.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"标签名称"})}),s.jsx(P.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"标签别名"})}),s.jsx(P.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"标签描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(wa,{fieldName:"extends"})})]})})},iS=()=>{var w;const{i18n:e}=tt(),t=he(),n=he(),r=en({data:[],pagination:void 0}),a=X(""),i=X([]),o=X(!1),c=X(null),l=At(()=>{const j=c.value;return j!==null?r.data[j]:null}),u=()=>{o.value=!1},h=j=>{c.value=j,o.value=!0},f=()=>{c.value=null,o.value=!0},d=j=>{const T={...j,keyword:a.value||void 0};t.promise(Qj(T)).then(y=>{r.data=y.data,r.pagination=y.pagination,lt(document.body)})},p=()=>{var j,T;d({page:(j=r.pagination)==null?void 0:j.current_page,per_page:(T=r.pagination)==null?void 0:T.per_page})},g=j=>{n.promise(Xj(j)).then(()=>{u(),p()})},x=j=>{const T={...l.value,...j};n.promise(e0(T)).then(()=>{u(),p()})},m=j=>{Ie.confirm({title:`确定要删除标签「 ${j.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>t0(j._id).then(()=>{p()})})},C=j=>{Ie.confirm({title:`确定要删除 ${j.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>n0(j).then(()=>{p()})})},S=()=>{a.value="",d()};return Ce(()=>{d()}),s.jsxs(ve,{bordered:!1,title:e.t("page.tag.list.title",{total:((w=r.pagination)==null?void 0:w.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Un,{}),onClick:f,children:"创建新标签"}),children:[s.jsx(tS,{loading:t.state.value,keyword:a.value,onKeywordChange:j=>a.value=j,onKeywordSearch:()=>d(),onResetRefresh:S,extra:s.jsx(Cr,{text:"批量操作",disabled:!i.value.length,options:[{label:"批量删除",icon:s.jsx(Ke,{}),onClick:()=>C(i.value)}]})}),s.jsx(ee,{}),s.jsx(nS,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:i.value,onSelect:j=>i.value=j,onPaginate:(j,T)=>d({page:j,per_page:T}),onEdit:(j,T)=>h(T),onDelete:j=>m(j)}),s.jsx(sS,{width:680,title:l.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:l.value,onCancel:u,onSubmit:j=>l.value?x(j):g(j)})]})},yf="%[a-f0-9]{2}",gu=new RegExp("("+yf+")|([^%]+?)","gi"),mu=new RegExp("("+yf+")+","gi");function io(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],io(n),io(r))}function oS(e){try{return decodeURIComponent(e)}catch{let t=e.match(gu)||[];for(let n=1;n<t.length;n++)e=io(t,n).join(""),t=e.match(gu)||[];return e}}function lS(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=mu.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=oS(n[0]);a!==n[0]&&(t[n[0]]=a)}n=mu.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function cS(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return lS(e)}}function uS(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a!=null&&a.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const i=e[r];t(r,i,e)&&Object.defineProperty(n,r,a)}}return n}function vf(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const dS=e=>e==null,hS=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),oo=Symbol("encodeFragmentIdentifier");function fS(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[De(t,e),"[",a,"]"].join("")]:[...n,[De(t,e),"[",De(a,e),"]=",De(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[De(t,e),"[]"].join("")]:[...n,[De(t,e),"[]=",De(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[De(t,e),":list="].join("")]:[...n,[De(t,e),":list=",De(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[De(n,e),t,De(a,e)].join("")]:[[r,De(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,De(t,e)]:[...n,[De(t,e),"=",De(r,e)].join("")]}}function gS(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&Gt(r,e).includes(e.arrayFormatSeparator);r=o?Gt(r,e):r;const c=i||o?r.split(e.arrayFormatSeparator).map(l=>Gt(l,e)):r===null?r:Gt(r,e);a[n]=c};case"bracket-separator":return(n,r,a)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){a[n]=r&&Gt(r,e);return}const o=r===null?[]:r.split(e.arrayFormatSeparator).map(c=>Gt(c,e));if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function bf(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function De(e,t){return t.encode?t.strict?hS(e):encodeURIComponent(e):e}function Gt(e,t){return t.decode?cS(e):e}function wf(e){return Array.isArray(e)?e.sort():typeof e=="object"?wf(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function jf(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function mS(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function pu(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function yl(e){e=jf(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function vl(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},bf(t.arrayFormatSeparator);const n=gS(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const i=t.decode?a.replaceAll("+"," "):a;let[o,c]=vf(i,"=");o===void 0&&(o=i),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:Gt(c,t),n(Gt(o,t),c,r)}for(const[a,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[a]!=="string")for(const[o,c]of Object.entries(i)){const l=t.types[a]?t.types[a].replace("[]",""):void 0;i[o]=pu(c,t,l)}else typeof i=="object"&&i!==null&&t.types[a]==="string"?r[a]=Object.values(i).join(t.arrayFormatSeparator):r[a]=pu(i,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,i)=>{const o=r[i];return a[i]=o&&typeof o=="object"&&!Array.isArray(o)?wf(o):o,a},Object.create(null))}function _f(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},bf(t.arrayFormatSeparator);const n=o=>t.skipNull&&dS(e[o])||t.skipEmptyString&&e[o]==="",r=fS(t),a={};for(const[o,c]of Object.entries(e))n(o)||(a[o]=c);const i=Object.keys(a);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const c=e[o];return c===void 0?"":c===null?De(o,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?De(o,t)+"[]":c.reduce(r(o),[]).join("&"):De(o,t)+"="+De(c,t)}).filter(o=>o.length>0).join("&")}function Sf(e,t){var a;t={decode:!0,...t};let[n,r]=vf(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:vl(yl(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Gt(r,t)}:{}}}function Cf(e,t){t={encode:!0,strict:!0,[oo]:!0,...t};const n=jf(e.url).split("?")[0]||"",r=yl(e.url),a={...vl(r,{sort:!1}),...e.query};let i=_f(a,t);i&&(i=`?${i}`);let o=mS(e.url);if(typeof e.fragmentIdentifier=="string"){const c=new URL(n);c.hash=e.fragmentIdentifier,o=t[oo]?c.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}function Ef(e,t,n){n={parseFragmentIdentifier:!0,[oo]:!1,...n};const{url:r,query:a,fragmentIdentifier:i}=Sf(e,n);return Cf({url:r,query:uS(a,t),fragmentIdentifier:i},n)}function pS(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,i)=>!t(a,i);return Ef(e,r,n)}const xS=Object.freeze(Object.defineProperty({__proto__:null,exclude:pS,extract:yl,parse:vl,parseUrl:Sf,pick:Ef,stringify:_f,stringifyUrl:Cf},Symbol.toStringTag,{value:"Module"}));var yS=Qo,vS=Qs,bS="[object AsyncFunction]",wS="[object Function]",jS="[object GeneratorFunction]",_S="[object Proxy]";function SS(e){if(!vS(e))return!1;var t=yS(e);return t==wS||t==jS||t==bS||t==_S}var CS=SS,ES=va,TS=ES["__core-js_shared__"],RS=TS,Ti=RS,xu=function(){var e=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function IS(e){return!!xu&&xu in e}var LS=IS,kS=Function.prototype,PS=kS.toString;function AS(e){if(e!=null){try{return PS.call(e)}catch{}try{return e+""}catch{}}return""}var OS=AS,DS=CS,NS=LS,$S=Qs,FS=OS,MS=/[\\^$.*+?()[\]{}|]/g,US=/^\[object .+?Constructor\]$/,zS=Function.prototype,BS=Object.prototype,HS=zS.toString,qS=BS.hasOwnProperty,VS=RegExp("^"+HS.call(qS).replace(MS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KS(e){if(!$S(e)||NS(e))return!1;var t=DS(e)?VS:US;return t.test(FS(e))}var YS=KS;function WS(e,t){return e==null?void 0:e[t]}var GS=WS,JS=YS,ZS=GS;function QS(e,t){var n=ZS(e,t);return JS(n)?n:void 0}var bl=QS,XS=bl,e1=XS(Object,"create"),Xs=e1,yu=Xs;function t1(){this.__data__=yu?yu(null):{},this.size=0}var n1=t1;function r1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a1=r1,s1=Xs,i1="__lodash_hash_undefined__",o1=Object.prototype,l1=o1.hasOwnProperty;function c1(e){var t=this.__data__;if(s1){var n=t[e];return n===i1?void 0:n}return l1.call(t,e)?t[e]:void 0}var u1=c1,d1=Xs,h1=Object.prototype,f1=h1.hasOwnProperty;function g1(e){var t=this.__data__;return d1?t[e]!==void 0:f1.call(t,e)}var m1=g1,p1=Xs,x1="__lodash_hash_undefined__";function y1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=p1&&t===void 0?x1:t,this}var v1=y1,b1=n1,w1=a1,j1=u1,_1=m1,S1=v1;function Rr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rr.prototype.clear=b1;Rr.prototype.delete=w1;Rr.prototype.get=j1;Rr.prototype.has=_1;Rr.prototype.set=S1;var C1=Rr;function E1(){this.__data__=[],this.size=0}var T1=E1;function R1(e,t){return e===t||e!==e&&t!==t}var I1=R1,L1=I1;function k1(e,t){for(var n=e.length;n--;)if(L1(e[n][0],t))return n;return-1}var ei=k1,P1=ei,A1=Array.prototype,O1=A1.splice;function D1(e){var t=this.__data__,n=P1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():O1.call(t,n,1),--this.size,!0}var N1=D1,$1=ei;function F1(e){var t=this.__data__,n=$1(t,e);return n<0?void 0:t[n][1]}var M1=F1,U1=ei;function z1(e){return U1(this.__data__,e)>-1}var B1=z1,H1=ei;function q1(e,t){var n=this.__data__,r=H1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var V1=q1,K1=T1,Y1=N1,W1=M1,G1=B1,J1=V1;function Ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ir.prototype.clear=K1;Ir.prototype.delete=Y1;Ir.prototype.get=W1;Ir.prototype.has=G1;Ir.prototype.set=J1;var Z1=Ir,Q1=bl,X1=va,eC=Q1(X1,"Map"),tC=eC,vu=C1,nC=Z1,rC=tC;function aC(){this.size=0,this.__data__={hash:new vu,map:new(rC||nC),string:new vu}}var sC=aC;function iC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oC=iC,lC=oC;function cC(e,t){var n=e.__data__;return lC(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ti=cC,uC=ti;function dC(e){var t=uC(this,e).delete(e);return this.size-=t?1:0,t}var hC=dC,fC=ti;function gC(e){return fC(this,e).get(e)}var mC=gC,pC=ti;function xC(e){return pC(this,e).has(e)}var yC=xC,vC=ti;function bC(e,t){var n=vC(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var wC=bC,jC=sC,_C=hC,SC=mC,CC=yC,EC=wC;function Lr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lr.prototype.clear=jC;Lr.prototype.delete=_C;Lr.prototype.get=SC;Lr.prototype.has=CC;Lr.prototype.set=EC;var TC=Lr,RC="__lodash_hash_undefined__";function IC(e){return this.__data__.set(e,RC),this}var LC=IC;function kC(e){return this.__data__.has(e)}var PC=kC,AC=TC,OC=LC,DC=PC;function Ts(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new AC;++t<n;)this.add(e[t])}Ts.prototype.add=Ts.prototype.push=OC;Ts.prototype.has=DC;var NC=Ts;function $C(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var FC=$C;function MC(e){return e!==e}var UC=MC;function zC(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var BC=zC,HC=FC,qC=UC,VC=BC;function KC(e,t,n){return t===t?VC(e,t,n):HC(e,qC,n)}var YC=KC,WC=YC;function GC(e,t){var n=e==null?0:e.length;return!!n&&WC(e,t,0)>-1}var JC=GC;function ZC(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var QC=ZC;function XC(e,t){return e.has(t)}var eE=XC,tE=bl,nE=va,rE=tE(nE,"Set"),aE=rE;function sE(){}var iE=sE;function oE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Tf=oE,Ri=aE,lE=iE,cE=Tf,uE=1/0,dE=Ri&&1/cE(new Ri([,-0]))[1]==uE?function(e){return new Ri(e)}:lE,hE=dE,fE=NC,gE=JC,mE=QC,pE=eE,xE=hE,yE=Tf,vE=200;function bE(e,t,n){var r=-1,a=gE,i=e.length,o=!0,c=[],l=c;if(n)o=!1,a=mE;else if(i>=vE){var u=t?null:xE(e);if(u)return yE(u);o=!1,a=pE,l=new fE}else l=t?[]:c;e:for(;++r<i;){var h=e[r],f=t?t(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),c.push(h)}else a(l,f,n)||(l!==c&&l.push(f),c.push(h))}return c}var wE=bE,jE=wE;function _E(e){return e&&e.length?jE(e):[]}var SE=_E;const bu=Ht(SE),CE="_input_1s5lo_1",EE={input:CE};function wl(e){const t=b.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return s.jsxs(O.Compact,{className:ra(e.className,e.rootClassName),style:e.style,size:e.size,children:[s.jsx(je,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),s.jsx(ie.Search,{className:ra(EE.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>{var r;return(r=e.onInputChange)==null?void 0:r.call(e,n.target.value)},onSearch:(n,r,a)=>{var i;(a==null?void 0:a.source)==="input"&&((i=e.onInputSearch)==null||i.call(e,n))}})]})}const gn="ALL",Wa=Object.freeze({postId:gn,state:gn,sort:$n.Desc}),TE=e=>({post_id:e.postId!==gn?e.postId:void 0,state:e.state!==gn?e.state:void 0,sort:e.sort}),RE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(wl,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):gn;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===gn?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:gn,label:"全部评论"},{value:ua,label:"留言评论"}]}),s.jsx(je,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:gn},...nl.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(Hn,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(ie.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(yr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),IE=e=>{const t=en({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async i=>{try{await __(i),t.done.push(i)}catch{t.fail.push(i)}finally{t.todo=t.todo.slice().filter(o=>o!==i)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const i=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];pn.info(i.join("，"))}},r=()=>{const a=e.comments.filter(i=>{var o;return!!i.ip&&!((o=i.ip_location)!=null&&o.region_code)}).map(i=>i._id);a.length?(t.todo.push(...a),n(),pn.info(`开始任务，共 ${a.length} 条数据`)):pn.info("没有需要修正的数据")};return s.jsxs(O,{wrap:!0,children:[s.jsxs(N.Group,{children:[t.running&&s.jsxs(N,{size:"small",onClick:()=>{Ie.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,s.jsx(ee,{type:"vertical"}),"DONE: ",t.done.length,s.jsx(ee,{type:"vertical"}),"FAIL: ",t.fail.length]}),s.jsx(N,{size:"small",icon:s.jsx(Rs,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(_g,{}),href:Vh(),children:"去留言板"})]})},LE=e=>{var t,n,r;return s.jsx(wn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(a,i){return s.jsx(N,{size:"small",onClick:()=>e.onClickPostId(i.post_id),children:i.post_id})}},{title:"评论内容",dataIndex:"content",render:(a,i)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Paragraph,{className:cs.commentContent,ellipsis:{rows:5,expandable:!0},children:i.content}),s.jsx(J,{type:"secondary",text:Me(i.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{children:[s.jsx(ml,{comment:i}),s.jsx(J,{text:i.author.name})]}),s.jsxs(O,{direction:"vertical",size:"small",children:[s.jsx(J,{placeholder:"Left blank",prefix:s.jsx(Ps,{}),text:i.author.email,copyable:!0}),s.jsxs(O,{size:"small",children:[s.jsx(ur,{}),s.jsx(ba,{data:i.author.site,placeholder:"Left blank",children:o=>s.jsx(dr,{placement:"top",content:o,children:s.jsx(M.Link,{target:"_blank",rel:"noreferrer",href:o,children:"点击打开"})})})]})]})]})}},{title:"终端信息",width:210,dataIndex:"agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(Rs,{}),text:i.ip,copyable:!0}),s.jsxs(O,{size:"small",children:[s.jsx(Ou,{}),s.jsx(qn,{data:i.ip_location})]}),s.jsxs(O,{size:"small",children:[s.jsx(Du,{}),s.jsx(dr,{title:"终端信息",placement:"right",content:s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"浏览器",text:bn(i.agent)})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"系统",text:Vn(i.agent)})}),s.jsx("div",{children:s.jsx(J,{prefix:"设备",text:ja(i.agent)})})]}),children:bn(i.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(a,i)=>{const o=na(i.state);return s.jsxs(O,{direction:"vertical",children:[s.jsx(Bt,{icon:o.icon,color:o.color,children:o.name}),s.jsxs(Bt,{icon:s.jsx(zn,{}),color:i.likes>0?"processing":void 0,children:[i.likes," 个赞"]}),s.jsxs(Bt,{icon:s.jsx(pr,{}),color:i.dislikes>0?"gold":void 0,children:[i.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(a,i,o)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"评论详情"}),i.state===it.Auditing&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(St,{}),onClick:()=>e.onUpdateState(i,it.Published),children:s.jsx(M.Text,{type:"success",children:"审核通过"})}),i.state===it.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Is,{}),onClick:()=>e.onUpdateState(i,it.Spam),children:"标为垃圾"}),(i.state===it.Auditing||i.state===it.Published)&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onUpdateState(i,it.Deleted),children:"移回收站"}),(i.state===it.Deleted||i.state===it.Spam)&&s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onUpdateState(i,it.Auditing),children:s.jsx(M.Text,{type:"warning",children:"退为草稿"})}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})]})}]})},kE=e=>{var i,o,c,l,u,h,f,d,p,g,x,m,C,S,w;const[t]=P.useForm(),n=Pt(null),r=j=>{Xh(j).then(T=>{n.value=T})},a=()=>{t.validateFields().then(j=>{e.onSubmit(j)})};return Ce(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==ua&&r(e.comment.post_id)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:(i=e.comment)==null?void 0:i.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:(o=e.comment)==null?void 0:o._id})]})}),s.jsx(P.Item,{label:"发布于",children:Me((c=e.comment)==null?void 0:c.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Me((l=e.comment)==null?void 0:l.updated_at)}),s.jsx(P.Item,{label:"用户头像",children:s.jsx(ml,{size:"large",comment:e.comment})}),s.jsx(P.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:s.jsx(ie,{prefix:s.jsx(Mn,{})})}),s.jsx(P.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:s.jsx(ie,{prefix:s.jsx(Ps,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:s.jsx(ie,{prefix:s.jsx(ur,{}),type:"url",placeholder:"URL",suffix:s.jsx(Sg,{onClick:()=>{var T;const j=(T=e.comment)==null?void 0:T.author.site;j&&window.open(j)}})})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(J,{text:(u=e.comment)==null?void 0:u.ip,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(qn,{data:(h=e.comment)==null?void 0:h.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(J,{text:bn((f=e.comment)==null?void 0:f.agent),placeholder:"未知浏览器"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:Vn((d=e.comment)==null?void 0:d.agent),placeholder:"未知系统"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:ja((p=e.comment)==null?void 0:p.agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:s.jsx(Pl,{addonBefore:s.jsx(zn,{}),placeholder:"多少"})}),s.jsx(P.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:s.jsx(Pl,{addonBefore:s.jsx(pr,{}),placeholder:"多少"})}),s.jsx(P.Item,{label:"宿主页面",children:s.jsxs(N,{type:"link",target:"_blank",icon:s.jsx(ur,{}),href:mj((g=e.comment)==null?void 0:g.post_id),children:[((x=e.comment)==null?void 0:x.post_id)===ua?"留言板":((m=n.value)==null?void 0:m.title)??"加载中⋯",s.jsx(ee,{type:"vertical"}),s.jsxs("span",{children:["#",(C=e.comment)==null?void 0:C.id]})]})}),(S=e.comment)!=null&&S.pid?s.jsx(P.Item,{label:"父级评论",children:s.jsxs(M.Text,{strong:!0,children:["#",(w=e.comment)==null?void 0:w.pid]})}):null,s.jsx(P.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:s.jsx(je,{placeholder:"选择状态",options:nl.map(j=>({value:j.id,label:s.jsxs(O,{size:"small",children:[j.icon,j.name]})}))})}),s.jsx(P.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(gr,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:s.jsx(wa,{fieldName:"extends"})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(St,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},PE=()=>{var E;const e=_n(),{i18n:t}=tt(),{post_id:n}=xS.parse(e.search),r=n?Number(n):void 0,a=he(),i=he(),o=en({data:[],pagination:void 0}),c=X(""),l=X(String(r??"")),u=X({...Wa,postId:r??Wa.postId}),h=()=>{c.value="",l.value="",u.value={...Wa}},f=R=>{c.value="",l.value=String(R),u.value={...Wa,postId:Number(R)}},d=X([]),p=At(()=>o.data.filter(R=>d.value.includes(R._id))),g=X(!1),x=X(null),m=At(()=>{const R=x.value;return R!==null?o.data[R]:null}),C=()=>{g.value=!1},S=R=>{x.value=R,g.value=!0},w=R=>{const D={...R,...TE(u.value),keyword:c.value||void 0};a.promise(ff(D)).then($=>{o.data=$.data,o.pagination=$.pagination,lt(document.body)})},j=()=>{var R,D;w({page:(R=o.pagination)==null?void 0:R.current_page,per_page:(D=o.pagination)==null?void 0:D.per_page})},T=R=>{const D={...m.value,...R};i.promise(b_(D)).then(()=>{C(),j()})},y=R=>{Ie.confirm({title:`确定要彻底删除 ${R.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>j_(R.map(D=>D._id),bu(R.map(D=>D.post_id))).then(()=>{j()})})},L=(R,D)=>{Ie.confirm({title:`确定要将 ${R.length} 个评论更新为「 ${na(D).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>w_(R.map($=>$._id),bu(R.map($=>$.post_id)),D).then(()=>{j()})})};return Ct(()=>u.value,()=>w(),{deep:!0}),Ce(()=>{w()}),s.jsxs(ve,{bordered:!1,title:t.t("page.comment.list.title",{total:((E=o.pagination)==null?void 0:E.total)??"-"}),extra:s.jsx(IE,{comments:o.data,loading:a.state.value}),children:[s.jsx(RE,{loading:a.state.value,keyword:c.value,onKeywordChange:R=>c.value=R,onKeywordSearch:()=>w(),params:u.value,onParamsChange:R=>Object.assign(u.value,R),postIdInput:l.value,onPostIdInputChange:R=>l.value=R,onResetRefresh:h,extra:s.jsx(Cr,{text:"批量操作",disabled:!d.value.length,options:[{label:"退为草稿",icon:s.jsx(Ze,{}),onClick:()=>L(p.value,it.Auditing)},{label:"审核通过",icon:s.jsx(St,{}),onClick:()=>L(p.value,it.Published)},{label:"标为垃圾",icon:s.jsx(Is,{}),onClick:()=>L(p.value,it.Spam)},{label:"移回收站",icon:s.jsx(Ke,{}),onClick:()=>L(p.value,it.Deleted)},{label:"彻底删除",icon:s.jsx(Ke,{}),onClick:()=>y(p.value)}]})}),s.jsx(ee,{}),s.jsx(LE,{loading:a.state.value,selectedIds:d.value,onSelecte:R=>d.value=R,data:o.data,pagination:o.pagination,onPaginate:(R,D)=>w({page:R,per_page:D}),onDetail:(R,D)=>S(D),onDelete:R=>y([R]),onUpdateState:(R,D)=>L([R],D),onClickPostId:f}),s.jsx(ks,{width:"46rem",title:"评论详情",destroyOnClose:!0,open:g.value,onClose:C,children:s.jsx(dt,{spinning:i.state.value,children:m.value&&s.jsx(kE,{submitting:i.state.value,comment:m.value,onSubmit:R=>T(R)})})})]})},zt="ALL",AE=void 0,Ii={target_type:zt,vote_type:zt,author_type:zt,sort:Nn.Desc},OE=e=>({target_type:e.target_type!==zt?e.target_type:void 0,vote_type:e.vote_type!==zt?e.vote_type:void 0,author_type:e.author_type!==zt?e.author_type:void 0,sort:e.sort}),DE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(O.Compact,{children:s.jsx(wl,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===zt?"目标":ls(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:zt,label:"所有类型"},{value:or.Post,label:ls(or.Post)},{value:or.Comment,label:ls(or.Comment)}]})}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:zt,label:"所有态度"},...hf.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(je,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:zt,label:"所有用户"},...[os.Anonymous,os.Guest,os.Disqus].map(t=>({value:t,label:fl(t)}))]}),s.jsx(Hn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(yr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),NE=e=>{var t,n,r;return s.jsx(wn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(a,i)=>s.jsxs(N,{type:"link",onClick:()=>e.onClickTarget(i),children:[ls(i.target_type)," #",i.target_id===ua?"Guestbook":i.target_id]})},{title:"态度",dataIndex:"vote_type",render:(a,i)=>s.jsx(Bt,{icon:Es(i.vote_type).icon,color:i.vote_type===hl.Upvote?"green":"red",children:s.jsx("strong",{children:Es(i.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(a,i)=>{var o;return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(Cg,{}),text:fl(i.author_type)}),s.jsx(dr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(i.author,null,2)}),children:s.jsx("span",{children:s.jsx(J,{prefix:s.jsx(Mn,{}),text:(o=i.author)==null?void 0:o.name,placeholder:"未知用户"})})})]})}},{title:"IP / GEO",dataIndex:"ip",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(Rs,{}),text:i.ip,copyable:!0,placeholder:"未知 IP"}),s.jsxs(O,{size:"small",children:[s.jsx(Ou,{}),s.jsx(qn,{data:i.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(Du,{}),text:bn(i.user_agent),placeholder:"未知浏览器"}),s.jsx(O,{size:"small",children:s.jsx(J,{prefix:s.jsx(Eg,{}),text:Vn(i.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(O,{size:"small",children:s.jsx(J,{prefix:s.jsx(Tg,{}),text:ja(i.user_agent),placeholder:"未知设备"})}),s.jsx(J,{prefix:s.jsx(Nu,{}),text:Me(i.created_at)})]})}}]})},$E=()=>{var p;const{i18n:e}=tt(),t=he(),n=en({data:[],pagination:void 0}),r=X({...Ii}),a=X(void 0),i=g=>{a.value=Number.isFinite(g)?g:void 0},o=()=>{a.value=AE,r.value={...Ii}},c=g=>{a.value=g.target_id,r.value={...Ii,target_type:g.target_type}},l=X([]),u=At(()=>n.data.filter(g=>l.value.includes(g._id))),h=g=>{const x={...g,...OE(r.value),target_id:a.value};t.promise(df(x)).then(m=>{n.data=m.data,n.pagination=m.pagination,lt(document.body)})},f=()=>{var g,x;h({page:(g=n.pagination)==null?void 0:g.current_page,per_page:(x=n.pagination)==null?void 0:x.per_page})},d=g=>{Ie.confirm({title:`确定要彻底删除 ${g.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>d_(g.map(x=>x._id)).then(()=>{f()})})};return Ct(()=>r.value,()=>h(),{deep:!0}),Ce(()=>{h()}),s.jsxs(ve,{bordered:!1,title:e.t("page.vote.list.title",{total:((p=n.pagination)==null?void 0:p.total)??"-"}),children:[s.jsx(DE,{loading:t.state.value,targetId:a.value,onTargetIdChange:i,onTargetIdSearch:()=>h(),params:r.value,onParamsChange:g=>Object.assign(r.value,g),onResetRefresh:o,extra:s.jsx(Cr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(Ke,{}),onClick:()=>d(u.value)}]})}),s.jsx(ee,{}),s.jsx(NE,{loading:t.state.value,selectedIds:l.value,data:n.data,pagination:n.pagination,onSelecte:g=>l.value=g,onPaginate:(g,x)=>h({page:g,per_page:x}),onClickTarget:g=>c(g)})]})},jl="/feedback";function FE(e={}){return K.get(jl,{params:e}).then(t=>t.result)}function ME(e){return K.put(`${jl}/${e._id}`,e).then(t=>t.result)}function UE(e){return K.delete(jl,{data:{feedback_ids:e}}).then(t=>t.result)}var Rf=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(Rf||{});const zE=[{number:0,boolean:!1,name:"未标记",icon:s.jsx(xo,{})},{number:1,boolean:!0,name:"已标记",icon:s.jsx(po,{style:{color:"#fadb14"}})}],BE=new Map(zE.map(e=>[e.number,e])),lo=e=>BE.get(e?1:0),Pn="ALL",wu={marked:!1,tid:Pn,emotion:Pn,sort:Nn.Desc},HE=e=>({marked:e.marked?Rf.Yes:void 0,tid:e.tid!==Pn?e.tid:void 0,emotion:e.emotion!==Pn?e.emotion:void 0,sort:e.sort}),qE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?s.jsx(po,{}):s.jsx(xo,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),s.jsx(wl,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):Pn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:Pn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:Pn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),s.jsx(Hn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(ie.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(ot,{}),loading:e.loading,onClick:e.onResetRefresh,children:s.jsx("span",{children:s.jsx(yr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),VE="_feedbackContent_1w5aj_1",KE={feedbackContent:VE},YE=e=>{var t,n,r;return s.jsx(wn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(a,i)=>lo(i.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(a,i)=>s.jsx(mn,{prefix:i.emotion_emoji,value:i.emotion})},{title:"反馈内容",dataIndex:"content",render:(a,i)=>s.jsx(M.Paragraph,{className:KE.feedbackContent,ellipsis:{rows:3,expandable:!0},children:i.content})},{title:"备注",width:180,dataIndex:"remark",render:(a,i)=>s.jsx(ba,{data:i.remark||null,children:o=>s.jsx(M.Paragraph,{ellipsis:{rows:3,expandable:!0},children:o})})},{title:"发布于",width:200,dataIndex:"agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(dr,{title:"终端信息",placement:"left",style:{width:300},content:s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"用户：",text:i.user_name})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"邮箱：",text:i.user_email,copyable:!0})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"来源：",text:i.origin,copyable:!0})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"IP：",text:i.ip||void 0,copyable:!0})}),s.jsxs(M.Paragraph,{children:["位置： ",s.jsx(qn,{data:i.ip_location})]}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"浏览器：",text:bn(i.user_agent)})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"系统：",text:Vn(i.user_agent)})}),s.jsx("div",{children:s.jsx(J,{prefix:"设备：",text:ja(i.user_agent)})})]}),children:s.jsx("span",{children:s.jsx(J,{prefix:s.jsx(Mn,{}),text:i.user_name,placeholder:"Anonymous"})})}),s.jsx(J,{prefix:s.jsx(Nu,{}),text:Me(i.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(a,i,o)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"反馈详情"}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(Ke,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})}]})},WE=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return Ce(()=>{t.setFieldsValue(e.feedback)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.feedback.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.feedback._id})]})}),s.jsx(P.Item,{label:"TID",children:s.jsx(M.Text,{copyable:!0,children:e.feedback.tid})}),s.jsx(P.Item,{label:"发布于",children:Me(e.feedback.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Me(e.feedback.updated_at)}),s.jsx(P.Item,{name:"marked",label:"是否标记",children:s.jsxs(Ga.Group,{size:"middle",children:[s.jsx(Ga.Button,{value:!1,children:lo(!1).icon}),s.jsx(Ga.Button,{value:!0,children:lo(!0).icon})]})}),s.jsx(P.Item,{name:"user_name",label:"用户昵称",children:s.jsx(ie,{prefix:s.jsx(Mn,{})})}),s.jsx(P.Item,{name:"user_email",label:"用户邮箱",children:s.jsx(ie,{prefix:s.jsx(Ps,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(J,{text:e.feedback.ip||null,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(qn,{data:e.feedback.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(J,{text:bn(e.feedback.user_agent),placeholder:"未知浏览器"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:Vn(e.feedback.user_agent),placeholder:"未知系统"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:ja(e.feedback.user_agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{label:"反馈评分",children:s.jsx(mn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),s.jsx(P.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{autoSize:{minRows:8,maxRows:18}})}),s.jsx(P.Item,{label:"备注",name:"remark",children:s.jsx(ie.TextArea,{autoSize:{minRows:3,maxRows:8}})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(St,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},GE=()=>{var S;const{i18n:e}=tt(),t=he(),n=he(),r=en({data:[],pagination:void 0}),a=X(""),i=X({...wu}),o=()=>{a.value="",i.value={...wu}},c=X([]),l=At(()=>r.data.filter(w=>c.value.includes(w._id))),u=X(!1),h=X(null),f=At(()=>{const w=h.value;return w!==null?r.data[w]:null}),d=()=>{u.value=!1},p=w=>{h.value=w,u.value=!0},g=w=>{const j={...w,...HE(i.value),keyword:a.value||void 0};t.promise(FE(j)).then(T=>{r.data=T.data,r.pagination=T.pagination,lt(document.body)})},x=()=>{var w,j;g({page:(w=r.pagination)==null?void 0:w.current_page,per_page:(j=r.pagination)==null?void 0:j.per_page})},m=w=>{Ie.confirm({title:`确定要彻底删除 ${w.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>UE(w.map(j=>j._id)).then(()=>{x()})})},C=w=>{const{emotion_emoji:j,emotion_text:T,...y}={...f.value,...w},L={...y,ip:y.ip||null};n.promise(ME(L)).then(()=>{d(),x()})};return Ct(()=>i.value,()=>g(),{deep:!0}),Ce(()=>{g()}),s.jsxs(ve,{bordered:!1,title:e.t("page.feedback.list.title",{total:((S=r.pagination)==null?void 0:S.total)??"-"}),children:[s.jsx(qE,{loading:t.state.value,keyword:a.value,onKeywordChange:w=>a.value=w,onKeywordSearch:()=>g(),params:i.value,onParamsChange:w=>Object.assign(i.value,w),onResetRefresh:o,extra:s.jsx(Cr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(Ke,{}),onClick:()=>m(l.value)}]})}),s.jsx(ee,{}),s.jsx(YE,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:w=>c.value=w,onDetail:(w,j)=>p(j),onDelete:w=>m([w]),onPaginate:(w,j)=>g({page:w,per_page:j})}),s.jsx(ks,{width:"46rem",title:"反馈详情",destroyOnClose:!0,open:u.value,onClose:d,children:s.jsx(dt,{spinning:n.state.value,children:f.value&&s.jsx(WE,{submitting:n.state.value,feedback:f.value,onSubmit:w=>C(w)})})})]})},JE=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),URL.revokeObjectURL(a)},Ca="/disqus";function ZE(e){return K.get(`${Ca}/threads`,{params:e})}function QE(e){return K.get(`${Ca}/posts`,{params:e})}function If(){return K.get(`${Ca}/config`)}async function XE(e){const t=new FormData;return t.append("file",e),K.post(`${Ca}/import-xml`,t)}async function eT(){const e=await K.$({url:`${Ca}/export-xml`,method:"GET",responseType:"blob"});JE(e.data,"nodepress-export-to-disqus.xml","application/xml")}var Fn=(e=>(e.Desc="desc",e.Asc="asc",e))(Fn||{}),us=(e=>(e.Open="open",e.Closed="closed",e))(us||{}),dn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(dn||{});const co="ALL",ju={order:Fn.Desc,include:co},tT=()=>{var c,l;const e=X(null),t=he(),n=en({cursor:null,list:[]}),r=X({...ju}),a=()=>{r.value={...ju}},i=u=>{const h={...u,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==co?[r.value.include]:[...Object.values(us)]};t.promise(ZE(h)).then(f=>{u!=null&&u.cursor?(n.cursor=f.result.cursor,n.list.push(...f.result.response)):(n.cursor=f.result.cursor,n.list=f.result.response,lt(document.body))})},o=()=>{i({cursor:n.cursor.next})};return Ct(()=>r.value,()=>i(),{deep:!0}),Ce(()=>{If().then(u=>{e.value=u.result,i()})}),s.jsxs(ve,{bordered:!1,title:`Threads (${n.list.length})`,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(wo,{}),href:`https://${(c=e.value)==null?void 0:c.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:u=>r.value.include=u,options:[{value:co,label:"All state"},{value:us.Open,label:"Open"},{value:us.Closed,label:"Closed"}]}),s.jsx(je,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:u=>r.value.order=u,options:[{value:Fn.Desc,label:"Desc"},{value:Fn.Asc,label:"Asc"}]}),s.jsx(N,{icon:s.jsx(ot,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),s.jsx(ee,{}),s.jsx(wn,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Link,{href:`https://disqus.com/home/discussion/${h.forum}/${h.slug}/`,target:"_blank",strong:!0,children:h.title}),s.jsx(M.Link,{href:h.link,target:"_blank",type:"secondary",children:h.link})]})},{title:"ID / Author",key:"id",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Text,{copyable:!0,children:h.id}),s.jsx(M.Text,{copyable:!0,type:"secondary",children:h.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(O,{children:h.identifiers.map(f=>s.jsx(Bt,{children:f},f))}),s.jsx(M.Text,{type:"secondary",children:Me(h.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx(ha,{}),h.posts]})},{title:"Likes",key:"likes",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx(zn,{}),h.likes]})},{title:"Dislikes",key:"dislikes",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx(pr,{}),h.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(u,h)=>s.jsx(Oi,{disabled:!0,checked:!h.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:(l=n.cursor)!=null&&l.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(M.Text,{type:"secondary",children:"NO MORE"})})]})},_l="ALL",_u={order:Fn.Desc,include:_l},nT=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:_l,label:"All state"},{value:dn.Approved,label:"Approved"},{value:dn.Unapproved,label:"Unapproved"},{value:dn.Spam,label:"Spam"},{value:dn.Deleted,label:"Deleted"},{value:dn.Flagged,label:"Flagged"},{value:dn.Highlighted,label:"Highlighted"}]}),s.jsx(je,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:Fn.Desc,label:"Desc"},{value:Fn.Asc,label:"Asc"}]}),s.jsx(ie.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onThreadIdSearch()}}),s.jsx(N,{loading:e.loading,icon:s.jsx(ot,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),s.jsx(O,{children:e.extra})]}),rT=e=>s.jsx(wn,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{text:n.id,copyable:!0,type:"secondary"}),s.jsx(J,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),s.jsx(M.Text,{type:"secondary",children:Me(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>s.jsxs(O,{children:[s.jsx(bo,{size:38,shape:"square",src:n.author.avatar.cache}),s.jsxs(O,{direction:"vertical",size:"small",children:[s.jsx("strong",{children:n.author.name}),s.jsx(ba,{data:n.author.url,children:r=>s.jsx(M.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?s.jsx(M.Text,{type:"secondary",children:"Guest"}):s.jsx(M.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>s.jsxs(O,{size:"small",children:[s.jsx(zn,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>s.jsxs(O,{size:"small",children:[s.jsx(pr,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>s.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:s.jsx(Au,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:s.jsx(Al,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:s.jsx(Al,{})}].filter(r=>r.value).map((r,a)=>s.jsxs(M.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),aT=()=>{var l,u;const e=X(null),t=he(),n=en({cursor:null,list:[]}),r=X(""),a=X({..._u}),i=h=>{const f={...h,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==_l?[a.value.include]:[...Object.values(dn)]};t.promise(QE(f)).then(d=>{h!=null&&h.cursor?(n.cursor=d.result.cursor,n.list.push(...d.result.response)):(n.cursor=d.result.cursor,n.list=d.result.response,lt(document.body))})},o=()=>{i({cursor:n.cursor.next})},c=()=>{r.value="",a.value={..._u}};return Ct(()=>a.value,()=>i(),{deep:!0}),Ce(()=>{If().then(h=>{e.value=h.result,i()})}),s.jsxs(ve,{title:`Posts (${n.list.length})`,bordered:!1,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(wo,{}),href:`https://${(l=e.value)==null?void 0:l.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[s.jsx(nT,{loading:t.state.value,threadId:r.value,onThreadIdChange:h=>r.value=h,onThreadIdSearch:()=>i(),params:a.value,onParamsChange:h=>Object.assign(a.value,h),onResetRefresh:c}),s.jsx(ee,{}),s.jsx(rT,{loading:t.state.value,data:n.list.slice()}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:(u=n.cursor)!=null&&u.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(M.Text,{type:"secondary",children:"NO MORE"})})]})},sT=()=>{const e=he(),t=n=>{e.promise(XE(n)).catch(r=>{Ie.error({title:"Upload XML error",content:String(r)})})};return s.jsxs("div",{children:[s.jsx($u,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:s.jsx(Fu,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:s.jsx(Ls,{})}]}),s.jsx(jo,{icon:s.jsx(As,{}),title:"Disqus To NodePress",extra:s.jsxs(O,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Mu,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),s.jsx(yo,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:s.jsx(N,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:s.jsx(vo,{}),children:"Upload XML to NodePress"})})]})})]})},iT=()=>s.jsxs("div",{children:[s.jsx($u,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:s.jsx(Fu,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:s.jsx(Ls,{})}]}),s.jsx(jo,{icon:s.jsx(As,{}),title:"NodePress To Disqus",extra:s.jsxs(N.Group,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Mu,{}),onClick:()=>eT(),children:"Download XML"}),s.jsx(N,{size:"large",type:"primary",icon:s.jsx(vo,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),oT=()=>s.jsxs(O,{direction:"vertical",size:Ku,style:{width:"100%"},children:[s.jsx(ve,{title:"Synchronize NodePress to Disqus",bordered:!1,children:s.jsx(iT,{})}),s.jsx(ve,{title:"Synchronize Disqus To NodePress",bordered:!1,children:s.jsx(sT,{})})]}),Li=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},lT=e=>{var u;const t=he(),n=he(),r=X(null),[a]=P.useForm(),i=h=>{r.value=h,a.setFieldsValue({...h,ad_config:Li(h.ad_config,2)})},o=()=>t.promise(Mw()).then(i),c=h=>{const f={...h,ad_config:Li(h.ad_config)};return n.promise(Uw(f)).then(i)},l=()=>{a.validateFields().then(h=>{const f={...r.value,...h};c(f).then(()=>{lt(document.body)})})};return Ce(()=>{o()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[s.jsx(P.Item,{label:!0,children:s.jsx(mn,{valueStyle:{fontWeight:"bold"},value:(u=r.value)==null?void 0:u.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),s.jsx(P.Item,{name:"title",label:"站点标题",required:!0,children:s.jsx(ie,{placeholder:"站点标题"})}),s.jsx(P.Item,{name:"sub_title",label:"副标题",required:!0,children:s.jsx(ie,{placeholder:"副标题"})}),s.jsx(P.Item,{name:"description",label:"站点描述",required:!0,children:s.jsx(ie.TextArea,{rows:4,placeholder:"站点描述"})}),s.jsx(P.Item,{name:"keywords",label:"关键词",required:!0,children:s.jsx(je,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:s.jsx(ie,{suffix:s.jsx(ur,{}),placeholder:"https://example.me"})}),s.jsx(P.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:s.jsx(ie,{suffix:s.jsx(Ps,{}),placeholder:"example@xxx.me"})}),s.jsx(P.Item,{name:"statement",label:"站点声明",children:s.jsx(gr,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:da.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:s.jsx(wa,{fieldName:"friend_links"})}),s.jsx(P.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个关键字",mode:"tags"})}),s.jsx(P.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(h,f){try{return Li(f||""),Promise.resolve()}catch(d){return Promise.reject(d)}}}],children:s.jsx(gr,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:da.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:!0,children:s.jsx(N,{icon:s.jsx(St,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:l,children:"保存"})})]})})},cT=()=>{const e=he(),t=he(),n=()=>{Ie.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(Fw())})},r=()=>{Ie.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise($w())})};return s.jsxs(Mt,{children:[s.jsx(N,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:s.jsx(Ls,{}),children:"立即更新数据库备份"}),s.jsx(ee,{}),s.jsx(N,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:s.jsx(As,{}),children:"更新 Archive 及缓存"})]})},uT=()=>{const e=nn(),t=he(),n=he(),r=ni(),[a]=P.useForm(),i=()=>{t.promise(Df()).then(a.setFieldsValue)},o=u=>n.promise(XT(u)).then(()=>{u.new_password?(Ft.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{Gs(),e(et[de.Hello])},1688)):(i(),r.refresh())}),c=()=>{a.validateFields().then(u=>{Reflect.deleteProperty(u,"rel_new_password"),o({...u}).then(()=>{lt(document.body)})})},l=async()=>{const u=a.getFieldValue("password"),h=a.getFieldValue("new_password"),f=a.getFieldValue("rel_new_password");if(!(!u&&!h&&!f)&&(h!==f||u===h))throw new Error};return Ce(()=>{i()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[s.jsx(P.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:s.jsx(lf,{disabledMarkdown:!0})}),s.jsx(P.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:s.jsx(ie,{placeholder:"昵称"})}),s.jsx(P.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:s.jsx(ie.TextArea,{placeholder:"签名"})}),s.jsx(ee,{}),s.jsx(P.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(ie.Password,{placeholder:"旧密码",autoComplete:"password"})}),s.jsx(P.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(ie.Password,{placeholder:"新密码",autoComplete:"new_password"})}),s.jsx(P.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(ie.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(St,{}),loading:n.state.value,onClick:c,children:"保存"})]})})},ki=e=>{const t=s.jsxs(O,{size:"small",children:[e.icon,e.title]});return s.jsx(ve,{bordered:!1,title:t,children:e.children})},dT=()=>{const{i18n:e}=tt();return s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{xs:24,lg:17,children:s.jsx(ki,{title:e.t("page.setting.general.title"),icon:s.jsx(Rg,{}),children:s.jsx(lT,{labelSpan:4,wrapperSpan:19})})}),s.jsx($e,{xs:24,lg:7,children:s.jsxs(Mt,{gutter:[Ve,Ve],children:[s.jsx($e,{span:24,children:s.jsx(ki,{title:e.t("page.setting.data.title"),icon:s.jsx(Ig,{}),children:s.jsx(cT,{})})}),s.jsx($e,{span:24,children:s.jsx(ki,{title:e.t("page.setting.userinfo.title"),icon:s.jsx(Mn,{}),children:s.jsx(uT,{})})})]})})]})};var de=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(de||{});const Lf=[{index:!0,element:s.jsx(yi,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:de.Dashboard,path:"/dashboard",element:s.jsx(Ij,{}),handle:{i18nKey:"page.dashboard.title",icon:s.jsx(wo,{})}},{id:de.Announcement,path:"/announcement",element:s.jsx(W_,{}),handle:{i18nKey:"page.announcement.title",icon:s.jsx(Lg,{})}},{id:de.Category,path:"/category",element:s.jsx(eS,{}),handle:{i18nKey:"page.category.title",icon:s.jsx(kg,{})}},{id:de.Tag,path:"/tag",element:s.jsx(iS,{}),handle:{i18nKey:"page.tag.title",icon:s.jsx(Pg,{})}},{id:de.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:s.jsx(Eu,{})},children:[{index:!0,element:s.jsx(yi,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:de.ArticleList,path:"/article/list",element:s.jsx(c0,{}),handle:{i18nKey:"page.article.list",icon:s.jsx(Ol,{})}},{id:de.ArticlePost,path:"/article/post",element:s.jsx(D_,{}),handle:{i18nKey:"page.article.create",icon:s.jsx(Ze,{})}},{id:de.ArticleEdit,path:"/article/edit/:article_id",element:s.jsx(O_,{}),handle:{i18nKey:"page.article.edit",icon:s.jsx(Ze,{}),hiddenInMenu:!0}}]},{id:de.Comment,path:"/comment",element:s.jsx(PE,{}),handle:{i18nKey:"page.comment.title",icon:s.jsx(ha,{})}},{id:de.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:s.jsx(Ag,{})},children:[{index:!0,element:s.jsx(yi,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:de.DisqusPost,path:"/disqus/posts",element:s.jsx(aT,{}),handle:{i18nKey:"page.disqus.posts",icon:s.jsx(Ol,{})}},{id:de.DisqusThread,path:"/disqus/threads",element:s.jsx(tT,{}),handle:{i18nKey:"page.disqus.threads",icon:s.jsx(Og,{})}},{id:de.DisqusSync,path:"/disqus/synchronize",element:s.jsx(oT,{}),handle:{i18nKey:"page.disqus.synchronize",icon:s.jsx(As,{})}}]},{id:de.Vote,path:"/vote",element:s.jsx($E,{}),handle:{i18nKey:"page.vote.title",icon:s.jsx(zn,{})}},{id:de.Feedback,path:"/feedback",element:s.jsx(GE,{}),handle:{i18nKey:"page.feedback.title",icon:s.jsx(Dg,{})}},{id:de.Setting,path:"/setting",element:s.jsx(dT,{}),handle:{i18nKey:"page.setting.title",icon:s.jsx(Uu,{})}}],hT="_appLayout_th6z3_1",fT="_appSider_th6z3_1",gT="_siderContent_th6z3_9",mT="_logo_th6z3_15",pT="_userInfo_th6z3_23",xT="_collapsed_th6z3_29",yT="_avatar_th6z3_32",vT="_name_th6z3_36",bT="_slogan_th6z3_57",wT="_menus_th6z3_61",jT="_footerLink_th6z3_79",_T="_appHeader_th6z3_93",ST="_headerContent_th6z3_104",CT="_userMenu_th6z3_108",ET="_appFooter_th6z3_116",TT="_appContent_th6z3_121",RT="_pageContainer_th6z3_121",IT="_pageHeader_th6z3_121",LT="_title_th6z3_127",kT="_icon_th6z3_130",PT="_breadcrumb_th6z3_133",AT="_pageContent_th6z3_137",OT="_backTop_th6z3_140",DT="_pageHeaderAdvert_th6z3_144",NT="_adCard_th6z3_148",pe={appLayout:hT,appSider:fT,siderContent:gT,logo:mT,userInfo:pT,collapsed:xT,avatar:yT,name:vT,slogan:bT,menus:wT,footerLink:jT,appHeader:_T,headerContent:ST,userMenu:CT,appFooter:ET,appContent:TT,pageContainer:RT,pageHeader:IT,title:LT,icon:kT,breadcrumb:PT,pageContent:AT,backTop:OT,pageHeaderAdvert:DT,adCard:NT},kf=e=>e.filter(t=>{var n;return!((n=t.handle)!=null&&n.hiddenInMenu)}).map(t=>{var n,r,a;return{key:t.path,icon:(n=t.handle)==null?void 0:n.icon,children:t!=null&&t.children?kf(t.children):null,label:(r=t.handle)!=null&&r.i18nKey?s.jsx(yr,{i18nKey:t.handle.i18nKey}):(a=t.handle)==null?void 0:a.name}}),$T=({isSiderCollapsed:e})=>{const t=nn(),n=_n(),{language:r}=xr(),a=ni(),i=b.useMemo(()=>kf(Lf),[r]);return s.jsxs("div",{className:pe.siderContent,children:[s.jsx(Jt,{to:"/",className:pe.logo,children:s.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:rl(e?"/images/logo.mini.svg":"/images/logo.svg")})}),s.jsx(dt,{spinning:a.loading,size:"small",children:s.jsxs(ue,{vertical:!0,justify:"center",align:"center",className:ra(pe.userInfo,e&&pe.collapsed),children:[s.jsx("img",{draggable:!1,className:pe.avatar,src:a.data.avatar,alt:a.data.name}),s.jsx(M.Title,{level:5,className:pe.name,title:a.data.name,children:a.data.name||"-"}),s.jsx(M.Text,{type:"secondary",ellipsis:!0,className:pe.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),s.jsx(Ng,{mode:"inline",className:pe.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[et[de.Article]],items:i}),s.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:fm,className:ra(pe.footerLink,e&&pe.collapsed),children:e?s.jsx(Dl,{}):s.jsxs(O,{size:"small",children:[s.jsx(Dl,{}),"source-code"]})})]})},FT=e=>{const t=nn(),n=Ds(),r=xr(),a=ni(),{i18n:i}=tt(),o=()=>{t(et[de.Setting])},c=()=>{Ie.confirm({title:i.t("logout.confirmation"),centered:!0,onOk(){Gs(),t(et[de.Hello])}})};return s.jsxs(ue,{justify:"space-between",className:pe.headerContent,children:[s.jsxs(ue,{align:"center",gap:"middle",children:[s.jsx(N,{type:"text",className:pe.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?s.jsx($g,{}):s.jsx(Fg,{})}),s.jsx(N,{type:"text",className:pe.item,onClick:()=>n.toggleTheme(),icon:n.isDark?s.jsx(Mg,{}):s.jsx(Ug,{})}),s.jsx(je,{size:"small",className:pe.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:dm.map(l=>({value:l.code,label:l.name}))})]}),s.jsx(ue,{align:"center",justify:"center",children:s.jsx(Tu,{placement:"bottomRight",menu:{items:[{key:"profile",icon:s.jsx(Uu,{}),label:i.t("page.setting.title"),onClick:o},{key:"divider",type:"divider"},{key:"logout",icon:s.jsx(zg,{}),label:i.t("logout.title"),danger:!0,onClick:c}]},children:s.jsxs("div",{className:pe.userMenu,children:[s.jsx("span",{children:a.data.name}),s.jsx(bo,{shape:"square",size:"small",icon:s.jsx(Mn,{}),className:pe.avatar,src:a.data.avatar})]})})})]})},MT=()=>(Ce(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),s.jsx("div",{className:pe.pageHeaderAdvert,children:s.jsx(ve,{classNames:{body:pe.adCard},size:"small",bordered:!1,children:s.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),UT=e=>{var i,o,c;const{i18n:t}=tt(),n=_n(),[,...r]=n.pathname.split("/"),a=Pf.find(l=>Hi(l.path,n.pathname));return s.jsxs("div",{className:pe.pageContainer,children:[s.jsxs(ue,{align:"center",justify:"space-between",className:pe.pageHeader,children:[s.jsxs(M.Title,{className:pe.title,level:4,children:[s.jsx("span",{className:pe.icon,children:(i=a==null?void 0:a.handle)==null?void 0:i.icon}),(o=a==null?void 0:a.handle)!=null&&o.i18nKey?t.t(a.handle.i18nKey):(c=a==null?void 0:a.handle)==null?void 0:c.name]}),s.jsx(Bg,{className:pe.breadcrumb,items:r.map(l=>({title:l}))})]}),bm&&s.jsx(MT,{}),s.jsx("div",{className:pe.pageContent,children:e==null?void 0:e.children}),s.jsx(Hg.BackTop,{className:pe.backTop,shape:"square",type:"primary",icon:s.jsx(qg,{}),onClick:()=>lt(document.body)})]})},zT="xl",BT=Ai.getDesignToken().screenXL,HT=window.innerWidth>=BT,qT=e=>{const t=ni(),[n,r]=b.useState(!HT),a=()=>r(!n);return Ce(()=>{t.refresh()}),s.jsxs(Zn,{id:"app-layout",className:pe.appLayout,children:[s.jsx(Zn.Sider,{className:pe.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:zT,onBreakpoint:i=>r(i),children:s.jsx($T,{isSiderCollapsed:n})}),s.jsxs(Zn,{children:[s.jsx(Zn.Header,{className:pe.appHeader,children:s.jsx(FT,{isSiderCollapsed:n,onToggleSider:a})}),s.jsx(Zn.Content,{className:pe.appContent,children:s.jsx(UT,{children:e==null?void 0:e.children})}),s.jsx(Zn.Footer,{className:pe.appFooter,children:s.jsxs(O,{size:"small",children:[s.jsx(Vg,{}),"Powered by",s.jsx(M.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",s.jsx(M.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},VT="_helloPage_1nnw2_1",KT="_icon_1nnw2_9",YT="_input_1nnw2_19",Yr={helloPage:VT,icon:KT,input:YT},WT=()=>{const e=nn(),[t,n]=b.useState(""),[r,a]=b.useState(!1),[i,o]=b.useState(!1),c=()=>a(!0),l=()=>a(!1),u=async p=>{try{o(!0);const g=await Jb(p);js.setToken(g.access_token,g.expires_in),e(et[de.Dashboard])}catch(g){return console.warn("Login failed！",g),Promise.reject(g)}finally{o(!1)}},h=p=>{p.key==="Escape"&&l(),p.key==="Enter"&&t&&u(t)},f=s.jsx("div",{className:Yr.icon,onClick:c,onTouchEnd:c,children:"🔐"}),d=s.jsx(ie.Password,{className:Yr.input,id:"password",size:"large",autoFocus:!0,disabled:i,value:t,visibilityToggle:!1,onBlur:l,onKeyDownCapture:h,onInput:p=>n(p.target.value)});return s.jsx("div",{className:ra(Yr.helloPage,r?Yr.inputing:Yr.normal),children:s.jsx(dt,{spinning:i,indicator:s.jsx(Pu,{}),children:r?d:f})})},GT="_notFoundPage_u75hf_1",JT={notFoundPage:GT},ZT=()=>s.jsx(ue,{justify:"center",align:"center",className:JT.notFoundPage,children:s.jsx(jo,{status:"warning",title:"404 NOT FOUND",extra:s.jsx(Jt,{to:"/",children:s.jsx(N,{type:"link",children:s.jsx(yr,{i18nKey:"page.404.link"})})})})}),uo=[{id:de.Hello,path:"/hello",element:s.jsx(WT,{})},{path:"/",children:Lf,element:s.jsx(sw,{children:s.jsx(qT,{children:s.jsx(By,{})})})},{path:"*",element:s.jsx(ZT,{})}],Pf=[],et={},QT=new Map,Af=e=>{e.forEach(t=>{var n;t.id&&(Pf.push(t),et[t.id]=t.path,QT.set(t.id,t)),(n=t.children)!=null&&n.length&&Af(t.children)})};Af(uo);const Sl={articleDetail:e=>`/article/edit/${e}`},Ea=Fe.create({baseURL:vm,adapter:window.__axiosAdapter||void 0});Ea.interceptors.request.use(e=>(js.isTokenValid()?(e.headers=e.headers||{},e.headers[gm]=`Bearer ${js.getToken()}`):e.url!==Ws.LOGIN&&Ft.error({message:In.t("nodepress.request.invalid_token.title"),description:In.t("nodepress.request.invalid_token.description"),duration:2}),e));Ea.interceptors.response.use(e=>{var t;return(t=e.headers["content-type"])!=null&&t.includes("json")?e.data.status==="success"?(Ft.success({message:In.t("nodepress.response.success"),description:e.data.message,duration:2}),Promise.resolve(e.data)):(Ft.error({message:e.data.message,description:e.data.error,duration:3}),Promise.reject(e)):(Ft.success({message:In.t("nodepress.response.success"),description:e.statusText,duration:2}),e)},e=>{var i,o,c,l,u,h,f,d;const t=(i=e==null?void 0:e.toJSON)==null?void 0:i.call(e),n=((c=(o=e.response)==null?void 0:o.data)==null?void 0:c.message)||"Error",r=((u=(l=e.response)==null?void 0:l.data)==null?void 0:u.error)||((h=e.response)==null?void 0:h.statusText)||(t==null?void 0:t.message)||"",a={...t,config:e.config,request:e.request,response:e.response,code:e.code||((f=e.response)==null?void 0:f.status)||400,message:`${n}: ${r}`};return console.debug("axios error:",a),Ft.error({message:n,description:r,duration:3}),((d=e.response)==null?void 0:d.status)===401&&(js.removeToken(),window.location.href=et[de.Hello]),Promise.reject(a)});const cn=e=>(...t)=>Ea[e](...t),K={$:Ea,request:cn("request"),head:cn("head"),get:cn("get"),post:cn("post"),put:cn("put"),patch:cn("patch"),delete:cn("delete"),options:cn("options")},Of="/auth/admin";function Df(){return K.get(Of).then(e=>e.result)}function XT(e){const t={...e,password:e.password?Wi.encode(e.password):"",new_password:e.new_password?Wi.encode(e.new_password):""};return K.put(Of,t).then(n=>n.result)}const eR=Object.freeze({name:"Admin",slogan:"NodePress",avatar:rl("/images/nodepress.png")}),Nf=mr.createContext({}),ni=()=>b.useContext(Nf),tR=e=>{const[t,n]=b.useState({...eR}),[r,a]=b.useState(!1),i=async()=>{try{a(!0),n(await Df())}finally{a(!1)}};return s.jsx(Nf.Provider,{value:{data:t,loading:r,refresh:i},children:e.children})};function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nR=function(){};function $f(e,t){return Math.random()*(t-e+1)+e}function Su(e,t){return Math.floor($f(e,t))}var rR=b.forwardRef(function(e,t){var n=e.progress,r=e.height,a=r===void 0?2:r,i=e.className,o=i===void 0?"":i,c=e.color,l=c===void 0?"red":c,u=e.background,h=u===void 0?"transparent":u,f=e.onLoaderFinished,d=e.transitionTime,p=d===void 0?300:d,g=e.loaderSpeed,x=g===void 0?500:g,m=e.waitingTime,C=m===void 0?1e3:m,S=e.shadow,w=S===void 0||S,j=e.containerStyle,T=j===void 0?{}:j,y=e.style,L=y===void 0?{}:y,E=e.shadowStyle,R=E===void 0?{}:E,D=e.containerClassName,$=D===void 0?"":D,z=b.useRef(!1),Z=b.useState(0),B=Z[0],oe=Z[1],ge=b.useRef({active:!1,refreshRate:1e3}),Y=b.useState(!1),xe=Y[0],Ae=Y[1],Ue=b.useState({active:!1,value:20}),ze=Ue[0],nt=Ue[1],wt={position:"fixed",top:0,left:0,height:a,background:h,zIndex:99999999999,width:"100%"},ct={boxShadow:"0 0 10px "+l+", 0 0 10px "+l,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+x+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},rt=b.useState({height:"100%",background:l,transition:"all "+x+"ms ease",width:"0%"}),Qe=rt[0],Dt=rt[1],Vt=b.useState(ct),Kt=Vt[0],rn=Vt[1];b.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]),b.useImperativeHandle(t,function(){return{continuousStart:function(We,Te){if(Te===void 0&&(Te=1e3),!ze.active)if(xe)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var jt=We||Su(10,20);ge.current={active:!0,refreshRate:Te},oe(jt),at(jt)}},staticStart:function(We){if(!ge.current.active)if(xe)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Te=We||Su(30,50);nt({active:!0,value:Te}),oe(Te),at(Te)}},complete:function(){xe?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(oe(100),at(100))}}}),b.useEffect(function(){Dt(yt({},Qe,{background:l})),rn(yt({},Kt,{boxShadow:"0 0 10px "+l+", 0 0 5px "+l}))},[l]),b.useEffect(function(){if(t){if(t&&n!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);at(B),Ae(!1)}else n&&at(n),Ae(!0)},[n]);var Kn,Ee,gt,at=function We(Te){Te>=100?(Dt(yt({},Qe,{width:"100%"})),w&&rn(yt({},Kt,{left:Te-10+"%"})),setTimeout(function(){z.current&&(Dt(yt({},Qe,{opacity:0,width:"100%",transition:"all "+p+"ms ease-out",color:l})),setTimeout(function(){z.current&&(ge.current.active&&(ge.current=yt({},ge.current,{active:!1}),oe(0),We(0)),ze.active&&(nt(yt({},ze,{active:!1})),oe(0),We(0)),f&&f(),oe(0),We(0))},p))},C)):(Dt(function(jt){return yt({},jt,{width:Te+"%",opacity:1,transition:Te>0?"all "+x+"ms ease":""})}),w&&rn(yt({},Kt,{left:Te-5.5+"%",transition:Te>0?"all "+x+"ms ease":""})))};return Kn=function(){var We=$f(Math.min(10,(100-B)/5),Math.min(20,(100-B)/3));B+We<95&&(oe(B+We),at(B+We))},Ee=ge.current.active?ge.current.refreshRate:null,gt=b.useRef(nR),b.useEffect(function(){gt.current=Kn}),b.useEffect(function(){},[void 0]),b.useEffect(function(){if(Ee!==null&&Ee!==!1){var We=setInterval(function(){return gt.current()},Ee);return function(){return clearInterval(We)}}},[Ee]),b.createElement("div",{className:$,style:yt({},wt,T)},b.createElement("div",{className:o,style:yt({},Qe,L)},w?b.createElement("div",{style:yt({},Kt,R)}):null))});const aR=e=>{const{axios:t,...n}=e,r=b.useRef(null);return Ce(()=>{t.interceptors.request.use(a=>{var i;return(i=r.current)==null||i.continuousStart(),a}),t.interceptors.response.use(a=>{var i;return(i=r.current)==null||i.complete(),a},a=>{var i;return(i=r.current)==null||i.complete(),Promise.reject(a)})}),s.jsx(rR,{...n,ref:r})},sR=wm?Jy(uo):Gy(uo),iR=()=>{const{theme:e}=Ds(),{language:t}=xr();return Ce(()=>{console.info("App is running.",pm)}),s.jsx(hv,{children:s.jsx(Kg,{className:"app-container",children:s.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[s.jsx(aR,{axios:Ea,color:Bn,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),s.jsx(tR,{children:s.jsx(av,{router:sR})})]})})})};Xe.extend(um);const Ff=Fp({fallbackLanguage:Yu}),Mf=Ff.resolvedLanguage??Yu,Uf=window.matchMedia("(prefers-color-scheme: dark)").matches?Ni.Dark:Ni.Light,oR=e=>Ff.changeLanguage(e).then(()=>{Xe.locale(ps[e].dayjs)});console.info("App booting up...",{INIT_THEME:Uf,INIT_LANGUAGE:Mf});Di.createRoot(document.getElementById("root")).render(s.jsx(Vu,{initLanguage:Mf,onChange:oR,children:s.jsx(Gu,{initTheme:Uf,children:s.jsx(iR,{})})}));export{yr as T,da as U,z0 as a,Ds as b,hR as c,JE as d,s as j,fR as s,dR as t,tt as u};
