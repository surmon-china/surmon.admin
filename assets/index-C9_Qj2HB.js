const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-BGAX2QC2.js","assets/antd-C3X7jqaB.js","assets/codemirror-CSfGmmYr.js","assets/echarts-ogu8SYwF.js","assets/Editor-Dlyuw_aG.css"])))=>i.map(i=>d[i]);
import{r as uy,g as At,a as dy,R as Ar,b as v,c as hp,d as hy,e as fy,f as py,t as Hl,C as Bl,F as fe,S as P,h as at,i as my,T as H,s as en,j as Je,k as qt,l as De,m as Cn,n as tr,D as se,E as gy,L as rn,o as Gs,p as xy,B as U,q as yy,u as vy,v as by,w as Xu,x as wy,y as _y,z as jy,A as hs,G as Ke,H as St,I as fs,J as ze,K as In,M as Rr,N as ye,O as Tc,P as Ic,Q as Ma,U as Sy,V as kc,W as fp,X as Qe,Y as Ei,Z as pp,_ as Cy,$ as Lc,a0 as Ry,a1 as mp,a2 as gp,a3 as Ey,a4 as Ty,a5 as Iy,a6 as ve,a7 as Pc,a8 as Ac,a9 as xp,aa as ue,ab as sn,ac as yp,ad as Vt,ae as vp,af as bp,ag as Ua,ah as _e,ai as ui,aj as Oc,ak as wp,al as Ln,am as ky,an as A,ao as Rn,ap as Dc,aq as Js,ar as Ly,as as Py,at as _p,au as Ay,av as jp,aw as mn,ax as ps,ay as Sp,az as Nc,aA as ms,aB as Oy,aC as Vl,aD as nr,aE as Or,aF as gs,aG as Er,aH as Fc,aI as Dy,aJ as Ny,aK as Fy,aL as Vn,aM as $y,aN as xs,aO as Cp,aP as Rp,aQ as My,aR as Qu,aS as Uy,aT as zy,aU as qy,aV as Ep,aW as $c,aX as ed,aY as Tp,aZ as Mc,a_ as Ip,a$ as ys,b0 as Hy,b1 as By,b2 as Vy,b3 as Ky,b4 as Yy,b5 as td,b6 as Wy,b7 as kp,b8 as Gy,b9 as nd,ba as Jy,bb as Zy,bc as Xy,bd as Qy,be as ev,bf as tv,bg as nv,bh as rv,bi as ur,bj as av,bk as iv}from"./antd-C3X7jqaB.js";import{u as sv,g as ov,i as lv,a as cv,b as uv,c as dv,d as hv,e as fv,f as pv}from"./echarts-ogu8SYwF.js";import{_ as mv}from"./codemirror-CSfGmmYr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Zs={exports:{}},Zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function gv(){if(rd)return Zr;rd=1;var e=uy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},f=null,m=null;u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:l,key:f,ref:m,props:h,_owner:a.current}}return Zr.Fragment=n,Zr.jsx=o,Zr.jsxs=o,Zr}var ad;function xv(){return ad||(ad=1,Zs.exports=gv()),Zs.exports}var i=xv(),Ti={exports:{}},yv=Ti.exports,id;function vv(){return id||(id=1,function(e,t){(function(n,r){e.exports=r()})(yv,function(){var n,r,a=1e3,s=6e4,o=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,d=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:u,months:d,days:l,hours:o,minutes:s,seconds:a,milliseconds:1,weeks:6048e5},m=function(w){return w instanceof S},p=function(w,E,C){return new S(w,C,E.$l)},g=function(w){return r.p(w)+"s"},x=function(w){return w<0},y=function(w){return x(w)?Math.ceil(w):Math.floor(w)},j=function(w){return Math.abs(w)},b=function(w,E){return w?x(w)?{negative:!0,format:""+j(w)+E}:{negative:!1,format:""+w+E}:{negative:!1,format:""}},S=function(){function w(C,O,q){var W=this;if(this.$d={},this.$l=q,C===void 0&&(this.$ms=0,this.parseFromMilliseconds()),O)return p(C*f[g(O)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(B){W.$d[g(B)]=C[B]}),this.calMilliseconds(),this;if(typeof C=="string"){var Q=C.match(h);if(Q){var M=Q.slice(2).map(function(B){return B!=null?Number(B):0});return this.$d.years=M[0],this.$d.months=M[1],this.$d.weeks=M[2],this.$d.days=M[3],this.$d.hours=M[4],this.$d.minutes=M[5],this.$d.seconds=M[6],this.calMilliseconds(),this}}return this}var E=w.prototype;return E.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(O,q){return O+(C.$d[q]||0)*f[q]},0)},E.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=y(C/u),C%=u,this.$d.months=y(C/d),C%=d,this.$d.days=y(C/l),C%=l,this.$d.hours=y(C/o),C%=o,this.$d.minutes=y(C/s),C%=s,this.$d.seconds=y(C/a),C%=a,this.$d.milliseconds=C},E.toISOString=function(){var C=b(this.$d.years,"Y"),O=b(this.$d.months,"M"),q=+this.$d.days||0;this.$d.weeks&&(q+=7*this.$d.weeks);var W=b(q,"D"),Q=b(this.$d.hours,"H"),M=b(this.$d.minutes,"M"),B=this.$d.seconds||0;this.$d.milliseconds&&(B+=this.$d.milliseconds/1e3,B=Math.round(1e3*B)/1e3);var oe=b(B,"S"),Y=C.negative||O.negative||W.negative||Q.negative||M.negative||oe.negative,Re=Q.format||M.format||oe.format?"T":"",Se=(Y?"-":"")+"P"+C.format+O.format+W.format+Re+Q.format+M.format+oe.format;return Se==="P"||Se==="-P"?"P0D":Se},E.toJSON=function(){return this.toISOString()},E.format=function(C){var O=C||"YYYY-MM-DDTHH:mm:ss",q={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return O.replace(c,function(W,Q){return Q||String(q[W])})},E.as=function(C){return this.$ms/f[g(C)]},E.get=function(C){var O=this.$ms,q=g(C);return q==="milliseconds"?O%=1e3:O=q==="weeks"?y(O/f[q]):this.$d[q],O||0},E.add=function(C,O,q){var W;return W=O?C*f[g(O)]:m(C)?C.$ms:p(C,this).$ms,p(this.$ms+W*(q?-1:1),this)},E.subtract=function(C,O){return this.add(C,O,!0)},E.locale=function(C){var O=this.clone();return O.$l=C,O},E.clone=function(){return p(this.$ms,this)},E.humanize=function(C){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},E.valueOf=function(){return this.asMilliseconds()},E.milliseconds=function(){return this.get("milliseconds")},E.asMilliseconds=function(){return this.as("milliseconds")},E.seconds=function(){return this.get("seconds")},E.asSeconds=function(){return this.as("seconds")},E.minutes=function(){return this.get("minutes")},E.asMinutes=function(){return this.as("minutes")},E.hours=function(){return this.get("hours")},E.asHours=function(){return this.as("hours")},E.days=function(){return this.get("days")},E.asDays=function(){return this.as("days")},E.weeks=function(){return this.get("weeks")},E.asWeeks=function(){return this.as("weeks")},E.months=function(){return this.get("months")},E.asMonths=function(){return this.as("months")},E.years=function(){return this.get("years")},E.asYears=function(){return this.as("years")},w}(),k=function(w,E,C){return w.add(E.years()*C,"y").add(E.months()*C,"M").add(E.days()*C,"d").add(E.hours()*C,"h").add(E.minutes()*C,"m").add(E.seconds()*C,"s").add(E.milliseconds()*C,"ms")};return function(w,E,C){n=C,r=C().$utils(),C.duration=function(W,Q){var M=C.locale();return p(W,{$l:M},Q)},C.isDuration=m;var O=E.prototype.add,q=E.prototype.subtract;E.prototype.add=function(W,Q){return m(W)?k(this,W,1):O.bind(this)(W,Q)},E.prototype.subtract=function(W,Q){return m(W)?k(this,W,-1):q.bind(this)(W,Q)}}})}(Ti)),Ti.exports}var bv=vv();const wv=At(bv);var di={},sd;function _v(){if(sd)return di;sd=1;var e=dy();return di.createRoot=e.createRoot,di.hydrateRoot=e.hydrateRoot,di}var jv=_v();const Sv=At(jv);var ja=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(ja||{});const Cv=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],Lp=Ar.createContext({}),Dr=()=>v.useContext(Lp),Pp=e=>{const[t,n]=v.useState(e.initLanguage),r=a=>{const s=e.onChange?.(a);s instanceof Promise?s.then(()=>n(a)):n(a)};return i.jsx(Lp.Provider,{value:{language:t,changeLanguage:r},children:e.children})},Rv={BASE_URL:"/surmon.admin/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.surmon.me"},Ev=Rv,Tv="production",Iv=!1,Xs="/surmon.admin/",kv="/",Lv="3.7.0",za="https://surmon.me",Pv="https://github.com/surmon-china/surmon.admin",Av=!0,Ov=!0,Dv="middle",Ap="large",Ue=24,rr="#0088f5",Op=ja.English,Nv="Authorization";var Kl=(e=>(e.Light="light",e.Dark="dark",e))(Kl||{});const Fv=e=>e==="dark",$v=e=>e==="light",Dp=Ar.createContext({}),vs=()=>v.useContext(Dp),Np=e=>{const[t,n]=v.useState(e.initTheme),r=v.useMemo(()=>Fv(t),[t]),a=v.useMemo(()=>$v(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return i.jsx(Dp.Provider,{value:o,children:e.children})},ne=e=>typeof e=="string",Xr=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},od=e=>e==null?"":""+e,Mv=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Uv=/###/g,ld=e=>e&&e.indexOf("###")>-1?e.replace(Uv,"."):e,cd=e=>!e||ne(e),Sa=(e,t,n)=>{const r=ne(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(cd(e))return{};const s=ld(r[a]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return cd(e)?{}:{obj:e,k:ld(r[a])}},ud=(e,t,n)=>{const{obj:r,k:a}=Sa(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=Sa(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=Sa(e,o,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},zv=(e,t,n,r)=>{const{obj:a,k:s}=Sa(e,t,Object);a[s]=a[s]||[],a[s].push(n)},Wi=(e,t)=>{const{obj:n,k:r}=Sa(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},qv=(e,t,n)=>{const r=Wi(e,n);return r!==void 0?r:Wi(t,n)},Fp=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?ne(e[r])||e[r]instanceof String||ne(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Fp(e[r],t[r],n):e[r]=t[r]);return e},dr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Hv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Bv=e=>ne(e)?e.replace(/[&<>"'\/]/g,t=>Hv[t]):e;class Vv{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Kv=[" ",",","?","!",";"],Yv=new Vv(20),Wv=(e,t,n)=>{t=t||"",n=n||"";const r=Kv.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Yv.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},Yl=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let a=e;for(let s=0;s<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=n),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;s+=c-s+1;break}a=o}return a},Ia=e=>e?.replace("_","-"),Gv={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Gi{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Gv,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(ne(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Gi(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Gi(this.logger,t)}}var Ht=new Gi;class bs{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...n])})}}class dd extends bs{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,a={}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):ne(r)&&s?l.push(...r.split(s)):l.push(r)));const c=Wi(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!ne(r)?c:Yl(this.data?.[t]?.[n],r,s)}addResource(t,n,r,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),ud(this.data,l,a),s.silent||this.emit("added",t,n,r,a)}addResources(t,n,r,a={silent:!1}){for(const s in r)(ne(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,s,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=r,r=n,n=l[1]),this.addNamespaces(n);let c=Wi(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Fp(c,r,s):c={...c,...r},ud(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var $p={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(s=>{t=this.processors[s]?.process(t,n,r,a)??t}),t}};const hd={},fd=e=>!ne(e)&&typeof e!="boolean"&&typeof e!="number";class Ji extends bs{constructor(t,n={}){super(),Mv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ht.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};return t==null?!1:this.resolve(t,r)?.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Wv(t,r,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ne(s)?[s]:s};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:ne(s)?[s]:s}}translate(t,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=a.lng||this.language,f=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return f?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let p=m?.res;const g=m?.usedKey||l,x=m?.exactUsedKey||l,y=["[object Number]","[object Function]","[object RegExp]"],j=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,S=a.count!==void 0&&!ne(a.count),k=Ji.hasDefaultValue(a),w=S?this.pluralResolver.getSuffix(h,a.count,a):"",E=a.ordinal&&S?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",C=S&&!a.ordinal&&a.count===0,O=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${w}`]||a[`defaultValue${E}`]||a.defaultValue;let q=p;b&&!p&&k&&(q=O);const W=fd(q),Q=Object.prototype.toString.apply(q);if(b&&q&&W&&y.indexOf(Q)<0&&!(ne(j)&&Array.isArray(q))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,q,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=M,m.usedParams=this.getUsedParamsDetails(a),m):M}if(o){const M=Array.isArray(q),B=M?[]:{},oe=M?x:g;for(const Y in q)if(Object.prototype.hasOwnProperty.call(q,Y)){const Re=`${oe}${o}${Y}`;k&&!p?B[Y]=this.translate(Re,{...a,defaultValue:fd(O)?O[Y]:void 0,joinArrays:!1,ns:c}):B[Y]=this.translate(Re,{...a,joinArrays:!1,ns:c}),B[Y]===Re&&(B[Y]=q[Y])}p=B}}else if(b&&ne(j)&&Array.isArray(p))p=p.join(j),p&&(p=this.extendTranslation(p,t,a,r));else{let M=!1,B=!1;!this.isValidLookup(p)&&k&&(M=!0,p=O),this.isValidLookup(p)||(B=!0,p=l);const Y=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:p,Re=k&&O!==p&&this.options.updateMissing;if(B||M||Re){if(this.logger.log(Re?"updateKey":"missingKey",h,u,l,Re?O:p),o){const Ee=this.resolve(l,{...a,keySeparator:!1});Ee&&Ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Se=[];const Ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ye&&Ye[0])for(let Ee=0;Ee<Ye.length;Ee++)Se.push(Ye[Ee]);else this.options.saveMissingTo==="all"?Se=this.languageUtils.toResolveHierarchy(a.lng||this.language):Se.push(a.lng||this.language);const Be=(Ee,Me,We)=>{const Ft=k&&We!==p?We:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(Ee,u,Me,Ft,Re,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Ee,u,Me,Ft,Re,a),this.emit("missingKey",Ee,u,Me,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?Se.forEach(Ee=>{const Me=this.pluralResolver.getSuffixes(Ee,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Me.indexOf(`${this.options.pluralSeparator}zero`)<0&&Me.push(`${this.options.pluralSeparator}zero`),Me.forEach(We=>{Be([Ee],l+We,a[`defaultValue${We}`]||O)})}):Be(Se,l,O))}p=this.extendTranslation(p,t,a,m,r),B&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(B||M)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,M?p:void 0,a))}return s?(m.res=p,m.usedParams=this.getUsedParamsDetails(a),m):p}extendTranslation(t,n,r,a,s){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=ne(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=t.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=r.replace&&!ne(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||a.usedLng,r),c){const h=t.match(this.interpolator.nestingRegexp),f=h&&h.length;u<f&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...h)=>s?.[0]===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=ne(o)?[o]:o;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=$p.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,a,s,o,l;return ne(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;a=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!ne(n.count),m=f&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(ne(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{this.isValidLookup(r)||(l=x,!hd[`${g[0]}-${x}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(hd[`${g[0]}-${x}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(r))return;o=y;const j=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,y,x,n);else{let S;f&&(S=this.pluralResolver.getSuffix(y,n.count,n));const k=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(j.push(d+S),n.ordinal&&S.indexOf(w)===0&&j.push(d+S.replace(w,this.options.pluralSeparator)),m&&j.push(d+k)),p){const E=`${d}${this.options.contextSeparator}${n.context}`;j.push(E),f&&(j.push(E+S),n.ordinal&&S.indexOf(w)===0&&j.push(E+S.replace(w,this.options.pluralSeparator)),m&&j.push(E+k))}}let b;for(;b=j.pop();)this.isValidLookup(r)||(s=b,r=this.getResource(y,x,b,n))}))})}),{res:r,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!ne(t.replace);let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const s of n)delete a[s]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class pd{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ht.create("languageUtils")}getScriptPartFromCode(t){if(t=Ia(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Ia(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ne(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ne(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ne(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):ne(t)&&s(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const md={zero:0,one:1,two:2,few:3,many:4,other:5},gd={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Jv{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Ht.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Ia(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gd;if(!t.match(/-|_/))return gd;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[s]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,s)=>md[a]-md[s]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,r={}){const a=this.getRule(t,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const xd=(e,t,n,r=".",a=!0)=>{let s=qv(e,t,n);return!s&&a&&ne(n)&&(s=Yl(e,n,r),s===void 0&&(s=Yl(t,n,r))),s},Qs=e=>e.replace(/\$/g,"$$$$");class Zv{constructor(t={}){this.logger=Ht.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:j}=t.interpolation;this.escape=n!==void 0?n:Bv,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?dr(s):o||"{{",this.suffix=l?dr(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?dr(f):m||dr("$t("),this.nestingSuffix=p?dr(p):g||dr(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const y=xd(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...a,...n,interpolationkey:m}):y}const p=m.split(this.formatSeparator),g=p.shift().trim(),x=p.join(this.formatSeparator).trim();return this.format(xd(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...a,...n,interpolationkey:g})};this.resetRegExp();const d=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Qs(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Qs(this.escape(m)):Qs(m)}].forEach(m=>{for(l=0;s=m.regex.exec(t);){const p=s[1].trim();if(o=u(p),o===void 0)if(typeof d=="function"){const x=d(t,s,a);o=ne(x)?x:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else!ne(o)&&!this.useRawValueToEscape&&(o=od(o));const g=m.safeValue(o);if(t=t.replace(s[0],g),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,o);const m=f.match(/'/g),p=f.match(/"/g);((m?.length??0)%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!ne(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=n(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!ne(s))return s;ne(s)||(s=od(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const Xv=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},yd=e=>{const t={};return(n,r,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=r+JSON.stringify(s);let l=t[o];return l||(l=e(Ia(r),a),t[o]=l),l(n)}},Qv=e=>(t,n,r)=>e(Ia(n),r)(t);class eb{constructor(t={}){this.logger=Ht.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?yd:Qv;this.formats={number:r((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:r((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:r((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:r((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:r((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=yd(n)}format(t,n,r,a={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{const{formatName:u,formatOptions:d}=Xv(c);if(this.formats[u]){let h=l;try{const f=a?.formatParams?.[a.interpolationkey]||{},m=f.locale||f.lng||a.locale||a.lng||r;h=this.formats[u](l,m,{...d,...a,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const tb=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class nb extends bs{constructor(t,n,r,a={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Ht.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(t,n,r,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const a=t.split("|"),s=a[0],o=a[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{zv(c.loaded,[s],o),tb(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();ne(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ne(n)&&(n=[n]);const s=this.queueLoad(t,n,r,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),a=r[0],s=r[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,a,s,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,n,r,a,c):d=u(t,n,r,a),d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}else u(t,n,r,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const vd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ne(e[1])&&(t.defaultValue=e[1]),ne(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),bd=e=>(ne(e.ns)&&(e.ns=[e.ns]),ne(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ne(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),hi=()=>{},rb=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class ka extends bs{constructor(t={},n){if(super(),this.options=bd(t),this.services={},this.logger=Ht,this.modules={external:[]},rb(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ne(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=vd();this.options={...r,...this.options,...bd(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ht.init(a(this.modules.logger),this.options):Ht.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=eb;const d=new pd(this.options);this.store=new dd(this.options.resources,this.options);const h=this.services;h.logger=Ht,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new Jv(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=a(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Zv(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new nb(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Ji(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=hi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Xr(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=hi){let r=n;const a=ne(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const a=Xr();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=hi),this.services.backendConnector.reload(t,n,s=>{a.resolve(),r(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$p.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Xr();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=ne(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ne(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{s(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(h=>`${c.keyPrefix}${u}${h}`):d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s,this.t(d,c)};return ne(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(s,t)))}loadNamespaces(t,n){const r=Xr();return this.options.ns?(ne(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Xr();ne(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const s=a.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new pd(vd());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new ka(t,n)}cloneInstance(t={},n=hi){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new ka(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});s.store=new dd(l,a),s.services.resourceStore=s.store}return s.translator=new Ji(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,n),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const qe=ka.createInstance();qe.createInstance=ka.createInstance;qe.createInstance;qe.dir;qe.init;qe.loadResources;qe.reloadResources;qe.use;qe.changeLanguage;qe.getFixedT;qe.t;qe.exists;qe.setDefaultNamespace;qe.hasLoadedNamespace;qe.loadNamespaces;qe.loadLanguages;const{slice:ab,forEach:ib}=[];function sb(e){return ib.call(ab.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function ob(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const wd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,lb=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let s=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!wd.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!wd.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},_d={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=lb(e,t,a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var cb={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return _d.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:s}=t;n&&typeof document<"u"&&_d.create(n,e,r,a,s)}},ub={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const s=r.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===t&&(n=s[o].substring(l+1))}}return n}},db={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(t){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let hr=null;const jd=()=>{if(hr!==null)return hr;try{if(hr=typeof window<"u"&&window.localStorage!==null,!hr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hr=!1}return hr};var hb={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&jd())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&jd()&&window.localStorage.setItem(n,e)}};let fr=null;const Sd=()=>{if(fr!==null)return fr;try{if(fr=typeof window<"u"&&window.sessionStorage!==null,!fr)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{fr=!1}return fr};var fb={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Sd())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Sd()&&window.sessionStorage.setItem(n,e)}},pb={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},mb={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},gb={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},xb={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let Mp=!1;try{document.cookie,Mp=!0}catch{}const Up=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Mp||Up.splice(1,1);const yb=()=>({order:Up,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class zp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=sb(n,this.options||{},yb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(cb),this.addDetector(ub),this.addDetector(hb),this.addDetector(fb),this.addDetector(pb),this.addDetector(mb),this.addDetector(gb),this.addDetector(xb),this.addDetector(db)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!ob(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}zp.type="languageDetector";var eo,Cd;function vb(){return Cd||(Cd=1,eo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),eo}var bb=vb();const wb=At(bb);var _b=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Rd(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(wb[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(_b),s=null;(s=a.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],a.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var jb=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Sb=/^\s*$/,Cb=Object.create(null);function qp(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(qp,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Rb={parse:function(e,t){t||(t={}),t.components||(t.components=Cb);var n,r=[],a=[],s=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(jb,function(c,u){if(o){if(c!=="</"+n.name+">")return;o=!1}var d,h=c.charAt(1)!=="/",f=c.startsWith("<!--"),m=u+c.length,p=e.charAt(m);if(f){var g=Rd(c);return s<0?(r.push(g),r):((d=a[s]).children.push(g),r)}if(h&&(s++,(n=Rd(c)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!p||p==="<"||n.children.push({type:"text",content:e.slice(m,e.indexOf("<",m))}),s===0&&r.push(n),(d=a[s-1])&&d.children.push(n),a[s]=n),(!h||n.voidElement)&&(s>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(s--,n=s===-1?r:a[s]),!o&&p!=="<"&&p)){d=s===-1?r:a[s].children;var x=e.indexOf("<",m),y=e.slice(m,x===-1?void 0:x);Sb.test(y)&&(y=" "),(x>-1&&s+d.length>=0||y!==" ")&&d.push({type:"text",content:y})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+qp("",n)},"")}};const Ii=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);_t(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},Ed={},La=(e,t,n,r)=>{_t(n)&&Ed[n]||(_t(n)&&(Ed[n]=new Date),Ii(e,t,n,r))},Hp=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Wl=(e,t,n)=>{e.loadNamespaces(t,Hp(e,n))},Td=(e,t,n,r)=>{if(_t(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Wl(e,n,r);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,Hp(e,r))},Eb=(e,t,n={})=>!t.languages||!t.languages.length?(La(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),_t=e=>typeof e=="string",_n=e=>typeof e=="object"&&e!==null,Tb=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ib={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},kb=e=>Ib[e],Lb=e=>e.replace(Tb,kb);let Gl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Lb};const Pb=(e={})=>{Gl={...Gl,...e}},Bp=()=>Gl;let Vp;const Ab=e=>{Vp=e},Uc=()=>Vp,to=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},no=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?br(t):t},Ob=e=>Array.isArray(e)&&e.every(v.isValidElement),br=e=>Array.isArray(e)?e:[e],Db=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},Kp=(e,t,n,r)=>{if(!e)return"";let a="";const s=br(e),o=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((l,c)=>{if(_t(l)){a+=`${l}`;return}if(v.isValidElement(l)){const{props:u,type:d}=l,h=Object.keys(u).length,f=o.indexOf(d)>-1,m=u.children;if(!m&&f&&!h){a+=`<${d}/>`;return}if(!m&&(!f||h)||u.i18nIsDynamicList){a+=`<${c}></${c}>`;return}if(f&&h===1&&_t(m)){a+=`<${d}>${m}</${d}>`;return}const p=Kp(m,t,n,r);a+=`<${c}>${p}</${c}>`;return}if(l===null){Ii(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(_n(l)){const{format:u,...d}=l,h=Object.keys(d);if(h.length===1){const f=u?`${h[0]}, ${u}`:h[0];a+=`{{${f}}}`;return}Ii(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:l});return}Ii(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:l})}),a},Nb=(e,t,n,r,a,s,o)=>{if(n==="")return[];const l=a.transKeepBasicHtmlNodesFor||[],c=n&&new RegExp(l.map(y=>`<${y}`).join("|")).test(n);if(!e&&!t&&!c&&!o)return[n];const u=t??{},d=y=>{br(y).forEach(b=>{_t(b)||(to(b)?d(no(b)):_n(b)&&!v.isValidElement(b)&&Object.assign(u,b))})};d(e);const h=Rb.parse(`<0>${n}</0>`),f={...u,...s},m=(y,j,b)=>{const S=no(y),k=g(S,j.children,b);return Ob(S)&&k.length===0||y.props?.i18nIsDynamicList?S:k},p=(y,j,b,S,k)=>{y.dummy?(y.children=j,b.push(v.cloneElement(y,{key:S},k?void 0:j))):b.push(...v.Children.map([y],w=>{const E={...w.props};return delete E.i18nIsDynamicList,v.createElement(w.type,{...E,key:S,ref:w.props.ref??w.ref},k?null:j)}))},g=(y,j,b)=>{const S=br(y);return br(j).reduce((w,E,C)=>{const O=E.children?.[0]?.content&&r.services.interpolator.interpolate(E.children[0].content,f,r.language);if(E.type==="tag"){let q=S[parseInt(E.name,10)];!q&&t&&(q=t[E.name]),b.length===1&&!q&&(q=b[0][E.name]),q||(q={});const W=Object.keys(E.attrs).length!==0?Db({props:E.attrs},q):q,Q=v.isValidElement(W),M=Q&&to(E,!0)&&!E.voidElement,B=c&&_n(W)&&W.dummy&&!Q,oe=_n(t)&&Object.hasOwnProperty.call(t,E.name);if(_t(W)){const Y=r.services.interpolator.interpolate(W,f,r.language);w.push(Y)}else if(to(W)||M){const Y=m(W,E,b);p(W,Y,w,C)}else if(B){const Y=g(S,E.children,b);p(W,Y,w,C)}else if(Number.isNaN(parseFloat(E.name)))if(oe){const Y=m(W,E,b);p(W,Y,w,C,E.voidElement)}else if(a.transSupportBasicHtmlNodes&&l.indexOf(E.name)>-1)if(E.voidElement)w.push(v.createElement(E.name,{key:`${E.name}-${C}`}));else{const Y=g(S,E.children,b);w.push(v.createElement(E.name,{key:`${E.name}-${C}`},Y))}else if(E.voidElement)w.push(`<${E.name} />`);else{const Y=g(S,E.children,b);w.push(`<${E.name}>${Y}</${E.name}>`)}else if(_n(W)&&!Q){const Y=E.children[0]?O:null;Y&&w.push(Y)}else p(W,O,w,C,E.children.length!==1||!O)}else if(E.type==="text"){const q=a.transWrapTextNodes,W=o?a.unescape(r.services.interpolator.interpolate(E.content,f,r.language)):r.services.interpolator.interpolate(E.content,f,r.language);q?w.push(v.createElement(q,{key:`${E.name}-${C}`},W)):w.push(W)}return w},[])},x=g([{dummy:!0,children:e||[]}],h,br(e||[]));return no(x[0])},Yp=(e,t,n)=>{const r=e.key||t,a=v.cloneElement(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;function s(){return v.createElement(v.Fragment,null,a)}return v.createElement(s,{key:r})},Fb=(e,t)=>e.map((n,r)=>Yp(n,r,t)),$b=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:Yp(e[r],r,t)})}),n},Mb=(e,t,n,r)=>e?Array.isArray(e)?Fb(e,t):_n(e)?$b(e,t):(La(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,Ub=e=>!_n(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function zb({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:o,defaults:l,components:c,ns:u,i18n:d,t:h,shouldUnescape:f,...m}){const p=d||Uc();if(!p)return La(p,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const g=h||p.t.bind(p)||(B=>B),x={...Bp(),...p.options?.react};let y=u||g.ns||p.options?.defaultNS;y=_t(y)?[y]:y||["translation"];const j=Kp(e,x,p,r),b=l||j||x.transEmptyNodeValue||r,{hashTransKey:S}=x,k=r||(S?S(j||b):j||b);p.options?.interpolation?.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...p.options.interpolation.defaultVariables}:{...p.options.interpolation.defaultVariables});const w=o||t!==void 0&&!p.options?.interpolation?.alwaysFormat||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},E={...s,context:a||s.context,count:t,...o,...w,defaultValue:b,ns:y},C=k?g(k,E):b,O=Mb(c,C,p,r);let q=O||e,W=null;Ub(O)&&(W=O,q=e);const Q=Nb(q,W,C,p,x,E,f),M=n??x.defaultTransParent;return M?v.createElement(M,m,Q):Q}const qb={type:"3rdParty",init(e){Pb(e.options.react),Ab(e)}},Wp=v.createContext();class Hb{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Nr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:o,defaults:l,components:c,ns:u,i18n:d,t:h,shouldUnescape:f,...m}){const{i18n:p,defaultNS:g}=v.useContext(Wp)||{},x=d||p||Uc(),y=h||x?.t.bind(x);return zb({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s,values:o,defaults:l,components:c,ns:u||y?.ns||g||x?.options?.defaultNS,i18n:x,t:h,shouldUnescape:f,...m})}const Bb=(e,t)=>{const n=v.useRef();return v.useEffect(()=>{n.current=e},[e,t]),n.current},Gp=(e,t,n,r)=>e.getFixedT(t,n,r),Vb=(e,t,n,r)=>v.useCallback(Gp(e,t,n,r),[e,t,n,r]),He=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:a}=v.useContext(Wp)||{},s=n||r||Uc();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Hb),!s){La(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(w,E)=>_t(E)?E:_n(E)&&_t(E.defaultValue)?E.defaultValue:Array.isArray(w)?w[w.length-1]:w,k=[S,{},!1];return k.t=S,k.i18n={},k.ready=!1,k}s.options.react?.wait&&La(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Bp(),...s.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=a||s.options?.defaultNS;u=_t(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(S=>Eb(S,s,o)),h=Vb(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),f=()=>h,m=()=>Gp(s,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[p,g]=v.useState(f);let x=u.join();t.lng&&(x=`${t.lng}${x}`);const y=Bb(x),j=v.useRef(!0);v.useEffect(()=>{const{bindI18n:S,bindI18nStore:k}=o;j.current=!0,!d&&!l&&(t.lng?Td(s,t.lng,u,()=>{j.current&&g(m)}):Wl(s,u,()=>{j.current&&g(m)})),d&&y&&y!==x&&j.current&&g(m);const w=()=>{j.current&&g(m)};return S&&s?.on(S,w),k&&s?.store.on(k,w),()=>{j.current=!1,s&&S?.split(" ").forEach(E=>s.off(E,w)),k&&s&&k.split(" ").forEach(E=>s.store.off(E,w))}},[s,x]),v.useEffect(()=>{j.current&&d&&g(f)},[s,c,d]);const b=[p,s,d];if(b.t=p,b.i18n=s,b.ready=d,d||!d&&!l)return b;throw new Promise(S=>{t.lng?Td(s,t.lng,u,()=>S()):Wl(s,u,()=>S())})};var ki={exports:{}},Kb=ki.exports,Id;function Yb(){return Id||(Id=1,function(e,t){(function(n,r){e.exports=r()})(Kb,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})}(ki)),ki.exports}var Wb=Yb();const Gb=At(Wb);var Li={exports:{}},Jb=Li.exports,kd;function Zb(){return kd||(kd=1,function(e,t){(function(n,r){e.exports=r(hp())})(Jb,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),s={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(s,null,!0),s})}(Li)),Li.exports}var Xb=Zb();const Qb=At(Xb);var Pi={exports:{}},ew=Pi.exports,Ld;function tw(){return Ld||(Ld=1,function(e,t){(function(n,r){e.exports=r(hp())})(ew,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),s={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(s,null,!0),s})}(Pi)),Pi.exports}var nw=tw();const rw=At(nw),aw={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile","page.setting.statics":"Statics","page.statics.list.title":"File list"},iw={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料","page.setting.statics":"文件管理","page.statics.list.title":"文件列表"},sw={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料","page.setting.statics":"媒體管理","page.statics.list.title":"媒體列表"},Zi={[ja.English]:{i18n:aw,dayjs:Gb,antd:py},[ja.SimplifiedChinese]:{i18n:iw,dayjs:Qb,antd:fy},[ja.TraditionalChinese]:{i18n:sw,dayjs:rw,antd:hy}},Kn=qe,ow=Object.keys(Zi).reduce((e,t)=>(e[t]={translation:Zi[t].i18n},e),{}),lw=e=>(qe.use(zp).use(qb).init({debug:Iv,cleanCode:!0,resources:ow,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),qe);/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cw(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const uw={},dw=()=>{},hw=Object.assign,fw=Object.prototype.hasOwnProperty,Jl=(e,t)=>fw.call(e,t),En=Array.isArray,Ca=e=>ws(e)==="[object Map]",pw=e=>ws(e)==="[object Set]",Zl=e=>typeof e=="function",mw=e=>typeof e=="string",qa=e=>typeof e=="symbol",Ha=e=>e!==null&&typeof e=="object",gw=Object.prototype.toString,ws=e=>gw.call(e),xw=e=>ws(e).slice(8,-1),yw=e=>ws(e)==="[object Object]",zc=e=>mw(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tn=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;const ro=new WeakSet;class vw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ro.has(this)&&(ro.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pd(this),Xp(this);const t=Ie,n=kt;Ie=this,kt=!0;try{return this.fn()}finally{Qp(this),Ie=t,kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Bc(t);this.deps=this.depsTail=void 0,Pd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ro.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xl(this)&&this.run()}get dirty(){return Xl(this)}}let Jp=0,Ra,Ea;function Zp(e,t=!1){if(e.flags|=8,t){e.next=Ea,Ea=e;return}e.next=Ra,Ra=e}function qc(){Jp++}function Hc(){if(--Jp>0)return;if(Ea){let t=Ea;for(Ea=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ra;){let t=Ra;for(Ra=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Xp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Qp(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),Bc(r),bw(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function Xl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(em(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function em(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pa)||(e.globalVersion=Pa,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xl(e))))return;e.flags|=2;const t=e.dep,n=Ie,r=kt;Ie=e,kt=!0;try{Xp(e);const a=e.fn(e._value);(t.version===0||Tn(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ie=n,kt=r,Qp(e),e.flags&=-3}}function Bc(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Bc(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let kt=!0;const tm=[];function nm(){tm.push(kt),kt=!1}function rm(){const e=tm.pop();kt=e===void 0?!0:e}function Pd(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ie;Ie=void 0;try{t()}finally{Ie=n}}}let Pa=0,ww=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Vc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ie||!kt||Ie===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ie)n=this.activeLink=new ww(Ie,this),Ie.deps?(n.prevDep=Ie.depsTail,Ie.depsTail.nextDep=n,Ie.depsTail=n):Ie.deps=Ie.depsTail=n,am(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ie.depsTail,n.nextDep=void 0,Ie.depsTail.nextDep=n,Ie.depsTail=n,Ie.deps===n&&(Ie.deps=r)}return n}trigger(t){this.version++,Pa++,this.notify(t)}notify(t){qc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Hc()}}}function am(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)am(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ql=new WeakMap,Yn=Symbol(""),ec=Symbol(""),Aa=Symbol("");function ut(e,t,n){if(kt&&Ie){let r=Ql.get(e);r||Ql.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new Vc),a.map=r,a.key=n),a.track()}}function yn(e,t,n,r,a,s){const o=Ql.get(e);if(!o){Pa++;return}const l=c=>{c&&c.trigger()};if(qc(),t==="clear")o.forEach(l);else{const c=En(e),u=c&&zc(n);if(c&&n==="length"){const d=Number(r);o.forEach((h,f)=>{(f==="length"||f===Aa||!qa(f)&&f>=d)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Aa)),t){case"add":c?u&&l(o.get("length")):(l(o.get(Yn)),Ca(e)&&l(o.get(ec)));break;case"delete":c||(l(o.get(Yn)),Ca(e)&&l(o.get(ec)));break;case"set":Ca(e)&&l(o.get(Yn));break}}Hc()}function pr(e){const t=Ce(e);return t===e?t:(ut(t,"iterate",Aa),Lt(e)?t:t.map(rt))}function Kc(e){return ut(e=Ce(e),"iterate",Aa),e}const _w={__proto__:null,[Symbol.iterator](){return ao(this,Symbol.iterator,rt)},concat(...e){return pr(this).concat(...e.map(t=>En(t)?pr(t):t))},entries(){return ao(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Wt(this,"every",e,t,void 0,arguments)},filter(e,t){return Wt(this,"filter",e,t,n=>n.map(rt),arguments)},find(e,t){return Wt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Wt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Wt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Wt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Wt(this,"forEach",e,t,void 0,arguments)},includes(...e){return io(this,"includes",e)},indexOf(...e){return io(this,"indexOf",e)},join(e){return pr(this).join(e)},lastIndexOf(...e){return io(this,"lastIndexOf",e)},map(e,t){return Wt(this,"map",e,t,void 0,arguments)},pop(){return Qr(this,"pop")},push(...e){return Qr(this,"push",e)},reduce(e,...t){return Ad(this,"reduce",e,t)},reduceRight(e,...t){return Ad(this,"reduceRight",e,t)},shift(){return Qr(this,"shift")},some(e,t){return Wt(this,"some",e,t,void 0,arguments)},splice(...e){return Qr(this,"splice",e)},toReversed(){return pr(this).toReversed()},toSorted(e){return pr(this).toSorted(e)},toSpliced(...e){return pr(this).toSpliced(...e)},unshift(...e){return Qr(this,"unshift",e)},values(){return ao(this,"values",rt)}};function ao(e,t,n){const r=Kc(e),a=r[t]();return r!==e&&!Lt(e)&&(a._next=a.next,a.next=()=>{const s=a._next();return s.value&&(s.value=n(s.value)),s}),a}const jw=Array.prototype;function Wt(e,t,n,r,a,s){const o=Kc(e),l=o!==e&&!Lt(e),c=o[t];if(c!==jw[t]){const h=c.apply(e,s);return l?rt(h):h}let u=n;o!==e&&(l?u=function(h,f){return n.call(this,rt(h),f,e)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,e)}));const d=c.call(o,u,r);return l&&a?a(d):d}function Ad(e,t,n,r){const a=Kc(e);let s=n;return a!==e&&(Lt(e)?n.length>3&&(s=function(o,l,c){return n.call(this,o,l,c,e)}):s=function(o,l,c){return n.call(this,o,rt(l),c,e)}),a[t](s,...r)}function io(e,t,n){const r=Ce(e);ut(r,"iterate",Aa);const a=r[t](...n);return(a===-1||a===!1)&&Mw(n[0])?(n[0]=Ce(n[0]),r[t](...n)):a}function Qr(e,t,n=[]){nm(),qc();const r=Ce(e)[t].apply(e,n);return Hc(),rm(),r}const Sw=cw("__proto__,__v_isRef,__isVue"),im=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qa));function Cw(e){qa(e)||(e=String(e));const t=Ce(this);return ut(t,"has",e),t.hasOwnProperty(e)}class sm{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(a?s?Dw:um:s?cm:lm).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=En(t);if(!a){let c;if(o&&(c=_w[n]))return c;if(n==="hasOwnProperty")return Cw}const l=Reflect.get(t,n,tn(t)?t:r);return(qa(n)?im.has(n):Sw(n))||(a||ut(t,"get",n),s)?l:tn(l)?o&&zc(n)?l:l.value:Ha(l)?a?dm(l):Wc(l):l}}class om extends sm{constructor(t=!1){super(!1,t)}set(t,n,r,a){let s=t[n];if(!this._isShallow){const c=Jn(s);if(!Lt(r)&&!Jn(r)&&(s=Ce(s),r=Ce(r)),!En(t)&&tn(s)&&!tn(r))return c?!1:(s.value=r,!0)}const o=En(t)&&zc(n)?Number(n)<t.length:Jl(t,n),l=Reflect.set(t,n,r,tn(t)?t:a);return t===Ce(a)&&(o?Tn(r,s)&&yn(t,"set",n,r):yn(t,"add",n,r)),l}deleteProperty(t,n){const r=Jl(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&yn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!qa(n)||!im.has(n))&&ut(t,"has",n),r}ownKeys(t){return ut(t,"iterate",En(t)?"length":Yn),Reflect.ownKeys(t)}}class Rw extends sm{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ew=new om,Tw=new Rw,Iw=new om(!0),tc=e=>e,fi=e=>Reflect.getPrototypeOf(e);function kw(e,t,n){return function(...r){const a=this.__v_raw,s=Ce(a),o=Ca(s),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=a[e](...r),d=n?tc:t?nc:rt;return!t&&ut(s,"iterate",c?ec:Yn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:l?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function pi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lw(e,t){const n={get(a){const s=this.__v_raw,o=Ce(s),l=Ce(a);e||(Tn(a,l)&&ut(o,"get",a),ut(o,"get",l));const{has:c}=fi(o),u=t?tc:e?nc:rt;if(c.call(o,a))return u(s.get(a));if(c.call(o,l))return u(s.get(l));s!==o&&s.get(a)},get size(){const a=this.__v_raw;return!e&&ut(Ce(a),"iterate",Yn),Reflect.get(a,"size",a)},has(a){const s=this.__v_raw,o=Ce(s),l=Ce(a);return e||(Tn(a,l)&&ut(o,"has",a),ut(o,"has",l)),a===l?s.has(a):s.has(a)||s.has(l)},forEach(a,s){const o=this,l=o.__v_raw,c=Ce(l),u=t?tc:e?nc:rt;return!e&&ut(c,"iterate",Yn),l.forEach((d,h)=>a.call(s,u(d),u(h),o))}};return hw(n,e?{add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear")}:{add(a){!t&&!Lt(a)&&!Jn(a)&&(a=Ce(a));const s=Ce(this);return fi(s).has.call(s,a)||(s.add(a),yn(s,"add",a,a)),this},set(a,s){!t&&!Lt(s)&&!Jn(s)&&(s=Ce(s));const o=Ce(this),{has:l,get:c}=fi(o);let u=l.call(o,a);u||(a=Ce(a),u=l.call(o,a));const d=c.call(o,a);return o.set(a,s),u?Tn(s,d)&&yn(o,"set",a,s):yn(o,"add",a,s),this},delete(a){const s=Ce(this),{has:o,get:l}=fi(s);let c=o.call(s,a);c||(a=Ce(a),c=o.call(s,a)),l&&l.call(s,a);const u=s.delete(a);return c&&yn(s,"delete",a,void 0),u},clear(){const a=Ce(this),s=a.size!==0,o=a.clear();return s&&yn(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=kw(a,e,t)}),n}function Yc(e,t){const n=Lw(e,t);return(r,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Jl(n,a)&&a in r?n:r,a,s)}const Pw={get:Yc(!1,!1)},Aw={get:Yc(!1,!0)},Ow={get:Yc(!0,!1)},lm=new WeakMap,cm=new WeakMap,um=new WeakMap,Dw=new WeakMap;function Nw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fw(e){return e.__v_skip||!Object.isExtensible(e)?0:Nw(xw(e))}function Wc(e){return Jn(e)?e:Gc(e,!1,Ew,Pw,lm)}function $w(e){return Gc(e,!1,Iw,Aw,cm)}function dm(e){return Gc(e,!0,Tw,Ow,um)}function Gc(e,t,n,r,a){if(!Ha(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Fw(e);if(s===0)return e;const o=a.get(e);if(o)return o;const l=new Proxy(e,s===2?r:n);return a.set(e,l),l}function Ai(e){return Jn(e)?Ai(e.__v_raw):!!(e&&e.__v_isReactive)}function Jn(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function Mw(e){return e?!!e.__v_raw:!1}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}const rt=e=>Ha(e)?Wc(e):e,nc=e=>Ha(e)?dm(e):e;function tn(e){return e?e.__v_isRef===!0:!1}function hm(e){return fm(e,!1)}function Uw(e){return fm(e,!0)}function fm(e,t){return tn(e)?e:new zw(e,t)}class zw{constructor(t,n){this.dep=new Vc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ce(t),this._value=n?t:rt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Lt(t)||Jn(t);t=r?t:Ce(t),Tn(t,n)&&(this._rawValue=t,this._value=r?t:rt(t),this.dep.trigger())}}class qw{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Vc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return Zp(this,!0),!0}get value(){const t=this.dep.track();return em(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hw(e,t,n=!1){let r,a;return Zl(e)?r=e:(r=e.get,a=e.set),new qw(r,a,n)}const mi={},Xi=new WeakMap;let Mn;function Bw(e,t=!1,n=Mn){if(n){let r=Xi.get(n);r||Xi.set(n,r=[]),r.push(e)}}function Vw(e,t,n=uw){const{immediate:r,deep:a,once:s,scheduler:o,augmentJob:l,call:c}=n,u=b=>a?b:Lt(b)||a===!1||a===0?vn(b,1):vn(b);let d,h,f,m,p=!1,g=!1;if(tn(e)?(h=()=>e.value,p=Lt(e)):Ai(e)?(h=()=>u(e),p=!0):En(e)?(g=!0,p=e.some(b=>Ai(b)||Lt(b)),h=()=>e.map(b=>{if(tn(b))return b.value;if(Ai(b))return u(b);if(Zl(b))return c?c(b,2):b()})):Zl(e)?t?h=c?()=>c(e,2):e:h=()=>{if(f){nm();try{f()}finally{rm()}}const b=Mn;Mn=d;try{return c?c(e,3,[m]):e(m)}finally{Mn=b}}:h=dw,t&&a){const b=h,S=a===!0?1/0:a;h=()=>vn(b(),S)}const x=()=>{d.stop()};if(s&&t){const b=t;t=(...S)=>{b(...S),x()}}let y=g?new Array(e.length).fill(mi):mi;const j=b=>{if(!(!(d.flags&1)||!d.dirty&&!b))if(t){const S=d.run();if(a||p||(g?S.some((k,w)=>Tn(k,y[w])):Tn(S,y))){f&&f();const k=Mn;Mn=d;try{const w=[S,y===mi?void 0:g&&y[0]===mi?[]:y,m];y=S,c?c(t,3,w):t(...w)}finally{Mn=k}}}else d.run()};return l&&l(j),d=new vw(h),d.scheduler=o?()=>o(j,!1):j,m=b=>Bw(b,!1,d),f=d.onStop=()=>{const b=Xi.get(d);if(b){if(c)c(b,4);else for(const S of b)S();Xi.delete(d)}},t?r?j(!0):y=d.run():o?o(j.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function vn(e,t=1/0,n){if(t<=0||!Ha(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,tn(e))vn(e.value,t,n);else if(En(e))for(let r=0;r<e.length;r++)vn(e[r],t,n);else if(pw(e)||Ca(e))e.forEach(r=>{vn(r,t,n)});else if(yw(e)){for(const r in e)vn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&vn(e[r],t,n)}return e}/*!
 * veact v1.0.0
 * https://github.com/veactjs/veact
 *
 * Includes @vue/reactivity
 * https://github.com/vuejs/core/tree/main/packages/reactivity
 *
 * (c) 2021-present Surmon and Veact contributors.
 * Released under the MIT License.
 *
 * Date: 2024-09-05T14:34:40.987Z
 */function je(e){v.useEffect(()=>{e()},[])}function Jc(e){v.useEffect(()=>()=>{e()},[])}const Kw=e=>e+1,Ba=()=>v.useReducer(Kw,0)[1];function Yw(e,t,n={}){return Vw(e,t,{...n,scheduler:r=>r()})}const xt=(e,t,n={})=>{const[r]=v.useState(()=>Yw(e,t,n));return Jc(()=>r.stop()),r};function re(e){const[t]=v.useState(()=>hm(e)),n=Ba();return xt(t,n,{deep:!0}),t}function it(e){const[t]=v.useState(()=>Uw(e)),n=Ba();return xt(t,n),t}function pm(e){const[t]=v.useState(()=>Wc(e)),n=Ba();return xt(t,n),t}function on(e){const[t]=v.useState(()=>$w(e)),n=Ba();return xt(t,n),t}function gt(e,t){const[n]=v.useState(()=>Hw(e)),r=Ba();return xt(n,r),n}var ea={},Od;function Ww(){if(Od)return ea;Od=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.parse=o,ea.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,m){const p=new s,g=f.length;if(g<2)return p;const x=m?.decode||d;let y=0;do{const j=f.indexOf("=",y);if(j===-1)break;const b=f.indexOf(";",y),S=b===-1?g:b;if(j>S){y=f.lastIndexOf(";",j-1)+1;continue}const k=l(f,y,j),w=c(f,j,k),E=f.slice(k,w);if(p[E]===void 0){let C=l(f,j+1,S),O=c(f,S,C);const q=x(f.slice(C,O));p[E]=q}y=S+1}while(y<g);return p}function l(f,m,p){do{const g=f.charCodeAt(m);if(g!==32&&g!==9)return m}while(++m<p);return p}function c(f,m,p){for(;m>p;){const g=f.charCodeAt(--m);if(g!==32&&g!==9)return m+1}return p}function u(f,m,p){const g=p?.encode||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const x=g(m);if(!t.test(x))throw new TypeError(`argument val is invalid: ${m}`);let y=f+"="+x;if(!p)return y;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);y+="; Max-Age="+p.maxAge}if(p.domain){if(!n.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);y+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);y+="; Path="+p.path}if(p.expires){if(!h(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);y+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(y+="; HttpOnly"),p.secure&&(y+="; Secure"),p.partitioned&&(y+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return y}function d(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return a.call(f)==="[object Date]"}return ea}Ww();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mm=e=>{throw TypeError(e)},Gw=(e,t,n)=>t.has(e)||mm("Cannot "+n),so=(e,t,n)=>(Gw(e,t,"read from private field"),n?n.call(e):t.get(e)),Jw=(e,t,n)=>t.has(e)?mm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Dd="popstate";function Zw(e={}){function t(r,a){let{pathname:s,search:o,hash:l}=r.location;return Tr("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:an(a)}return gm(t,n,null,e)}function Xw(e={}){function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=ln(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Tr("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:an(s))}function r(a,s){ke(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return gm(t,n,r,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ke(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qw(){return Math.random().toString(36).substring(2,10)}function Nd(e,t){return{usr:e.state,key:e.key,idx:t}}function Tr(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ln(t):t,state:n,key:t&&t.key||r||Qw()}}function an({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ln(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gm(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){l="POP";let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:y})}function f(x,y){l="PUSH";let j=Tr(g.location,x,y);n&&n(j,x),u=d()+1;let b=Nd(j,u),S=g.createHref(j);try{o.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(S)}s&&c&&c({action:l,location:g.location,delta:1})}function m(x,y){l="REPLACE";let j=Tr(g.location,x,y);n&&n(j,x),u=d();let b=Nd(j,u),S=g.createHref(j);o.replaceState(b,"",S),s&&c&&c({action:l,location:g.location,delta:0})}function p(x){return xm(x)}let g={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Dd,h),c=x,()=>{a.removeEventListener(Dd,h),c=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return g}function xm(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:an(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var xa,Fd=class{constructor(e){if(Jw(this,xa,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(so(this,xa).has(e))return so(this,xa).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){so(this,xa).set(e,t)}};xa=new WeakMap;var e_=new Set(["lazy","caseSensitive","path","id","index","children"]);function t_(e){return e_.has(e)}var n_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function r_(e){return n_.has(e)}function a_(e){return e.index===!0}function Qi(e,t,n=[],r={}){return e.map((a,s)=>{let o=[...n,String(s)],l=typeof a.id=="string"?a.id:o.join("-");if(he(a.index!==!0||!a.children,"Cannot specify children on an index route"),he(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),a_(a)){let c={...a,...t(a),id:l};return r[l]=c,c}else{let c={...a,...t(a),id:l,children:void 0};return r[l]=c,a.children&&(c.children=Qi(a.children,t,o,r)),c}})}function bn(e,t,n="/"){return Oi(e,t,n,!1)}function Oi(e,t,n,r){let a=typeof t=="string"?ln(t):t,s=jt(a.pathname||"/",n);if(s==null)return null;let o=ym(e);s_(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=x_(s);l=m_(o[c],u,r)}return l}function i_(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function ym(e,t=[],n=[],r=""){let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(he(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Kt([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(he(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ym(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:f_(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let l of vm(s.path))a(s,o,l)}),t}function vm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let o=vm(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function s_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var o_=/^:[\w-]+$/,l_=3,c_=2,u_=1,d_=10,h_=-2,$d=e=>e==="*";function f_(e,t){let n=e.split("/"),r=n.length;return n.some($d)&&(r+=h_),t&&(r+=c_),n.filter(a=>!$d(a)).reduce((a,s)=>a+(o_.test(s)?l_:s===""?u_:d_),r)}function p_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function m_(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=Oa({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Oa({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Kt([s,h.pathname]),pathnameBase:b_(Kt([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Kt([s,h.pathnameBase]))}return o}function Oa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g_(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function g_(e,t=!1,n=!0){ke(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function x_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ke(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function y_(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ln(e):e;return{pathname:n?n.startsWith("/")?n:v_(n,t):t,search:w_(r),hash:__(a)}}function v_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oo(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _s(e){let t=bm(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function js(e,t,n,r=!1){let a;typeof e=="string"?a=ln(e):(a={...e},he(!a.pathname||!a.pathname.includes("?"),oo("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),oo("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),oo("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=y_(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Kt=e=>e.join("/").replace(/\/\/+/g,"/"),b_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,__=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,es=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Da(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wm=["POST","PUT","PATCH","DELETE"],j_=new Set(wm),S_=["GET",...wm],C_=new Set(S_),R_=new Set([301,302,303,307,308]),E_=new Set([307,308]),lo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},T_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ta={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),_m="remix-router-transitions",jm=Symbol("ResetLoaderData");function Sm(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";he(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],a=e.mapRouteProperties||I_,s={},o=Qi(e.routes,a,void 0,s),l,c=e.basename||"/",u=e.dataStrategy||O_,d={unstable_middleware:!1,...e.future},h=null,f=new Set,m=null,p=null,g=null,x=e.hydrationData!=null,y=bn(o,e.history.location,c),j=!1,b=null,S;if(y==null&&!e.patchRoutesOnNavigation){let _=bt(404,{pathname:e.history.location.pathname}),{matches:R,route:I}=Jd(o);S=!0,y=R,b={[I.id]:_}}else if(y&&!e.hydrationData&&si(y,o,e.history.location.pathname).active&&(y=null),y)if(y.some(_=>_.route.lazy))S=!1;else if(!y.some(_=>_.route.loader))S=!0;else{let _=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let I=y.findIndex(z=>R[z.route.id]!==void 0);S=y.slice(0,I+1).every(z=>!ac(z.route,_,R))}else S=y.every(I=>!ac(I.route,_,R))}else{S=!1,y=[];let _=si(null,o,e.history.location.pathname);_.active&&_.matches&&(j=!0,y=_.matches)}let k,w={historyAction:e.history.action,location:e.history.location,matches:y,initialized:S,navigation:lo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},E="POP",C=!1,O,q=!1,W=new Map,Q=null,M=!1,B=!1,oe=new Set,Y=new Map,Re=0,Se=-1,Ye=new Map,Be=new Set,Ee=new Map,Me=new Map,We=new Set,Ft=new Map,ai,Vr=null;function Yx(){if(h=e.history.listen(({action:_,location:R,delta:I})=>{if(ai){ai(),ai=void 0;return}ke(Ft.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Wu({currentLocation:w.location,nextLocation:R,historyAction:_});if(z&&I!=null){let V=new Promise(J=>{ai=J});e.history.go(I*-1),ii(z,{state:"blocked",location:R,proceed(){ii(z,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),V.then(()=>e.history.go(I))},reset(){let J=new Map(w.blockers);J.set(z,ta),et({blockers:J})}});return}return An(_,R)}),n){V_(t,W);let _=()=>K_(t,W);t.addEventListener("pagehide",_),Q=()=>t.removeEventListener("pagehide",_)}return w.initialized||An("POP",w.location,{initialHydration:!0}),k}function Wx(){h&&h(),Q&&Q(),f.clear(),O&&O.abort(),w.fetchers.forEach((_,R)=>Vs(R)),w.blockers.forEach((_,R)=>Yu(R))}function Gx(_){return f.add(_),()=>f.delete(_)}function et(_,R={}){w={...w,..._};let I=[],z=[];w.fetchers.forEach((V,J)=>{V.state==="idle"&&(We.has(J)?I.push(J):z.push(J))}),We.forEach(V=>{!w.fetchers.has(V)&&!Y.has(V)&&I.push(V)}),[...f].forEach(V=>V(w,{deletedFetchers:I,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),I.forEach(V=>Vs(V)),z.forEach(V=>w.fetchers.delete(V))}function lr(_,R,{flushSync:I}={}){let z=w.actionData!=null&&w.navigation.formMethod!=null&&mt(w.navigation.formMethod)&&w.navigation.state==="loading"&&_.state?._isRedirect!==!0,V;R.actionData?Object.keys(R.actionData).length>0?V=R.actionData:V=null:z?V=w.actionData:V=null;let J=R.loaderData?Wd(w.loaderData,R.loaderData,R.matches||[],R.errors):w.loaderData,te=w.blockers;te.size>0&&(te=new Map(te),te.forEach((G,le)=>te.set(le,ta)));let K=C===!0||w.navigation.formMethod!=null&&mt(w.navigation.formMethod)&&_.state?._isRedirect!==!0;l&&(o=l,l=void 0),M||E==="POP"||(E==="PUSH"?e.history.push(_,_.state):E==="REPLACE"&&e.history.replace(_,_.state));let Z;if(E==="POP"){let G=W.get(w.location.pathname);G&&G.has(_.pathname)?Z={currentLocation:w.location,nextLocation:_}:W.has(_.pathname)&&(Z={currentLocation:_,nextLocation:w.location})}else if(q){let G=W.get(w.location.pathname);G?G.add(_.pathname):(G=new Set([_.pathname]),W.set(w.location.pathname,G)),Z={currentLocation:w.location,nextLocation:_}}et({...R,actionData:V,loaderData:J,historyAction:E,location:_,initialized:!0,navigation:lo,revalidation:"idle",restoreScrollPosition:Ju(_,R.matches||w.matches),preventScrollReset:K,blockers:te},{viewTransitionOpts:Z,flushSync:I===!0}),E="POP",C=!1,q=!1,M=!1,B=!1,Vr?.resolve(),Vr=null}async function Uu(_,R){if(typeof _=="number"){e.history.go(_);return}let I=rc(w.location,w.matches,c,_,R?.fromRouteId,R?.relative),{path:z,submission:V,error:J}=Md(!1,I,R),te=w.location,K=Tr(w.location,z,R&&R.state);K={...K,...e.history.encodeLocation(K)};let Z=R&&R.replace!=null?R.replace:void 0,G="PUSH";Z===!0?G="REPLACE":Z===!1||V!=null&&mt(V.formMethod)&&V.formAction===w.location.pathname+w.location.search&&(G="REPLACE");let le=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,ae=(R&&R.flushSync)===!0,de=Wu({currentLocation:te,nextLocation:K,historyAction:G});if(de){ii(de,{state:"blocked",location:K,proceed(){ii(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Uu(_,R)},reset(){let Te=new Map(w.blockers);Te.set(de,ta),et({blockers:Te})}});return}await An(G,K,{submission:V,pendingError:J,preventScrollReset:le,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:ae})}function Jx(){Vr||(Vr=Y_()),Bs(),et({revalidation:"loading"});let _=Vr.promise;return w.navigation.state==="submitting"?_:w.navigation.state==="idle"?(An(w.historyAction,w.location,{startUninterruptedRevalidation:!0}),_):(An(E||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:q===!0}),_)}async function An(_,R,I){O&&O.abort(),O=null,E=_,M=(I&&I.startUninterruptedRevalidation)===!0,sy(w.location,w.matches),C=(I&&I.preventScrollReset)===!0,q=(I&&I.enableViewTransition)===!0;let z=l||o,V=I&&I.overrideNavigation,J=I?.initialHydration&&w.matches&&w.matches.length>0&&!j?w.matches:bn(z,R,c),te=(I&&I.flushSync)===!0;if(J&&w.initialized&&!B&&U_(w.location,R)&&!(I&&I.submission&&mt(I.submission.formMethod))){lr(R,{matches:J},{flushSync:te});return}let K=si(J,z,R.pathname);if(K.active&&K.matches&&(J=K.matches),!J){let{error:Ge,notFoundMatches:ft,route:ge}=Ks(R.pathname);lr(R,{matches:ft,loaderData:{},errors:{[ge.id]:Ge}},{flushSync:te});return}O=new AbortController;let Z=vr(e.history,R,O.signal,I&&I.submission),G=new Fd(e.unstable_getContext?await e.unstable_getContext():void 0),le;if(I&&I.pendingError)le=[Un(J).route.id,{type:"error",error:I.pendingError}];else if(I&&I.submission&&mt(I.submission.formMethod)){let Ge=await Zx(Z,R,I.submission,J,G,K.active,I&&I.initialHydration===!0,{replace:I.replace,flushSync:te});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[ft,ge]=Ge.pendingActionResult;if(pt(ge)&&Da(ge.error)&&ge.error.status===404){O=null,lr(R,{matches:Ge.matches,loaderData:{},errors:{[ft]:ge.error}});return}}J=Ge.matches||J,le=Ge.pendingActionResult,V=co(R,I.submission),te=!1,K.active=!1,Z=vr(e.history,Z.url,Z.signal)}let{shortCircuited:ae,matches:de,loaderData:Te,errors:Fe}=await Xx(Z,R,J,G,K.active,V,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,te,le);ae||(O=null,lr(R,{matches:de||J,...Gd(le),loaderData:Te,errors:Fe}))}async function Zx(_,R,I,z,V,J,te,K={}){Bs();let Z=H_(R,I);if(et({navigation:Z},{flushSync:K.flushSync===!0}),J){let ae=await oi(z,R.pathname,_.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let de=Un(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[de,{type:"error",error:ae.error}]}}else if(ae.matches)z=ae.matches;else{let{notFoundMatches:de,error:Te,route:Fe}=Ks(R.pathname);return{matches:de,pendingActionResult:[Fe.id,{type:"error",error:Te}]}}}let G,le=ya(z,R);if(!le.route.action&&!le.route.lazy)G={type:"error",error:bt(405,{method:_.method,pathname:R.pathname,routeId:le.route.id})};else{let ae=_r(a,s,_,z,le,te?[]:r,V),de=await Kr(_,ae,V,null);if(G=de[le.route.id],!G){for(let Te of z)if(de[Te.route.id]){G=de[Te.route.id];break}}if(_.signal.aborted)return{shortCircuited:!0}}if(Hn(G)){let ae;return K&&K.replace!=null?ae=K.replace:ae=Vd(G.response.headers.get("Location"),new URL(_.url),c)===w.location.pathname+w.location.search,await On(_,G,!0,{submission:I,replace:ae}),{shortCircuited:!0}}if(pt(G)){let ae=Un(z,le.route.id);return(K&&K.replace)!==!0&&(E="PUSH"),{matches:z,pendingActionResult:[ae.route.id,G,le.route.id]}}return{matches:z,pendingActionResult:[le.route.id,G]}}async function Xx(_,R,I,z,V,J,te,K,Z,G,le,ae){let de=J||co(R,te),Te=te||K||Xd(de),Fe=!M&&!G;if(V){if(Fe){let vt=zu(ae);et({navigation:de,...vt!==void 0?{actionData:vt}:{}},{flushSync:le})}let be=await oi(I,R.pathname,_.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let vt=Un(be.partialMatches).route.id;return{matches:be.partialMatches,loaderData:{},errors:{[vt]:be.error}}}else if(be.matches)I=be.matches;else{let{error:vt,notFoundMatches:hn,route:ci}=Ks(R.pathname);return{matches:hn,loaderData:{},errors:{[ci.id]:vt}}}}let Ge=l||o,{dsMatches:ft,revalidatingFetchers:ge}=Ud(_,z,a,s,e.history,w,I,Te,R,G?[]:r,G===!0,B,oe,We,Ee,Be,Ge,c,e.patchRoutesOnNavigation!=null,ae);if(Se=++Re,!e.dataStrategy&&!ft.some(be=>be.shouldLoad)&&ge.length===0){let be=Vu();return lr(R,{matches:I,loaderData:{},errors:ae&&pt(ae[1])?{[ae[0]]:ae[1].error}:null,...Gd(ae),...be?{fetchers:new Map(w.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Fe){let be={};if(!V){be.navigation=de;let vt=zu(ae);vt!==void 0&&(be.actionData=vt)}ge.length>0&&(be.fetchers=Qx(ge)),et(be,{flushSync:le})}ge.forEach(be=>{dn(be.key),be.controller&&Y.set(be.key,be.controller)});let Yr=()=>ge.forEach(be=>dn(be.key));O&&O.signal.addEventListener("abort",Yr);let{loaderResults:Dn,fetcherResults:Wr}=await qu(ft,ge,_,z);if(_.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Yr),ge.forEach(be=>Y.delete(be.key));let yt=gi(Dn);if(yt)return await On(_,yt.result,!0,{replace:Z}),{shortCircuited:!0};if(yt=gi(Wr),yt)return Be.add(yt.key),await On(_,yt.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:Gr,errors:Jr}=Yd(w,I,Dn,ae,ge,Wr);G&&w.errors&&(Jr={...w.errors,...Jr});let Ys=Vu(),Nn=Ku(Se),li=Ys||Nn||ge.length>0;return{matches:I,loaderData:Gr,errors:Jr,...li?{fetchers:new Map(w.fetchers)}:{}}}function zu(_){if(_&&!pt(_[1]))return{[_[0]]:_[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Qx(_){return _.forEach(R=>{let I=w.fetchers.get(R.key),z=na(void 0,I?I.data:void 0);w.fetchers.set(R.key,z)}),new Map(w.fetchers)}async function ey(_,R,I,z){dn(_);let V=(z&&z.flushSync)===!0,J=l||o,te=rc(w.location,w.matches,c,I,R,z?.relative),K=bn(J,te,c),Z=si(K,J,te);if(Z.active&&Z.matches&&(K=Z.matches),!K){Yt(_,R,bt(404,{pathname:te}),{flushSync:V});return}let{path:G,submission:le,error:ae}=Md(!0,te,z);if(ae){Yt(_,R,ae,{flushSync:V});return}let de=ya(K,G),Te=new Fd(e.unstable_getContext?await e.unstable_getContext():void 0),Fe=(z&&z.preventScrollReset)===!0;if(le&&mt(le.formMethod)){await ty(_,R,G,de,K,Te,Z.active,V,Fe,le);return}Ee.set(_,{routeId:R,path:G}),await ny(_,R,G,de,K,Te,Z.active,V,Fe,le)}async function ty(_,R,I,z,V,J,te,K,Z,G){Bs(),Ee.delete(_);function le(Pe){if(!Pe.route.action&&!Pe.route.lazy){let cr=bt(405,{method:G.formMethod,pathname:I,routeId:R});return Yt(_,R,cr,{flushSync:K}),!0}return!1}if(!te&&le(z))return;let ae=w.fetchers.get(_);un(_,B_(G,ae),{flushSync:K});let de=new AbortController,Te=vr(e.history,I,de.signal,G);if(te){let Pe=await oi(V,I,Te.signal,_);if(Pe.type==="aborted")return;if(Pe.type==="error"){Yt(_,R,Pe.error,{flushSync:K});return}else if(Pe.matches){if(V=Pe.matches,z=ya(V,I),le(z))return}else{Yt(_,R,bt(404,{pathname:I}),{flushSync:K});return}}Y.set(_,de);let Fe=Re,Ge=_r(a,s,Te,V,z,r,J),ge=(await Kr(Te,Ge,J,_))[z.route.id];if(Te.signal.aborted){Y.get(_)===de&&Y.delete(_);return}if(We.has(_)){if(Hn(ge)||pt(ge)){un(_,gn(void 0));return}}else{if(Hn(ge))if(Y.delete(_),Se>Fe){un(_,gn(void 0));return}else return Be.add(_),un(_,na(G)),On(Te,ge,!1,{fetcherSubmission:G,preventScrollReset:Z});if(pt(ge)){Yt(_,R,ge.error);return}}let Yr=w.navigation.location||w.location,Dn=vr(e.history,Yr,de.signal),Wr=l||o,yt=w.navigation.state!=="idle"?bn(Wr,w.navigation.location,c):w.matches;he(yt,"Didn't find any matches after fetcher action");let Gr=++Re;Ye.set(_,Gr);let Jr=na(G,ge.data);w.fetchers.set(_,Jr);let{dsMatches:Ys,revalidatingFetchers:Nn}=Ud(Dn,J,a,s,e.history,w,yt,G,Yr,r,!1,B,oe,We,Ee,Be,Wr,c,e.patchRoutesOnNavigation!=null,[z.route.id,ge]);Nn.filter(Pe=>Pe.key!==_).forEach(Pe=>{let cr=Pe.key,Zu=w.fetchers.get(cr),cy=na(void 0,Zu?Zu.data:void 0);w.fetchers.set(cr,cy),dn(cr),Pe.controller&&Y.set(cr,Pe.controller)}),et({fetchers:new Map(w.fetchers)});let li=()=>Nn.forEach(Pe=>dn(Pe.key));de.signal.addEventListener("abort",li);let{loaderResults:be,fetcherResults:vt}=await qu(Ys,Nn,Dn,J);if(de.signal.aborted)return;if(de.signal.removeEventListener("abort",li),Ye.delete(_),Y.delete(_),Nn.forEach(Pe=>Y.delete(Pe.key)),w.fetchers.has(_)){let Pe=gn(ge.data);w.fetchers.set(_,Pe)}let hn=gi(be);if(hn)return On(Dn,hn.result,!1,{preventScrollReset:Z});if(hn=gi(vt),hn)return Be.add(hn.key),On(Dn,hn.result,!1,{preventScrollReset:Z});let{loaderData:ci,errors:Ws}=Yd(w,yt,be,void 0,Nn,vt);Ku(Gr),w.navigation.state==="loading"&&Gr>Se?(he(E,"Expected pending action"),O&&O.abort(),lr(w.navigation.location,{matches:yt,loaderData:ci,errors:Ws,fetchers:new Map(w.fetchers)})):(et({errors:Ws,loaderData:Wd(w.loaderData,ci,yt,Ws),fetchers:new Map(w.fetchers)}),B=!1)}async function ny(_,R,I,z,V,J,te,K,Z,G){let le=w.fetchers.get(_);un(_,na(G,le?le.data:void 0),{flushSync:K});let ae=new AbortController,de=vr(e.history,I,ae.signal);if(te){let ge=await oi(V,I,de.signal,_);if(ge.type==="aborted")return;if(ge.type==="error"){Yt(_,R,ge.error,{flushSync:K});return}else if(ge.matches)V=ge.matches,z=ya(V,I);else{Yt(_,R,bt(404,{pathname:I}),{flushSync:K});return}}Y.set(_,ae);let Te=Re,Fe=_r(a,s,de,V,z,r,J),ft=(await Kr(de,Fe,J,_))[z.route.id];if(Y.get(_)===ae&&Y.delete(_),!de.signal.aborted){if(We.has(_)){un(_,gn(void 0));return}if(Hn(ft))if(Se>Te){un(_,gn(void 0));return}else{Be.add(_),await On(de,ft,!1,{preventScrollReset:Z});return}if(pt(ft)){Yt(_,R,ft.error);return}un(_,gn(ft.data))}}async function On(_,R,I,{submission:z,fetcherSubmission:V,preventScrollReset:J,replace:te}={}){R.response.headers.has("X-Remix-Revalidate")&&(B=!0);let K=R.response.headers.get("Location");he(K,"Expected a Location header on the redirect Response"),K=Vd(K,new URL(_.url),c);let Z=Tr(w.location,K,{_isRedirect:!0});if(n){let Fe=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(Zc.test(K)){const Ge=xm(K,!0);Fe=Ge.origin!==t.location.origin||jt(Ge.pathname,c)==null}if(Fe){te?t.location.replace(K):t.location.assign(K);return}}O=null;let G=te===!0||R.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:le,formAction:ae,formEncType:de}=w.navigation;!z&&!V&&le&&ae&&de&&(z=Xd(w.navigation));let Te=z||V;if(E_.has(R.response.status)&&Te&&mt(Te.formMethod))await An(G,Z,{submission:{...Te,formAction:K},preventScrollReset:J||C,enableViewTransition:I?q:void 0});else{let Fe=co(Z,z);await An(G,Z,{overrideNavigation:Fe,fetcherSubmission:V,preventScrollReset:J||C,enableViewTransition:I?q:void 0})}}async function Kr(_,R,I,z){let V,J={};try{V=await D_(u,_,R,z,I,!1)}catch(te){return R.filter(K=>K.shouldLoad).forEach(K=>{J[K.route.id]={type:"error",error:te}}),J}if(_.signal.aborted)return J;for(let[te,K]of Object.entries(V))if(z_(K)){let Z=K.result;J[te]={type:"redirect",response:$_(Z,_,te,R,c)}}else J[te]=await F_(K);return J}async function qu(_,R,I,z){let V=Kr(I,_,z,null),J=Promise.all(R.map(async Z=>{if(Z.matches&&Z.match&&Z.request&&Z.controller){let le=(await Kr(Z.request,Z.matches,z,Z.key))[Z.match.route.id];return{[Z.key]:le}}else return Promise.resolve({[Z.key]:{type:"error",error:bt(404,{pathname:Z.path})}})})),te=await V,K=(await J).reduce((Z,G)=>Object.assign(Z,G),{});return{loaderResults:te,fetcherResults:K}}function Bs(){B=!0,Ee.forEach((_,R)=>{Y.has(R)&&oe.add(R),dn(R)})}function un(_,R,I={}){w.fetchers.set(_,R),et({fetchers:new Map(w.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Yt(_,R,I,z={}){let V=Un(w.matches,R);Vs(_),et({errors:{[V.route.id]:I},fetchers:new Map(w.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Hu(_){return Me.set(_,(Me.get(_)||0)+1),We.has(_)&&We.delete(_),w.fetchers.get(_)||T_}function Vs(_){let R=w.fetchers.get(_);Y.has(_)&&!(R&&R.state==="loading"&&Ye.has(_))&&dn(_),Ee.delete(_),Ye.delete(_),Be.delete(_),We.delete(_),oe.delete(_),w.fetchers.delete(_)}function ry(_){let R=(Me.get(_)||0)-1;R<=0?(Me.delete(_),We.add(_)):Me.set(_,R),et({fetchers:new Map(w.fetchers)})}function dn(_){let R=Y.get(_);R&&(R.abort(),Y.delete(_))}function Bu(_){for(let R of _){let I=Hu(R),z=gn(I.data);w.fetchers.set(R,z)}}function Vu(){let _=[],R=!1;for(let I of Be){let z=w.fetchers.get(I);he(z,`Expected fetcher: ${I}`),z.state==="loading"&&(Be.delete(I),_.push(I),R=!0)}return Bu(_),R}function Ku(_){let R=[];for(let[I,z]of Ye)if(z<_){let V=w.fetchers.get(I);he(V,`Expected fetcher: ${I}`),V.state==="loading"&&(dn(I),Ye.delete(I),R.push(I))}return Bu(R),R.length>0}function ay(_,R){let I=w.blockers.get(_)||ta;return Ft.get(_)!==R&&Ft.set(_,R),I}function Yu(_){w.blockers.delete(_),Ft.delete(_)}function ii(_,R){let I=w.blockers.get(_)||ta;he(I.state==="unblocked"&&R.state==="blocked"||I.state==="blocked"&&R.state==="blocked"||I.state==="blocked"&&R.state==="proceeding"||I.state==="blocked"&&R.state==="unblocked"||I.state==="proceeding"&&R.state==="unblocked",`Invalid blocker state transition: ${I.state} -> ${R.state}`);let z=new Map(w.blockers);z.set(_,R),et({blockers:z})}function Wu({currentLocation:_,nextLocation:R,historyAction:I}){if(Ft.size===0)return;Ft.size>1&&ke(!1,"A router only supports one blocker at a time");let z=Array.from(Ft.entries()),[V,J]=z[z.length-1],te=w.blockers.get(V);if(!(te&&te.state==="proceeding")&&J({currentLocation:_,nextLocation:R,historyAction:I}))return V}function Ks(_){let R=bt(404,{pathname:_}),I=l||o,{matches:z,route:V}=Jd(I);return{notFoundMatches:z,route:V,error:R}}function iy(_,R,I){if(m=_,g=R,p=I||null,!x&&w.navigation===lo){x=!0;let z=Ju(w.location,w.matches);z!=null&&et({restoreScrollPosition:z})}return()=>{m=null,g=null,p=null}}function Gu(_,R){return p&&p(_,R.map(z=>i_(z,w.loaderData)))||_.key}function sy(_,R){if(m&&g){let I=Gu(_,R);m[I]=g()}}function Ju(_,R){if(m){let I=Gu(_,R),z=m[I];if(typeof z=="number")return z}return null}function si(_,R,I){if(e.patchRoutesOnNavigation)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:Oi(R,I,c,!0)}}else return{active:!0,matches:Oi(R,I,c,!0)||[]};return{active:!1,matches:null}}async function oi(_,R,I,z){if(!e.patchRoutesOnNavigation)return{type:"success",matches:_};let V=_;for(;;){let J=l==null,te=l||o,K=s;try{await e.patchRoutesOnNavigation({signal:I,path:R,matches:V,fetcherKey:z,patch:(le,ae)=>{I.aborted||zd(le,ae,te,K,a)}})}catch(le){return{type:"error",error:le,partialMatches:V}}finally{J&&!I.aborted&&(o=[...o])}if(I.aborted)return{type:"aborted"};let Z=bn(te,R,c);if(Z)return{type:"success",matches:Z};let G=Oi(te,R,c,!0);if(!G||V.length===G.length&&V.every((le,ae)=>le.route.id===G[ae].route.id))return{type:"success",matches:null};V=G}}function oy(_){s={},l=Qi(_,a,void 0,s)}function ly(_,R){let I=l==null;zd(_,R,l||o,s,a),I&&(o=[...o],et({}))}return k={get basename(){return c},get future(){return d},get state(){return w},get routes(){return o},get window(){return t},initialize:Yx,subscribe:Gx,enableScrollRestoration:iy,navigate:Uu,fetch:ey,revalidate:Jx,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:Hu,deleteFetcher:ry,dispose:Wx,getBlocker:ay,deleteBlocker:Yu,patchRoutes:ly,_internalFetchControllers:Y,_internalSetRoutes:oy},k}function k_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function rc(e,t,n,r,a,s){let o,l;if(a){o=[];for(let u of t)if(o.push(u),u.route.id===a){l=u;break}}else o=t,l=t[t.length-1];let c=js(r||".",_s(o),jt(e.pathname,n)||e.pathname,s==="path");if(r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&l){let u=Xc(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:Kt([n,c.pathname])),an(c)}function Md(e,t,n){if(!n||!k_(n))return{path:t};if(n.formMethod&&!q_(n.formMethod))return{path:t,error:bt(405,{method:n.formMethod})};let r=()=>({path:t,error:bt(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=km(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mt(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[m,p])=>`${f}${m}=${p}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!mt(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=sc(n.formData),c=n.formData;else if(n.body instanceof FormData)l=sc(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=Kd(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=Kd(l)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(mt(u.formMethod))return{path:t,submission:u};let d=ln(t);return e&&d.search&&Xc(d.search)&&l.append("index",""),d.search=`?${l}`,{path:an(d),submission:u}}function Ud(e,t,n,r,a,s,o,l,c,u,d,h,f,m,p,g,x,y,j,b){let S=b?pt(b[1])?b[1].error:b[1].data:void 0,k=a.createURL(s.location),w=a.createURL(c),E;if(d&&s.errors){let M=Object.keys(s.errors)[0];E=o.findIndex(B=>B.route.id===M)}else if(b&&pt(b[1])){let M=b[0];E=o.findIndex(B=>B.route.id===M)-1}let C=b?b[1].statusCode:void 0,O=C&&C>=400,q={currentUrl:k,currentParams:s.matches[0]?.params||{},nextUrl:w,nextParams:o[0].params,...l,actionResult:S,actionStatus:C},W=o.map((M,B)=>{let{route:oe}=M,Y=null;if(E!=null&&B>E?Y=!1:oe.lazy?Y=!0:oe.loader==null?Y=!1:d?Y=ac(oe,s.loaderData,s.errors):L_(s.loaderData,s.matches[B],M)&&(Y=!0),Y!==null)return ic(n,r,e,M,u,t,Y);let Re=O?!1:h||k.pathname+k.search===w.pathname+w.search||k.search!==w.search||P_(s.matches[B],M),Se={...q,defaultShouldRevalidate:Re},Ye=ts(M,Se);return ic(n,r,e,M,u,t,Ye,Se)}),Q=[];return p.forEach((M,B)=>{if(d||!o.some(Me=>Me.route.id===M.routeId)||m.has(B))return;let oe=s.fetchers.get(B),Y=oe&&oe.state!=="idle"&&oe.data===void 0,Re=bn(x,M.path,y);if(!Re){if(j&&Y)return;Q.push({key:B,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(g.has(B))return;let Se=ya(Re,M.path),Ye=new AbortController,Be=vr(a,M.path,Ye.signal),Ee=null;if(f.has(B))f.delete(B),Ee=_r(n,r,Be,Re,Se,u,t);else if(Y)h&&(Ee=_r(n,r,Be,Re,Se,u,t));else{let Me={...q,defaultShouldRevalidate:O?!1:h};ts(Se,Me)&&(Ee=_r(n,r,Be,Re,Se,u,t,Me))}Ee&&Q.push({key:B,routeId:M.routeId,path:M.path,matches:Ee,match:Se,request:Be,controller:Ye})}),{dsMatches:W,revalidatingFetchers:Q}}function ac(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function L_(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function P_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ts(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function zd(e,t,n,r,a){let s;if(e){let c=r[e];he(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),s=c.children}else s=n;let o=t.filter(c=>!s.some(u=>Cm(c,u))),l=Qi(o,a,[e||"_","patch",String(s?.length||"0")],r);s.push(...l)}function Cm(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(a=>Cm(n,a))):!1}var qd=new WeakMap,Rm=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let a=n[t.id];if(he(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let s=a.lazy[e];if(!s)return;let o=qd.get(a);o||(o={},qd.set(a,o));let l=o[e];if(l)return l;let c=(async()=>{let u=t_(e),h=a[e]!==void 0&&e!=="hasErrorBoundary";if(u)ke(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)ke(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await s();f!=null&&(Object.assign(a,{[e]:f}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(f=>f===void 0)&&(a.lazy=void 0))})();return o[e]=c,c},Hd=new WeakMap;function A_(e,t,n,r,a){let s=n[e.id];if(he(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Hd.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{he(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let p in f){let g=f[p];if(g===void 0)continue;let x=r_(p),j=s[p]!==void 0&&p!=="hasErrorBoundary";x?ke(!x,"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?ke(!j,`Route "${s.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`):m[p]=g}Object.assign(s,m),Object.assign(s,{...r(s),lazy:void 0})})();return Hd.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),l=[],c;for(let d of o){if(a&&a.includes(d))continue;let h=Rm({key:d,route:e,manifest:n,mapRouteProperties:r});h&&(l.push(h),d===t&&(c=h))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function Bd(e){let t=e.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,s)=>{n[t[s].route.id]=a}),n}async function O_(e){return e.matches.some(t=>t.route.unstable_middleware)?Em(e,!1,()=>Bd(e),(t,n)=>({[n]:{type:"error",result:t}})):Bd(e)}async function Em(e,t,n,r){let{matches:a,request:s,params:o,context:l}=e,c={handlerResult:void 0};try{let u=a.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(f=>[h.route.id,f]):[]),d=await Tm({request:s,params:o,context:l},u,t,c,n);return t?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function Tm(e,t,n,r,a,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=t[s];if(!l)return r.handlerResult=await a(),r.handlerResult;let[c,u]=l,d=!1,h,f=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await Tm(e,t,n,r,a,s+1)};try{let m=await u({request:e.request,params:e.params,context:e.context},f);return d?m===void 0?h:m:f()}catch(m){throw r.middlewareError?r.middlewareError.error!==m&&(r.middlewareError={routeId:c,error:m}):r.middlewareError={routeId:c,error:m},m}}function Im(e,t,n,r,a){let s=Rm({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=A_(r.route,mt(n.method)?"action":"loader",t,e,a);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function ic(e,t,n,r,a,s,o,l=null){let c=!1,u=Im(e,t,n,r,a);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(d){return c=!0,l?typeof d=="boolean"?ts(r,{...l,defaultShouldRevalidate:d}):ts(r,l):o},resolve(d){return c||o||d&&n.method==="GET"&&(r.route.lazy||r.route.loader)?N_({request:n,match:r,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:d,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function _r(e,t,n,r,a,s,o,l=null){return r.map(c=>c.route.id!==a.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:Im(e,t,n,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ic(e,t,n,c,s,o,!0,l))}async function D_(e,t,n,r,a,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:a,matches:n},c=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let d=o;return Em(d,!1,()=>u({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,f)=>({[f]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return c}async function N_({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:s}){let o,l,c=mt(e.method),u=c?"action":"loader",d=h=>{let f,m=new Promise((x,y)=>f=y);l=()=>f(),e.signal.addEventListener("abort",l);let p=x=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:s},...x!==void 0?[x]:[]),g=(async()=>{try{return{type:"data",result:await(a?a(y=>p(y)):p())}}catch(x){return{type:"error",result:x}}})();return Promise.race([g,m])};try{let h=c?t.route.action:t.route.loader;if(n||r)if(h){let f,[m]=await Promise.all([d(h).catch(p=>{f=p}),n,r]);if(f!==void 0)throw f;o=m}else{await n;let f=c?t.route.action:t.route.loader;if(f)[o]=await Promise.all([d(f),r]);else if(u==="action"){let m=new URL(e.url),p=m.pathname+m.search;throw bt(405,{method:e.method,pathname:p,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await d(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw bt(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function F_(e){let{result:t,type:n}=e;if(Lm(t)){let r;try{let a=t.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new es(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?Zd(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new es(t.init?.status||500,void 0,t.data),statusCode:Da(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Da(t)?t.status:void 0}:Zd(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function $_(e,t,n,r,a){let s=e.headers.get("Location");if(he(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zc.test(s)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=rc(new URL(t.url),o,a,s),e.headers.set("Location",s)}return e}function Vd(e,t,n){if(Zc.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=jt(a.pathname,n)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function vr(e,t,n,r){let a=e.createURL(km(t)).toString(),s={signal:n};if(r&&mt(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=sc(r.formData):s.body=r.formData}return new Request(a,s)}function sc(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Kd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function M_(e,t,n,r=!1,a=!1){let s={},o=null,l,c=!1,u={},d=n&&pt(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(he(!Hn(m),"Cannot handle redirect results in processLoaderData"),pt(m)){let p=m.error;if(d!==void 0&&(p=d,d=void 0),o=o||{},a)o[f]=p;else{let g=Un(e,f);o[g.route.id]==null&&(o[g.route.id]=p)}r||(s[f]=jm),c||(c=!0,l=Da(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else s[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function Yd(e,t,n,r,a,s){let{loaderData:o,errors:l}=M_(t,n,r);return a.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c,f=s[u];if(he(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(pt(f)){let m=Un(e.matches,d?.route.id);l&&l[m.route.id]||(l={...l,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(Hn(f))he(!1,"Unhandled fetcher revalidation redirect");else{let m=gn(f.data);e.fetchers.set(u,m)}}),{loaderData:o,errors:l}}function Wd(e,t,n,r){let a=Object.entries(t).filter(([,s])=>s!==jm).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function Gd(e){return e?pt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Un(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Jd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bt(e,{pathname:t,routeId:n,method:r,type:a,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?l=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",l=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?l=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new es(e||500,o,new Error(l),!0)}function gi(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Hn(a))return{key:r,result:a}}}function km(e){let t=typeof e=="string"?ln(e):e;return an({...t,hash:""})}function U_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function z_(e){return Lm(e.result)&&R_.has(e.result.status)}function pt(e){return e.type==="error"}function Hn(e){return(e&&e.type)==="redirect"}function Zd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Lm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function q_(e){return C_.has(e.toUpperCase())}function mt(e){return j_.has(e.toUpperCase())}function Xc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ya(e,t){let n=typeof t=="string"?ln(t).search:t.search;if(e[e.length-1].route.index&&Xc(n||""))return e[e.length-1];let r=bm(e);return r[r.length-1]}function Xd(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:s,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function co(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function H_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function na(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function B_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function gn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V_(e,t){try{let n=e.sessionStorage.getItem(_m);if(n){let r=JSON.parse(n);for(let[a,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function K_(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(_m,JSON.stringify(n))}catch(r){ke(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Y_(){let e,t,n=new Promise((r,a)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{a(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var ar=v.createContext(null);ar.displayName="DataRouter";var Va=v.createContext(null);Va.displayName="DataRouterState";var Qc=v.createContext({isTransitioning:!1});Qc.displayName="ViewTransition";var Pm=v.createContext(new Map);Pm.displayName="Fetchers";var W_=v.createContext(null);W_.displayName="Await";var Ot=v.createContext(null);Ot.displayName="Navigation";var Ss=v.createContext(null);Ss.displayName="Location";var Ct=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ct.displayName="Route";var eu=v.createContext(null);eu.displayName="RouteError";function G_(e,{relative:t}={}){he(Fr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Ot),{hash:a,pathname:s,search:o}=Ka(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Kt([n,s])),r.createHref({pathname:l,search:o,hash:a})}function Fr(){return v.useContext(Ss)!=null}function Dt(){return he(Fr(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ss).location}var Am="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Om(e){v.useContext(Ot).static||v.useLayoutEffect(e)}function cn(){let{isDataRoute:e}=v.useContext(Ct);return e?dj():J_()}function J_(){he(Fr(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(ar),{basename:t,navigator:n}=v.useContext(Ot),{matches:r}=v.useContext(Ct),{pathname:a}=Dt(),s=JSON.stringify(_s(r)),o=v.useRef(!1);return Om(()=>{o.current=!0}),v.useCallback((c,u={})=>{if(ke(o.current,Am),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=js(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Kt([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,a,e])}var Z_=v.createContext(null);function X_(e){let t=v.useContext(Ct).outlet;return t&&v.createElement(Z_.Provider,{value:e},t)}function Q_(){let{matches:e}=v.useContext(Ct),t=e[e.length-1];return t?t.params:{}}function Ka(e,{relative:t}={}){let{matches:n}=v.useContext(Ct),{pathname:r}=Dt(),a=JSON.stringify(_s(n));return v.useMemo(()=>js(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function ej(e,t,n,r){he(Fr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(Ot),{matches:s}=v.useContext(Ct),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";Dm(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=Dt(),f;f=h;let m=f.pathname||"/",p=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=bn(e,{pathname:p});return ke(d||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ke(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ij(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Kt([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Kt([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function tj(){let e=uj(),t=Da(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:a},n):null,o)}var nj=v.createElement(tj,null),rj=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Ct.Provider,{value:this.props.routeContext},v.createElement(eu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aj({routeContext:e,match:t,children:n}){let r=v.useContext(ar);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Ct.Provider,{value:e},n)}function ij(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);he(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let h,f=!1,m=null,p=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||nj,o&&(l<0&&d===0?(Dm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):l===d&&(f=!0,p=u.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),x=()=>{let y;return h?y=m:f?y=p:u.route.Component?y=v.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,v.createElement(aj,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?v.createElement(rj,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}function tu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sj(e){let t=v.useContext(ar);return he(t,tu(e)),t}function oj(e){let t=v.useContext(Va);return he(t,tu(e)),t}function lj(e){let t=v.useContext(Ct);return he(t,tu(e)),t}function nu(e){let t=lj(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cj(){return nu("useRouteId")}function uj(){let e=v.useContext(eu),t=oj("useRouteError"),n=nu("useRouteError");return e!==void 0?e:t.errors?.[n]}function dj(){let{router:e}=sj("useNavigate"),t=nu("useNavigate"),n=v.useRef(!1);return Om(()=>{n.current=!0}),v.useCallback(async(a,s={})=>{ke(n.current,Am),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var Qd={};function Dm(e,t,n){!t&&!Qd[e]&&(Qd[e]=!0,ke(!1,n))}var eh={};function th(e,t){!e&&!eh[t]&&(eh[t]=!0,console.warn(t))}function Nm(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&ke(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:v.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&ke(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:v.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&ke(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Fm=["HydrateFallback","hydrateFallbackElement"],hj=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function fj({router:e,flushSync:t}){let[n,r]=v.useState(e.state),[a,s]=v.useState(),[o,l]=v.useState({isTransitioning:!1}),[c,u]=v.useState(),[d,h]=v.useState(),[f,m]=v.useState(),p=v.useRef(new Map),g=v.useCallback((b,{deletedFetchers:S,flushSync:k,viewTransitionOpts:w})=>{b.fetchers.forEach((C,O)=>{C.data!==void 0&&p.current.set(O,C.data)}),S.forEach(C=>p.current.delete(C)),th(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let E=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(th(w==null||E,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!w||!E){t&&k?t(()=>r(b)):v.startTransition(()=>r(b));return}if(t&&k){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:w.currentLocation,nextLocation:w.nextLocation})});let C=e.window.document.startViewTransition(()=>{t(()=>r(b))});C.finished.finally(()=>{t(()=>{u(void 0),h(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>h(C));return}d?(c&&c.resolve(),d.skipTransition(),m({state:b,currentLocation:w.currentLocation,nextLocation:w.nextLocation})):(s(b),l({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}))},[e.window,t,d,c]);v.useLayoutEffect(()=>e.subscribe(g),[e,g]),v.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new hj)},[o]),v.useEffect(()=>{if(c&&a&&e.window){let b=a,S=c.promise,k=e.window.document.startViewTransition(async()=>{v.startTransition(()=>r(b)),await S});k.finished.finally(()=>{u(void 0),h(void 0),s(void 0),l({isTransitioning:!1})}),h(k)}},[a,c,e.window]),v.useEffect(()=>{c&&a&&n.location.key===a.location.key&&c.resolve()},[c,d,n.location,a]),v.useEffect(()=>{!o.isTransitioning&&f&&(s(f.state),l({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[o.isTransitioning,f]);let x=v.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:b=>e.navigate(b),push:(b,S,k)=>e.navigate(b,{state:S,preventScrollReset:k?.preventScrollReset}),replace:(b,S,k)=>e.navigate(b,{replace:!0,state:S,preventScrollReset:k?.preventScrollReset})}),[e]),y=e.basename||"/",j=v.useMemo(()=>({router:e,navigator:x,static:!1,basename:y}),[e,x,y]);return v.createElement(v.Fragment,null,v.createElement(ar.Provider,{value:j},v.createElement(Va.Provider,{value:n},v.createElement(Pm.Provider,{value:p.current},v.createElement(Qc.Provider,{value:o},v.createElement(xj,{basename:y,location:n.location,navigationType:n.historyAction,navigator:x},v.createElement(pj,{routes:e.routes,future:e.future,state:n})))))),null)}var pj=v.memo(mj);function mj({routes:e,future:t,state:n}){return ej(e,void 0,n,t)}function uo({to:e,replace:t,state:n,relative:r}){he(Fr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(Ot);ke(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(Ct),{pathname:o}=Dt(),l=cn(),c=js(e,_s(s),o,r==="path"),u=JSON.stringify(c);return v.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function gj(e){return X_(e.context)}function xj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){he(!Fr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof n=="string"&&(n=ln(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=v.useMemo(()=>{let p=jt(c,o);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:f},navigationType:r}},[o,c,u,d,h,f,r]);return ke(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Ot.Provider,{value:l},v.createElement(Ss.Provider,{children:t,value:m}))}var Di="get",Ni="application/x-www-form-urlencoded";function Cs(e){return e!=null&&typeof e.tagName=="string"}function yj(e){return Cs(e)&&e.tagName.toLowerCase()==="button"}function vj(e){return Cs(e)&&e.tagName.toLowerCase()==="form"}function bj(e){return Cs(e)&&e.tagName.toLowerCase()==="input"}function wj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _j(e,t){return e.button===0&&(!t||t==="_self")&&!wj(e)}var xi=null;function jj(){if(xi===null)try{new FormData(document.createElement("form"),0),xi=!1}catch{xi=!0}return xi}var Sj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ho(e){return e!=null&&!Sj.has(e)?(ke(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ni}"`),null):e}function Cj(e,t){let n,r,a,s,o;if(vj(e)){let l=e.getAttribute("action");r=l?jt(l,t):null,n=e.getAttribute("method")||Di,a=ho(e.getAttribute("enctype"))||Ni,s=new FormData(e)}else if(yj(e)||bj(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?jt(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Di,a=ho(e.getAttribute("formenctype"))||ho(l.getAttribute("enctype"))||Ni,s=new FormData(l,e),!jj()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Cs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Di,r=null,a=Ni,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:o}}function ru(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Rj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ej(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Tj(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await Rj(s,n);return o.links?o.links():[]}return[]}));return Pj(r.flat(1).filter(Ej).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nh(e,t,n,r,a,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Ij(e,t,{includeHydrateFallback:n}={}){return kj(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function kj(e){return[...new Set(e)]}function Lj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Pj(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(Lj(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Aj=new Set([100,101,204,205]);function Oj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&jt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $m(){let e=v.useContext(ar);return ru(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Dj(){let e=v.useContext(Va);return ru(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var au=v.createContext(void 0);au.displayName="FrameworkContext";function Mm(){let e=v.useContext(au);return ru(e,"You must render this element inside a <HydratedRouter> element"),e}function Nj(e,t){let n=v.useContext(au),[r,a]=v.useState(!1),[s,o]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=y=>{y.forEach(j=>{o(j.isIntersecting)})},x=new IntersectionObserver(g,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[e]),v.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{a(!0)},p=()=>{a(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:ra(l,m),onBlur:ra(c,p),onMouseEnter:ra(u,m),onMouseLeave:ra(d,p),onTouchStart:ra(h,m)}]:[!1,f,{}]}function ra(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Fj({page:e,...t}){let{router:n}=$m(),r=v.useMemo(()=>bn(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Mj,{page:e,matches:r,...t}):null}function $j(e){let{manifest:t,routeModules:n}=Mm(),[r,a]=v.useState([]);return v.useEffect(()=>{let s=!1;return Tj(e,t,n).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,n]),r}function Mj({page:e,matches:t,...n}){let r=Dt(),{manifest:a,routeModules:s}=Mm(),{basename:o}=$m(),{loaderData:l,matches:c}=Dj(),u=v.useMemo(()=>nh(e,t,c,a,r,"data"),[e,t,c,a,r]),d=v.useMemo(()=>nh(e,t,c,a,r,"assets"),[e,t,c,a,r]),h=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(y=>{let j=a.routes[y.route.id];!j||!j.hasLoader||(!u.some(b=>b.route.id===y.route.id)&&y.route.id in l&&s[y.route.id]?.shouldRevalidate||j.hasClientLoader?g=!0:p.add(y.route.id))}),p.size===0)return[];let x=Oj(e,o);return g&&p.size>0&&x.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[o,l,r,a,u,t,e,s]),f=v.useMemo(()=>Ij(d,a),[d,a]),m=$j(d);return v.createElement(v.Fragment,null,h.map(p=>v.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>v.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:g})=>v.createElement("link",{key:p,...g})))}function Uj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Um=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Um&&(window.__reactRouterVersion="7.6.3")}catch{}function zj(e,t){return Sm({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Zw({window:t?.window}),hydrationData:zm(),routes:e,mapRouteProperties:Nm,hydrationRouteProperties:Fm,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function qj(e,t){return Sm({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:Xw({window:t?.window}),hydrationData:zm(),routes:e,mapRouteProperties:Nm,hydrationRouteProperties:Fm,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function zm(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Hj(e.errors)}),e}function Hj(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new es(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let o=new s(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(a.message);s.stack="",n[r]=s}}else n[r]=a;return n}var qm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:p}=v.useContext(Ot),g=typeof u=="string"&&qm.test(u),x,y=!1;if(typeof u=="string"&&g&&(x=u,Um))try{let O=new URL(window.location.href),q=u.startsWith("//")?new URL(O.protocol+u):new URL(u),W=jt(q.pathname,p);q.origin===O.origin&&W!=null?u=W+q.search+q.hash:y=!0}catch{ke(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=G_(u,{relative:a}),[b,S,k]=Nj(r,f),w=Yj(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function E(O){t&&t(O),O.defaultPrevented||w(O)}let C=v.createElement("a",{...f,...k,href:x||j,onClick:y||s?t:E,ref:Uj(m,S),target:c,"data-discover":!g&&n==="render"?"true":void 0});return b&&!g?v.createElement(v.Fragment,null,C,v.createElement(Fj,{page:j})):C});It.displayName="Link";var Bj=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let h=Ka(o,{relative:u.relative}),f=Dt(),m=v.useContext(Va),{navigator:p,basename:g}=v.useContext(Ot),x=m!=null&&Xj(h)&&l===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,j=f.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(j=j.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&g&&(b=jt(b,g)||b);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=j===y||!a&&j.startsWith(y)&&j.charAt(S)==="/",w=b!=null&&(b===y||!a&&b.startsWith(y)&&b.charAt(y.length)==="/"),E={isActive:k,isPending:w,isTransitioning:x},C=k?t:void 0,O;typeof r=="function"?O=r(E):O=[r,k?"active":null,w?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(E):s;return v.createElement(It,{...u,"aria-current":C,className:O,ref:d,style:q,to:o,viewTransition:l},typeof c=="function"?c(E):c)});Bj.displayName="NavLink";var Vj=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:o=Di,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let p=Jj(),g=Zj(l,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&qm.test(l),j=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let S=b.nativeEvent.submitter,k=S?.getAttribute("formmethod")||o;p(S||b.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return v.createElement("form",{ref:m,method:x,action:g,onSubmit:r?c:j,...f,"data-discover":!y&&e==="render"?"true":void 0})});Vj.displayName="Form";function Kj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hm(e){let t=v.useContext(ar);return he(t,Kj(e)),t}function Yj(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=cn(),c=Dt(),u=Ka(e,{relative:s});return v.useCallback(d=>{if(_j(d,t)){d.preventDefault();let h=n!==void 0?n:an(c)===an(u);l(e,{replace:h,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,r,t,e,a,s,o])}var Wj=0,Gj=()=>`__${String(++Wj)}__`;function Jj(){let{router:e}=Hm("useSubmit"),{basename:t}=v.useContext(Ot),n=cj();return v.useCallback(async(r,a={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=Cj(r,t);if(a.navigate===!1){let d=a.fetcherKey||Gj();await e.fetch(d,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Zj(e,{relative:t}={}){let{basename:n}=v.useContext(Ot),r=v.useContext(Ct);he(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Ka(e||".",{relative:t})},o=Dt();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Kt([n,s.pathname])),an(s)}function Xj(e,t={}){let n=v.useContext(Qc);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Hm("useViewTransitionState"),a=Ka(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oa(a.pathname,o)!=null||Oa(a.pathname,s)!=null}[...Aj];const Qj=e=>({locale:e.locale,space:{size:Dv},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?Hl.darkAlgorithm:Hl.defaultAlgorithm,token:{colorPrimary:rr,fontFamily:"inherit"}}}),e0=e=>{Bl.config({holderRender(t){return i.jsx(Bl,{...e,children:t})}})},t0=e=>{const{isDark:t}=vs(),{language:n}=Dr(),r=v.useMemo(()=>Zi[n].antd,[n]),a=v.useMemo(()=>Qj({isDarkTheme:t,locale:r}),[t,r]);return v.useLayoutEffect(()=>{e0(a)},[a]),i.jsx(Bl,{...a,children:e.children})},Bm="3.7.7",n0=Bm,$r=typeof Buffer=="function",rh=typeof TextDecoder=="function"?new TextDecoder:void 0,ah=typeof TextEncoder=="function"?new TextEncoder:void 0,r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",va=Array.prototype.slice.call(r0),yi=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(va),a0=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ve=String.fromCharCode.bind(String),ih=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Vm=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Km=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Ym=e=>{let t,n,r,a,s="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,s+=va[t>>18&63]+va[t>>12&63]+va[t>>6&63]+va[t&63]}return o?s.slice(0,o-3)+"===".substring(o):s},iu=typeof btoa=="function"?e=>btoa(e):$r?e=>Buffer.from(e,"binary").toString("base64"):Ym,oc=$r?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Ve.apply(null,e.subarray(r,r+4096)));return iu(n.join(""))},Fi=(e,t=!1)=>t?Vm(oc(e)):oc(e),i0=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ve(192|t>>>6)+Ve(128|t&63):Ve(224|t>>>12&15)+Ve(128|t>>>6&63)+Ve(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ve(240|t>>>18&7)+Ve(128|t>>>12&63)+Ve(128|t>>>6&63)+Ve(128|t&63)}},s0=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Wm=e=>e.replace(s0,i0),sh=$r?e=>Buffer.from(e,"utf8").toString("base64"):ah?e=>oc(ah.encode(e)):e=>iu(Wm(e)),jr=(e,t=!1)=>t?Vm(sh(e)):sh(e),oh=e=>jr(e,!0),o0=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,l0=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Ve((n>>>10)+55296)+Ve((n&1023)+56320);case 3:return Ve((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ve((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Gm=e=>e.replace(o0,l0),Jm=e=>{if(e=e.replace(/\s+/g,""),!a0.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let s=0;s<e.length;)t=yi[e.charAt(s++)]<<18|yi[e.charAt(s++)]<<12|(r=yi[e.charAt(s++)])<<6|(a=yi[e.charAt(s++)]),n+=r===64?Ve(t>>16&255):a===64?Ve(t>>16&255,t>>8&255):Ve(t>>16&255,t>>8&255,t&255);return n},su=typeof atob=="function"?e=>atob(Km(e)):$r?e=>Buffer.from(e,"base64").toString("binary"):Jm,Zm=$r?e=>ih(Buffer.from(e,"base64")):e=>ih(su(e).split("").map(t=>t.charCodeAt(0))),Xm=e=>Zm(Qm(e)),c0=$r?e=>Buffer.from(e,"base64").toString("utf8"):rh?e=>rh.decode(Zm(e)):e=>Gm(su(e)),Qm=e=>Km(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),lc=e=>c0(Qm(e)),u0=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},eg=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),tg=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,eg(n));e("fromBase64",function(){return lc(this)}),e("toBase64",function(t){return jr(this,t)}),e("toBase64URI",function(){return jr(this,!0)}),e("toBase64URL",function(){return jr(this,!0)}),e("toUint8Array",function(){return Xm(this)})},ng=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,eg(n));e("toBase64",function(t){return Fi(this,t)}),e("toBase64URI",function(){return Fi(this,!0)}),e("toBase64URL",function(){return Fi(this,!0)})},d0=()=>{tg(),ng()},cc={version:Bm,VERSION:n0,atob:su,atobPolyfill:Jm,btoa:iu,btoaPolyfill:Ym,fromBase64:lc,toBase64:jr,encode:jr,encodeURI:oh,encodeURL:oh,utob:Wm,btou:Gm,decode:lc,isValid:u0,fromUint8Array:Fi,toUint8Array:Xm,extendString:tg,extendUint8Array:ng,extendBuiltins:d0};function rg(e,t){return function(){return e.apply(t,arguments)}}const{toString:h0}=Object.prototype,{getPrototypeOf:ou}=Object,{iterator:Rs,toStringTag:ag}=Symbol,Es=(e=>t=>{const n=h0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=e=>(e=e.toLowerCase(),t=>Es(t)===e),Ts=e=>t=>typeof t===e,{isArray:Mr}=Array,Na=Ts("undefined");function f0(e){return e!==null&&!Na(e)&&e.constructor!==null&&!Na(e.constructor)&&dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ig=Nt("ArrayBuffer");function p0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ig(e.buffer),t}const m0=Ts("string"),dt=Ts("function"),sg=Ts("number"),Is=e=>e!==null&&typeof e=="object",g0=e=>e===!0||e===!1,$i=e=>{if(Es(e)!=="object")return!1;const t=ou(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ag in e)&&!(Rs in e)},x0=Nt("Date"),y0=Nt("File"),v0=Nt("Blob"),b0=Nt("FileList"),w0=e=>Is(e)&&dt(e.pipe),_0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dt(e.append)&&((t=Es(e))==="formdata"||t==="object"&&dt(e.toString)&&e.toString()==="[object FormData]"))},j0=Nt("URLSearchParams"),[S0,C0,R0,E0]=["ReadableStream","Request","Response","Headers"].map(Nt),T0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ya(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mr(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(r=0;r<o;r++)l=s[r],t.call(null,e[l],l,e)}}function og(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lg=e=>!Na(e)&&e!==Bn;function uc(){const{caseless:e}=lg(this)&&this||{},t={},n=(r,a)=>{const s=e&&og(t,a)||a;$i(t[s])&&$i(r)?t[s]=uc(t[s],r):$i(r)?t[s]=uc({},r):Mr(r)?t[s]=r.slice():t[s]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ya(arguments[r],n);return t}const I0=(e,t,n,{allOwnKeys:r}={})=>(Ya(t,(a,s)=>{n&&dt(a)?e[s]=rg(a,n):e[s]=a},{allOwnKeys:r}),e),k0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),L0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},P0=(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&ou(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},A0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},O0=e=>{if(!e)return null;if(Mr(e))return e;let t=e.length;if(!sg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},D0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ou(Uint8Array)),N0=(e,t)=>{const r=(e&&e[Rs]).call(e);let a;for(;(a=r.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},F0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},$0=Nt("HTMLFormElement"),M0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),lh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),U0=Nt("RegExp"),cg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ya(n,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(r[s]=o||a)}),Object.defineProperties(e,r)},z0=e=>{cg(e,(t,n)=>{if(dt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},q0=(e,t)=>{const n={},r=a=>{a.forEach(s=>{n[s]=!0})};return Mr(e)?r(e):r(String(e).split(t)),n},H0=()=>{},B0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function V0(e){return!!(e&&dt(e.append)&&e[ag]==="FormData"&&e[Rs])}const K0=e=>{const t=new Array(10),n=(r,a)=>{if(Is(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const s=Mr(r)?[]:{};return Ya(r,(o,l)=>{const c=n(o,a+1);!Na(c)&&(s[l]=c)}),t[a]=void 0,s}}return r};return n(e,0)},Y0=Nt("AsyncFunction"),W0=e=>e&&(Is(e)||dt(e))&&dt(e.then)&&dt(e.catch),ug=((e,t)=>e?setImmediate:t?((n,r)=>(Bn.addEventListener("message",({source:a,data:s})=>{a===Bn&&s===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Bn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dt(Bn.postMessage)),G0=typeof queueMicrotask<"u"?queueMicrotask.bind(Bn):typeof process<"u"&&process.nextTick||ug,J0=e=>e!=null&&dt(e[Rs]),T={isArray:Mr,isArrayBuffer:ig,isBuffer:f0,isFormData:_0,isArrayBufferView:p0,isString:m0,isNumber:sg,isBoolean:g0,isObject:Is,isPlainObject:$i,isReadableStream:S0,isRequest:C0,isResponse:R0,isHeaders:E0,isUndefined:Na,isDate:x0,isFile:y0,isBlob:v0,isRegExp:U0,isFunction:dt,isStream:w0,isURLSearchParams:j0,isTypedArray:D0,isFileList:b0,forEach:Ya,merge:uc,extend:I0,trim:T0,stripBOM:k0,inherits:L0,toFlatObject:P0,kindOf:Es,kindOfTest:Nt,endsWith:A0,toArray:O0,forEachEntry:N0,matchAll:F0,isHTMLForm:$0,hasOwnProperty:lh,hasOwnProp:lh,reduceDescriptors:cg,freezeMethods:z0,toObjectSet:q0,toCamelCase:M0,noop:H0,toFiniteNumber:B0,findKey:og,global:Bn,isContextDefined:lg,isSpecCompliantForm:V0,toJSONObject:K0,isAsyncFn:Y0,isThenable:W0,setImmediate:ug,asap:G0,isIterable:J0};function ce(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const dg=ce.prototype,hg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hg[e]={value:e}});Object.defineProperties(ce,hg);Object.defineProperty(dg,"isAxiosError",{value:!0});ce.from=(e,t,n,r,a,s)=>{const o=Object.create(dg);return T.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ce.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Z0=null;function dc(e){return T.isPlainObject(e)||T.isArray(e)}function fg(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function ch(e,t,n){return e?e.concat(t).map(function(a,s){return a=fg(a),!n&&s?"["+a+"]":a}).join(n?".":""):t}function X0(e){return T.isArray(e)&&!e.some(dc)}const Q0=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function ks(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!T.isUndefined(x[g])});const r=n.metaTokens,a=n.visitor||d,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(T.isDate(p))return p.toISOString();if(T.isBoolean(p))return p.toString();if(!c&&T.isBlob(p))throw new ce("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(p)||T.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,x){let y=p;if(p&&!x&&typeof p=="object"){if(T.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(T.isArray(p)&&X0(p)||(T.isFileList(p)||T.endsWith(g,"[]"))&&(y=T.toArray(p)))return g=fg(g),y.forEach(function(b,S){!(T.isUndefined(b)||b===null)&&t.append(o===!0?ch([g],S,s):o===null?g:g+"[]",u(b))}),!1}return dc(p)?!0:(t.append(ch(x,g,s),u(p)),!1)}const h=[],f=Object.assign(Q0,{defaultVisitor:d,convertValue:u,isVisitable:dc});function m(p,g){if(!T.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),T.forEach(p,function(y,j){(!(T.isUndefined(y)||y===null)&&a.call(t,y,T.isString(j)?j.trim():j,g,f))===!0&&m(y,g?g.concat(j):[j])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return m(e),t}function uh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function lu(e,t){this._pairs=[],e&&ks(e,this,t)}const pg=lu.prototype;pg.append=function(t,n){this._pairs.push([t,n])};pg.toString=function(t){const n=t?function(r){return t.call(this,r,uh)}:uh;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function eS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mg(e,t,n){if(!t)return e;const r=n&&n.encode||eS;T.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(a?s=a(t,n):s=T.isURLSearchParams(t)?t.toString():new lu(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class dh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const gg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tS=typeof URLSearchParams<"u"?URLSearchParams:lu,nS=typeof FormData<"u"?FormData:null,rS=typeof Blob<"u"?Blob:null,aS={isBrowser:!0,classes:{URLSearchParams:tS,FormData:nS,Blob:rS},protocols:["http","https","file","blob","url","data"]},cu=typeof window<"u"&&typeof document<"u",hc=typeof navigator=="object"&&navigator||void 0,iS=cu&&(!hc||["ReactNative","NativeScript","NS"].indexOf(hc.product)<0),sS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oS=cu&&window.location.href||"http://localhost",lS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cu,hasStandardBrowserEnv:iS,hasStandardBrowserWebWorkerEnv:sS,navigator:hc,origin:oS},Symbol.toStringTag,{value:"Module"})),Ze={...lS,...aS};function cS(e,t){return ks(e,new Ze.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,s){return Ze.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function uS(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dS(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}function xg(e){function t(n,r,a,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&T.isArray(a)?a.length:o,c?(T.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!T.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],s)&&T.isArray(a[o])&&(a[o]=dS(a[o])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(r,a)=>{t(uS(r),a,n,0)}),n}return null}function hS(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Wa={transitional:gg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,s=T.isObject(t);if(s&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(xg(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cS(t,this.formSerializer).toString();if((l=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ks(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(n.setContentType("application/json",!1),hS(t)):t}],transformResponse:[function(t){const n=this.transitional||Wa.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Wa.headers[e]={}});const fS=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pS=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&fS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},hh=Symbol("internals");function aa(e){return e&&String(e).trim().toLowerCase()}function Mi(e){return e===!1||e==null?e:T.isArray(e)?e.map(Mi):String(e)}function mS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fo(e,t,n,r,a){if(T.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function xS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yS(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,s,o){return this[r].call(this,t,a,s,o)},configurable:!0})})}let ht=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function s(l,c,u){const d=aa(c);if(!d)throw new Error("header name must be a non-empty string");const h=T.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Mi(l))}const o=(l,c)=>T.forEach(l,(u,d)=>s(u,d,c));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(T.isString(t)&&(t=t.trim())&&!gS(t))o(pS(t),n);else if(T.isObject(t)&&T.isIterable(t)){let l={},c,u;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?T.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=aa(t),t){const r=T.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return mS(a);if(T.isFunction(n))return n.call(this,a,r);if(T.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=aa(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||fo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function s(o){if(o=aa(o),o){const l=T.findKey(r,o);l&&(!n||fo(r,r[l],l,n))&&(delete r[l],a=!0)}}return T.isArray(t)?t.forEach(s):s(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const s=n[r];(!t||fo(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const n=this,r={};return T.forEach(this,(a,s)=>{const o=T.findKey(r,s);if(o){n[o]=Mi(a),delete n[s];return}const l=t?xS(s):String(s).trim();l!==s&&delete n[s],n[l]=Mi(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[hh]=this[hh]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=aa(o);r[l]||(yS(a,o),r[l]=!0)}return T.isArray(t)?t.forEach(s):s(t),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ht.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});T.freezeMethods(ht);function po(e,t){const n=this||Wa,r=t||n,a=ht.from(r.headers);let s=r.data;return T.forEach(e,function(l){s=l.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function yg(e){return!!(e&&e.__CANCEL__)}function Ur(e,t,n){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Ur,ce,{__CANCEL__:!0});function vg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[s];o||(o=u),n[a]=c,r[a]=u;let h=s,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function wS(e,t){let n=0,r=1e3/t,a,s;const o=(u,d=Date.now())=>{n=d,a=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},r-h)))},()=>a&&o(a)]}const ns=(e,t,n=3)=>{let r=0;const a=bS(50,250);return wS(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},fh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ph=e=>(...t)=>T.asap(()=>e(...t)),_S=Ze.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ze.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,jS=Ze.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const o=[e+"="+encodeURIComponent(t)];T.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),T.isString(r)&&o.push("path="+r),T.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function CS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bg(e,t,n){let r=!SS(t);return e&&(r||n==!1)?CS(e,t):t}const mh=e=>e instanceof ht?{...e}:e;function Zn(e,t){t=t||{};const n={};function r(u,d,h,f){return T.isPlainObject(u)&&T.isPlainObject(d)?T.merge.call({caseless:f},u,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function a(u,d,h,f){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!T.isUndefined(d))return r(void 0,d)}function o(u,d){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(mh(u),mh(d),h,!0)};return T.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||a,f=h(e[d],t[d],d);T.isUndefined(f)&&h!==l||(n[d]=f)}),n}const wg=e=>{const t=Zn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;t.headers=o=ht.from(o),t.url=mg(bg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(T.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ze.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&_S(t.url))){const u=a&&s&&jS.read(s);u&&o.set(a,u)}return t},RS=typeof XMLHttpRequest<"u",ES=RS&&function(e){return new Promise(function(n,r){const a=wg(e);let s=a.data;const o=ht.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function y(){if(!x)return;const b=ht.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};vg(function(E){n(E),g()},function(E){r(E),g()},k),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new ce("Request aborted",ce.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new ce("Network Error",ce.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||gg;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),r(new ce(S,k.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&T.forEach(o.toJSON(),function(S,k){x.setRequestHeader(k,S)}),T.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([f,p]=ns(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,m]=ns(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{x&&(r(!b||b.type?new Ur(null,e,x):b),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const j=vS(a.url);if(j&&Ze.protocols.indexOf(j)===-1){r(new ce("Unsupported protocol "+j+":",ce.ERR_BAD_REQUEST,e));return}x.send(s||null)})},TS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ce?d:new Ur(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>T.asap(l),c}},IS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},kS=async function*(e,t){for await(const n of LS(e))yield*IS(n,t)},LS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gh=(e,t,n,r)=>{const a=kS(e,t);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Ls=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_g=Ls&&typeof ReadableStream=="function",PS=Ls&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},AS=_g&&jg(()=>{let e=!1;const t=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),xh=64*1024,fc=_g&&jg(()=>T.isReadableStream(new Response("").body)),rs={stream:fc&&(e=>e.body)};Ls&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!rs[t]&&(rs[t]=T.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ce(`Response type '${t}' is not supported`,ce.ERR_NOT_SUPPORT,r)})})})(new Response);const OS=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(Ze.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await PS(e)).byteLength},DS=async(e,t)=>{const n=T.toFiniteNumber(e.getContentLength());return n??OS(t)},NS=Ls&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=wg(e);u=u?(u+"").toLowerCase():"text";let m=TS([a,s&&s.toAbortSignal()],o),p;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(c&&AS&&n!=="get"&&n!=="head"&&(x=await DS(d,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),w;if(T.isFormData(r)&&(w=k.headers.get("content-type"))&&d.setContentType(w),k.body){const[E,C]=fh(x,ns(ph(c)));r=gh(k.body,xh,E,C)}}T.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;p=new Request(t,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?h:void 0});let j=await fetch(p,f);const b=fc&&(u==="stream"||u==="response");if(fc&&(l||b&&g)){const k={};["status","statusText","headers"].forEach(O=>{k[O]=j[O]});const w=T.toFiniteNumber(j.headers.get("content-length")),[E,C]=l&&fh(w,ns(ph(l),!0))||[];j=new Response(gh(j.body,xh,E,()=>{C&&C(),g&&g()}),k)}u=u||"text";let S=await rs[T.findKey(rs,u)||"text"](j,e);return!b&&g&&g(),await new Promise((k,w)=>{vg(k,w,{data:S,headers:ht.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:p})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,e,p),{cause:y.cause||y}):ce.from(y,y&&y.code,e,p)}}),pc={http:Z0,xhr:ES,fetch:NS};T.forEach(pc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yh=e=>`- ${e}`,FS=e=>T.isFunction(e)||e===null||e===!1,Sg={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!FS(n)&&(r=pc[(o=String(n)).toLowerCase()],r===void 0))throw new ce(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+s]=r}if(!r){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(yh).join(`
`):" "+yh(s[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:pc};function mo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ur(null,e)}function vh(e){return mo(e),e.headers=ht.from(e.headers),e.data=po.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sg.getAdapter(e.adapter||Wa.adapter)(e).then(function(r){return mo(e),r.data=po.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return yg(r)||(mo(e),r&&r.response&&(r.response.data=po.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Cg="1.10.0",Ps={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ps[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bh={};Ps.transitional=function(t,n,r){function a(s,o){return"[Axios v"+Cg+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(t===!1)throw new ce(a(o," has been removed"+(n?" in "+n:"")),ce.ERR_DEPRECATED);return n&&!bh[o]&&(bh[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,l):!0}};Ps.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function $S(e,t,n){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new ce("option "+s+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ce("Unknown option "+s,ce.ERR_BAD_OPTION)}}const Ui={assertOptions:$S,validators:Ps},$t=Ui.validators;let Wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dh,response:new dh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:s}=n;r!==void 0&&Ui.assertOptions(r,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),a!=null&&(T.isFunction(a)?n.paramsSerializer={serialize:a}:Ui.assertOptions(a,{encode:$t.function,serialize:$t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ui.assertOptions(n,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&T.merge(s.common,s[n.method]);s&&T.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=ht.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!c){const p=[vh.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),f=p.length,d=Promise.resolve(n);h<f;)d=d.then(p[h++],p[h++]);return d}f=l.length;let m=n;for(h=0;h<f;){const p=l[h++],g=l[h++];try{m=p(m)}catch(x){g.call(this,x);break}}try{d=vh.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Zn(this.defaults,t);const n=bg(t.baseURL,t.url,t.allowAbsoluteUrls);return mg(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Wn.prototype[t]=function(n,r){return this.request(Zn(r||{},{method:t,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,l){return this.request(Zn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wn.prototype[t]=n(),Wn.prototype[t+"Form"]=n(!0)});let MS=class Rg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(a=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](a);r._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(a);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,l){r.reason||(r.reason=new Ur(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Rg(function(a){t=a}),cancel:t}}};function US(e){return function(n){return e.apply(null,n)}}function zS(e){return T.isObject(e)&&e.isAxiosError===!0}const mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mc).forEach(([e,t])=>{mc[t]=e});function Eg(e){const t=new Wn(e),n=rg(Wn.prototype.request,t);return T.extend(n,Wn.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Eg(Zn(e,a))},n}const Le=Eg(Wa);Le.Axios=Wn;Le.CanceledError=Ur;Le.CancelToken=MS;Le.isCancel=yg;Le.VERSION=Cg;Le.toFormData=ks;Le.AxiosError=ce;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=US;Le.isAxiosError=zS;Le.mergeConfig=Zn;Le.AxiosHeaders=ht;Le.formToJSON=e=>xg(T.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=Sg.getAdapter;Le.HttpStatusCode=mc;Le.default=Le;const{Axios:Sk,AxiosError:Ck,CanceledError:Rk,isCancel:Ek,CancelToken:Tk,VERSION:Ik,all:kk,Cancel:Lk,isAxiosError:qS,spread:Pk,toFormData:Ak,AxiosHeaders:Ok,HttpStatusCode:Dk,formToJSON:Nk,getAdapter:Fk,mergeConfig:$k}=Le,Tg=e=>localStorage.getItem(e),Ig=(e,t)=>localStorage.setItem(e,t),HS=e=>{localStorage.removeItem(e)},BS=(e,t)=>{Ig(e,JSON.stringify(t))},VS=e=>{const t=Tg(e);return typeof t=="string"?JSON.parse(t):null},nn={get:Tg,set:Ig,remove:HS,setJSON:BS,getJSON:VS},uu="id_token",du="token_birth_time",hu="token_expires_in",kg=()=>nn.get(uu),Lg=(e,t)=>{nn.set(uu,e),nn.set(hu,String(t)),nn.set(du,String(+new Date/1e3))},As=()=>{nn.remove(uu),nn.remove(hu),nn.remove(du)},Pg=()=>kg()?.split(".").length===3,Ag=()=>{const e=Number(localStorage.getItem(hu)),n=Number(localStorage.getItem(du))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},as={getToken:kg,setToken:Lg,removeToken:As,isTokenValid:Pg,getTokenCountdown:Ag};let gc=null;const Og=()=>{typeof gc=="number"&&window.clearTimeout(gc)},Dg=()=>{Og();const t=Ag()-10;console.debug("Token auto-refresh is working.",`Token will be updated automatically after ${t}s!`),gc=window.setTimeout(()=>{ok().then(n=>{Lg(n.access_token,n.expires_in),Dg()})},t*1e3)},KS="_appLoading_19idb_1",YS={appLoading:KS},Ng=600,wh=200,WS={transitionProperty:"all",transitionDuration:`${wh}ms`,transitionDelay:`${Ng-wh}ms`,backgroundColor:"transparent",opacity:0},GS=e=>{const t=cn(),{i18n:n}=He(),[r,a]=v.useState(!1),[s,o]=v.useState(!1),[l,c]=v.useState(!1),u=async()=>{try{a(!0),console.debug("Token verifying..."),await(Pg()?Promise.resolve():Promise.reject("The local token is invalid")),await lk(),console.debug("Token verification successful."),a(!1),Dg(),o(!0),setTimeout(()=>c(!0),Ng)}catch(d){console.debug("Invalid token, need to log in again.",d),en.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),As(),t(Xe[pe.Hello])}};return je(()=>u()),Jc(()=>Og()),i.jsxs("div",{id:"app-auth",children:[s&&e.children,!l&&i.jsx(fe,{align:"center",justify:"center",className:YS.appLoading,style:s?WS:{},children:i.jsxs(P,{direction:"vertical",align:"center",children:[i.jsx(at,{indicator:i.jsx(my,{spin:!0,style:{fontSize:48}})}),i.jsx(H.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},go=(e=!1)=>{const[t,n]=v.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}},Fg="/option",JS="/archive",$g={STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function ZS(){return X.get($g.STATISTIC).then(e=>e.result)}function XS(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return X.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function QS(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return X.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function eC(){return X.patch(JS).then(e=>e.result)}function tC(){return X.patch($g.DATA_BASE_BACKUP).then(e=>e.result)}function nC(){return X.get(Fg).then(e=>e.result)}function rC(e){return X.put(Fg,e).then(t=>t.result)}const Mg={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function aC(e){return X.post(Mg.BATCH_RUN_REPORTS,e)}function iC(e){return X.post(Mg.RUN_REALTIME_REPORT,e)}const ia=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),sC=e=>e[0]?.rows||[],oC=e=>e[1]?.rows||[],lC=e=>e[2]?.rows||[],cC=e=>e[3]?.rows||[],uC=e=>e[4]?.rows||[],dC=async(e,t,n)=>aC({requests:[ia({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),ia({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),ia({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),ia({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),ia({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),zi=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>Je().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>Je().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>Je().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>Je().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],hC=127397,fu=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+hC)),fC=e=>{try{return!!new Intl.DisplayNames("en",{type:"region",fallback:"code"}).of(e)}catch{return!1}},pC=(e,t=navigator.language)=>{try{return new Intl.DisplayNames([t],{type:"region"}).of(e)??null}catch{return null}};sv([cv,uv,dv,hv,fv,pv]);const pu=Ar.forwardRef((e,t)=>{const n=v.useRef(null),r=v.useRef(),a=()=>{r.current?.resize({animation:{duration:300}})};return v.useEffect(()=>{n.current&&(r.current=ov(n.current)??lv(n.current,null,{renderer:"svg"}),e.options&&r.current?.setOption(e.options))},[n,e.options]),v.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),v.useImperativeHandle(t,()=>({instance:()=>r.current})),i.jsx("div",{ref:n,className:e.className,style:e.style})}),Ug=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:rr,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});var xo,_h;function mC(){if(_h)return xo;_h=1;function e(t){return t==null}return xo=e,xo}var gC=mC();const xC=At(gC);function Ga(e){if(xC(e.data))return i.jsx(H.Text,{type:"secondary",children:e.placeholder??"-"});const t=e.children?.(e.data);return typeof t=="string"||typeof t=="number"?i.jsx("span",{children:t}):t||null}const ee=e=>i.jsxs(P,{size:"small",className:e.className,children:[e.prefix,i.jsx(Ga,{data:e.text,placeholder:e.placeholder,children:t=>i.jsx(H.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?i.jsx("small",{children:t}):t})}),e.suffix]}),jh=e=>iC({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),yC=e=>{const t=v.useRef(),n=v.useRef(!1),[r,a]=v.useState([]),[s,o]=v.useState([]),l=v.useMemo(()=>{const f=[],m=[];return Array.from({length:30},(p,g)=>{const x=String(Math.abs(g-30)).padStart(2,"0"),j=r.find(b=>b.dimensionValues[0].value===x)?.metricValues[0].value;f.push(x),m.push(j?Number(j):0)}),{timeList:f,valueList:m}},[r]),c=v.useMemo(()=>l.valueList.reduce((f,m)=>f+m,0),[l]),u=v.useMemo(()=>Ug({xLabelFormatter:f=>`-${Number(f)}分钟`,tooltipLabelFormatter:({value:f})=>`${Number(f)} 分钟前`,categoryData:l.timeList,barsData:[{data:l.valueList,name:"Active Users",color:rr}]}),[l]),d=()=>{window.clearTimeout(t.current);const f=jh(["minutesAgo"]).then(p=>{a(p.result.data.rows??[])}),m=jh(["countryId","city"]).then(p=>{o(p.result.data.rows??[])});Promise.all([f,m]).then(()=>{n.current||(t.current=window.setTimeout(d,e.pollIntervalSeconds*1e3))})};je(()=>{d()}),Jc(()=>{n.current=!0,window.clearTimeout(t.current)});const h=f=>i.jsx(rn,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:f,renderItem:(m,p)=>i.jsx(rn.Item,{style:{paddingInline:0},children:i.jsxs(fe,{justify:"space-between",children:[m.dimensionValues[0].value.includes("other")?i.jsx(ee,{text:"__",prefix:"🌍",suffix:i.jsx(ee,{text:m.dimensionValues[1].value,type:"secondary",small:!0})}):i.jsx(ee,{text:m.dimensionValues[0].value,prefix:fu(m.dimensionValues[0].value),suffix:i.jsx(ee,{text:m.dimensionValues[1].value,type:"secondary",small:!0})}),i.jsx(ee,{text:m.metricValues[0].value,type:"secondary"})]})},p)});return i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{xs:16,children:i.jsx(pu,{options:u,style:{width:"100%",height:e.chartHeight}})}),i.jsxs(De,{xs:8,children:[i.jsx(Cn,{prefix:i.jsx(tr,{}),title:"Active Users",value:c}),i.jsx(se,{style:{marginBottom:0,marginTop:14}}),s.length?h(s):i.jsx(gy,{image:null,styles:{image:{height:"1rem"}}})]})]})},vC=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),Sh={users:0,views:0,events:0},sa={users:rr,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},bC=e=>{const t=v.useMemo(()=>zi.find(s=>s.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=v.useMemo(()=>t.xAxisList(),[t]),r=v.useMemo(()=>{let s=0,o=0,l=0;const c=new Map(n.map(u=>[u,{...Sh}]));return e.rows.forEach(u=>{const d=u.dimensionValues[0].value,[h,f,m]=u.metricValues.map(g=>Number(g.value)),p=c.get(d)??{...Sh};p.users+=h,p.views+=f,p.events+=m,c.set(d,p),s+=h,o+=f,l+=m}),{totalUsers:s,totalViews:o,totalEvents:l,map:c}},[n,e.rows]),a=v.useMemo(()=>{const s=[...r.map.values()],o=s.map(c=>c.users),l=s.map(c=>c.views);return s.map(c=>c.events),vC({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:sa.users},{data:l,name:"Page Views",zIndex:2,color:sa.views}]})},[r]);return i.jsxs(fe,{gap:"large",children:[i.jsx(pu,{options:a,style:{width:"100%",height:e.chartHeight}}),i.jsxs(P,{direction:"vertical",size:"small",style:{width:120},children:[i.jsx(Cn,{value:r.totalUsers,title:i.jsxs(fe,{justify:"space-between",children:[i.jsx("span",{children:"Active Users"}),i.jsx(Gs,{style:{color:sa.users}})]})}),i.jsx(Cn,{value:r.totalViews,title:i.jsxs(fe,{justify:"space-between",children:[i.jsx("span",{children:"Page Views"}),i.jsx(Gs,{style:{color:sa.views}})]})}),i.jsx(Cn,{value:r.totalEvents,title:i.jsxs(fe,{justify:"space-between",children:[i.jsx("span",{children:"Event Count"}),i.jsx(Gs,{style:{color:sa.events}})]})})]})]})},wC="_childList_p2pes_1",_C="_listItem_p2pes_5",jC="_listItemPercent_p2pes_9",SC="_percentCore_p2pes_15",mr={childList:wC,listItem:_C,listItemPercent:jC,percentCore:SC},CC=e=>{const t=e.data.children??[],[n,r]=v.useState(e.defaultExpanded??!0),a=v.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),s=()=>i.jsx(ee,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?e.labelPrefix?.(e.data):e.labelPrefix,suffix:i.jsxs(i.Fragment,{children:[typeof e.labelSuffix=="function"?e.labelSuffix?.(e.data):e.labelSuffix,t?.length?i.jsx(U,{type:"text",size:"small",icon:n?i.jsx(yy,{}):i.jsx(vy,{}),onClick:()=>r(!n)}):null]})}),o=()=>i.jsxs("ul",{className:mr.childList,children:[t.slice(0,e.limit).map(l=>i.jsx("li",{className:mr.childItem,children:i.jsxs(fe,{justify:"space-between",children:[i.jsx(ee,{text:l.name}),i.jsx(ee,{text:l.value,type:"secondary"})]})},l.name)),e.limit&&t.length>e.limit&&i.jsx("li",{className:mr.childItem,children:i.jsx(xy,{})})]});return i.jsxs(rn.Item,{className:mr.listItem,children:[i.jsx("div",{className:mr.listItemPercent,children:i.jsx("div",{className:mr.percentCore,style:{width:`${a}%`}})}),i.jsxs(fe,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):s(),i.jsx("span",{children:e.data.value})]}),t?.length&&n?o():null]})},Os=e=>{const t=v.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[s,o]=a.dimensionValues.map(u=>u.value),l=Number(a.metricValues[0].value),c=r.get(s)??{value:0};c.value+=l,c.name=s,o&&(c.children=c.children||[],c.children.push({name:o,value:l})),r.set(s,c)}),[...r.values()]},[e.rows]),n=v.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return i.jsx(rn,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>i.jsx(CC,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},RC=e=>{const{language:t}=Dr();return i.jsx(Os,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:({name:n})=>fC(n)?fu(n):"🌍",labelSuffix:n=>pC(n.name,t)??""})},EC=e=>e==="Windows"?i.jsx(by,{}):e==="Macintosh"?i.jsx(Xu,{}):e==="iOS"?i.jsx(Xu,{}):e==="Android"?i.jsx(wy,{}):e==="Linux"?i.jsx(_y,{}):e.includes("Chrome")?i.jsx(jy,{}):i.jsx(hs,{}),TC=e=>i.jsx(Os,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>EC(t.name)}),Fa=0;var nt=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(nt||{});const mu=[{id:0,name:"待审核",icon:i.jsx(Ke,{}),color:"blue"},{id:1,name:"已发布",icon:i.jsx(St,{}),color:"green"},{id:-2,name:"垃圾评论",icon:i.jsx(fs,{}),color:"red"},{id:-1,name:"回收站",icon:i.jsx(ze,{}),color:"orange"}],IC=new Map(mu.map(e=>[e.id,e])),Ta=e=>IC.get(e),Ds=e=>{const t=Xs.endsWith("/")?Xs:`${Xs}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},Ch=e=>`${za}${e}`,zg=`${za}/article/`,is=e=>`${zg}${e}`,kC=e=>`${za}/tag/${e}`,LC=e=>`${za}/category/${e}`,qg=()=>`${za}/guestbook`,PC=e=>e===Fa?qg():is(e),AC=e=>i.jsx(Os,{rows:e.rows,limit:8,renderLabel:t=>i.jsx(In,{placement:"topLeft",title:Ch(t.name),children:i.jsx(H.Link,{href:Ch(t.name),target:"_blank",children:i.jsxs(P,{size:"small",children:[i.jsx(Rr,{}),t.name]})})})}),OC=e=>i.jsx(Os,{rows:e.rows,limit:8,renderLabel:t=>i.jsx(In,{placement:"topLeft",title:t.name,children:i.jsx(H.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function gu(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function DC(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const NC="_statisticCard_kjkfk_1",FC="_icon_kjkfk_4",$C="_link_kjkfk_11",zn={statisticCard:NC,icon:FC,link:$C},vi=e=>i.jsxs(ye,{variant:"borderless",className:zn.statisticCard,children:[i.jsxs(fe,{justify:"space-between",children:[i.jsx(Cn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),i.jsx("div",{className:zn.icon,children:e.icon})]}),i.jsx(se,{size:"middle"}),e.loading?i.jsx(Tc.Input,{block:!0,active:!0,size:"small"}):e.extra]}),MC=(e,t)=>[i.jsx(vi,{loading:t,title:"今日阅读（文章页 PV）",value:e?.todayViews??"-",suffix:"次",icon:i.jsx(Ic,{}),extra:i.jsxs(fe,{justify:"space-between",children:[i.jsxs(H.Text,{type:"secondary",children:["累计阅读 ",i.jsx("strong",{children:gu(e?.totalViews??0)})]}),i.jsxs(It,{className:zn.link,to:Xe[pe.ArticlePost],children:[i.jsx(Ke,{})," 写文章"]})]})},"views"),i.jsx(vi,{loading:t,title:"全站评论",value:e?.comments??"-",suffix:"条",icon:i.jsx(Ma,{}),extra:i.jsxs(fe,{justify:"space-between",align:"center",children:[i.jsx(It,{className:zn.link,to:Xe[pe.Comment],children:"管理评论"}),i.jsx(se,{type:"vertical"}),i.jsx(It,{className:zn.link,to:Xe[pe.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),i.jsx(vi,{loading:t,title:"累计获得喜欢",value:e?.totalLikes??"-",suffix:"次",icon:i.jsx(kc,{}),extra:i.jsxs(fe,{justify:"space-between",children:[i.jsx(Sy,{count:5,disabled:!0,allowHalf:!0,value:e?.averageEmotion}),i.jsx(It,{className:zn.link,to:Xe[pe.Feedback],children:"站点反馈"})]})},"likes"),i.jsx(vi,{loading:t,title:"共发布文章",value:e?.articles??"-",suffix:"篇",icon:i.jsx(fp,{}),extra:i.jsxs(fe,{justify:"space-between",children:[i.jsxs(H.Text,{type:"secondary",children:[i.jsx("strong",{children:e?.tags??"-"})," 个文章标签"]}),i.jsx(It,{className:zn.link,to:Xe[pe.Tag],children:"管理标签"})]})},"contents")],UC="YYYY-MM-DD",oa="YYYY/MM/DD",zC=e=>{const t=v.useRef(null),n=v.useMemo(()=>Je(),[]),r=v.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const c=Je(e.articleData[0].date),u=Je(e.commentData[0].date);return c.isBefore(u)?c:u},[e.articleData,e.commentData]),a=v.useMemo(()=>{if(!r)return null;const c=new Map(e.articleData.flatMap(p=>[[p.date,p.count]])),u=new Map(e.commentData.flatMap(p=>[[p.date,p.count]])),d=n.diff(r,"day"),h=[],f=[],m=[];for(let p=0;p<=d;p++){const g=r.add(p,"day"),x=g.format(UC),y=g.format(oa);h.push(y),f.push(c.get(x)||0),m.push(u.get(x)||0)}return{dateList:h,articleCountList:f,commentCountList:m}},[r,e.articleData,e.commentData]),s=v.useMemo(()=>Ug({dataZoom:!0,startValue:n.subtract(3,"months").format(oa),endValue:n.format(oa),categoryData:a?.dateList??[],barsData:[{data:a?.articleCountList??[],name:"Articles",color:rr},{data:a?.commentCountList??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{t.current?.instance()?.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},l=c=>{t.current?.instance()?.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:c.format(oa),endValue:Je().format(oa)})};return i.jsx(ye,{variant:"borderless",title:e.title,loading:e.loading,extra:i.jsxs(P,{wrap:!0,children:[i.jsxs(P.Compact,{size:"small",children:[i.jsx(U,{onClick:()=>l(Je().subtract(1,"month")),children:"最近一月"}),i.jsx(U,{onClick:()=>l(Je().subtract(3,"months")),children:"最近三个月"}),i.jsx(U,{onClick:()=>l(Je().subtract(1,"year")),children:"最近一年"}),i.jsx(U,{onClick:o,children:"全部视图"})]}),i.jsx(se,{type:"vertical"}),e.cardExtra]}),children:i.jsx(pu,{ref:t,options:s,style:{width:"100%",height:e.height}})})},qC="_dashboardPage_1jxrl_1",HC="_gaChartContent_1jxrl_4",BC="_gaTreeListContent_1jxrl_8",Fn={dashboardPage:qC,gaChartContent:HC,gaTreeListContent:BC},VC=()=>{const e=go(),[t,n]=v.useState([]),[r,a]=v.useState([]),s=async()=>{const y=Promise.all([XS(),QS()]),[j,b]=await e.promise(y);n(j),a(b)},o=go(),[l,c]=v.useState(null),u=()=>{o.promise(ZS()).then(y=>{c(y)})},d=v.useMemo(()=>MC(l,o.state),[l,o.state]),h=go(),[f,m]=v.useState([]),[p,g]=v.useState(zi[0].value),x=()=>{const y=zi.find(w=>w.value===p),{getStartDate:j,getEndDate:b,dimension:S}=y.gaQueryParams,k=dC(j(),b(),S);h.promise(k).then(w=>{m(w.result?.data?.reports??[])})};return v.useEffect(()=>x(),[p]),je(()=>{u(),s()}),i.jsxs(P,{direction:"vertical",size:Ap,className:Fn.dashboardPage,children:[i.jsx(qt,{gutter:[Ue,Ue],children:d.map((y,j)=>i.jsx(De,{xs:24,md:12,lg:6,children:y},j))}),i.jsx(qt,{gutter:[Ue,Ue],children:i.jsx(De,{xs:24,children:i.jsx(zC,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:i.jsx(U,{size:"small",loading:e.state,icon:i.jsx(Qe,{}),onClick:()=>s()})})})}),i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{xs:24,md:24,lg:9,children:i.jsx(ye,{variant:"borderless",classNames:{body:Fn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:i.jsx(yC,{pollIntervalSeconds:16,chartHeight:200})})}),i.jsx(De,{xs:24,md:24,lg:15,children:i.jsx(ye,{variant:"borderless",classNames:{body:Fn.gaChartContent},loading:h.state,title:"GA Overview",extra:i.jsxs(P,{wrap:!0,children:[i.jsx(Ei.Group,{options:zi,onChange:y=>g(y.target.value),value:p,disabled:h.state,optionType:"button",size:"small"}),i.jsx(se,{type:"vertical"}),i.jsx(U,{size:"small",loading:h.state,icon:i.jsx(Qe,{}),onClick:()=>x()})]}),children:!h.state&&i.jsx(bC,{chartHeight:200,activeDateRange:p,rows:sC(f)})})})]}),i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{xs:24,md:12,lg:6,children:i.jsx(ye,{variant:"borderless",title:"GA Regions Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&i.jsx(RC,{rows:oC(f)})})}),i.jsx(De,{xs:24,md:12,lg:6,children:i.jsx(ye,{variant:"borderless",title:"GA Devices Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&i.jsx(TC,{rows:lC(f)})})}),i.jsx(De,{xs:24,md:12,lg:6,children:i.jsx(ye,{variant:"borderless",title:"GA Urls Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&i.jsx(AC,{rows:cC(f)})})}),i.jsx(De,{xs:24,md:12,lg:6,children:i.jsx(ye,{variant:"borderless",title:"GA Page Titles Rank",loading:h.state,classNames:{body:Fn.gaTreeListContent},children:!h.state&&i.jsx(OC,{rows:uC(f)})})})]})]})},KC=(e=!1,t=hm)=>{const n=t(e),r=()=>{n.value=!0},a=()=>{n.value=!1};return{state:n,start:r,stop:a,promise:o=>(r(),o.finally(a))}},me=(e=!1)=>KC(e,re);var yo,Rh;function YC(){if(Rh)return yo;Rh=1;var e=4,t=.001,n=1e-7,r=10,a=11,s=1/(a-1),o=typeof Float32Array=="function";function l(g,x){return 1-3*x+3*g}function c(g,x){return 3*x-6*g}function u(g){return 3*g}function d(g,x,y){return((l(x,y)*g+c(x,y))*g+u(x))*g}function h(g,x,y){return 3*l(x,y)*g*g+2*c(x,y)*g+u(x)}function f(g,x,y,j,b){var S,k,w=0;do k=x+(y-x)/2,S=d(k,j,b)-g,S>0?y=k:x=k;while(Math.abs(S)>n&&++w<r);return k}function m(g,x,y,j){for(var b=0;b<e;++b){var S=h(x,y,j);if(S===0)return x;var k=d(x,y,j)-g;x-=k/S}return x}function p(g){return g}return yo=function(x,y,j,b){if(!(0<=x&&x<=1&&0<=j&&j<=1))throw new Error("bezier x values must be in [0, 1] range");if(x===y&&j===b)return p;for(var S=o?new Float32Array(a):new Array(a),k=0;k<a;++k)S[k]=d(k*s,x,j);function w(E){for(var C=0,O=1,q=a-1;O!==q&&S[O]<=E;++O)C+=s;--O;var W=(E-S[O])/(S[O+1]-S[O]),Q=C+W*s,M=h(Q,x,j);return M>=t?m(E,Q,x,j):M===0?Q:f(E,C,C+s,x,j)}return function(C){return C===0?0:C===1?1:d(w(C),y,b)}},yo}var WC=YC();const Eh=At(WC),GC={ease:[.25,.1,.25,1]},bi={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},st=(e,t=500,n={})=>{n.easing=GC.ease;const r=bi.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let s=!1;const o=function(){s=!0};bi.on(r,a,o);let l=0;const c=window.pageYOffset;if(typeof e=="number")l=e;else{const p=typeof e=="string"?bi.$(e):e;l=c+p.getBoundingClientRect().top}let u=document.body.scrollHeight-l<window.innerHeight?document.body.scrollHeight-window.innerHeight:l;n.offset&&(u+=n.offset);const d=u-c,h=Reflect.apply(Eh,Eh,n.easing);let f;const m=function(){bi.off(r,a,o),s&&n.onCancel&&n.onCancel(),!s&&n.onDone&&n.onDone()};d&&window.requestAnimationFrame(function p(g){if(s)return m();f||(f=g);const x=g-f;let y=Math.min(x/t,1);y=h(y),window.scrollTo(0,c+d*y),x<t?window.requestAnimationFrame(p):m()})},zr=e=>i.jsx(pp,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:i.jsx(U,{disabled:e.disabled,icon:i.jsx(Cy,{}),iconPosition:"end",children:e.text??e.children})});var Hg=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Hg||{});const xu=[{id:0,name:"原创",icon:i.jsx(Ke,{}),color:"default"},{id:1,name:"转载",icon:i.jsx(Lc,{}),color:"default"},{id:2,name:"衍生",icon:i.jsx(Ry,{}),color:"default"}],JC=new Map(xu.map(e=>[e.id,e])),ZC=e=>JC.get(e);var Bg=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(Bg||{});const yu=[{id:1,name:"公开",icon:i.jsx(mp,{}),color:"green"},{id:-1,name:"私密",icon:i.jsx(gp,{}),color:"red"},{id:0,name:"保留",icon:i.jsx(fs,{}),color:"orange"}],XC=new Map(yu.map(e=>[e.id,e])),QC=e=>XC.get(e);var Rt=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Rt||{});const vu=[{id:0,name:"草稿",icon:i.jsx(Ke,{}),color:"orange"},{id:1,name:"已发布",icon:i.jsx(St,{}),color:"green"},{id:-1,name:"回收站",icon:i.jsx(ze,{}),color:"red"}],eR=new Map(vu.map(e=>[e.id,e])),xc=e=>eR.get(e),vo=({emoji:e})=>i.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var Vg=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(Vg||{});const bu=[{id:"zh",name:"中文",icon:i.jsx(vo,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:i.jsx(vo,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:i.jsx(vo,{emoji:"🌐"})}];new Map(bu.map(e=>[e.id,e]));const qr="/article";function tR(e={}){return X.get(qr,{params:e}).then(t=>t.result)}function Kg(e){return X.get(`${qr}/${e}`).then(t=>t.result)}function nR(e){return X.post(qr,e).then(t=>t.result)}function rR(e){return X.put(`${qr}/${e._id}`,e).then(t=>t.result)}function Th(e,t){return X.patch(qr,{article_ids:e,state:t}).then(n=>n.result)}function aR(e){return X.delete(qr,{data:{article_ids:e}}).then(t=>t.result)}const Yg=1,Wg=-1;var Xn=(e=>(e[e.Asc=Yg]="Asc",e[e.Desc=Wg]="Desc",e))(Xn||{}),Qn=(e=>(e[e.Asc=Yg]="Asc",e[e.Desc=Wg]="Desc",e[e.Hot=2]="Hot",e))(Qn||{});const iR=[{id:Qn.Desc,name:"最新",icon:i.jsx(Ey,{})},{id:Qn.Asc,name:"最早",icon:i.jsx(Ty,{})},{id:2,name:"最热",icon:i.jsx(Iy,{})}],sR=new Map(iR.map(e=>[e.id,e])),Ih=e=>sR.get(e),ir=e=>{const t=[Xn.Desc,Xn.Asc],n=e.withHot?[...t,Qn.Hot]:t;return i.jsx(ve,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:i.jsxs(P,{size:"small",children:[Ih(r).icon,Ih(r).name]})}))})},Hr="/tag";function oR(e={}){return X.get(Hr,{params:e}).then(t=>t.result)}function Gg(){return X.get(`${Hr}/all`).then(e=>e.result)}function lR(e){return X.post(Hr,e).then(t=>t.result)}function cR(e){return X.put(`${Hr}/${e._id}`,e).then(t=>t.result)}function uR(e){return X.delete(`${Hr}/${e}`).then(t=>t.result)}function dR(e){return X.delete(Hr,{data:{tag_ids:e}}).then(t=>t.result)}var la={},kh;function hR(){return kh||(kh=1,function(e){var t=la&&la.__assign||function(){return(t=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++)for(var d in l=arguments[c])Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,l){l===void 0&&(l={});for(var c,u=t(t({},n),l),d=[],h={},f=u.throwIfOrphans?new Set:null,m=0,p=o;m<p.length;m++){var g=p[m],x=u.nestedIds?s(g,u.id):g[u.id],y=u.nestedIds?s(g,u.parentId):g[u.parentId];if(u.rootParentIds[x])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(x,'", `rootParentIds`: ').concat(Object.keys(u.rootParentIds).map(function(j){return'"'.concat(j,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(h,x)||(h[x]=((c={})[u.childrenField]=[],c)),f&&f.delete(x),u.dataField?h[x][u.dataField]=g:u.assign?h[x]=Object.assign(g,((c={})[u.childrenField]=h[x][u.childrenField],c)):h[x]=t(t({},g),((g={})[u.childrenField]=h[x][u.childrenField],g)),g=h[x],y==null||u.rootParentIds[y]?d.push(g):(Object.prototype.hasOwnProperty.call(h,y)||(h[y]=((x={})[u.childrenField]=[],x),f&&f.add(y)),h[y][u.childrenField].push(g))}if(f!=null&&f.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(f),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(u.throwIfOrphans&&a(d,u.childrenField)<Object.keys(h).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return d}function a(o,l){return o.reduce(function(c,u){return c+1+(u[l]&&a(u[l],l))},0)}function s(o,l){return l.split(".").reduce(function(c,u){return c&&c[u]},o)}e.arrayToTree=r,e.countNodes=a}(la)),la}var Jg=hR();const Ns="/category";function wu(){return X.get(`${Ns}/all`).then(e=>({list:e.result,tree:Jg.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function _u(e){const t=n=>n.map(r=>({data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:e.disabledWhen?.(r)??!1,children:t(r.children||[])}));return t(e.tree)}function fR(e){return X.post(Ns,e).then(t=>t.result)}function pR(e){return X.put(`${Ns}/${e._id}`,e).then(t=>t.result)}function mR(e){return X.delete(`${Ns}/${e}`).then(t=>t.result)}const $e="ALL",Lh={sort:Qn.Desc,featured:!1,tag_slug:$e,category_slug:$e,public:$e,state:$e,origin:$e,lang:$e},gR=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==$e?e.tag_slug:void 0,category_slug:e.category_slug!==$e?e.category_slug:void 0,state:e.state!==$e?e.state:void 0,public:e.public!==$e?e.public:void 0,origin:e.origin!==$e?e.origin:void 0,lang:e.lang!==$e?e.lang:void 0}),xR=e=>{const{i18n:t}=He(),n=me(),r=it([]),a=()=>{n.promise(wu()).then(c=>{r.value=c.tree})},s=me(),o=it([]),l=()=>{s.promise(Gg()).then(c=>{o.value=c})};return je(()=>{l(),a()}),i.jsxs(fe,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[i.jsxs(P,{direction:"vertical",children:[i.jsxs(P,{wrap:!0,children:[i.jsx(U,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?i.jsx(Pc,{}):i.jsx(Ac,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),i.jsx(ve,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:c=>e.onParamsChange({state:c}),options:[{label:"全部状态",value:$e},...vu.map(c=>({value:c.id,label:i.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),i.jsx(ve,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:c=>e.onParamsChange({public:c}),options:[{label:"全部可见",value:$e},...yu.map(c=>({value:c.id,label:i.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),i.jsx(ve,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:c=>e.onParamsChange({origin:c}),options:[{label:"全部来源",value:$e},...xu.map(c=>({value:c.id,label:i.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),i.jsx(ve,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:c=>e.onParamsChange({lang:c}),options:[{label:"全部语言",value:$e},...bu.map(c=>({value:c.id,label:i.jsxs(P,{size:"small",children:[c.icon,c.name]})}))]}),i.jsxs(P.Compact,{children:[i.jsx(xp,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:c=>e.onParamsChange({category_slug:c}),treeData:[{label:"全部分类",key:$e,value:$e},..._u({tree:r.value,valuer:c=>c.slug})]}),i.jsx(ve,{style:{width:140},loading:s.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:c=>e.onParamsChange({tag_slug:c}),options:[{label:"全部标签",value:$e},...o.value.map(c=>({value:c.slug,label:`${c.name} (${c.article_count})`}))]})]})]}),i.jsxs(P,{wrap:!0,children:[i.jsx(ir,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:c=>e.onParamsChange({sort:c})}),i.jsx(ue.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:c=>e.onKeywordChange(c.target.value),allowClear:!0,onSearch:(c,u,d)=>{d?.source==="input"&&e.onKeywordSearch()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),i.jsx(P,{children:e.extra})]})},Zg=e=>Je(e)?.format("YYYY-MM-DD HH:mm:ss"),Ne=e=>Je(e)?.format("YYYY-MM-DD HH:mm:ss"),yR=e=>i.jsx(sn,{rowKey:t=>t._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(t,n)=>i.jsx(yp.Ribbon,{color:n.featured?rr:"transparent",text:n.featured?"精选":null,children:i.jsxs(ye,{size:"small",variant:"borderless",styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${n.thumbnail}") center / cover`},children:[i.jsx(H.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:n.title}),i.jsx(H.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:n.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(t,n){return i.jsx(P,{direction:"vertical",size:"small",wrap:!0,children:n.tags.map(r=>i.jsx(Vt,{style:{cursor:"pointer"},icon:i.jsx(vp,{}),onClick:()=>e.onClickTag(r),children:r.name},r._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsxs(P,{size:"small",children:[i.jsx(Ic,{}),"浏览 ",gu(n.meta?.views??0)," 次"]}),i.jsxs(P,{size:"small",children:[i.jsx(kc,{}),"喜欢 ",n.meta?.likes," 次"]}),i.jsxs(P,{size:"small",children:[i.jsx(Ma,{}),"评论 ",n.meta?.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsxs("div",{children:["分类：",n.categories.map((r,a)=>i.jsxs("span",{children:[i.jsx(H.Link,{onClick:()=>e.onClickCategory(r),children:r.name}),n.categories[a+1]?i.jsx(se,{type:"vertical"}):""]},a))]}),i.jsxs("div",{children:["发布：",Ne(n.created_at)]}),i.jsxs("div",{children:["更新：",Ne(n.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(t,n)=>i.jsx(P,{direction:"vertical",children:[xc(n.state),QC(n.public),ZC(n.origin)].map(r=>i.jsx(Vt,{icon:r.icon,color:r.color,children:r.name},r.id+r.name))})},{title:"操作",width:110,dataIndex:"actions",render:(t,n)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(It,{to:Mu.articleDetail(n._id),children:i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(Ke,{}),children:"文章详情"})}),n.state===Rt.Draft&&i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(St,{}),onClick:()=>e.onUpdateState(n,Rt.Published),children:i.jsx(H.Text,{type:"success",children:"直接发布"})}),n.state===Rt.Published&&i.jsx(U,{size:"small",type:"text",block:!0,danger:!0,icon:i.jsx(ze,{}),onClick:()=>e.onUpdateState(n,Rt.Recycle),children:"移回收站"}),n.state===Rt.Recycle&&i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(bp,{}),onClick:()=>e.onUpdateState(n,Rt.Draft),children:i.jsx(H.Text,{type:"warning",children:"退至草稿"})}),i.jsx(U,{size:"small",block:!0,type:"link",target:"_blank",icon:i.jsx(Ua,{}),href:is(n.id),children:"宿主页面"})]})}]}),vR=()=>{const{i18n:e}=He(),t=me(),n=on({data:[],pagination:void 0}),r=re([]),a=re(""),s=re({...Lh}),o=(h={})=>{a.value="",s.value={...Lh,...h}},l=h=>{const f={...h,...gR(s.value),keyword:a.value||void 0};t.promise(tR(f)).then(m=>{n.data=m.data,n.pagination=m.pagination,st(document.body)})},c=()=>{l({page:n.pagination?.current_page,per_page:n.pagination?.per_page})},u=(h,f)=>{const m=xc(f).name;_e.confirm({title:`确定要将此文章更新为「 ${m} 」状态吗？`,content:`《${h.title}》`,centered:!0,onOk:()=>Th([h._id],f).then(()=>{c()})})},d=(h,f)=>{const m=xc(f).name;_e.confirm({title:`确定要将 ${h.length} 个文章更新为「 ${m} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>Th(h,f).then(()=>{c()})})};return xt(()=>s.value,()=>l(),{deep:!0}),je(()=>{l()}),i.jsxs(ye,{variant:"borderless",title:e.t("page.article.list.title",{total:n.pagination?.total??"-"}),extra:i.jsx(It,{to:Xe[pe.ArticlePost],children:i.jsx(U,{type:"primary",size:"small",icon:i.jsx(Ke,{}),children:e.t("page.article.create")})}),children:[i.jsx(xR,{loading:t.state.value,keyword:a.value,onKeywordChange:h=>a.value=h,onKeywordSearch:()=>l(),params:s.value,onParamsChange:h=>Object.assign(s.value,h),onResetRefresh:()=>o({}),extra:i.jsx(zr,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:i.jsx(bp,{}),onClick:()=>d(r.value,Rt.Draft)},{label:"直接发布",icon:i.jsx(St,{}),onClick:()=>d(r.value,Rt.Published)},{label:"移回收站",icon:i.jsx(ze,{}),onClick:()=>d(r.value,Rt.Recycle)}]})}),i.jsx(se,{}),i.jsx(yR,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:h=>r.value=h,onPaginate:(h,f)=>l({page:h,per_page:f}),onUpdateState:(h,f)=>u(h,f),onClickCategory:({slug:h})=>o({category_slug:h}),onClickTag:({slug:h})=>o({tag_slug:h})})]})};var bo,Ph;function Fs(){if(Ph)return bo;Ph=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return bo=e,bo}var wo,Ah;function bR(){if(Ah)return wo;Ah=1;var e=typeof ui=="object"&&ui&&ui.Object===Object&&ui;return wo=e,wo}var _o,Oh;function Ja(){if(Oh)return _o;Oh=1;var e=bR(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return _o=n,_o}var jo,Dh;function wR(){if(Dh)return jo;Dh=1;var e=Ja(),t=function(){return e.Date.now()};return jo=t,jo}var So,Nh;function _R(){if(Nh)return So;Nh=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return So=t,So}var Co,Fh;function jR(){if(Fh)return Co;Fh=1;var e=_R(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Co=n,Co}var Ro,$h;function Xg(){if($h)return Ro;$h=1;var e=Ja(),t=e.Symbol;return Ro=t,Ro}var Eo,Mh;function SR(){if(Mh)return Eo;Mh=1;var e=Xg(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function s(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(l?o[a]=c:delete o[a]),d}return Eo=s,Eo}var To,Uh;function CR(){if(Uh)return To;Uh=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return To=n,To}var Io,zh;function ju(){if(zh)return Io;zh=1;var e=Xg(),t=SR(),n=CR(),r="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:r:s&&s in Object(l)?t(l):n(l)}return Io=o,Io}var ko,qh;function Qg(){if(qh)return ko;qh=1;function e(t){return t!=null&&typeof t=="object"}return ko=e,ko}var Lo,Hh;function RR(){if(Hh)return Lo;Hh=1;var e=ju(),t=Qg(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Lo=r,Lo}var Po,Bh;function ER(){if(Bh)return Po;Bh=1;var e=jR(),t=Fs(),n=RR(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=s.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):a.test(u)?r:+u}return Po=c,Po}var Ao,Vh;function TR(){if(Vh)return Ao;Vh=1;var e=Fs(),t=wR(),n=ER(),r="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var d,h,f,m,p,g,x=0,y=!1,j=!1,b=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(u)&&(y=!!u.leading,j="maxWait"in u,f=j?a(n(u.maxWait)||0,c):f,b="trailing"in u?!!u.trailing:b);function S(M){var B=d,oe=h;return d=h=void 0,x=M,m=l.apply(oe,B),m}function k(M){return x=M,p=setTimeout(C,c),y?S(M):m}function w(M){var B=M-g,oe=M-x,Y=c-B;return j?s(Y,f-oe):Y}function E(M){var B=M-g,oe=M-x;return g===void 0||B>=c||B<0||j&&oe>=f}function C(){var M=t();if(E(M))return O(M);p=setTimeout(C,w(M))}function O(M){return p=void 0,b&&d?S(M):(d=h=void 0,m)}function q(){p!==void 0&&clearTimeout(p),x=0,d=g=h=p=void 0}function W(){return p===void 0?m:O(t())}function Q(){var M=t(),B=E(M);if(d=arguments,h=this,g=M,B){if(p===void 0)return k(g);if(j)return clearTimeout(p),p=setTimeout(C,c),S(g)}return p===void 0&&(p=setTimeout(C,c)),m}return Q.cancel=q,Q.flush=W,Q}return Ao=o,Ao}var IR=TR();const kR=At(IR);var ss=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(ss||{});const LR=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],Mk=new Map(LR.map(e=>[e.id,e])),ex=e=>`uneditor-${e}`,Uk=kR((e,t)=>nn.set(ex(e),t),666),PR=e=>nn.get(ex(e)),AR=Ar.lazy(()=>mv(()=>import("./Editor-BGAX2QC2.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),Ir=e=>i.jsx(Ar.Suspense,{fallback:i.jsx(ye,{size:"small",loading:!0}),children:i.jsx(AR,{...e})}),OR=e=>t=>i.jsx(Np,{initTheme:e.initTheme,children:i.jsx(Pp,{initLanguage:e.initLanguage,children:i.jsx(Ir,{...t})})});var Oo,Kh;function DR(){if(Kh)return Oo;Kh=1;var e=ju(),t=Qg(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return Oo=r,Oo}var NR=DR();const FR=At(NR),tx={UPLOAD:"/extension/static/upload",LIST:"/extension/static/list"};async function $R(e){return X.get(tx.LIST,{params:e}).then(t=>t.result)}async function MR(e,t,n){const r=new FormData;return r.append("key",t),r.append("file",e),X.post(tx.UPLOAD,r,{onUploadProgress:({loaded:a,total:s})=>{FR(s)&&n?.(a/s*100)}}).then(a=>a.result)}const UR=3e6;var nx=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(nx||{});const rx=()=>{const e=me(),t=re(!1),n=re(0),r=()=>{t.value=!1,n.value=0};return{upload:(s,o=null,l)=>{if(s.size>UR)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const c=(o??s.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",c),e.promise(MR(s,c,u=>{console.debug("[upoader]","New upload progress:",u),t.value=!0,n.value=u*100,l?.(u)}).then(u=>(console.debug("[upoader]","Upload completed:",u.url),u)).catch(u=>(console.warn("[upoader]","Upload failed:",u),Promise.reject({code:"failure",error:u}))).finally(()=>r()))},uploading:e,progressing:t,progress:n}},os=e=>`![](${e})`,yc=e=>navigator.clipboard.writeText(e),zR="_imageUploader_1yty1_1",qR="_copyMarkdown_1yty1_4",HR="_uploader_1yty1_7",BR="_tigger_1yty1_15",VR="_image_1yty1_1",ca={imageUploader:zR,copyMarkdown:qR,uploader:HR,tigger:BR,image:VR},ax=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,ix=e=>{const{i18n:t}=He(),n=rx(),r=a=>{en.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,ax(a,e.directory)).then(s=>{e.onChange?.(s.url),en.success({message:t.t("component.image_uploader.state.succeeded"),description:s.key})}).catch(s=>{en.error({message:t.t("component.image_uploader.state.failed"),description:s.code===nx.Failure?String(s.error?.message??s.error):s.code})})};return i.jsxs(P,{direction:"vertical",className:ca.imageUploader,children:[i.jsx(Oc,{name:"file",listType:"picture-card",className:ca.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>e.onChange?.(""),customRequest:a=>{a.file&&r(a.file)},children:e.value?i.jsx("img",{className:ca.image,src:e.value,alt:e.value}):i.jsxs(P,{className:ca.tigger,direction:"vertical",align:"center",size:"small",children:[n?.uploading.state.value?i.jsx(wp,{}):i.jsx(Ln,{}),n?.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&i.jsx(ue,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:i.jsx(Rr,{}),value:e.value,onChange:a=>e.onChange?.(a.target.value)}),!e.disabledMarkdown&&e.value&&i.jsxs(P.Compact,{className:ca.copyMarkdown,children:[i.jsx(ue,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:i.jsx(ky,{}),value:os(e.value)}),i.jsx(In,{title:"Copy Markdown",children:i.jsx(U,{icon:i.jsx(Lc,{}),onClick:()=>yc(os(e.value))})})]})]})},KR="_inputWrapper_kev5k_1",YR="_inputGroup_kev5k_4",Yh={inputWrapper:KR,inputGroup:YR},Za=e=>i.jsx(A.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>i.jsxs(P,{direction:"vertical",size:"middle",className:Yh.inputWrapper,children:[t.map(a=>i.jsxs(P,{size:"middle",className:Yh.inputGroup,children:[i.jsx(A.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:i.jsx(ue,{placeholder:"Name"})}),i.jsx(A.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:i.jsx(ue,{placeholder:"Value"})}),i.jsx(U,{icon:i.jsx(ze,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),i.jsx(U,{block:!0,type:"dashed",icon:i.jsx(Ln,{}),onClick:()=>n(),children:i.jsx("span",{children:i.jsx(Nr,{i18nKey:"component.form_key_value.add"})})})]})});function WR(e){let t=JSON.stringify(e.initValue,null,2);const n=OR({initTheme:e.initTheme,initLanguage:e.initLanguage});return _e.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:Kn.t("component.modal_json_editor.save"),content:i.jsx("div",{style:{display:"grid",width:"100%"},children:i.jsx(n,{value:t,onChange:r=>t=r,placeholder:Kn.t("component.modal_json_editor.placeholder"),defaultLanguage:ss.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=Kn.t("component.modal_json_editor.error");return Rn.error(a),Promise.reject(a)}}})}const tt=e=>e.isFolder,sx=e=>`${(e/1024).toFixed(2)}kb`,Su=e=>["jpg","jpeg","png","webp","svg","ico"].some(t=>e.toLowerCase().endsWith(t)),ox=e=>["mp3","wma","wav","ape","flac"].some(t=>e.toLowerCase().endsWith(t)),lx=e=>["mp4","wmv","mov","webp"].some(t=>e.toLowerCase().endsWith(t)),cx=e=>Su(e)?i.jsx(Dc,{}):lx(e)?i.jsx(Js,{}):ox(e)?i.jsx(Js,{}):e.toLowerCase().endsWith("html")?i.jsx(Ly,{}):e.toLowerCase().endsWith("pdf")?i.jsx(Py,{}):i.jsx(Js,{}),GR=e=>{const t=[{title:"Key",dataIndex:"key",sorter:(n,r)=>{const a=tt(n)?n.prefix:n.key,s=tt(r)?r.prefix:r.key;return a.localeCompare(s)},render:(n,r)=>i.jsxs(P,{size:"small",children:[tt(r)?i.jsx(_p,{}):cx(r.key),tt(r)?i.jsx(H.Link,{onClick:()=>e.onClickFolder(r.prefix),children:r.prefix}):i.jsx(In,{title:r.url,placement:"topLeft",children:i.jsx(H.Link,{copyable:{text:r.url},onClick:()=>e.onClickFile(r),children:r.key})})]})},{width:96,title:"Size",dataIndex:"size",sorter:(n,r)=>{const a=tt(n)?0:n.size,s=tt(r)?0:r.size;return a-s},render:(n,r)=>tt(r)?"-":sx(r.size)},{width:160,title:"LastModified",dataIndex:"lastModified",defaultSortOrder:"descend",sorter:(n,r)=>{const a=tt(n)?0:n.lastModified??0,s=tt(r)?0:r.lastModified??0;return a-s},render:(n,r)=>tt(r)?"-":Zg(r.lastModified)},{width:120,title:"StorageClass",dataIndex:"storageClass",render:(n,r)=>tt(r)?"-":r.storageClass}];return i.jsx(sn,{size:e.size,pagination:!1,columns:t,loading:e.loading,dataSource:e.data})},JR="_fileModalDescriptions_12vi3_1",ZR="_fileModalImage_12vi3_4",XR="_fileModalVideo_12vi3_7",QR="_fileModalAudio_12vi3_11",e1="_fileModalIframe_12vi3_14",t1="_fileModalPdf_12vi3_18",n1="_fileGridList_12vi3_23",r1="_listItem_12vi3_32",a1="_handler_12vi3_32",i1="_image_12vi3_44",s1="_name_12vi3_53",Et={fileModalDescriptions:JR,fileModalImage:ZR,fileModalVideo:XR,fileModalAudio:QR,fileModalIframe:e1,fileModalPdf:t1,fileGridList:n1,listItem:r1,handler:a1,image:i1,name:s1},o1=e=>{const t=r=>{tt(r)?e.onClickFolder(r.prefix):e.onClickFile(r)},n=r=>tt(r)?i.jsx(_p,{}):Su(r.key)?i.jsx("img",{loading:"lazy",className:Et.image,src:r.url}):cx(r.key);return i.jsx(at,{spinning:e.loading,children:i.jsx("ul",{className:Et.fileGridList,children:e.data.map((r,a)=>i.jsx(In,{placement:"topLeft",destroyOnHidden:!0,mouseEnterDelay:.01,mouseLeaveDelay:.01,title:tt(r)?r.prefix:r.key,children:i.jsxs("li",{className:Et.listItem,onClick:()=>t(r),children:[i.jsx("div",{className:Et.handler,children:n(r)}),i.jsx("p",{className:Et.name,children:tt(r)?r.prefix:r.key})]})},a))})})},Wh=[280,500,1e3],ux=e=>{const t=it("list"),n=pm({limit:e.initLimit??Wh[1],prefix:e.initPrefix??""}),r=it(null),a=gt(()=>!!r.value),s=g=>{r.value=g},o=()=>{r.value=null},{i18n:l}=He(),c=me(),u=it(),d=re([]),h=gt(()=>[...u.value?.commonPrefixes?.map(x=>({isFolder:!0,prefix:x.Prefix,key:x.Prefix}))??[],...d.value.filter(x=>!(x.key.endsWith("/")&&x.size===0))]),f=g=>c.promise($R({limit:n.limit,prefix:n.prefix,delimiter:"/",startAfter:g})).then(x=>{u.value=x,g?d.value.push(...x.files):d.value=x.files}),m=g=>{n.prefix=g,f()};xt(()=>n.limit,()=>f()),je(()=>f());const p=g=>{const x=()=>Su(g.key)?i.jsx(H.Link,{href:g.url,target:"_blank",children:i.jsx("img",{src:g.url,alt:g.key,className:Et.fileModalImage})}):lx(g.key)?i.jsx("video",{src:g.url,controls:!0,autoPlay:!0,className:Et.fileModalVideo}):ox(g.key)?i.jsx("audio",{src:g.url,controls:!0,autoPlay:!0,className:Et.fileModalAudio}):g.key.toLowerCase().endsWith("html")?i.jsx("iframe",{src:g.url,className:Et.fileModalIframe}):g.key.toLowerCase().endsWith("pdf")?i.jsx("iframe",{src:g.url,className:Et.fileModalPdf}):i.jsx(H.Link,{href:g.url,target:"_blank",children:"新窗口打开"});return i.jsxs(mn,{size:"middle",column:2,className:Et.fileModalDescriptions,children:[i.jsx(mn.Item,{label:"size",children:sx(g.size)}),i.jsx(mn.Item,{label:"StorageClass",children:g.storageClass}),i.jsx(mn.Item,{label:"lastModified",span:2,children:Zg(g.lastModified)}),i.jsx(mn.Item,{label:"ETag",span:2,children:g.eTag}),i.jsx(mn.Item,{label:"Key",span:2,children:i.jsx(H.Text,{copyable:{text:g.url},children:g.key})}),i.jsx(mn.Item,{span:2,children:x()})]})};return i.jsxs("div",{children:[i.jsx(_e,{title:r.value?.key??"文件详情",centered:!0,closable:!0,destroyOnHidden:!0,footer:null,open:a.value,onCancel:o,children:r.value?p(r.value):null}),i.jsxs(fe,{justify:"space-between",children:[i.jsxs(P,{children:[i.jsx(ve,{placeholder:"每页数据",disabled:c.state.value,value:n.limit,onChange:g=>n.limit=g,labelRender:g=>`每页 ${g.value} 条数据`,optionRender:g=>`${g.value} 条`,options:Wh.map(g=>({value:g}))}),i.jsx(ue.Search,{style:{width:260},allowClear:!0,placeholder:"输入前缀以过滤",disabled:c.state.value,value:n.prefix,onChange:g=>n.prefix=g.target.value,onSearch:(g,x,y)=>{y?.source==="input"&&f()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:c.state.value,onClick:()=>f(),children:l.t("common.list.filter.refresh")})]}),i.jsx(ve,{placeholder:"展示方式",value:t.value,onChange:g=>t.value=g,options:[{value:"list",label:i.jsxs(P,{size:"small",children:[i.jsx(Ay,{})," 列表"]})},{value:"grid",label:i.jsxs(P,{size:"small",children:[i.jsx(jp,{})," 网格"]})}]})]}),i.jsx(se,{}),t.value==="list"?i.jsx(GR,{loading:c.state.value,data:h.value,size:e.tableListSize,onClickFolder:m,onClickFile:s}):i.jsx(o1,{loading:c.state.value,data:h.value,onClickFolder:m,onClickFile:s}),i.jsx("br",{}),u.value&&i.jsx(fe,{justify:"center",children:u.value.files.length<u.value.limit?i.jsx(H.Text,{type:"secondary",children:"没有更多了"}):i.jsx(U,{size:"large",icon:i.jsx(Ln,{}),disabled:c.state.value,loading:c.state.value,onClick:()=>f(d.value.at(-1)?.key),children:c.state.value?"加载中...":"加载更多"})})]})},l1="_categorySelect_1vnzs_1",c1="_multipleImageUploader_1vnzs_11",u1="_copyButton_1vnzs_14",qi={categorySelect:l1,multipleImageUploader:c1,copyButton:u1},d1=e=>{const t=rx(),n=pm([]);return i.jsxs("div",{className:qi.multipleImageUploader,children:[n.length?i.jsx(U,{block:!0,type:"dashed",className:qi.copyButton,onClick:()=>{yc(n.map(os).join(`
`)),Rn.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,i.jsxs(Oc.Dragger,{className:qi.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:i.jsx(In,{title:"Copy Markdown",children:i.jsx(Lc,{})})},onDownload:r=>{yc(os(r.response.url)),Rn.info("复制成功")},onPreview:r=>{_e.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>i.jsx(ye,{title:r.response?.key??"",children:i.jsx("img",{style:{width:"100%"},src:r.response?.url})})})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,ax(a,e.directory),s=>{r.onProgress?.({percent:s})}).then(s=>{n.push(s.url),r.onSuccess?.(s)}).catch(s=>{r.onError?.(s)})}},children:[i.jsx("br",{}),i.jsx("p",{className:"ant-upload-drag-icon",children:i.jsx(ps,{})}),i.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),i.jsx("br",{})]})]})},h1=e=>{const t=i.jsxs(P,{children:[i.jsx(Dc,{}),"图片上传器"]}),n=i.jsx(U,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return i.jsx(_e,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:i.jsx(d1,{directory:e.uploaderDirectory})})},f1=e=>{const t=me(),n=it([]),r=()=>{t.promise(Gg()).then(l=>{n.value=l})},a=e.value||[],s=(l,c)=>{const u=l._id,d=c?[...a,u]:a.filter(h=>h!==u);e.onChange?.(d)};je(()=>{r()});const o=l=>{const c=a.includes(l._id);return i.jsx(U,{size:"small",onClick:()=>s(l,!c),type:c?"primary":"default",icon:c?i.jsx(Sp,{}):i.jsx(vp,{style:{opacity:.6}}),children:l.name},l._id)};return i.jsxs("div",{children:[i.jsx(at,{spinning:t.state.value&&!!n.value.length,children:i.jsx(Tc,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?i.jsx(P,{wrap:!0,size:[12,12],children:n.value.map(o)}):i.jsx(H.Text,{type:"secondary",children:"无数据"})})}),i.jsx(se,{}),i.jsx(U,{size:"small",type:"dashed",icon:i.jsx(Qe,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},p1=e=>{const t=re(!1),n=re(!1);return i.jsxs(i.Fragment,{children:[i.jsxs(A,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[e.extraItems?.map((r,a)=>i.jsx(A.Item,{label:r.label,wrapperCol:{span:12},children:r.content},a)),i.jsx(A.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:i.jsx(ue,{addonBefore:zg,placeholder:"article-title",allowClear:!0})}),i.jsx(A.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:i.jsx(ue,{placeholder:"文章标题"})}),i.jsx(A.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:i.jsx(ue.TextArea,{rows:4,placeholder:"文章描述"})}),i.jsx(A.Item,{label:"关键词",name:"keywords",children:i.jsx(ve,{placeholder:"输入关键词后回车",mode:"tags"})}),i.jsx(A.Item,{label:"标签",name:"tags",children:i.jsx(f1,{})}),i.jsx("br",{}),i.jsx(A.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:i.jsx(Ir,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:()=>i.jsxs(i.Fragment,{children:[i.jsx(U,{size:"small",icon:i.jsx(Nc,{}),onClick:()=>{n.value=!0}}),i.jsx(U,{size:"small",icon:i.jsx(ms,{}),onClick:()=>{t.value=!0}})]})})})]}),i.jsx(h1,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${Je().format("YYYY-MM-DD")}`}),i.jsx(_e,{title:"云存储文件管理",centered:!0,closable:!0,width:880,footer:null,open:n.value,onCancel:()=>n.value=!1,styles:{body:{paddingTop:"12px",paddingRight:"14px",maxHeight:"80vh",overflowY:"auto"}},children:i.jsx(ux,{initPrefix:"nodepress/",tableListSize:"small"})})]})},m1=e=>{const t=me(),n=it([]),r=()=>{t.promise(wu()).then(s=>{n.value=s.tree})};je(()=>{r()});const a=()=>i.jsx(Oy,{className:qi.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:s=>{const o=Array.isArray(s)?s:s.checked;e.onChange?.(o)},treeData:_u({tree:n.value,valuer:s=>s._id}),titleRender:s=>{const o=s.data;return i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{strong:!0,children:o.name}),i.jsx(se,{type:"vertical"}),o.slug]})}});return i.jsxs("div",{children:[i.jsx(at,{spinning:t.state.value&&!!n.value.length,children:i.jsx(Tc,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():i.jsx(H.Text,{type:"secondary",children:"无数据"})})}),i.jsx(se,{}),i.jsx(U,{size:"small",type:"dashed",icon:i.jsx(Qe,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},g1=e=>i.jsx(A,{scrollToFirstError:!0,form:e.form,children:i.jsx(A.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n?.length?Promise.resolve():Promise.reject()}}],children:i.jsx(m1,{})})}),gr={message:"必选",required:!0},x1=e=>i.jsxs(A,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[i.jsx(A.Item,{required:!0,name:"state",label:"发布状态",rules:[gr],children:i.jsx(ve,{placeholder:"文章发布状态",options:vu.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),i.jsx(A.Item,{required:!0,name:"origin",label:"文章来源",rules:[gr],children:i.jsx(ve,{placeholder:"文章来源",options:xu.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),i.jsx(A.Item,{required:!0,name:"public",label:"公开类型",rules:[gr],children:i.jsx(ve,{placeholder:"文章公开类型",options:yu.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),i.jsx(A.Item,{required:!0,name:"lang",label:"内容语言",rules:[gr],children:i.jsx(ve,{placeholder:"文章语言",options:bu.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))})}),i.jsx(A.Item,{required:!0,name:"featured",label:"精选文章",rules:[gr],valuePropName:"checked",children:i.jsx(Vl,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),i.jsx(A.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[gr],valuePropName:"checked",children:i.jsx(Vl,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),i.jsx(se,{}),i.jsx(U,{type:"primary",block:!0,icon:i.jsx(St,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),y1=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:Hg.Original,state:Rt.Published,public:Bg.Public,lang:Vg.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),dx=e=>{const{i18n:t}=He(),{language:n}=Dr(),{theme:r}=vs(),[a]=A.useForm(),[s]=A.useForm(),[o]=A.useForm(),[l]=A.useForm(),[c]=A.useForm(),u=f=>{a.setFieldsValue(f),s.setFieldsValue(f),o.setFieldsValue(f),l.setFieldsValue(f),c.setFieldsValue(f)},d=async()=>{try{const f={...e.article,...await a.validateFields(),...await s.validateFields(),...await o.validateFields(),...await l.validateFields(),...await c.validateFields()};f.slug=f.slug||null,e.onSubmit?.(f)}catch(f){console.debug("Article 提交错误：",f),Rn.error("请检查表单中的不合法项")}},h=()=>{WR({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:l.getFieldsValue(),callback:f=>l.setFieldsValue(f)})};return v.useEffect(()=>{e.article&&u(e.article)},[e.article]),je(()=>{u(y1),st(document.body)}),i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{xs:24,lg:17,children:i.jsx(ye,{variant:"borderless",title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:i.jsx(at,{spinning:e.loading,children:i.jsx(p1,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),i.jsx(De,{xs:24,lg:7,children:i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{span:24,children:i.jsx(ye,{title:t.t("page.article.editor.categories"),variant:"borderless",children:i.jsx(at,{spinning:e.loading,children:i.jsx(g1,{form:s})})})}),i.jsx(De,{span:24,children:i.jsx(ye,{title:t.t("page.article.editor.thumbnail"),variant:"borderless",children:i.jsx(at,{spinning:e.loading,children:i.jsx(A,{scrollToFirstError:!0,form:o,children:i.jsx(A.Item,{noStyle:!0,name:"thumbnail",children:i.jsx(ix,{directory:"thumbnail"})})})})})}),i.jsx(De,{span:24,children:i.jsx(ye,{title:t.t("page.article.editor.extends"),variant:"borderless",extra:i.jsx(U,{type:"link",size:"small",icon:i.jsx(Ke,{}),disabled:e.loading,onClick:h,children:"以 JSON 编辑"}),children:i.jsx(at,{spinning:e.loading,children:i.jsx(A,{scrollToFirstError:!0,form:l,children:i.jsx(A.Item,{noStyle:!0,shouldUpdate:!0,children:i.jsx(Za,{fieldName:"extends"})})})})})}),i.jsx(De,{span:24,children:i.jsx(ye,{title:t.t("page.article.editor.states"),variant:"borderless",children:i.jsx(at,{spinning:e.loading,children:i.jsx(x1,{form:c,submitting:e.submitting,onSubmit:d})})})})]})})]})},hx="/vote";function fx(e={}){return X.get(hx,{params:e}).then(t=>t.result)}function v1(e){return X.delete(hx,{data:{vote_ids:e}}).then(t=>t.result)}const b1="_emoji_9ujl9_1",w1={emoji:b1},sr=e=>i.jsx(Ga,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&fu(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return i.jsxs("span",{className:e.className,children:[n?i.jsx("span",{className:w1.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var Cu=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(Cu||{}),wr=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(wr||{}),Hi=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(Hi||{});const _1=new Map([[1,"页面"],[2,"评论"]]),Bi=e=>_1.get(e),j1=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),Ru=e=>j1.get(e),px=[{id:1,name:"+1",icon:i.jsx(nr,{})},{id:-1,name:"-1",icon:i.jsx(Or,{})}],S1=new Map(px.map(e=>[e.id,e])),ls=e=>S1.get(e);var C1="2.0.4",vc=500,Gh="user-agent",kr="",Jh="?",cs="function",jn="undefined",Lr="object",bc="string",ot="browser",Zt="cpu",zt="device",Tt="engine",wt="os",Sr="result",F="name",L="type",N="vendor",$="version",lt="architecture",$a="major",D="model",ba="console",ie="mobile",we="tablet",Ae="smarttv",Mt="wearable",wi="xr",wa="embedded",ua="inapp",Eu="brands",qn="formFactors",Tu="fullVersionList",Cr="platform",Iu="platformVersion",$s="bitness",Pn="sec-ch-ua",R1=Pn+"-full-version-list",E1=Pn+"-arch",T1=Pn+"-"+$s,I1=Pn+"-form-factors",k1=Pn+"-"+ie,L1=Pn+"-"+D,mx=Pn+"-"+Cr,P1=mx+"-version",gx=[Eu,Tu,ie,D,Cr,Iu,lt,qn,$s],_i="Amazon",xr="Apple",Zh="ASUS",Xh="BlackBerry",$n="Google",Qh="Huawei",Do="Lenovo",ef="Honor",ji="LG",No="Microsoft",Fo="Motorola",$o="Nvidia",tf="OnePlus",Mo="OPPO",da="Samsung",nf="Sharp",ha="Sony",Uo="Xiaomi",zo="Zebra",rf="Chrome",af="Chromium",fn="Chromecast",Vi="Edge",fa="Firefox",pa="Opera",qo="Facebook",sf="Sogou",yr="Mobile ",ma=" Browser",wc="Windows",A1=typeof window!==jn,ct=A1&&window.navigator?window.navigator:void 0,wn=ct&&ct.userAgentData?ct.userAgentData:void 0,O1=function(e,t){var n={},r=t;if(!us(t)){r={};for(var a in t)for(var s in t[a])r[s]=t[a][s].concat(r[s]?r[s]:[])}for(var o in e)n[o]=r[o]&&r[o].length%2===0?r[o].concat(e[o]):e[o];return n},Ms=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},_c=function(e,t){if(typeof e===Lr&&e.length>0){for(var n in e)if(Xt(t)==Xt(e[n]))return!0;return!1}return Br(e)?Xt(t)==Xt(e):!1},us=function(e,t){for(var n in e)return/^(browser|cpu|device|engine|os)$/.test(n)||(t?us(e[n]):!1)},Br=function(e){return typeof e===bc},Ho=function(e){if(e){for(var t=[],n=Pr(/\\?\"/g,e).split(","),r=0;r<n.length;r++)if(n[r].indexOf(";")>-1){var a=ds(n[r]).split(";v=");t[r]={brand:a[0],version:a[1]}}else t[r]=ds(n[r]);return t}},Xt=function(e){return Br(e)?e.toLowerCase():e},Bo=function(e){return Br(e)?Pr(/[^\d\.]/g,e).split(".")[0]:void 0},Qt=function(e){for(var t in e){var n=e[t];typeof n==Lr&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Pr=function(e,t){return Br(t)?t.replace(e,kr):t},ga=function(e){return Pr(/\\?\"/g,e)},ds=function(e,t){if(Br(e))return e=Pr(/^\s\s*/,e),typeof t===jn?e:e.substring(0,vc)},Vo=function(e,t){if(!(!e||!t))for(var n=0,r,a,s,o,l,c;n<t.length&&!l;){var u=t[n],d=t[n+1];for(r=a=0;r<u.length&&!l&&u[r];)if(l=u[r++].exec(e),l)for(s=0;s<d.length;s++)c=l[++a],o=d[s],typeof o===Lr&&o.length>0?o.length===2?typeof o[1]==cs?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:o.length>=3&&(typeof o[1]===cs&&!(o[1].exec&&o[1].test)?o.length>3?this[o[0]]=c?o[1].apply(this,o.slice(2)):void 0:this[o[0]]=c?o[1].call(this,c,o[2]):void 0:o.length==3?this[o[0]]=c?c.replace(o[1],o[2]):void 0:o.length==4?this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):void 0:o.length>4&&(this[o[0]]=c?o[3].apply(this,[c.replace(o[1],o[2])].concat(o.slice(4))):void 0)):this[o]=c||void 0;n+=2}},Ut=function(e,t){for(var n in t)if(typeof t[n]===Lr&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(_c(t[n][r],e))return n===Jh?void 0:n}else if(_c(t[n],e))return n===Jh?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},of={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},lf={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},D1={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},cf={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[$,[F,yr+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[$,[F,Vi+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[$,[F,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[F,$],[/opios[\/ ]+([\w\.]+)/i],[$,[F,pa+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[$,[F,pa+" GX"]],[/\bopr\/([\w\.]+)/i],[$,[F,pa]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[$,[F,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[$,[F,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[F,$],[/quark(?:pc)?\/([-\w\.]+)/i],[$,[F,"Quark"]],[/\bddg\/([\w\.]+)/i],[$,[F,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[$,[F,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[$,[F,"WeChat"]],[/konqueror\/([\w\.]+)/i],[$,[F,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[$,[F,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[$,[F,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[$,[F,"Smart "+Do+ma]],[/(avast|avg)\/([\w\.]+)/i],[[F,/(.+)/,"$1 Secure"+ma],$],[/\bfocus\/([\w\.]+)/i],[$,[F,fa+" Focus"]],[/\bopt\/([\w\.]+)/i],[$,[F,pa+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[$,[F,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[$,[F,"Dolphin"]],[/coast\/([\w\.]+)/i],[$,[F,pa+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[$,[F,"MIUI"+ma]],[/fxios\/([\w\.-]+)/i],[$,[F,yr+fa]],[/\bqihoobrowser\/?([\w\.]*)/i],[$,[F,"360"]],[/\b(qq)\/([\w\.]+)/i],[[F,/(.+)/,"$1Browser"],$],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[F,/(.+)/,"$1"+ma],$],[/samsungbrowser\/([\w\.]+)/i],[$,[F,da+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[$,[F,sf+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[F,sf+" Mobile"],$],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[F,$],[/(lbbrowser|rekonq)/i],[F],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[$,F],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[F,qo],$,[L,ua]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[F,$,[L,ua]],[/\bgsa\/([\w\.]+) .*safari\//i],[$,[F,"GSA"],[L,ua]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[$,[F,"TikTok"],[L,ua]],[/\[(linkedin)app\]/i],[F,[L,ua]],[/(chromium)[\/ ]([-\w\.]+)/i],[F,$],[/headlesschrome(?:\/([\w\.]+)| )/i],[$,[F,rf+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[$,[F,Vi+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[F,rf+" WebView"],$],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[$,[F,"Android"+ma]],[/chrome\/([\w\.]+) mobile/i],[$,[F,yr+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[F,$],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[$,[F,yr+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[F,yr+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[$,F],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[F,[$,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[F,$],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[F,yr+fa],$],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[F,"Netscape"],$],[/(wolvic|librewolf)\/([\w\.]+)/i],[F,$],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[$,[F,fa+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[F,[$,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[F,[$,/[^\d\.]+./,kr]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[lt,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[lt,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[lt,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[lt,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[lt,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[lt,/ower/,kr,Xt]],[/ sun4\w[;\)]/i],[[lt,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[lt,Xt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[D,[N,da],[L,we]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[D,[N,da],[L,ie]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[D,[N,xr],[L,ie]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[D,[N,xr],[L,we]],[/(macintosh);/i],[D,[N,xr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[D,[N,nf],[L,ie]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[D,[N,ef],[L,we]],[/honor([-\w ]+)[;\)]/i],[D,[N,ef],[L,ie]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[D,[N,Qh],[L,we]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[D,[N,Qh],[L,ie]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[D,/_/g," "],[N,Uo],[L,we]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[D,/_/g," "],[N,Uo],[L,ie]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[D,[N,tf],[L,ie]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[D,[N,Mo],[L,ie]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[D,[N,Ut,{OnePlus:["203","304","403","404","413","415"],"*":Mo}],[L,we]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[D,[N,"BLU"],[L,ie]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[D,[N,"Vivo"],[L,ie]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[D,[N,"Realme"],[L,ie]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[D,[N,Do],[L,we]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[D,[N,Do],[L,ie]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[D,[N,Fo],[L,ie]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[D,[N,Fo],[L,we]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[D,[N,ji],[L,we]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[D,[N,ji],[L,ie]],[/(nokia) (t[12][01])/i],[N,D,[L,we]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[D,/_/g," "],[L,ie],[N,"Nokia"]],[/(pixel (c|tablet))\b/i],[D,[N,$n],[L,we]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[D,[N,$n],[L,ie]],[/(google) (pixelbook( go)?)/i],[N,D],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[D,[N,ha],[L,ie]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[D,"Xperia Tablet"],[N,ha],[L,we]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[D,[N,_i],[L,we]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[D,/(.+)/g,"Fire Phone $1"],[N,_i],[L,ie]],[/(playbook);[-\w\),; ]+(rim)/i],[D,N,[L,we]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[D,[N,Xh],[L,ie]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[D,[N,Zh],[L,we]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[D,[N,Zh],[L,ie]],[/(nexus 9)/i],[D,[N,"HTC"],[L,we]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[N,[D,/_/g," "],[L,ie]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[D,[N,"TCL"],[L,we]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[D,[N,"TCL"],[L,ie]],[/(itel) ((\w+))/i],[[N,Xt],D,[L,Ut,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[D,[N,"Acer"],[L,we]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[D,[N,"Meizu"],[L,ie]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[D,[N,"Ulefone"],[L,ie]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[D,[N,"Energizer"],[L,ie]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[D,[N,"Cat"],[L,ie]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[D,[N,"Smartfren"],[L,ie]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[D,[N,"Nothing"],[L,ie]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[D,[N,"Archos"],[L,we]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[D,[N,"Archos"],[L,ie]],[/; (n159v)/i],[D,[N,"HMD"],[L,ie]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[N,D,[L,we]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i],[N,D,[L,ie]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[N,D,[L,we]],[/(surface duo)/i],[D,[N,No],[L,we]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[D,[N,"Fairphone"],[L,ie]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[D,[N,$o],[L,we]],[/(sprint) (\w+)/i],[N,D,[L,ie]],[/(kin\.[onetw]{3})/i],[[D,/\./g," "],[N,No],[L,ie]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[D,[N,zo],[L,we]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[D,[N,zo],[L,ie]],[/smart-tv.+(samsung)/i],[N,[L,Ae]],[/hbbtv.+maple;(\d+)/i],[[D,/^/,"SmartTV"],[N,da],[L,Ae]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[N,D,[L,Ae]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[N,ji],[L,Ae]],[/(apple) ?tv/i],[N,[D,xr+" TV"],[L,Ae]],[/crkey.*devicetype\/chromecast/i],[[D,fn+" Third Generation"],[N,$n],[L,Ae]],[/crkey.*devicetype\/([^/]*)/i],[[D,/^/,"Chromecast "],[N,$n],[L,Ae]],[/fuchsia.*crkey/i],[[D,fn+" Nest Hub"],[N,$n],[L,Ae]],[/crkey/i],[[D,fn],[N,$n],[L,Ae]],[/(portaltv)/i],[D,[N,qo],[L,Ae]],[/droid.+aft(\w+)( bui|\))/i],[D,[N,_i],[L,Ae]],[/(shield \w+ tv)/i],[D,[N,$o],[L,Ae]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[D,[N,nf],[L,Ae]],[/(bravia[\w ]+)( bui|\))/i],[D,[N,ha],[L,Ae]],[/(mi(tv|box)-?\w+) bui/i],[D,[N,Uo],[L,Ae]],[/Hbbtv.*(technisat) (.*);/i],[N,D,[L,Ae]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[N,/.+\/(\w+)/,"$1",Ut,{LG:"lge"}],[D,ds],[L,Ae]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[D,[L,Ae]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:|large screen[\w ]+safari)\b/i],[[L,Ae]],[/(playstation \w+)/i],[D,[N,ha],[L,ba]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[D,[N,No],[L,ba]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i],[N,D,[L,ba]],[/droid.+; (shield)( bui|\))/i],[D,[N,$o],[L,ba]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[D,[N,da],[L,Mt]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[N,D,[L,Mt]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[D,[N,Mo],[L,Mt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[D,[N,xr],[L,Mt]],[/(opwwe\d{3})/i],[D,[N,tf],[L,Mt]],[/(moto 360)/i],[D,[N,Fo],[L,Mt]],[/(smartwatch 3)/i],[D,[N,ha],[L,Mt]],[/(g watch r)/i],[D,[N,ji],[L,Mt]],[/droid.+; (wt63?0{2,3})\)/i],[D,[N,zo],[L,Mt]],[/droid.+; (glass) \d/i],[D,[N,$n],[L,wi]],[/(pico) (4|neo3(?: link|pro)?)/i],[N,D,[L,wi]],[/(quest( \d| pro)?s?).+vr/i],[D,[N,qo],[L,wi]],[/mobile vr; rv.+firefox/i],[[L,wi]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[N,[L,wa]],[/(aeobc)\b/i],[D,[N,_i],[L,wa]],[/(homepod).+mac os/i],[D,[N,xr],[L,wa]],[/windows iot/i],[[L,wa]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[D,[L,Ut,{mobile:"Mobile",xr:"VR","*":we}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[L,we]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[L,ie]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[D,[N,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[$,[F,Vi+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[F,$],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[$,[F,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[F,$],[/ladybird\//i],[[F,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[$,F]],os:[[/(windows nt) (6\.[23]); arm/i],[[F,/N/,"R"],[$,Ut,of]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[F,$],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[$,/(;|\))/g,"",Ut,of],[F,wc]],[/(windows ce)\/?([\d\.]*)/i],[F,$],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[$,/_/g,"."],[F,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[F,"macOS"],[$,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[$,[F,fn+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[$,[F,fn+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[$,[F,fn+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[$,[F,fn+" Linux"]],[/crkey\/([\d\.]+)/i],[$,[F,fn]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[$,F],[/(ubuntu) ([\w\.]+) like android/i],[[F,/(.+)/,"$1 Touch"],$],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[F,$],[/\(bb(10);/i],[$,[F,Xh]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[$,[F,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[$,[F,fa+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[$,[F,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[$,Ut,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[F,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[$,[F,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[F,"Chrome OS"],$],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[F,$],[/(sunos) ?([\d\.]*)/i],[[F,"Solaris"],$],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[F,$]]},Si=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Qt.call(e.init,[[ot,[F,$,$a,L]],[Zt,[lt]],[zt,[L,D,N]],[Tt,[F,$]],[wt,[F,$]]]),Qt.call(e.isIgnore,[[ot,[$,$a]],[Tt,[$]],[wt,[$]]]),Qt.call(e.isIgnoreRgx,[[ot,/ ?browser$/i],[wt,/ ?os$/i]]),Qt.call(e.toString,[[ot,[F,$]],[Zt,[lt]],[zt,[N,D]],[Tt,[F,$]],[wt,[F,$]]]),e}(),N1=function(e,t){var n=Si.init[t],r=Si.isIgnore[t]||0,a=Si.isIgnoreRgx[t]||0,s=Si.toString[t]||0;function o(){Qt.call(this,n)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return wn?wn.getHighEntropyValues(gx).then(function(l){return e.setCH(new xx(l,!1)).parseCH().get()}):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=Sr&&(o.prototype.is=function(l){var c=!1;for(var u in this)if(this.hasOwnProperty(u)&&!_c(r,u)&&Xt(a?Pr(a,this[u]):this[u])==Xt(a?Pr(a,l):l)){if(c=!0,l!=jn)break}else if(l==jn&&c){c=!c;break}return c},o.prototype.toString=function(){var l=kr;for(var c in s)typeof this[s[c]]!==jn&&(l+=(l?" ":kr)+this[s[c]]);return l||jn}),wn||(o.prototype.then=function(l){var c=this,u=function(){for(var h in c)c.hasOwnProperty(h)&&(this[h]=c[h])};u.prototype={is:o.prototype.is,toString:o.prototype.toString};var d=new u;return l(d),d}),new o};function xx(e,t){if(e=e||{},Qt.call(this,gx),t)Qt.call(this,[[Eu,Ho(e[Pn])],[Tu,Ho(e[R1])],[ie,/\?1/.test(e[k1])],[D,ga(e[L1])],[Cr,ga(e[mx])],[Iu,ga(e[P1])],[lt,ga(e[E1])],[qn,Ho(e[I1])],[$s,ga(e[T1])]]);else for(var n in e)this.hasOwnProperty(n)&&typeof e[n]!==jn&&(this[n]=e[n])}function uf(e,t,n,r){return this.get=function(a){return a?this.data.hasOwnProperty(a)?this.data[a]:void 0:this.data},this.set=function(a,s){return this.data[a]=s,this},this.setCH=function(a){return this.uaCH=a,this},this.detectFeature=function(){if(ct&&ct.userAgent==this.ua)switch(this.itemType){case ot:ct.brave&&typeof ct.brave.isBrave==cs&&this.set(F,"Brave");break;case zt:!this.get(L)&&wn&&wn[ie]&&this.set(L,ie),this.get(D)=="Macintosh"&&ct&&typeof ct.standalone!==jn&&ct.maxTouchPoints&&ct.maxTouchPoints>2&&this.set(D,"iPad").set(L,we);break;case wt:!this.get(F)&&wn&&wn[Cr]&&this.set(F,wn[Cr]);break;case Sr:var a=this.data,s=function(o){return a[o].getItem().detectFeature().get()};this.set(ot,s(ot)).set(Zt,s(Zt)).set(zt,s(zt)).set(Tt,s(Tt)).set(wt,s(wt))}return this},this.parseUA=function(){return this.itemType!=Sr&&Vo.call(this.data,this.ua,this.rgxMap),this.itemType==ot&&this.set($a,Bo(this.get($))),this},this.parseCH=function(){var a=this.uaCH,s=this.rgxMap;switch(this.itemType){case ot:case Tt:var o=a[Tu]||a[Eu],l;if(o)for(var c in o){var u=o[c].brand||o[c],d=o[c].version;this.itemType==ot&&!/not.a.brand/i.test(u)&&(!l||/Chrom/.test(l)&&u!=af||l==Vi&&/WebView2/.test(u))&&(u=Ut(u,D1),l=this.get(F),l&&!/Chrom/.test(l)&&/Chrom/.test(u)||this.set(F,u).set($,d).set($a,Bo(d)),l=u),this.itemType==Tt&&u==af&&this.set($,d)}break;case Zt:var h=a[lt];h&&(h&&a[$s]=="64"&&(h+="64"),Vo.call(this.data,h+";",s));break;case zt:if(a[ie]&&this.set(L,ie),a[D]&&(this.set(D,a[D]),!this.get(L)||!this.get(N))){var f={};Vo.call(f,"droid 9; "+a[D]+")",s),!this.get(L)&&f.type&&this.set(L,f.type),!this.get(N)&&f.vendor&&this.set(N,f.vendor)}if(a[qn]){var m;if(typeof a[qn]!="string")for(var p=0;!m&&p<a[qn].length;)m=Ut(a[qn][p++],lf);else m=Ut(a[qn],lf);this.set(L,m)}break;case wt:var g=a[Cr];if(g){var x=a[Iu];g==wc&&(x=parseInt(Bo(x),10)>=13?"11":"10"),this.set(F,g).set($,x)}this.get(F)==wc&&a[D]=="Xbox"&&this.set(F,"Xbox").set($,void 0);break;case Sr:var y=this.data,j=function(b){return y[b].getItem().setCH(a).parseCH().get()};this.set(ot,j(ot)).set(Zt,j(Zt)).set(zt,j(zt)).set(Tt,j(Tt)).set(wt,j(wt))}return this},Qt.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",n],["data",N1(this,e)]]),this}function Pt(e,t,n){if(typeof e===Lr?(us(e,!0)?(typeof t===Lr&&(n=t),t=e):(n=e,t=void 0),e=void 0):typeof e===bc&&!us(t,!0)&&(n=t,t=void 0),n&&typeof n.append===cs){var r={};n.forEach(function(c,u){r[u]=c}),n=r}if(!(this instanceof Pt))return new Pt(e,t,n).getResult();var a=typeof e===bc?e:n&&n[Gh]?n[Gh]:ct&&ct.userAgent?ct.userAgent:kr,s=new xx(n,!0),o=t?O1(cf,t):cf,l=function(c){return c==Sr?function(){return new uf(c,a,o,s).set("ua",a).set(ot,this.getBrowser()).set(Zt,this.getCPU()).set(zt,this.getDevice()).set(Tt,this.getEngine()).set(wt,this.getOS()).get()}:function(){return new uf(c,a,o[c],s).parseUA().get()}};return Qt.call(this,[["getBrowser",l(ot)],["getCPU",l(Zt)],["getDevice",l(zt)],["getEngine",l(Tt)],["getOS",l(wt)],["getResult",l(Sr)],["getUA",function(){return a}],["setUA",function(c){return Br(c)&&(a=c.length>vc?ds(c,vc):c),this}]]).setUA(a),this}Pt.VERSION=C1;Pt.BROWSER=Ms([F,$,$a,L]);Pt.CPU=Ms([lt]);Pt.DEVICE=Ms([D,N,L,ba,ie,Ae,we,Mt,wa]);Pt.ENGINE=Pt.OS=Ms([F,$]);const kn=e=>{const{browser:t}=Pt(e);return t.name&&t.version?`${t.name} | ${t.version}`:null},or=e=>{const{os:t}=Pt(e);return t.name&&t.version?`${t.name} | ${t.version}`:null},Xa=e=>{const{device:t}=Pt(e);return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},F1=e=>i.jsx(mn,{column:3,items:[{key:"user",label:"用户",children:i.jsx(P,{direction:"vertical",children:i.jsx(Er,{title:"用户数据",placement:"right",content:i.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:i.jsxs("span",{children:[i.jsx(ee,{text:e.author?.name,placeholder:"未知用户"}),"（",Ru(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:i.jsx(Vt,{icon:ls(e.vote_type).icon,color:e.vote_type===Cu.Upvote?"green":"red",children:i.jsx("strong",{children:ls(e.vote_type).name})})},{key:"browser",label:"浏览器",children:i.jsx(ee,{text:kn(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:i.jsx(ee,{text:Ne(e.created_at)})},{key:"os",label:"系统",children:i.jsx(ee,{text:or(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:i.jsx(sr,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:i.jsx(ee,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]}),$1=e=>{const t=me(),n=me(),r=re([]),a=it(null),s=it(Xn.Desc),o=gt(()=>a.value?a.value.current_page<a.value.total_page:!1),l=async(c=1)=>{const u=c===1,d=u?t:n;u&&(r.value=[],a.value=null);const h={page:c,per_page:50,target_type:wr.Post,target_id:e.articleId,sort:s.value},f=await d.promise(fx(h));u?(r.value=f.data,a.value=f.pagination):(r.value.push(...f.data),a.value=f.pagination)};return je(()=>l()),i.jsxs(gs,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnHidden:!0,open:e.open,onClose:e.onClose,extra:i.jsxs(P.Compact,{children:[i.jsx(ir,{disabled:t.state.value||n.state.value,value:s.value,onChange:c=>{s.value=c,l()}}),i.jsx(U,{icon:i.jsx(Qe,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"})]}),children:[i.jsx(rn,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:c=>i.jsx(rn.Item,{children:F1(c)})}),i.jsx("br",{}),i.jsx(fe,{justify:"center",children:i.jsx(U,{style:{width:240},icon:i.jsx(Ln,{}),loading:n.state.value,disabled:!o.value,onClick:()=>l(a.value?.current_page+1),children:o.value?"加载更多":"没有更多"})})]})},Qa="/comment",M1=e=>Jg.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function yx(e={}){return X.get(Qa,{params:e}).then(t=>t.result)}function U1(e){return X.put(`${Qa}/${e._id}`,e).then(t=>t.result)}function z1(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return X.patch(Qa,r).then(a=>a.result)}function q1(e,t){return X.delete(Qa,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function H1(e){return X.put(`${Qa}/${e}/ip_location`).then(t=>t.result)}const B1=e=>{const t=me(),n=me(),r=re([]),a=it(null),s=it(Qn.Desc),o=gt(()=>a.value?a.value.current_page<a.value.total_page:!1),l=gt(()=>M1(r.value)),c=async(u=1)=>{const d=u===1,h=d?t:n;d&&(r.value=[],a.value=null);const f={page:u,per_page:50,post_id:e.articleId,sort:s.value},m=await h.promise(yx(f));d?(r.value=m.data,a.value=m.pagination):(r.value.push(...m.data),a.value=m.pagination)};return je(()=>c()),i.jsxs(gs,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnHidden:!0,open:e.open,onClose:e.onClose,extra:i.jsx(ir,{withHot:!0,disabled:t.state.value||n.state.value,value:s.value,onChange:u=>{s.value=u,c()}}),footer:i.jsxs(fe,{justify:"space-between",align:"bottom",children:[i.jsx(U,{size:"small",icon:i.jsx(Qe,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"}),i.jsx(U,{size:"small",type:"primary",icon:i.jsx(Ua,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:l.value,loading:n.state.value}),i.jsx(se,{}),i.jsx(fe,{justify:"center",children:i.jsx(U,{style:{width:240},icon:i.jsx(Ln,{}),loading:n.state.value,disabled:!o.value,onClick:()=>c(a.value?.current_page+1),children:o.value?"加载更多":"没有更多"})})]})},V1=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},K1=(e,t)=>e.length?V1(e)[t]:void 0,vx=e=>K1(e,"disqus-author-username"),Y1=e=>`https://www.gravatar.com/avatar/${e}`,W1=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,G1=e=>{if(e.author.email_hash)return Y1(e.author.email_hash);const t=vx(e.extends);return t?W1(t):""},J1="_commentContent_9dq3k_1",Z1="_avatarBadge_9dq3k_5",X1="_avatarBadgeIconWrapper_9dq3k_5",Q1="_avatarBadgeIcon_9dq3k_5",Ki={commentContent:J1,avatarBadge:Z1,avatarBadgeIconWrapper:X1,avatarBadgeIcon:Q1},ku=e=>{const t=!!vx(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return i.jsx(yp,{className:Ki.avatarBadge,title:n,count:i.jsx(Er,{placement:"right",content:n,children:i.jsx("span",{className:Ki.avatarBadgeIconWrapper,children:i.jsx("img",{className:Ki.avatarBadgeIcon,src:Ds(r)})})}),children:i.jsx(Fc,{shape:"square",size:e.size,src:G1(e.comment)})})},bx=e=>i.jsx(rn,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>i.jsx(rn.Item,{children:i.jsxs(fe,{align:"flex-start",gap:"large",children:[i.jsx("div",{style:{marginTop:"var(--app-padding)"},children:i.jsx(ku,{size:"large",comment:t})}),i.jsxs(P,{direction:"vertical",style:{flex:1},children:[i.jsxs(fe,{justify:"space-between",children:[i.jsxs("div",{children:[t.author.site?i.jsx(H.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):i.jsx(H.Text,{strong:!0,children:t.author.name}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{type:"secondary",children:i.jsx(sr,{data:t.ip_location},"ip-location")}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{type:"secondary",children:Ne(t.created_at)})]}),i.jsx(Vt,{color:Ta(t.state).color,icon:Ta(t.state).icon,children:Ta(t.state).name})]}),i.jsx(H.Paragraph,{style:{margin:0},children:t.content}),i.jsxs(P,{children:[i.jsxs(H.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?i.jsx(Dy,{}):i.jsx(nr,{})," ",t.likes]}),i.jsxs(H.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?i.jsx(Ny,{}):i.jsx(Or,{})," ",t.dislikes]}),i.jsx(ee,{type:"secondary",placeholder:"未知浏览器",small:!0,text:kn(t.agent)}),i.jsx(ee,{type:"secondary",placeholder:"未知系统",small:!0,text:or(t.agent)})]}),t.children?.length?i.jsx(bx,{comments:t.children||[]}):""]})]})})}),eE=()=>{const{article_id:e}=Q_(),t=Mu.articleDetail(e),n=cn(),r=me(),a=me(),s=re(null),o=re(!1),l=re(!1),c=async()=>{try{const f=await r.promise(Kg(e)),m=PR(t);m&&m!==f.content?_e.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){s.value={...f,content:m||""}},onCancel(){s.value=f}}):s.value=f}catch(f){_e.error({centered:!0,title:"文章请求失败",content:String(f.message)})}},u=f=>a.promise(rR(f)).then(m=>{s.value=m,st(document.body)}),d=()=>{_e.confirm({title:`你确定要彻底删除文章《${s.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>a.promise(aR([s.value?._id])).then(()=>{n(Xe[pe.ArticleList]),st(document.body)})})},h=()=>{n({pathname:Xe[pe.Comment],search:`post_id=${s.value?.id}`})};return je(()=>c()),i.jsxs(i.Fragment,{children:[i.jsx(dx,{article:s.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:f=>u(f),mainFormExtraItems:[{label:"ID",content:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{children:s.value?.id??"-"}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{children:s.value?._id??"-"})]})}],mainCardExtra:i.jsxs(P,{size:"small",wrap:!0,children:[i.jsxs(P.Compact,{size:"small",children:[i.jsx(In,{title:DC(s.value?.meta?.views??0),children:i.jsxs(U,{icon:i.jsx(Ic,{}),loading:r.state.value,children:[gu(s.value?.meta?.views??0)," 阅读"]})}),i.jsxs(U,{icon:i.jsx(kc,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>l.value=!0,children:[s.value?.meta?.likes??""," 喜欢"]}),i.jsxs(U,{icon:i.jsx(Ma,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[s.value?.meta?.comments??""," 评论"]})]}),i.jsx(se,{type:"vertical"}),i.jsx(In,{title:is(s.value?.id),children:i.jsx(U,{size:"small",type:"dashed",target:"_blank",icon:i.jsx(Ua,{}),loading:r.state.value,disabled:r.state.value,href:is(s.value?.id),children:"打开"})}),i.jsx(se,{type:"vertical"}),i.jsx(U,{type:"dashed",size:"small",danger:!0,icon:i.jsx(ze,{}),disabled:r.state.value,onClick:()=>Rn.warning("双击执行删除操作"),onDoubleClick:d,children:"删除文章"})]})}),s.value&&i.jsxs(i.Fragment,{children:[i.jsx($1,{width:"48rem",open:l.value,likeCount:s.value.meta.likes,articleId:s.value.id,onClose:()=>l.value=!1}),i.jsx(B1,{width:"68rem",open:o.value,commentCount:s.value.meta.comments,articleId:s.value.id,renderTreeList:({comments:f,loading:m})=>i.jsx(bx,{comments:f,loading:m}),onClose:()=>o.value=!1,onNavigate:h})]})]})},tE=()=>{const e=cn(),t=me(),n=r=>t.promise(nR(r)).then(a=>{e(Mu.articleDetail(a._id)),st(document.body)});return i.jsx(dx,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},ei="/announcement";function nE(e={}){return X.get(ei,{params:e}).then(t=>t.result)}function rE(e){return X.post(ei,e).then(t=>t.result)}function aE(e){return X.put(`${ei}/${e._id}`,e).then(t=>t.result)}function iE(e){return X.delete(`${ei}/${e}`).then(t=>t.result)}function sE(e){return X.delete(ei,{data:{announcement_ids:e}}).then(t=>t.result)}var wx=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(wx||{});const Lu=[{id:0,name:"未发布",icon:i.jsx(Ke,{}),color:"orange"},{id:1,name:"已发布",icon:i.jsx(St,{}),color:"green"}],oE=new Map(Lu.map(e=>[e.id,e])),lE=e=>oE.get(e),Pu="ALL",df={state:Pu,sort:Xn.Desc},cE=e=>({state:e.state!==Pu?e.state:void 0,sort:e.sort}),uE=e=>{const{i18n:t}=He();return i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(ve,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:Pu},...Lu.map(n=>({value:n.id,label:i.jsxs(P,{size:"small",children:[n.icon,n.name]})}))]}),i.jsx(ir,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),i.jsx(ue.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{a?.source==="input"&&e.onKeywordSearch()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),i.jsx(P,{children:e.extra})]})},dE=e=>i.jsx(sn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(t,n)=>Ne(n.created_at)},{title:"状态",width:120,dataIndex:"state",render:(t,n)=>{const r=lE(n.state);return i.jsx(Vt,{icon:r.icon,color:r.color,children:r.name})}},{title:"操作",width:160,dataIndex:"actions",render:(t,n,r)=>i.jsxs(P.Compact,{size:"small",children:[i.jsx(U,{type:"text",icon:i.jsx(Ke,{}),onClick:()=>e.onEdit(n,r),children:"编辑"}),i.jsx(U,{type:"text",danger:!0,icon:i.jsx(ze,{}),onClick:()=>e.onDelete(n,r),children:"删除"})]})}]}),hE={labelCol:{span:4},wrapperCol:{span:19}},fE=e=>{const[t]=A.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return v.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),i.jsx(_e,{width:e.width,centered:!0,forceRender:!0,destroyOnHidden:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:i.jsxs(A,{...hE,colon:!1,form:t,children:[e.initData&&i.jsxs(i.Fragment,{children:[i.jsx(A.Item,{label:"ID",children:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{copyable:!0,children:e.initData.id}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{copyable:!0,children:e.initData._id})]})}),i.jsx(A.Item,{label:"发布于",children:Ne(e.initData.created_at)}),i.jsx(A.Item,{label:"最后修改于",children:Ne(e.initData.updated_at)})]}),i.jsx(A.Item,{label:"发布状态",name:"state",initialValue:wx.Published,rules:[{required:!0,message:"请选择状态"}],children:i.jsx(ve,{placeholder:"选择状态",options:Lu.map(r=>({value:r.id,label:i.jsxs(P,{size:"small",children:[r.icon,r.name]})}))})}),i.jsx(A.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(Ir,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},pE=()=>{const{i18n:e}=He(),t=me(),n=me(),r=on({data:[],pagination:void 0}),a=re(""),s=re({...df}),o=()=>{a.value="",s.value={...df}},l=re([]),c=re(!1),u=re(null),d=gt(()=>{const S=u.value;return S!==null?r.data[S]:null}),h=()=>{c.value=!1},f=S=>{u.value=S,c.value=!0},m=()=>{u.value=null,c.value=!0},p=S=>{const k={...S,...cE(s.value),keyword:a.value||void 0};t.promise(nE(k)).then(w=>{r.data=w.data,r.pagination=w.pagination,st(document.body)})},g=()=>{p({page:r.pagination?.current_page,per_page:r.pagination?.per_page})},x=S=>{n.promise(rE(S)).then(()=>{h(),g()})},y=S=>{const k={...d.value,...S};n.promise(aE(k)).then(()=>{h(),g()})},j=S=>{_e.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>iE(S).then(()=>{g()})})},b=S=>{_e.confirm({title:`确定要删除 ${S.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>sE(S).then(()=>{g()})})};return xt(()=>s.value,()=>p(),{deep:!0}),je(()=>{p()}),i.jsxs(ye,{variant:"borderless",title:e.t("page.announcement.list.title",{total:r.pagination?.total??"-"}),extra:i.jsx(U,{type:"primary",size:"small",icon:i.jsx(Ln,{}),onClick:m,children:"发布新公告"}),children:[i.jsx(uE,{loading:t.state.value,keyword:a.value,onKeywordChange:S=>a.value=S,onKeywordSearch:()=>p(),params:s.value,onParamsChange:S=>Object.assign(s.value,S),onResetRefresh:o,extra:i.jsx(zr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:i.jsx(ze,{}),onClick:()=>b(l.value)}]})}),i.jsx(se,{}),i.jsx(dE,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:S=>l.value=S,onEdit:(S,k)=>f(k),onDelete:S=>j(S._id),onPaginate:(S,k)=>p({page:S,per_page:k})}),i.jsx(fE,{width:680,title:d.value?"编辑公告":"新公告",open:c.value,submitting:n.state.value,initData:d.value,onCancel:h,onSubmit:S=>{d.value?y(S):x(S)}})]})},mE={labelCol:{span:5},wrapperCol:{span:18}},_a="null",gE={pid:_a,extends:[{name:"icon",value:"icon-category"}]},xE=e=>{const[t]=A.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===_a?null:r.pid})})};return v.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??_a})):(t.resetFields(),t.setFieldsValue({...gE}))},[e.initData,e.open]),i.jsx(_e,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:i.jsxs(A,{...mE,colon:!1,form:t,children:[e.initData&&i.jsxs(i.Fragment,{children:[i.jsx(A.Item,{label:"ID",children:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{copyable:!0,children:e.initData.id}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{copyable:!0,children:e.initData._id})]})}),i.jsx(A.Item,{label:"创建于",children:Ne(e.initData.created_at)}),i.jsx(A.Item,{label:"最后修改于",children:Ne(e.initData.updated_at)})]}),i.jsx(A.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue,{placeholder:"分类名称"})}),i.jsx(A.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue,{placeholder:"分类别名"})}),i.jsx(A.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){return a===_a?Promise.resolve():a===e.initData?._id?Promise.reject():Promise.resolve()}}],children:i.jsx(xp,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:_a},...e.selectTree]})}),i.jsx(A.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue.TextArea,{rows:4,placeholder:"分类描述"})}),i.jsx(A.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:i.jsx(Za,{fieldName:"extends"})})]})})},yE="_categoryTreeNode_1cgqs_1",vE="_levelIcon_1cgqs_11",Ko={categoryTreeNode:yE,levelIcon:vE},_x=e=>i.jsx(rn,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>i.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[i.jsxs(fe,{justify:"space-between",align:"start",className:Ko.categoryTreeNode,children:[e.level&&i.jsx("div",{className:Ko.levelIcon,children:i.jsx(Fy,{})}),i.jsxs(P,{direction:"vertical",children:[i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{strong:!0,children:t.name}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{type:"secondary",children:t.slug}),i.jsx(se,{type:"vertical"}),i.jsxs(H.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),i.jsx(ee,{type:"secondary",text:t.description})]}),i.jsxs("div",{className:Ko.actions,children:[i.jsx(U,{size:"small",type:"text",icon:i.jsx(Ke,{}),onClick:()=>e.onEdit(t),children:"编辑"}),i.jsx(se,{type:"vertical"}),i.jsx(U,{size:"small",type:"text",danger:!0,icon:i.jsx(ze,{}),onClick:()=>e.onDelete(t),children:"删除"}),i.jsx(se,{type:"vertical"}),i.jsx(U,{size:"small",icon:i.jsx(Ua,{}),type:"link",target:"_blank",href:LC(t.slug),children:"查看"})]})]}),t.children?.length?i.jsx(_x,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}),bE=()=>{const{i18n:e}=He(),t=me(),n=me(),r=it([]),a=it([]),s=re(!1),o=re(null),l=gt(()=>o.value?a.value.find(g=>g._id===o.value):null),c=()=>{s.value=!1},u=g=>{o.value=g,s.value=!0},d=()=>{s.value=!0,o.value=null},h=()=>t.promise(wu()).then(g=>{a.value=g.list,r.value=g.tree}),f=g=>{n.promise(fR(g)).then(()=>{c(),h()})},m=g=>{const x={...l.value,...g};n.promise(pR(x)).then(()=>{c(),h()})},p=g=>{_e.confirm({title:`确定要删除分类「 ${g.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>mR(g._id).then(()=>{h()})})};return je(()=>h()),i.jsxs(ye,{variant:"borderless",title:e.t("page.category.list.title",{total:a.value?.length??"-"}),extra:i.jsx(U,{type:"primary",size:"small",icon:i.jsx(Ln,{}),onClick:d,children:"创建新分类"}),children:[i.jsx(P,{children:i.jsx(U,{icon:i.jsx(Qe,{}),loading:t.state.value,onClick:()=>h(),children:e.t("common.list.filter.refresh")})}),i.jsx(se,{}),i.jsx(_x,{tree:r.value,loading:t.state.value,onEdit:g=>u(g._id),onDelete:g=>p(g)}),i.jsx(xE,{width:680,title:l.value?"编辑分类":"新分类",open:s.value,submitting:n.state.value,initData:l.value,onCancel:()=>c(),onSubmit:g=>{l.value?m(g):f(g)},selectTree:_u({tree:r.value,valuer:g=>g._id,disabledWhen:g=>g._id===l.value?._id?!0:g.pid===l.value?._id})})]})},wE=e=>{const{i18n:t}=He();return i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(ue.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{a?.source==="input"&&e.onKeywordSearch()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),i.jsx(P,{children:e.extra})]})},_E=e=>i.jsx(sn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(t,n,r)=>i.jsxs(P.Compact,{size:"small",children:[i.jsx(U,{type:"text",icon:i.jsx(Ke,{}),onClick:()=>e.onEdit(n,r),children:"编辑"}),i.jsx(U,{type:"text",danger:!0,icon:i.jsx(ze,{}),onClick:()=>e.onDelete(n,r),children:"删除"}),i.jsx(U,{type:"link",target:"_blank",icon:i.jsx(Ua,{}),href:kC(n.slug),children:"查看"})]})}]}),jE={labelCol:{span:5},wrapperCol:{span:18}},SE={extends:[{name:"icon",value:"icon-tag"}]},CE=e=>{const[t]=A.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return v.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??SE)},[e.initData,e.open]),i.jsx(_e,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:i.jsxs(A,{...jE,colon:!1,form:t,children:[e.initData&&i.jsxs(i.Fragment,{children:[i.jsx(A.Item,{label:"ID",children:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{copyable:!0,children:e.initData?.id}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{copyable:!0,children:e.initData?._id})]})}),i.jsx(A.Item,{label:"创建于",children:Ne(e.initData?.created_at)}),i.jsx(A.Item,{label:"最后修改于",children:Ne(e.initData?.updated_at)})]}),i.jsx(A.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue,{placeholder:"标签名称"})}),i.jsx(A.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue,{placeholder:"标签别名"})}),i.jsx(A.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue.TextArea,{rows:4,placeholder:"标签描述"})}),i.jsx(A.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:i.jsx(Za,{fieldName:"extends"})})]})})},RE=()=>{const{i18n:e}=He(),t=me(),n=me(),r=on({data:[],pagination:void 0}),a=re(""),s=re([]),o=re(!1),l=re(null),c=gt(()=>{const b=l.value;return b!==null?r.data[b]:null}),u=()=>{o.value=!1},d=b=>{l.value=b,o.value=!0},h=()=>{l.value=null,o.value=!0},f=b=>{const S={...b,keyword:a.value||void 0};t.promise(oR(S)).then(k=>{r.data=k.data,r.pagination=k.pagination,st(document.body)})},m=()=>{f({page:r.pagination?.current_page,per_page:r.pagination?.per_page})},p=b=>{n.promise(lR(b)).then(()=>{u(),m()})},g=b=>{const S={...c.value,...b};n.promise(cR(S)).then(()=>{u(),m()})},x=b=>{_e.confirm({title:`确定要删除标签「 ${b.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>uR(b._id).then(()=>{m()})})},y=b=>{_e.confirm({title:`确定要删除 ${b.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>dR(b).then(()=>{m()})})},j=()=>{a.value="",f()};return je(()=>{f()}),i.jsxs(ye,{variant:"borderless",title:e.t("page.tag.list.title",{total:r.pagination?.total??"-"}),extra:i.jsx(U,{type:"primary",size:"small",icon:i.jsx(Ln,{}),onClick:h,children:"创建新标签"}),children:[i.jsx(wE,{loading:t.state.value,keyword:a.value,onKeywordChange:b=>a.value=b,onKeywordSearch:()=>f(),onResetRefresh:j,extra:i.jsx(zr,{text:"批量操作",disabled:!s.value.length,options:[{label:"批量删除",icon:i.jsx(ze,{}),onClick:()=>y(s.value)}]})}),i.jsx(se,{}),i.jsx(_E,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:s.value,onSelect:b=>s.value=b,onPaginate:(b,S)=>f({page:b,per_page:S}),onEdit:(b,S)=>d(S),onDelete:b=>x(b)}),i.jsx(CE,{width:680,title:c.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:c.value,onCancel:u,onSubmit:b=>c.value?g(b):p(b)})]})},jx="%[a-f0-9]{2}",hf=new RegExp("("+jx+")|([^%]+?)","gi"),ff=new RegExp("("+jx+")+","gi");function jc(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],jc(n),jc(r))}function EE(e){try{return decodeURIComponent(e)}catch{let t=e.match(hf)||[];for(let n=1;n<t.length;n++)e=jc(t,n).join(""),t=e.match(hf)||[];return e}}function TE(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=ff.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=EE(n[0]);a!==n[0]&&(t[n[0]]=a)}n=ff.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function IE(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return TE(e)}}function kE(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a?.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const s=e[r];t(r,s,e)&&Object.defineProperty(n,r,a)}}return n}function Sx(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const LE=e=>e==null,PE=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Sc=Symbol("encodeFragmentIdentifier");function AE(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),"[",a,"]"].join("")]:[...n,[Oe(t,e),"[",Oe(a,e),"]=",Oe(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),"[]"].join("")]:[...n,[Oe(t,e),"[]=",Oe(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),":list="].join("")]:[...n,[Oe(t,e),":list=",Oe(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[Oe(n,e),t,Oe(a,e)].join("")]:[[r,Oe(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Oe(t,e)]:[...n,[Oe(t,e),"=",Oe(r,e)].join("")]}}function OE(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const s=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!s&&Jt(r,e).includes(e.arrayFormatSeparator);r=o?Jt(r,e):r;const l=s||o?r.split(e.arrayFormatSeparator).map(c=>Jt(c,e)):r===null?r:Jt(r,e);a[n]=l};case"bracket-separator":return(n,r,a)=>{const s=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!s){a[n]=r&&Jt(r,e);return}const o=r===null?[]:Jt(r,e).split(e.arrayFormatSeparator);if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function Cx(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Oe(e,t){return t.encode?t.strict?PE(e):encodeURIComponent(e):e}function Jt(e,t){return t.decode?IE(e):e}function Rx(e){return Array.isArray(e)?e.sort():typeof e=="object"?Rx(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function Ex(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function DE(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function pf(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):n==="boolean"&&e===null?!0:n==="boolean"&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="boolean"&&e!==null&&(e.toLowerCase()==="1"||e.toLowerCase()==="0")?e.toLowerCase()==="1":n==="string[]"&&t.arrayFormat!=="none"&&typeof e=="string"?[e]:n==="number[]"&&t.arrayFormat!=="none"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?[Number(e)]:n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function Au(e){e=Ex(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Ou(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},Cx(t.arrayFormatSeparator);const n=OE(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const s=t.decode?a.replaceAll("+"," "):a;let[o,l]=Sx(s,"=");o===void 0&&(o=s),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:Jt(l,t),n(Jt(o,t),l,r)}for(const[a,s]of Object.entries(r))if(typeof s=="object"&&s!==null&&t.types[a]!=="string")for(const[o,l]of Object.entries(s)){const c=t.types[a]?t.types[a].replace("[]",""):void 0;s[o]=pf(l,t,c)}else typeof s=="object"&&s!==null&&t.types[a]==="string"?r[a]=Object.values(s).join(t.arrayFormatSeparator):r[a]=pf(s,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,s)=>{const o=r[s];return a[s]=o&&typeof o=="object"&&!Array.isArray(o)?Rx(o):o,a},Object.create(null))}function Tx(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Cx(t.arrayFormatSeparator);const n=o=>t.skipNull&&LE(e[o])||t.skipEmptyString&&e[o]==="",r=AE(t),a={};for(const[o,l]of Object.entries(e))n(o)||(a[o]=l);const s=Object.keys(a);return t.sort!==!1&&s.sort(t.sort),s.map(o=>{const l=e[o];return l===void 0?"":l===null?Oe(o,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?Oe(o,t)+"[]":l.reduce(r(o),[]).join("&"):Oe(o,t)+"="+Oe(l,t)}).filter(o=>o.length>0).join("&")}function Ix(e,t){t={decode:!0,...t};let[n,r]=Sx(e,"#");return n===void 0&&(n=e),{url:n?.split("?")?.[0]??"",query:Ou(Au(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Jt(r,t)}:{}}}function kx(e,t){t={encode:!0,strict:!0,[Sc]:!0,...t};const n=Ex(e.url).split("?")[0]||"",r=Au(e.url),a={...Ou(r,{sort:!1,...t}),...e.query};let s=Tx(a,t);s&&=`?${s}`;let o=DE(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(n);l.hash=e.fragmentIdentifier,o=t[Sc]?l.hash:`#${e.fragmentIdentifier}`}return`${n}${s}${o}`}function Lx(e,t,n){n={parseFragmentIdentifier:!0,[Sc]:!1,...n};const{url:r,query:a,fragmentIdentifier:s}=Ix(e,n);return kx({url:r,query:kE(a,t),fragmentIdentifier:s},n)}function NE(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,s)=>!t(a,s);return Lx(e,r,n)}const FE=Object.freeze(Object.defineProperty({__proto__:null,exclude:NE,extract:Au,parse:Ou,parseUrl:Ix,pick:Lx,stringify:Tx,stringifyUrl:kx},Symbol.toStringTag,{value:"Module"}));var Yo,mf;function $E(){if(mf)return Yo;mf=1;var e=ju(),t=Fs(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==r||c==a||c==n||c==s}return Yo=o,Yo}var Wo,gf;function ME(){if(gf)return Wo;gf=1;var e=Ja(),t=e["__core-js_shared__"];return Wo=t,Wo}var Go,xf;function UE(){if(xf)return Go;xf=1;var e=ME(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Go=n,Go}var Jo,yf;function zE(){if(yf)return Jo;yf=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Jo=n,Jo}var Zo,vf;function qE(){if(vf)return Zo;vf=1;var e=$E(),t=UE(),n=Fs(),r=zE(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||t(f))return!1;var m=e(f)?d:s;return m.test(r(f))}return Zo=h,Zo}var Xo,bf;function HE(){if(bf)return Xo;bf=1;function e(t,n){return t?.[n]}return Xo=e,Xo}var Qo,wf;function Du(){if(wf)return Qo;wf=1;var e=qE(),t=HE();function n(r,a){var s=t(r,a);return e(s)?s:void 0}return Qo=n,Qo}var el,_f;function Us(){if(_f)return el;_f=1;var e=Du(),t=e(Object,"create");return el=t,el}var tl,jf;function BE(){if(jf)return tl;jf=1;var e=Us();function t(){this.__data__=e?e(null):{},this.size=0}return tl=t,tl}var nl,Sf;function VE(){if(Sf)return nl;Sf=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return nl=e,nl}var rl,Cf;function KE(){if(Cf)return rl;Cf=1;var e=Us(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return r.call(o,s)?o[s]:void 0}return rl=a,rl}var al,Rf;function YE(){if(Rf)return al;Rf=1;var e=Us(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var s=this.__data__;return e?s[a]!==void 0:n.call(s,a)}return al=r,al}var il,Ef;function WE(){if(Ef)return il;Ef=1;var e=Us(),t="__lodash_hash_undefined__";function n(r,a){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&a===void 0?t:a,this}return il=n,il}var sl,Tf;function GE(){if(Tf)return sl;Tf=1;var e=BE(),t=VE(),n=KE(),r=YE(),a=WE();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,sl=s,sl}var ol,If;function JE(){if(If)return ol;If=1;function e(){this.__data__=[],this.size=0}return ol=e,ol}var ll,kf;function ZE(){if(kf)return ll;kf=1;function e(t,n){return t===n||t!==t&&n!==n}return ll=e,ll}var cl,Lf;function zs(){if(Lf)return cl;Lf=1;var e=ZE();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return cl=t,cl}var ul,Pf;function XE(){if(Pf)return ul;Pf=1;var e=zs(),t=Array.prototype,n=t.splice;function r(a){var s=this.__data__,o=e(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return ul=r,ul}var dl,Af;function QE(){if(Af)return dl;Af=1;var e=zs();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return dl=t,dl}var hl,Of;function eT(){if(Of)return hl;Of=1;var e=zs();function t(n){return e(this.__data__,n)>-1}return hl=t,hl}var fl,Df;function tT(){if(Df)return fl;Df=1;var e=zs();function t(n,r){var a=this.__data__,s=e(a,n);return s<0?(++this.size,a.push([n,r])):a[s][1]=r,this}return fl=t,fl}var pl,Nf;function nT(){if(Nf)return pl;Nf=1;var e=JE(),t=XE(),n=QE(),r=eT(),a=tT();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,pl=s,pl}var ml,Ff;function rT(){if(Ff)return ml;Ff=1;var e=Du(),t=Ja(),n=e(t,"Map");return ml=n,ml}var gl,$f;function aT(){if($f)return gl;$f=1;var e=GE(),t=nT(),n=rT();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return gl=r,gl}var xl,Mf;function iT(){if(Mf)return xl;Mf=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return xl=e,xl}var yl,Uf;function qs(){if(Uf)return yl;Uf=1;var e=iT();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return yl=t,yl}var vl,zf;function sT(){if(zf)return vl;zf=1;var e=qs();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return vl=t,vl}var bl,qf;function oT(){if(qf)return bl;qf=1;var e=qs();function t(n){return e(this,n).get(n)}return bl=t,bl}var wl,Hf;function lT(){if(Hf)return wl;Hf=1;var e=qs();function t(n){return e(this,n).has(n)}return wl=t,wl}var _l,Bf;function cT(){if(Bf)return _l;Bf=1;var e=qs();function t(n,r){var a=e(this,n),s=a.size;return a.set(n,r),this.size+=a.size==s?0:1,this}return _l=t,_l}var jl,Vf;function uT(){if(Vf)return jl;Vf=1;var e=aT(),t=sT(),n=oT(),r=lT(),a=cT();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=a,jl=s,jl}var Sl,Kf;function dT(){if(Kf)return Sl;Kf=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Sl=t,Sl}var Cl,Yf;function hT(){if(Yf)return Cl;Yf=1;function e(t){return this.__data__.has(t)}return Cl=e,Cl}var Rl,Wf;function fT(){if(Wf)return Rl;Wf=1;var e=uT(),t=dT(),n=hT();function r(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new e;++s<o;)this.add(a[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Rl=r,Rl}var El,Gf;function pT(){if(Gf)return El;Gf=1;function e(t,n,r,a){for(var s=t.length,o=r+(a?1:-1);a?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return El=e,El}var Tl,Jf;function mT(){if(Jf)return Tl;Jf=1;function e(t){return t!==t}return Tl=e,Tl}var Il,Zf;function gT(){if(Zf)return Il;Zf=1;function e(t,n,r){for(var a=r-1,s=t.length;++a<s;)if(t[a]===n)return a;return-1}return Il=e,Il}var kl,Xf;function xT(){if(Xf)return kl;Xf=1;var e=pT(),t=mT(),n=gT();function r(a,s,o){return s===s?n(a,s,o):e(a,t,o)}return kl=r,kl}var Ll,Qf;function yT(){if(Qf)return Ll;Qf=1;var e=xT();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return Ll=t,Ll}var Pl,ep;function vT(){if(ep)return Pl;ep=1;function e(t,n,r){for(var a=-1,s=t==null?0:t.length;++a<s;)if(r(n,t[a]))return!0;return!1}return Pl=e,Pl}var Al,tp;function bT(){if(tp)return Al;tp=1;function e(t,n){return t.has(n)}return Al=e,Al}var Ol,np;function wT(){if(np)return Ol;np=1;var e=Du(),t=Ja(),n=e(t,"Set");return Ol=n,Ol}var Dl,rp;function _T(){if(rp)return Dl;rp=1;function e(){}return Dl=e,Dl}var Nl,ap;function Px(){if(ap)return Nl;ap=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return Nl=e,Nl}var Fl,ip;function jT(){if(ip)return Fl;ip=1;var e=wT(),t=_T(),n=Px(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return Fl=a,Fl}var $l,sp;function ST(){if(sp)return $l;sp=1;var e=fT(),t=yT(),n=vT(),r=bT(),a=jT(),s=Px(),o=200;function l(c,u,d){var h=-1,f=t,m=c.length,p=!0,g=[],x=g;if(d)p=!1,f=n;else if(m>=o){var y=u?null:a(c);if(y)return s(y);p=!1,f=r,x=new e}else x=u?[]:g;e:for(;++h<m;){var j=c[h],b=u?u(j):j;if(j=d||j!==0?j:0,p&&b===b){for(var S=x.length;S--;)if(x[S]===b)continue e;u&&x.push(b),g.push(j)}else f(x,b,d)||(x!==g&&x.push(b),g.push(j))}return g}return $l=l,$l}var Ml,op;function CT(){if(op)return Ml;op=1;var e=ST();function t(n){return n&&n.length?e(n):[]}return Ml=t,Ml}var RT=CT();const lp=At(RT),ET="_input_1s5lo_1",TT={input:ET};function Nu(e){const t=v.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return i.jsxs(P.Compact,{className:Vn(e.className,e.rootClassName),style:e.style,size:e.size,children:[i.jsx(ve,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),i.jsx(ue.Search,{className:Vn(TT.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>e.onInputChange?.(n.target.value),onSearch:(n,r,a)=>{a?.source==="input"&&e.onInputSearch?.(n)}})]})}const Sn="ALL",Ci=Object.freeze({postId:Sn,state:Sn,sort:Qn.Desc}),IT=e=>({post_id:e.postId!==Sn?e.postId:void 0,state:e.state!==Sn?e.state:void 0,sort:e.sort}),kT=e=>i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(Nu,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):Sn;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===Sn?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:Sn,label:"全部评论"},{value:Fa,label:"留言评论"}]}),i.jsx(ve,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:Sn},...mu.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))]}),i.jsx(ir,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),i.jsx(ue.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{r?.source==="input"&&e.onKeywordSearch()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:i.jsx("span",{children:i.jsx(Nr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),i.jsx(P,{children:e.extra})]}),LT=e=>{const t=on({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async s=>{try{await H1(s),t.done.push(s)}catch{t.fail.push(s)}finally{t.todo=t.todo.slice().filter(o=>o!==s)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const s=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];Rn.info(s.join("，"))}},r=()=>{const a=e.comments.filter(s=>!!s.ip&&!s.ip_location?.region_code).map(s=>s._id);a.length?(t.todo.push(...a),n(),Rn.info(`开始任务，共 ${a.length} 条数据`)):Rn.info("没有需要修正的数据")};return i.jsxs(P,{wrap:!0,children:[i.jsxs(P.Compact,{children:[t.running&&i.jsxs(U,{size:"small",onClick:()=>{_e.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,i.jsx(se,{type:"vertical"}),"DONE: ",t.done.length,i.jsx(se,{type:"vertical"}),"FAIL: ",t.fail.length]}),i.jsx(U,{size:"small",icon:i.jsx(hs,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),i.jsx(U,{type:"primary",size:"small",target:"_blank",icon:i.jsx($y,{}),href:qg(),children:"去留言板"})]})},PT=e=>i.jsx(sn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(t,n){return i.jsx(U,{size:"small",onClick:()=>e.onClickPostId(n.post_id),children:n.post_id})}},{title:"评论内容",dataIndex:"content",render:(t,n)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(H.Paragraph,{className:Ki.commentContent,ellipsis:{rows:5,expandable:!0},children:n.content}),i.jsx(ee,{type:"secondary",text:Ne(n.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsxs(P,{children:[i.jsx(ku,{comment:n}),i.jsx(ee,{text:n.author.name})]}),i.jsxs(P,{direction:"vertical",size:"small",children:[i.jsx(ee,{placeholder:"Left blank",prefix:i.jsx(xs,{}),text:n.author.email,copyable:!0}),i.jsxs(P,{size:"small",children:[i.jsx(Rr,{}),i.jsx(Ga,{data:n.author.site,placeholder:"Left blank",children:r=>i.jsx(Er,{placement:"top",content:r,children:i.jsx(H.Link,{target:"_blank",rel:"noreferrer",href:r,children:"点击打开"})})})]})]})]})}},{title:"终端信息",dataIndex:"agent",minWidth:200,render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsx(ee,{prefix:i.jsx(hs,{}),text:n.ip,copyable:!0}),i.jsxs(P,{size:"small",children:[i.jsx(Cp,{}),i.jsx(sr,{data:n.ip_location})]}),i.jsxs(P,{size:"small",children:[i.jsx(Rp,{}),i.jsx(Er,{title:"终端信息",placement:"right",content:i.jsxs("div",{children:[i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"浏览器",text:kn(n.agent)})}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"系统",text:or(n.agent)})}),i.jsx("div",{children:i.jsx(ee,{prefix:"设备",text:Xa(n.agent)})})]}),children:kn(n.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(t,n)=>{const r=Ta(n.state);return i.jsxs(P,{direction:"vertical",children:[i.jsx(Vt,{icon:r.icon,color:r.color,children:r.name}),i.jsxs(Vt,{icon:i.jsx(nr,{}),color:n.likes>0?"processing":void 0,children:[n.likes," 个赞"]}),i.jsxs(Vt,{icon:i.jsx(Or,{}),color:n.dislikes>0?"gold":void 0,children:[n.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(t,n,r)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(Ke,{}),onClick:()=>e.onDetail(n,r),children:"评论详情"}),n.state===nt.Auditing&&i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(St,{}),onClick:()=>e.onUpdateState(n,nt.Published),children:i.jsx(H.Text,{type:"success",children:"审核通过"})}),n.state===nt.Published&&i.jsx(U,{size:"small",type:"text",block:!0,danger:!0,icon:i.jsx(fs,{}),onClick:()=>e.onUpdateState(n,nt.Spam),children:"标为垃圾"}),(n.state===nt.Auditing||n.state===nt.Published)&&i.jsx(U,{size:"small",type:"text",block:!0,danger:!0,icon:i.jsx(ze,{}),onClick:()=>e.onUpdateState(n,nt.Deleted),children:"移回收站"}),(n.state===nt.Deleted||n.state===nt.Spam)&&i.jsxs(i.Fragment,{children:[i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(Ke,{}),onClick:()=>e.onUpdateState(n,nt.Auditing),children:i.jsx(H.Text,{type:"warning",children:"退为草稿"})}),i.jsx(U,{size:"small",type:"text",danger:!0,block:!0,icon:i.jsx(ze,{}),onClick:()=>e.onDelete(n,r),children:"彻底删除"})]})]})}]}),AT=e=>{const[t]=A.useForm(),n=it(null),r=s=>{Kg(s).then(o=>{n.value=o})},a=()=>{t.validateFields().then(s=>{e.onSubmit(s)})};return je(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==Fa&&r(e.comment.post_id)}),i.jsxs(A,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[i.jsx(A.Item,{label:"ID",children:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{copyable:!0,children:e.comment?.id}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{copyable:!0,children:e.comment?._id})]})}),i.jsx(A.Item,{label:"发布于",children:Ne(e.comment?.created_at)}),i.jsx(A.Item,{label:"最后修改于",children:Ne(e.comment?.updated_at)}),i.jsx(A.Item,{label:"用户头像",children:i.jsx(ku,{size:"large",comment:e.comment})}),i.jsx(A.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:i.jsx(ue,{prefix:i.jsx(tr,{})})}),i.jsx(A.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:i.jsx(ue,{prefix:i.jsx(xs,{}),placeholder:"email",type:"email"})}),i.jsx(A.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:i.jsx(ue,{prefix:i.jsx(Rr,{}),type:"url",placeholder:"URL",suffix:i.jsx(My,{onClick:()=>{const s=e.comment?.author.site;s&&window.open(s)}})})}),i.jsx(A.Item,{label:"IP 地址",children:i.jsx(ee,{text:e.comment?.ip,copyable:!0})}),i.jsx(A.Item,{label:"IP 地理位置",children:i.jsx(sr,{data:e.comment?.ip_location,fullname:!0})}),i.jsxs(A.Item,{label:"终端",children:[i.jsx(ee,{text:kn(e.comment?.agent),placeholder:"未知浏览器"}),i.jsx(se,{type:"vertical"}),i.jsx(ee,{text:or(e.comment?.agent),placeholder:"未知系统"}),i.jsx(se,{type:"vertical"}),i.jsx(ee,{text:Xa(e.comment?.agent),placeholder:"未知设备"})]}),i.jsx(A.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:i.jsx(Qu,{addonBefore:i.jsx(nr,{}),placeholder:"多少"})}),i.jsx(A.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:i.jsx(Qu,{addonBefore:i.jsx(Or,{}),placeholder:"多少"})}),i.jsx(A.Item,{label:"宿主页面",children:i.jsxs(U,{type:"link",target:"_blank",icon:i.jsx(Rr,{}),href:PC(e.comment?.post_id),children:[e.comment?.post_id===Fa?"留言板":n.value?.title??"加载中⋯",i.jsx(se,{type:"vertical"}),i.jsxs("span",{children:["#",e.comment?.id]})]})}),e.comment?.pid?i.jsx(A.Item,{label:"父级评论",children:i.jsxs(H.Text,{strong:!0,children:["#",e.comment?.pid]})}):null,i.jsx(A.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:i.jsx(ve,{placeholder:"选择状态",options:mu.map(s=>({value:s.id,label:i.jsxs(P,{size:"small",children:[s.icon,s.name]})}))})}),i.jsx(A.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(Ir,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),i.jsx(A.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:i.jsx(Za,{fieldName:"extends"})}),i.jsx(A.Item,{label:" ",children:i.jsx(U,{type:"primary",icon:i.jsx(St,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},OT=()=>{const e=Dt(),{i18n:t}=He(),{post_id:n}=FE.parse(e.search),r=n?Number(n):void 0,a=me(),s=me(),o=on({data:[],pagination:void 0}),l=re(""),c=re(String(r??"")),u=re({...Ci,postId:r??Ci.postId}),d=()=>{l.value="",c.value="",u.value={...Ci}},h=C=>{l.value="",c.value=String(C),u.value={...Ci,postId:Number(C)}},f=re([]),m=gt(()=>o.data.filter(C=>f.value.includes(C._id))),p=re(!1),g=re(null),x=gt(()=>{const C=g.value;return C!==null?o.data[C]:null}),y=()=>{p.value=!1},j=C=>{g.value=C,p.value=!0},b=C=>{const O={...C,...IT(u.value),keyword:l.value||void 0};a.promise(yx(O)).then(q=>{o.data=q.data,o.pagination=q.pagination,st(document.body)})},S=()=>{b({page:o.pagination?.current_page,per_page:o.pagination?.per_page})},k=C=>{const O={...x.value,...C};s.promise(U1(O)).then(()=>{y(),S()})},w=C=>{_e.confirm({title:`确定要彻底删除 ${C.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>q1(C.map(O=>O._id),lp(C.map(O=>O.post_id))).then(()=>{S()})})},E=(C,O)=>{_e.confirm({title:`确定要将 ${C.length} 个评论更新为「 ${Ta(O).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>z1(C.map(q=>q._id),lp(C.map(q=>q.post_id)),O).then(()=>{S()})})};return xt(()=>u.value,()=>b(),{deep:!0}),je(()=>{b()}),i.jsxs(ye,{variant:"borderless",title:t.t("page.comment.list.title",{total:o.pagination?.total??"-"}),extra:i.jsx(LT,{comments:o.data,loading:a.state.value}),children:[i.jsx(kT,{loading:a.state.value,keyword:l.value,onKeywordChange:C=>l.value=C,onKeywordSearch:()=>b(),params:u.value,onParamsChange:C=>Object.assign(u.value,C),postIdInput:c.value,onPostIdInputChange:C=>c.value=C,onResetRefresh:d,extra:i.jsx(zr,{text:"批量操作",disabled:!f.value.length,options:[{label:"退为草稿",icon:i.jsx(Ke,{}),onClick:()=>E(m.value,nt.Auditing)},{label:"审核通过",icon:i.jsx(St,{}),onClick:()=>E(m.value,nt.Published)},{label:"标为垃圾",icon:i.jsx(fs,{}),onClick:()=>E(m.value,nt.Spam)},{label:"移回收站",icon:i.jsx(ze,{}),onClick:()=>E(m.value,nt.Deleted)},{label:"彻底删除",icon:i.jsx(ze,{}),onClick:()=>w(m.value)}]})}),i.jsx(se,{}),i.jsx(PT,{loading:a.state.value,selectedIds:f.value,onSelecte:C=>f.value=C,data:o.data,pagination:o.pagination,onPaginate:(C,O)=>b({page:C,per_page:O}),onDetail:(C,O)=>j(O),onDelete:C=>w([C]),onUpdateState:(C,O)=>E([C],O),onClickPostId:h}),i.jsx(gs,{width:"46rem",title:"评论详情",destroyOnHidden:!0,open:p.value,onClose:y,children:i.jsx(at,{spinning:s.state.value,children:x.value&&i.jsx(AT,{submitting:s.state.value,comment:x.value,onSubmit:C=>k(C)})})})]})},Bt="ALL",DT=void 0,Ul={target_type:Bt,vote_type:Bt,author_type:Bt,sort:Xn.Desc},NT=e=>({target_type:e.target_type!==Bt?e.target_type:void 0,vote_type:e.vote_type!==Bt?e.vote_type:void 0,author_type:e.author_type!==Bt?e.author_type:void 0,sort:e.sort}),FT=e=>i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(P.Compact,{children:i.jsx(Nu,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===Bt?"目标":Bi(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:Bt,label:"所有类型"},{value:wr.Post,label:Bi(wr.Post)},{value:wr.Comment,label:Bi(wr.Comment)}]})}),i.jsx(ve,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:Bt,label:"所有态度"},...px.map(t=>({value:t.id,label:i.jsxs(P,{size:"small",children:[t.icon,t.name]})}))]}),i.jsx(ve,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:Bt,label:"所有用户"},...[Hi.Anonymous,Hi.Guest,Hi.Disqus].map(t=>({value:t,label:Ru(t)}))]}),i.jsx(ir,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:i.jsx("span",{children:i.jsx(Nr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),i.jsx(P,{children:e.extra})]}),$T=e=>i.jsx(sn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(t,n)=>i.jsxs(U,{type:"link",onClick:()=>e.onClickTarget(n),children:[Bi(n.target_type)," #",n.target_id===Fa?"Guestbook":n.target_id]})},{title:"态度",dataIndex:"vote_type",render:(t,n)=>i.jsx(Vt,{icon:ls(n.vote_type).icon,color:n.vote_type===Cu.Upvote?"green":"red",children:i.jsx("strong",{children:ls(n.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(t,n)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(ee,{prefix:i.jsx(Uy,{}),text:Ru(n.author_type)}),i.jsx(Er,{title:"用户数据",placement:"right",content:i.jsx("pre",{children:JSON.stringify(n.author,null,2)}),children:i.jsx("span",{children:i.jsx(ee,{prefix:i.jsx(tr,{}),text:n.author?.name,placeholder:"未知用户"})})})]})},{title:"IP / GEO",dataIndex:"ip",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsx(ee,{prefix:i.jsx(hs,{}),text:n.ip,copyable:!0,placeholder:"未知 IP"}),i.jsxs(P,{size:"small",children:[i.jsx(Cp,{}),i.jsx(sr,{data:n.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsx(ee,{prefix:i.jsx(Rp,{}),text:kn(n.user_agent),placeholder:"未知浏览器"}),i.jsx(P,{size:"small",children:i.jsx(ee,{prefix:i.jsx(zy,{}),text:or(n.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsx(P,{size:"small",children:i.jsx(ee,{prefix:i.jsx(qy,{}),text:Xa(n.user_agent),placeholder:"未知设备"})}),i.jsx(ee,{prefix:i.jsx(Ep,{}),text:Ne(n.created_at)})]})}}]}),MT=()=>{const{i18n:e}=He(),t=me(),n=on({data:[],pagination:void 0}),r=re({...Ul}),a=re(void 0),s=m=>{a.value=Number.isFinite(m)?m:void 0},o=()=>{a.value=DT,r.value={...Ul}},l=m=>{a.value=m.target_id,r.value={...Ul,target_type:m.target_type}},c=re([]),u=gt(()=>n.data.filter(m=>c.value.includes(m._id))),d=m=>{const p={...m,...NT(r.value),target_id:a.value};t.promise(fx(p)).then(g=>{n.data=g.data,n.pagination=g.pagination,st(document.body)})},h=()=>{d({page:n.pagination?.current_page,per_page:n.pagination?.per_page})},f=m=>{_e.confirm({title:`确定要彻底删除 ${m.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>v1(m.map(p=>p._id)).then(()=>{h()})})};return xt(()=>r.value,()=>d(),{deep:!0}),je(()=>{d()}),i.jsxs(ye,{variant:"borderless",title:e.t("page.vote.list.title",{total:n.pagination?.total??"-"}),children:[i.jsx(FT,{loading:t.state.value,targetId:a.value,onTargetIdChange:s,onTargetIdSearch:()=>d(),params:r.value,onParamsChange:m=>Object.assign(r.value,m),onResetRefresh:o,extra:i.jsx(zr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:i.jsx(ze,{}),onClick:()=>f(u.value)}]})}),i.jsx(se,{}),i.jsx($T,{loading:t.state.value,selectedIds:c.value,data:n.data,pagination:n.pagination,onSelecte:m=>c.value=m,onPaginate:(m,p)=>d({page:m,per_page:p}),onClickTarget:m=>l(m)})]})},Fu="/feedback";function UT(e={}){return X.get(Fu,{params:e}).then(t=>t.result)}function zT(e){return X.put(`${Fu}/${e._id}`,e).then(t=>t.result)}function qT(e){return X.delete(Fu,{data:{feedback_ids:e}}).then(t=>t.result)}var Ax=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(Ax||{});const HT=[{number:0,boolean:!1,name:"未标记",icon:i.jsx(Ac,{})},{number:1,boolean:!0,name:"已标记",icon:i.jsx(Pc,{style:{color:"#fadb14"}})}],BT=new Map(HT.map(e=>[e.number,e])),Cc=e=>BT.get(e?1:0),Gn="ALL",cp={marked:!1,tid:Gn,emotion:Gn,sort:Xn.Desc},VT=e=>({marked:e.marked?Ax.Yes:void 0,tid:e.tid!==Gn?e.tid:void 0,emotion:e.emotion!==Gn?e.emotion:void 0,sort:e.sort}),KT=e=>i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(U,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?i.jsx(Pc,{}):i.jsx(Ac,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),i.jsx(Nu,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):Gn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:Gn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),i.jsx(ve,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:Gn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),i.jsx(ir,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),i.jsx(ue.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{r?.source==="input"&&e.onKeywordSearch()}}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:e.loading,onClick:e.onResetRefresh,children:i.jsx("span",{children:i.jsx(Nr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),i.jsx(P,{children:e.extra})]}),YT="_feedbackContent_1w5aj_1",WT={feedbackContent:YT},GT=e=>i.jsx(sn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:e.pagination?.current_page,pageSize:e.pagination?.per_page,total:e.pagination?.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(t,n)=>Cc(n.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(t,n)=>i.jsx(Cn,{prefix:n.emotion_emoji,value:n.emotion})},{title:"反馈内容",dataIndex:"content",render:(t,n)=>i.jsx(H.Paragraph,{className:WT.feedbackContent,ellipsis:{rows:3,expandable:!0},children:n.content})},{title:"备注",width:180,dataIndex:"remark",render:(t,n)=>i.jsx(Ga,{data:n.remark||null,children:r=>i.jsx(H.Paragraph,{ellipsis:{rows:3,expandable:!0},children:r})})},{title:"发布于",width:200,dataIndex:"agent",render(t,n){return i.jsxs(P,{direction:"vertical",children:[i.jsx(Er,{title:"终端信息",placement:"left",style:{width:300},content:i.jsxs("div",{children:[i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"用户：",text:n.user_name})}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"邮箱：",text:n.user_email,copyable:!0})}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"来源：",text:n.origin,copyable:!0})}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"IP：",text:n.ip||void 0,copyable:!0})}),i.jsxs(H.Paragraph,{children:["位置： ",i.jsx(sr,{data:n.ip_location})]}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"浏览器：",text:kn(n.user_agent)})}),i.jsx(H.Paragraph,{children:i.jsx(ee,{prefix:"系统：",text:or(n.user_agent)})}),i.jsx("div",{children:i.jsx(ee,{prefix:"设备：",text:Xa(n.user_agent)})})]}),children:i.jsx("span",{children:i.jsx(ee,{prefix:i.jsx(tr,{}),text:n.user_name,placeholder:"Anonymous"})})}),i.jsx(ee,{prefix:i.jsx(Ep,{}),text:Ne(n.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(t,n,r)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(U,{size:"small",type:"text",block:!0,icon:i.jsx(Ke,{}),onClick:()=>e.onDetail(n,r),children:"反馈详情"}),i.jsx(U,{size:"small",type:"text",danger:!0,block:!0,icon:i.jsx(ze,{}),onClick:()=>e.onDelete(n,r),children:"彻底删除"})]})}]}),JT=e=>{const[t]=A.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return je(()=>{t.setFieldsValue(e.feedback)}),i.jsxs(A,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[i.jsx(A.Item,{label:"ID",children:i.jsxs(P,{size:"small",children:[i.jsx(H.Text,{copyable:!0,children:e.feedback.id}),i.jsx(se,{type:"vertical"}),i.jsx(H.Text,{copyable:!0,children:e.feedback._id})]})}),i.jsx(A.Item,{label:"TID",children:i.jsx(H.Text,{copyable:!0,children:e.feedback.tid})}),i.jsx(A.Item,{label:"发布于",children:Ne(e.feedback.created_at)}),i.jsx(A.Item,{label:"最后修改于",children:Ne(e.feedback.updated_at)}),i.jsx(A.Item,{name:"marked",label:"是否标记",children:i.jsxs(Ei.Group,{size:"middle",children:[i.jsx(Ei.Button,{value:!1,children:Cc(!1).icon}),i.jsx(Ei.Button,{value:!0,children:Cc(!0).icon})]})}),i.jsx(A.Item,{name:"user_name",label:"用户昵称",children:i.jsx(ue,{prefix:i.jsx(tr,{})})}),i.jsx(A.Item,{name:"user_email",label:"用户邮箱",children:i.jsx(ue,{prefix:i.jsx(xs,{}),placeholder:"email",type:"email"})}),i.jsx(A.Item,{label:"IP 地址",children:i.jsx(ee,{text:e.feedback.ip||null,copyable:!0})}),i.jsx(A.Item,{label:"IP 地理位置",children:i.jsx(sr,{data:e.feedback.ip_location,fullname:!0})}),i.jsxs(A.Item,{label:"终端",children:[i.jsx(ee,{text:kn(e.feedback.user_agent),placeholder:"未知浏览器"}),i.jsx(se,{type:"vertical"}),i.jsx(ee,{text:or(e.feedback.user_agent),placeholder:"未知系统"}),i.jsx(se,{type:"vertical"}),i.jsx(ee,{text:Xa(e.feedback.user_agent),placeholder:"未知设备"})]}),i.jsx(A.Item,{label:"反馈评分",children:i.jsx(Cn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),i.jsx(A.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:i.jsx(ue.TextArea,{autoSize:{minRows:8,maxRows:18}})}),i.jsx(A.Item,{label:"备注",name:"remark",children:i.jsx(ue.TextArea,{autoSize:{minRows:3,maxRows:8}})}),i.jsx(A.Item,{label:" ",children:i.jsx(U,{type:"primary",icon:i.jsx(St,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},ZT=()=>{const{i18n:e}=He(),t=me(),n=me(),r=on({data:[],pagination:void 0}),a=re(""),s=re({...cp}),o=()=>{a.value="",s.value={...cp}},l=re([]),c=gt(()=>r.data.filter(j=>l.value.includes(j._id))),u=re(!1),d=re(null),h=gt(()=>{const j=d.value;return j!==null?r.data[j]:null}),f=()=>{u.value=!1},m=j=>{d.value=j,u.value=!0},p=j=>{const b={...j,...VT(s.value),keyword:a.value||void 0};t.promise(UT(b)).then(S=>{r.data=S.data,r.pagination=S.pagination,st(document.body)})},g=()=>{p({page:r.pagination?.current_page,per_page:r.pagination?.per_page})},x=j=>{_e.confirm({title:`确定要彻底删除 ${j.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>qT(j.map(b=>b._id)).then(()=>{g()})})},y=j=>{const{emotion_emoji:b,emotion_text:S,...k}={...h.value,...j},w={...k,ip:k.ip||null};n.promise(zT(w)).then(()=>{f(),g()})};return xt(()=>s.value,()=>p(),{deep:!0}),je(()=>{p()}),i.jsxs(ye,{variant:"borderless",title:e.t("page.feedback.list.title",{total:r.pagination?.total??"-"}),children:[i.jsx(KT,{loading:t.state.value,keyword:a.value,onKeywordChange:j=>a.value=j,onKeywordSearch:()=>p(),params:s.value,onParamsChange:j=>Object.assign(s.value,j),onResetRefresh:o,extra:i.jsx(zr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:i.jsx(ze,{}),onClick:()=>x(c.value)}]})}),i.jsx(se,{}),i.jsx(GT,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:j=>l.value=j,onDetail:(j,b)=>m(b),onDelete:j=>x([j]),onPaginate:(j,b)=>p({page:j,per_page:b})}),i.jsx(gs,{width:"46rem",title:"反馈详情",destroyOnHidden:!0,open:u.value,onClose:f,children:i.jsx(at,{spinning:n.state.value,children:h.value&&i.jsx(JT,{submitting:n.state.value,feedback:h.value,onSubmit:j=>y(j)})})})]})},XT=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});s.dispatchEvent(o),URL.revokeObjectURL(a)},ti="/disqus";function QT(e){return X.get(`${ti}/threads`,{params:e})}function eI(e){return X.get(`${ti}/posts`,{params:e})}function Ox(){return X.get(`${ti}/config`)}async function tI(e){const t=new FormData;return t.append("file",e),X.post(`${ti}/import-xml`,t)}async function nI(){const e=await X.$({url:`${ti}/export-xml`,method:"GET",responseType:"blob"});XT(e.data,"nodepress-export-to-disqus.xml","application/xml")}var er=(e=>(e.Desc="desc",e.Asc="asc",e))(er||{}),Yi=(e=>(e.Open="open",e.Closed="closed",e))(Yi||{}),xn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(xn||{});const Rc="ALL",up={order:er.Desc,include:Rc},rI=()=>{const e=re(null),t=me(),n=on({cursor:null,list:[]}),r=re({...up}),a=()=>{r.value={...up}},s=l=>{const c={...l,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==Rc?[r.value.include]:[...Object.values(Yi)]};t.promise(QT(c)).then(u=>{l?.cursor?(n.cursor=u.result.cursor,n.list.push(...u.result.response)):(n.cursor=u.result.cursor,n.list=u.result.response,st(document.body))})},o=()=>{s({cursor:n.cursor.next})};return xt(()=>r.value,()=>s(),{deep:!0}),je(()=>{Ox().then(l=>{e.value=l.result,s()})}),i.jsxs(ye,{variant:"borderless",title:`Threads (${n.list.length})`,extra:i.jsx(U,{type:"primary",size:"small",target:"_blank",icon:i.jsx($c,{}),href:`https://${e.value?.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[i.jsxs(P,{wrap:!0,children:[i.jsx(ve,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:l=>r.value.include=l,options:[{value:Rc,label:"All state"},{value:Yi.Open,label:"Open"},{value:Yi.Closed,label:"Closed"}]}),i.jsx(ve,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:l=>r.value.order=l,options:[{value:er.Desc,label:"Desc"},{value:er.Asc,label:"Asc"}]}),i.jsx(U,{icon:i.jsx(Qe,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),i.jsx(se,{}),i.jsx(sn,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(l,c)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(H.Link,{href:`https://disqus.com/home/discussion/${c.forum}/${c.slug}/`,target:"_blank",strong:!0,children:c.title}),i.jsx(H.Link,{href:c.link,target:"_blank",type:"secondary",children:c.link})]})},{title:"ID / Author",key:"id",render:(l,c)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(H.Text,{copyable:!0,children:c.id}),i.jsx(H.Text,{copyable:!0,type:"secondary",children:c.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(l,c)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(P,{children:c.identifiers.map(u=>i.jsx(Vt,{children:u},u))}),i.jsx(H.Text,{type:"secondary",children:Ne(c.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(l,c)=>i.jsxs(P,{size:"small",children:[i.jsx(Ma,{}),c.posts]})},{title:"Likes",key:"likes",render:(l,c)=>i.jsxs(P,{size:"small",children:[i.jsx(nr,{}),c.likes]})},{title:"Dislikes",key:"dislikes",render:(l,c)=>i.jsxs(P,{size:"small",children:[i.jsx(Or,{}),c.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(l,c)=>i.jsx(Vl,{disabled:!0,checked:!c.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),i.jsx("br",{}),i.jsx(fe,{justify:"center",children:n.cursor?.hasNext?i.jsx(U,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):i.jsx(H.Text,{type:"secondary",children:"NO MORE"})})]})},$u="ALL",dp={order:er.Desc,include:$u},aI=e=>i.jsxs(fe,{justify:"space-between",gap:"middle",wrap:!0,children:[i.jsxs(P,{wrap:!0,children:[i.jsx(ve,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:$u,label:"All state"},{value:xn.Approved,label:"Approved"},{value:xn.Unapproved,label:"Unapproved"},{value:xn.Spam,label:"Spam"},{value:xn.Deleted,label:"Deleted"},{value:xn.Flagged,label:"Flagged"},{value:xn.Highlighted,label:"Highlighted"}]}),i.jsx(ve,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:er.Desc,label:"Desc"},{value:er.Asc,label:"Asc"}]}),i.jsx(ue.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{r?.source==="input"&&e.onThreadIdSearch()}}),i.jsx(U,{loading:e.loading,icon:i.jsx(Qe,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),i.jsx(P,{children:e.extra})]}),iI=e=>i.jsx(sn,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>i.jsxs(P,{direction:"vertical",children:[i.jsx(ee,{text:n.id,copyable:!0,type:"secondary"}),i.jsx(ee,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>i.jsxs("div",{children:[i.jsx(H.Paragraph,{children:i.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),i.jsx(H.Text,{type:"secondary",children:Ne(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>i.jsxs(P,{children:[i.jsx(Fc,{size:38,shape:"square",src:n.author.avatar.cache}),i.jsxs(P,{direction:"vertical",size:"small",children:[i.jsx("strong",{children:n.author.name}),i.jsx(Ga,{data:n.author.url,children:r=>i.jsx(H.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?i.jsx(H.Text,{type:"secondary",children:"Guest"}):i.jsx(H.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>i.jsxs(P,{size:"small",children:[i.jsx(nr,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>i.jsxs(P,{size:"small",children:[i.jsx(Or,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>i.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:i.jsx(Sp,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:i.jsx(ed,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:i.jsx(ed,{})}].filter(r=>r.value).map((r,a)=>i.jsxs(H.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),sI=()=>{const e=re(null),t=me(),n=on({cursor:null,list:[]}),r=re(""),a=re({...dp}),s=c=>{const u={...c,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==$u?[a.value.include]:[...Object.values(xn)]};t.promise(eI(u)).then(d=>{c?.cursor?(n.cursor=d.result.cursor,n.list.push(...d.result.response)):(n.cursor=d.result.cursor,n.list=d.result.response,st(document.body))})},o=()=>{s({cursor:n.cursor.next})},l=()=>{r.value="",a.value={...dp}};return xt(()=>a.value,()=>s(),{deep:!0}),je(()=>{Ox().then(c=>{e.value=c.result,s()})}),i.jsxs(ye,{title:`Posts (${n.list.length})`,variant:"borderless",extra:i.jsx(U,{type:"primary",size:"small",target:"_blank",icon:i.jsx($c,{}),href:`https://${e.value?.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[i.jsx(aI,{loading:t.state.value,threadId:r.value,onThreadIdChange:c=>r.value=c,onThreadIdSearch:()=>s(),params:a.value,onParamsChange:c=>Object.assign(a.value,c),onResetRefresh:l}),i.jsx(se,{}),i.jsx(iI,{loading:t.state.value,data:n.list.slice()}),i.jsx("br",{}),i.jsx(fe,{justify:"center",children:n.cursor?.hasNext?i.jsx(U,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):i.jsx(H.Text,{type:"secondary",children:"NO MORE"})})]})},oI=()=>{const e=me(),t=n=>{e.promise(tI(n)).catch(r=>{_e.error({title:"Upload XML error",content:qS(r)?r.response?.data?.message||r.message:String(r)})})};return i.jsxs("div",{children:[i.jsx(Tp,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:i.jsx(Nc,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:i.jsx(ms,{})}]}),i.jsx(Mc,{icon:i.jsx(ys,{}),title:"Disqus To NodePress",extra:i.jsxs(P,{children:[i.jsx(U,{size:"large",type:"primary",icon:i.jsx(Ip,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),i.jsx(Oc,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:i.jsx(U,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:i.jsx(ps,{}),children:"Upload XML to NodePress"})})]})})]})},lI=()=>i.jsxs("div",{children:[i.jsx(Tp,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:i.jsx(Nc,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:i.jsx(ms,{})}]}),i.jsx(Mc,{icon:i.jsx(ys,{}),title:"NodePress To Disqus",extra:i.jsxs(P.Compact,{children:[i.jsx(U,{size:"large",type:"primary",icon:i.jsx(Ip,{}),onClick:()=>nI(),children:"Download XML"}),i.jsx(U,{size:"large",type:"primary",icon:i.jsx(ps,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),cI=()=>i.jsxs(P,{direction:"vertical",size:Ap,style:{width:"100%"},children:[i.jsx(ye,{title:"Synchronize NodePress to Disqus",variant:"borderless",children:i.jsx(lI,{})}),i.jsx(ye,{title:"Synchronize Disqus To NodePress",variant:"borderless",children:i.jsx(oI,{})})]}),zl=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},uI=e=>{const t=me(),n=me(),r=re(null),[a]=A.useForm(),s=u=>{r.value=u,a.setFieldsValue({...u,ad_config:zl(u.ad_config,2)})},o=()=>t.promise(nC()).then(s),l=u=>{const d={...u,ad_config:zl(u.ad_config)};return n.promise(rC(d)).then(s)},c=()=>{a.validateFields().then(u=>{const d={...r.value,...u};l(d).then(()=>{st(document.body)})})};return je(()=>{o()}),i.jsx(at,{spinning:t.state.value||n.state.value,children:i.jsxs(A,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[i.jsx(A.Item,{label:!0,children:i.jsx(Cn,{valueStyle:{fontWeight:"bold"},value:r.value?.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),i.jsx(A.Item,{name:"title",label:"站点标题",required:!0,children:i.jsx(ue,{placeholder:"站点标题"})}),i.jsx(A.Item,{name:"sub_title",label:"副标题",required:!0,children:i.jsx(ue,{placeholder:"副标题"})}),i.jsx(A.Item,{name:"description",label:"站点描述",required:!0,children:i.jsx(ue.TextArea,{rows:4,placeholder:"站点描述"})}),i.jsx(A.Item,{name:"keywords",label:"关键词",required:!0,children:i.jsx(ve,{placeholder:"输入关键词后回车",mode:"tags"})}),i.jsx(A.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:i.jsx(ue,{suffix:i.jsx(Rr,{}),placeholder:"https://example.me"})}),i.jsx(A.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:i.jsx(ue,{suffix:i.jsx(xs,{}),placeholder:"example@xxx.me"})}),i.jsx(A.Item,{name:"statement",label:"站点声明",children:i.jsx(Ir,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:ss.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),i.jsx(A.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:i.jsx(Za,{fieldName:"friend_links"})}),i.jsx(A.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:i.jsx(ve,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),i.jsx(A.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:i.jsx(ve,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),i.jsx(A.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:i.jsx(ve,{placeholder:"回车以输入多个关键字",mode:"tags"})}),i.jsx(A.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(u,d){try{return zl(d||""),Promise.resolve()}catch(h){return Promise.reject(h)}}}],children:i.jsx(Ir,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:ss.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),i.jsx(A.Item,{label:!0,children:i.jsx(U,{icon:i.jsx(St,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:c,children:"保存"})})]})})},dI=()=>{const e=me(),t=me(),n=()=>{_e.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(tC())})},r=()=>{_e.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise(eC())})};return i.jsxs(qt,{children:[i.jsx(U,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:i.jsx(ms,{}),children:"立即更新数据库备份"}),i.jsx(se,{}),i.jsx(U,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:i.jsx(ys,{}),children:"更新 Archive 及缓存"})]})},hI=()=>{const e=cn(),t=me(),n=me(),r=Hs(),[a]=A.useForm(),s=()=>{t.promise(Ux()).then(a.setFieldsValue)},o=u=>n.promise(ck(u)).then(()=>{u.new_password?(en.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{As(),e(Xe[pe.Hello])},1688)):(s(),r.refresh())}),l=()=>{a.validateFields().then(u=>{Reflect.deleteProperty(u,"rel_new_password"),o({...u}).then(()=>{st(document.body)})})},c=async()=>{const u=a.getFieldValue("password"),d=a.getFieldValue("new_password"),h=a.getFieldValue("rel_new_password");if(!(!u&&!d&&!h)&&(d!==h||u===d))throw new Error};return je(()=>{s()}),i.jsx(at,{spinning:t.state.value||n.state.value,children:i.jsxs(A,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[i.jsx(A.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:i.jsx(ix,{disabledMarkdown:!0})}),i.jsx(A.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:i.jsx(ue,{placeholder:"昵称"})}),i.jsx(A.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:i.jsx(ue.TextArea,{placeholder:"签名"})}),i.jsx(se,{}),i.jsx(A.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:i.jsx(ue.Password,{placeholder:"旧密码",autoComplete:"password"})}),i.jsx(A.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:i.jsx(ue.Password,{placeholder:"新密码",autoComplete:"new_password"})}),i.jsx(A.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:i.jsx(ue.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),i.jsx(U,{type:"primary",block:!0,icon:i.jsx(St,{}),loading:n.state.value,onClick:l,children:"保存"})]})})},ql=e=>{const t=i.jsxs(P,{size:"small",children:[e.icon,e.title]});return i.jsx(ye,{variant:"borderless",title:t,children:e.children})},fI=()=>{const{i18n:e}=He();return i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{xs:24,lg:17,children:i.jsx(ql,{title:e.t("page.setting.general.title"),icon:i.jsx(Hy,{}),children:i.jsx(uI,{labelSpan:4,wrapperSpan:19})})}),i.jsx(De,{xs:24,lg:7,children:i.jsxs(qt,{gutter:[Ue,Ue],children:[i.jsx(De,{span:24,children:i.jsx(ql,{title:e.t("page.setting.data.title"),icon:i.jsx(By,{}),children:i.jsx(dI,{})})}),i.jsx(De,{span:24,children:i.jsx(ql,{title:e.t("page.setting.userinfo.title"),icon:i.jsx(tr,{}),children:i.jsx(hI,{})})})]})})]})},pI=()=>{const{i18n:e}=He(),t=it(!1);return i.jsxs(ye,{variant:"borderless",title:e.t("page.statics.list.title",{total:"-"}),extra:i.jsx(U,{type:"primary",size:"small",icon:i.jsx(ps,{}),onClick:()=>t.value=!0,children:"上传新文件"}),children:[i.jsx(ux,{tableListSize:"middle"}),i.jsx(_e,{title:"上传文件",centered:!0,closable:!1,footer:null,open:t.value,onCancel:()=>t.value=!1,children:i.jsx("p",{children:"TODO"})})]})};var pe=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Static="static",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(pe||{});const Dx=[{index:!0,element:i.jsx(uo,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:pe.Dashboard,path:"/dashboard",element:i.jsx(VC,{}),handle:{i18nKey:"page.dashboard.title",icon:i.jsx($c,{})}},{id:pe.Announcement,path:"/announcement",element:i.jsx(pE,{}),handle:{i18nKey:"page.announcement.title",icon:i.jsx(Vy,{})}},{id:pe.Category,path:"/category",element:i.jsx(bE,{}),handle:{i18nKey:"page.category.title",icon:i.jsx(Ky,{})}},{id:pe.Tag,path:"/tag",element:i.jsx(RE,{}),handle:{i18nKey:"page.tag.title",icon:i.jsx(Yy,{})}},{id:pe.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:i.jsx(fp,{})},children:[{index:!0,element:i.jsx(uo,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:pe.ArticleList,path:"/article/list",element:i.jsx(vR,{}),handle:{i18nKey:"page.article.list",icon:i.jsx(td,{})}},{id:pe.ArticlePost,path:"/article/post",element:i.jsx(tE,{}),handle:{i18nKey:"page.article.create",icon:i.jsx(Ke,{})}},{id:pe.ArticleEdit,path:"/article/edit/:article_id",element:i.jsx(eE,{}),handle:{i18nKey:"page.article.edit",icon:i.jsx(Ke,{}),hiddenInMenu:!0}}]},{id:pe.Comment,path:"/comment",element:i.jsx(OT,{}),handle:{i18nKey:"page.comment.title",icon:i.jsx(Ma,{})}},{id:pe.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:i.jsx("img",{src:Ds("/images/disqus.svg"),width:"1em"})},children:[{index:!0,element:i.jsx(uo,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:pe.DisqusPost,path:"/disqus/posts",element:i.jsx(sI,{}),handle:{i18nKey:"page.disqus.posts",icon:i.jsx(td,{})}},{id:pe.DisqusThread,path:"/disqus/threads",element:i.jsx(rI,{}),handle:{i18nKey:"page.disqus.threads",icon:i.jsx(jp,{})}},{id:pe.DisqusSync,path:"/disqus/synchronize",element:i.jsx(cI,{}),handle:{i18nKey:"page.disqus.synchronize",icon:i.jsx(ys,{})}}]},{id:pe.Vote,path:"/vote",element:i.jsx(MT,{}),handle:{i18nKey:"page.vote.title",icon:i.jsx(nr,{})}},{id:pe.Feedback,path:"/feedback",element:i.jsx(ZT,{}),handle:{i18nKey:"page.feedback.title",icon:i.jsx(Wy,{})}},{id:pe.Static,path:"/static",element:i.jsx(pI,{}),handle:{i18nKey:"page.setting.statics",icon:i.jsx(Dc,{})}},{id:pe.Setting,path:"/setting",element:i.jsx(fI,{}),handle:{i18nKey:"page.setting.title",icon:i.jsx(kp,{})}}],mI="_appLayout_th6z3_1",gI="_appSider_th6z3_1",xI="_siderContent_th6z3_9",yI="_logo_th6z3_15",vI="_userInfo_th6z3_23",bI="_collapsed_th6z3_29",wI="_avatar_th6z3_32",_I="_name_th6z3_36",jI="_slogan_th6z3_57",SI="_menus_th6z3_61",CI="_footerLink_th6z3_79",RI="_appHeader_th6z3_93",EI="_headerContent_th6z3_104",TI="_userMenu_th6z3_108",II="_appFooter_th6z3_116",kI="_appContent_th6z3_121",LI="_pageContainer_th6z3_121",PI="_pageHeader_th6z3_121",AI="_title_th6z3_127",OI="_icon_th6z3_130",DI="_breadcrumb_th6z3_133",NI="_pageContent_th6z3_137",FI="_backTop_th6z3_140",$I="_pageHeaderAdvert_th6z3_144",MI="_adCard_th6z3_148",xe={appLayout:mI,appSider:gI,siderContent:xI,logo:yI,userInfo:vI,collapsed:bI,avatar:wI,name:_I,slogan:jI,menus:SI,footerLink:CI,appHeader:RI,headerContent:EI,userMenu:TI,appFooter:II,appContent:kI,pageContainer:LI,pageHeader:PI,title:AI,icon:OI,breadcrumb:DI,pageContent:NI,backTop:FI,pageHeaderAdvert:$I,adCard:MI},Nx=e=>e.filter(t=>!t.handle?.hiddenInMenu).map(t=>({key:t.path,icon:t.handle?.icon,children:t?.children?Nx(t.children):null,label:t.handle?.i18nKey?i.jsx(Nr,{i18nKey:t.handle.i18nKey}):t.handle?.name})),UI=({isSiderCollapsed:e})=>{const t=cn(),n=Dt(),{language:r}=Dr(),a=Hs(),s=v.useMemo(()=>Nx(Dx),[r]);return i.jsxs("div",{className:xe.siderContent,children:[i.jsx(It,{to:"/",className:xe.logo,children:i.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:Ds(e?"/images/logo.mini.svg":"/images/logo.svg")})}),i.jsx(at,{spinning:a.loading,size:"small",children:i.jsxs(fe,{vertical:!0,justify:"center",align:"center",className:Vn(xe.userInfo,e&&xe.collapsed),children:[i.jsx("img",{draggable:!1,className:xe.avatar,src:a.data.avatar,alt:a.data.name}),i.jsx(H.Title,{level:5,className:xe.name,title:a.data.name,children:a.data.name||"-"}),i.jsx(H.Text,{type:"secondary",ellipsis:!0,className:xe.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),i.jsx(Gy,{mode:"inline",className:xe.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[Xe[pe.Article]],items:s}),i.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:Pv,className:Vn(xe.footerLink,e&&xe.collapsed),children:e?i.jsx(nd,{}):i.jsxs(P,{size:"small",children:[i.jsx(nd,{}),"source-code"]})})]})},zI=e=>{const t=cn(),n=vs(),r=Dr(),a=Hs(),{i18n:s}=He(),o=()=>{_e.confirm({title:s.t("logout.confirmation"),centered:!0,onOk(){sk().then(()=>{console.info("Logout successful"),As(),t(Xe[pe.Hello])}).catch(l=>{console.warn("Logout failed！",l)})}})};return i.jsxs(fe,{justify:"space-between",className:xe.headerContent,children:[i.jsxs(fe,{align:"center",gap:"middle",children:[i.jsx(U,{type:"text",className:xe.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?i.jsx(Jy,{}):i.jsx(Zy,{})}),i.jsx(U,{type:"text",className:xe.item,onClick:()=>n.toggleTheme(),icon:n.isDark?i.jsx(Xy,{}):i.jsx(Qy,{})}),i.jsx(ve,{size:"small",className:xe.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:Cv.map(l=>({value:l.code,label:l.name}))})]}),i.jsx(fe,{align:"center",justify:"center",children:i.jsx(pp,{placement:"bottomRight",menu:{items:[{key:"profile",icon:i.jsx(kp,{}),label:s.t("page.setting.title"),onClick:()=>t(Xe[pe.Setting])},{key:"divider",type:"divider"},{key:"logout",icon:i.jsx(ev,{}),label:s.t("logout.title"),danger:!0,onClick:o}]},children:i.jsxs("div",{className:xe.userMenu,children:[i.jsx("span",{children:a.data.name}),i.jsx(Fc,{shape:"square",size:"small",icon:i.jsx(tr,{}),className:xe.avatar,src:a.data.avatar})]})})})]})},qI=()=>(je(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),i.jsx("div",{className:xe.pageHeaderAdvert,children:i.jsx(ye,{classNames:{body:xe.adCard},size:"small",variant:"borderless",children:i.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),HI=e=>{const{i18n:t}=He(),n=Dt(),[,...r]=n.pathname.split("/"),a=Fx.find(s=>Oa(s.path,n.pathname));return i.jsxs("div",{className:xe.pageContainer,children:[i.jsxs(fe,{align:"center",justify:"space-between",className:xe.pageHeader,children:[i.jsxs(H.Title,{className:xe.title,level:4,children:[i.jsx("span",{className:xe.icon,children:a?.handle?.icon}),a?.handle?.i18nKey?t.t(a.handle.i18nKey):a?.handle?.name]}),i.jsx(tv,{className:xe.breadcrumb,items:r.map(s=>({title:s}))})]}),Av&&i.jsx(qI,{}),i.jsx("div",{className:xe.pageContent,children:e?.children}),i.jsx(nv.BackTop,{className:xe.backTop,shape:"square",type:"primary",icon:i.jsx(rv,{}),onClick:()=>st(document.body)})]})},BI="xl",VI=Hl.getDesignToken().screenXL,KI=window.innerWidth>=VI,YI=e=>{const t=Hs(),[n,r]=v.useState(!KI),a=()=>r(!n);return je(()=>{t.refresh()}),i.jsxs(ur,{id:"app-layout",className:xe.appLayout,children:[i.jsx(ur.Sider,{className:xe.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:BI,onBreakpoint:s=>r(s),children:i.jsx(UI,{isSiderCollapsed:n})}),i.jsxs(ur,{children:[i.jsx(ur.Header,{className:xe.appHeader,children:i.jsx(zI,{isSiderCollapsed:n,onToggleSider:a})}),i.jsx(ur.Content,{className:xe.appContent,children:i.jsx(HI,{children:e?.children})}),i.jsx(ur.Footer,{className:xe.appFooter,children:i.jsxs(P,{size:"small",children:[i.jsx(av,{}),"Powered by",i.jsx(H.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",i.jsx(H.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},WI="_helloPage_37uqv_1",GI="_iconWrapper_37uqv_9",JI="_icon_37uqv_9",ZI="_lockIcon_37uqv_21",XI="_unlockIcon_37uqv_25",QI="_input_37uqv_35",Gt={helloPage:WI,iconWrapper:GI,icon:JI,lockIcon:ZI,unlockIcon:XI,input:QI},ek=()=>{const e=cn(),[t,n]=v.useState(""),[r,a]=v.useState(!1),[s,o]=v.useState(!1),l=()=>a(!0),c=()=>a(!1),u=async m=>{try{o(!0);const{access_token:p,expires_in:g}=await ik(m);as.setToken(p,g),console.info("Login successful"),e(Xe[pe.Dashboard])}catch(p){console.warn("Login failed！",p)}finally{o(!1)}},d=m=>{m.key==="Escape"&&c(),m.key==="Enter"&&t&&u(t)},h=i.jsxs("div",{className:Gt.iconWrapper,onClick:l,onTouchEnd:l,children:[i.jsx(gp,{className:Vn(Gt.icon,Gt.lockIcon)}),i.jsx(mp,{className:Vn(Gt.icon,Gt.unlockIcon)})]}),f=i.jsx(ue.Password,{className:Gt.input,id:"password",size:"large",autoComplete:"off",autoFocus:!0,disabled:s,value:t,visibilityToggle:!1,onBlur:c,onKeyDownCapture:d,onInput:m=>n(m.target.value)});return i.jsx("div",{className:Vn(Gt.helloPage,r?Gt.inputing:Gt.normal),children:i.jsx(at,{spinning:s,indicator:i.jsx(wp,{}),children:r?f:h})})},tk="_notFoundPage_u75hf_1",nk={notFoundPage:tk},rk=()=>i.jsx(fe,{justify:"center",align:"center",className:nk.notFoundPage,children:i.jsx(Mc,{status:"warning",title:"404 NOT FOUND",extra:i.jsx(It,{to:"/",children:i.jsx(U,{type:"link",children:i.jsx(Nr,{i18nKey:"page.404.link"})})})})}),Ec=[{id:pe.Hello,path:"/hello",element:i.jsx(ek,{})},{path:"/",children:Dx,element:i.jsx(GS,{children:i.jsx(YI,{children:i.jsx(gj,{})})})},{path:"*",element:i.jsx(rk,{})}],Fx=[],Xe={},ak=new Map,$x=e=>{e.forEach(t=>{t.id&&(Fx.push(t),Xe[t.id]=t.path,ak.set(t.id,t)),t.children?.length&&$x(t.children)})};$x(Ec);const Mu={articleDetail:e=>`/article/edit/${e}`},ni=Le.create({baseURL:kv,adapter:window.__axiosAdapter||void 0});ni.interceptors.request.use(e=>(as.isTokenValid()?(e.headers=e.headers||{},e.headers[Nv]=`Bearer ${as.getToken()}`):e.url!==ri.LOGIN&&en.error({message:Kn.t("nodepress.request.invalid_token.title"),description:Kn.t("nodepress.request.invalid_token.description"),duration:2}),e));ni.interceptors.response.use(e=>e.headers["content-type"]?.includes("json")?e.data.status==="success"?(en.success({message:Kn.t("nodepress.response.success"),description:e.data.message,duration:2}),e.data):Promise.reject(e):(en.success({message:Kn.t("nodepress.response.success"),description:e.statusText,duration:2}),e),e=>(console.debug("axios error:",e),en.error({message:e.response?.data.error??e.response?.statusText??e.message,description:e.response?.data.message??"-",duration:3}),e.response?.status===401&&(as.removeToken(),window.router.navigate(Xe[pe.Hello])),Promise.reject(e)));const pn=e=>(...t)=>ni[e](...t),X={$:ni,request:pn("request"),head:pn("head"),get:pn("get"),post:pn("post"),put:pn("put"),patch:pn("patch"),delete:pn("delete"),options:pn("options")},Mx="/admin/profile",ri={LOGIN:"/admin/login",LOGOUT:"/admin/logout",CHECK_TOKEN:"/admin/check-token",REFRESH_TOKEN:"/admin/refresh-token"};function ik(e){return X.post(ri.LOGIN,{password:cc.encode(e)}).then(t=>t.result)}function sk(){return X.post(ri.LOGOUT)}function ok(){return X.post(ri.REFRESH_TOKEN).then(e=>e.result)}function lk(){return X.get(ri.CHECK_TOKEN)}function Ux(){return X.get(Mx).then(e=>e.result)}function ck(e){const t={...e,password:e.password?cc.encode(e.password):"",new_password:e.new_password?cc.encode(e.new_password):""};return X.put(Mx,t).then(n=>n.result)}const uk=Object.freeze({name:"Admin",slogan:"NodePress",avatar:Ds("/images/nodepress.png")}),zx=Ar.createContext({}),Hs=()=>v.useContext(zx),dk=e=>{const[t,n]=v.useState({...uk}),[r,a]=v.useState(!1),s=async()=>{try{a(!0),n(await Ux())}finally{a(!1)}};return i.jsx(zx.Provider,{value:{data:t,loading:r,refresh:s},children:e.children})};var hk=()=>{};function fk(e,t,n){let r=v.useRef(hk);v.useEffect(()=>{r.current=e}),v.useEffect(()=>{},[n]),v.useEffect(()=>{if(t===null||t===!1)return;let a=setInterval(()=>r.current(),t);return()=>clearInterval(a)},[t])}function qx(e,t){return Math.random()*(t-e+1)+e}function Ri(e,t){return Math.floor(qx(e,t))}var pk=v.forwardRef(({progress:e,height:t=2,className:n="",color:r="red",background:a="transparent",onLoaderFinished:s,transitionTime:o=300,loaderSpeed:l=500,waitingTime:c=1e3,shadow:u=!0,containerStyle:d={},style:h={},shadowStyle:f={},containerClassName:m=""},p)=>{let g=v.useRef(!1),[x,y]=v.useState(0),j=v.useRef({active:!1,refreshRate:1e3}),[b,S]=v.useState({active:!1,value:60}),k={height:"100%",background:r,transition:`all ${l}ms ease`,width:"0%"},w={position:"fixed",top:0,left:0,height:t,background:a,zIndex:99999999999,width:"100%"},E={boxShadow:`0 0 10px ${r}, 0 0 10px ${r}`,width:"5%",opacity:1,position:"absolute",height:"100%",transition:`all ${l}ms ease`,transform:"rotate(2deg) translate(0px, -2px)",left:"-10rem"},[C,O]=v.useState(k),[q,W]=v.useState(E);v.useEffect(()=>(g.current=!0,()=>{g.current=!1}),[]),v.useImperativeHandle(p,()=>({continuousStart(M,B=1e3){if(b.active)return;if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}let oe=M||Ri(10,20);j.current={active:!0,refreshRate:B},y(oe),Q(oe)},staticStart(M){if(j.current.active)return;if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}let B=M||Ri(30,60);S({active:!0,value:B}),y(B),Q(B)},start(M="continuous",B,oe){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}M==="continuous"?j.current={active:!0,refreshRate:oe||1e3}:S({active:!0,value:B||20});let Y=Ri(10,20),Re=Ri(30,70),Se=B||(M==="continuous"?Y:Re);y(Se),Q(Se)},complete(){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}y(100),Q(100)},increase(M){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}y(B=>{let oe=B+M;return Q(oe),oe})},decrease(M){if(e!==void 0){console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");return}y(B=>{let oe=B-M;return Q(oe),oe})},getProgress(){return x}})),v.useEffect(()=>{O({...C,background:r}),W({...q,boxShadow:`0 0 10px ${r}, 0 0 5px ${r}`})},[r]),v.useEffect(()=>{if(p){if(p&&e!==void 0){console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);return}Q(x)}else e&&Q(e)},[e]);let Q=M=>{M>=100?(O({...C,width:"100%"}),u&&W({...q,left:M-10+"%"}),setTimeout(()=>{g.current&&(O({...C,opacity:0,width:"100%",transition:`all ${o}ms ease-out`,color:r}),setTimeout(()=>{g.current&&(j.current.active&&(j.current={...j.current,active:!1},y(0),Q(0)),b.active&&(S({...b,active:!1}),y(0),Q(0)),s&&s(),y(0),Q(0))},o))},c)):(O(B=>({...B,width:M+"%",opacity:1,transition:M>0?`all ${l}ms ease`:""})),u&&W({...q,left:M-5.5+"%",transition:M>0?`all ${l}ms ease`:""}))};return fk(()=>{let M=Math.min(10,(100-x)/5),B=Math.min(20,(100-x)/3),oe=qx(M,B);x+oe<95&&(y(x+oe),Q(x+oe))},j.current.active?j.current.refreshRate:null),v.createElement("div",{className:m,style:{...w,...d}},v.createElement("div",{className:n,style:{...C,...h}},u?v.createElement("div",{style:{...q,...f}}):null))});v.createContext(void 0);const mk=e=>{const{axios:t,...n}=e,r=v.useRef(null);return je(()=>{t.interceptors.request.use(a=>(r.current?.continuousStart(),a)),t.interceptors.response.use(a=>(r.current?.complete(),a),a=>(r.current?.complete(),Promise.reject(a)))}),i.jsx(pk,{...n,ref:r})},Hx=Ov?qj(Ec):zj(Ec),gk=()=>{const{theme:e}=vs(),{language:t}=Dr();return je(()=>{console.group("🟢 App is running."),console.table({VITE_ENV:Ev}),console.groupEnd()}),i.jsx(t0,{children:i.jsx(iv,{className:"app-container",children:i.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[i.jsx(mk,{axios:ni,color:rr,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),i.jsx(dk,{children:i.jsx(fj,{router:Hx})})]})})})};window.router=Hx;Je.extend(wv);const Bx=lw({fallbackLanguage:Op}),Vx=Bx.resolvedLanguage??Op,Kx=window.matchMedia("(prefers-color-scheme: dark)").matches?Kl.Dark:Kl.Light,xk=e=>Bx.changeLanguage(e).then(()=>{Je.locale(Zi[e].dayjs)});console.group("🔵 App booting up...");console.table({APP_VERSION:Lv,VITE_MODE:Tv,INIT_THEME:Kx,INIT_LANGUAGE:Vx});console.groupEnd();Sv.createRoot(document.getElementById("root")).render(i.jsx(Pp,{initLanguage:Vx,onChange:xk,children:i.jsx(Np,{initTheme:Kx,children:i.jsx(gk,{})})}));export{Nr as T,ss as U,LR as a,vs as b,Mk as c,Uk as d,i as j,XT as s,Zg as t,He as u};
