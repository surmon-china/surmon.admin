const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-BQ6Tczqp.js","assets/antd-DwI9fg5y.js","assets/codemirror-BFg_0RBv.js","assets/echarts-C4LX7dmx.js","assets/Editor-BdGec0f9.css"])))=>i.map(i=>d[i]);
import{r as j,a as lg,c as Nt,g as Yt,R as jr,d as kd,b as cg,e as dg,f as ug,h as fg,i as hg,C as $i,t as Fi,F as le,S as A,j as dt,k as gg,T as F,s as Bt,l as et,m as Ht,n as Fe,o as wn,p as Wn,D as Q,E as mg,L as rn,q as ci,B as N,u as pg,v as xg,w as yg,x as vg,y as Ml,z as bg,A as wg,G as jg,H as ks,I as Ze,J as It,K as Ls,M as qe,N as Cn,O as xr,P as xe,Q as vo,U as bo,V as pa,W as wo,X as _g,Y as Ld,Z as nt,_ as Qa,$ as Pd,a0 as Sg,a1 as jo,a2 as Cg,a3 as Eg,a4 as Tg,a5 as Rg,a6 as Ig,a7 as kg,a8 as ye,a9 as _o,aa as So,ab as Ad,ac as se,ad as an,ae as Od,af as Kt,ag as Dd,ah as Nd,ai as xa,aj as Ce,ak as Co,al as $d,am as In,an as Lg,ao as P,ap as jn,aq as Eo,ar as di,as as Pg,at as Ag,au as Fd,av as Og,aw as Md,ax as mn,ay as Ps,az as Ud,aA as To,aB as As,aC as Dg,aD as Mi,aE as Gn,aF as _r,aG as Os,aH as yr,aI as Ro,aJ as Ng,aK as $g,aL as Fg,aM as ca,aN as Mg,aO as Ds,aP as zd,aQ as Bd,aR as Ug,aS as Ul,aT as zg,aU as Bg,aV as Hg,aW as Hd,aX as Io,aY as zl,aZ as Vd,a_ as ko,a$ as Ns,b0 as qd,b1 as Vg,b2 as qg,b3 as Kg,b4 as Yg,b5 as Wg,b6 as Bl,b7 as Gg,b8 as Jg,b9 as Kd,ba as Zg,bb as Hl,bc as Qg,bd as Xg,be as em,bf as tm,bg as nm,bh as rm,bi as am,bj as sm,bk as sr,bl as im,bm as om}from"./antd-DwI9fg5y.js";import{u as lm,g as cm,i as dm,a as um,b as fm,c as hm,d as gm,e as mm,f as pm}from"./echarts-C4LX7dmx.js";import{_ as xm}from"./codemirror-BFg_0RBv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Yd={exports:{}},$s={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=j,vm=Symbol.for("react.element"),bm=Symbol.for("react.fragment"),wm=Object.prototype.hasOwnProperty,jm=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_m={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)wm.call(t,r)&&!_m.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:vm,type:e,key:i,ref:o,props:a,_owner:jm.current}}$s.Fragment=bm;$s.jsx=Wd;$s.jsxs=Wd;Yd.exports=$s;var s=Yd.exports,Ui={},Vl=lg;Ui.createRoot=Vl.createRoot,Ui.hydrateRoot=Vl.hydrateRoot;var Gd={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Nt,function(){var n,r,a=1e3,i=6e4,o=36e5,c=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,u=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:d,months:u,days:c,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},p=function(C){return C instanceof b},m=function(C,L,y){return new b(C,y,L.$l)},x=function(C){return r.p(C)+"s"},g=function(C){return C<0},S=function(C){return g(C)?Math.ceil(C):Math.floor(C)},T=function(C){return Math.abs(C)},v=function(C,L){return C?g(C)?{negative:!0,format:""+T(C)+L}:{negative:!1,format:""+C+L}:{negative:!1,format:""}},b=function(){function C(y,I,D){var $=this;if(this.$d={},this.$l=D,y===void 0&&(this.$ms=0,this.parseFromMilliseconds()),I)return m(y*f[x(I)],this);if(typeof y=="number")return this.$ms=y,this.parseFromMilliseconds(),this;if(typeof y=="object")return Object.keys(y).forEach(function(H){$.$d[x(H)]=y[H]}),this.calMilliseconds(),this;if(typeof y=="string"){var z=y.match(h);if(z){var Y=z.slice(2).map(function(H){return H!=null?Number(H):0});return this.$d.years=Y[0],this.$d.months=Y[1],this.$d.weeks=Y[2],this.$d.days=Y[3],this.$d.hours=Y[4],this.$d.minutes=Y[5],this.$d.seconds=Y[6],this.calMilliseconds(),this}}return this}var L=C.prototype;return L.calMilliseconds=function(){var y=this;this.$ms=Object.keys(this.$d).reduce(function(I,D){return I+(y.$d[D]||0)*f[D]},0)},L.parseFromMilliseconds=function(){var y=this.$ms;this.$d.years=S(y/d),y%=d,this.$d.months=S(y/u),y%=u,this.$d.days=S(y/c),y%=c,this.$d.hours=S(y/o),y%=o,this.$d.minutes=S(y/i),y%=i,this.$d.seconds=S(y/a),y%=a,this.$d.milliseconds=y},L.toISOString=function(){var y=v(this.$d.years,"Y"),I=v(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var $=v(D,"D"),z=v(this.$d.hours,"H"),Y=v(this.$d.minutes,"M"),H=this.$d.seconds||0;this.$d.milliseconds&&(H+=this.$d.milliseconds/1e3,H=Math.round(1e3*H)/1e3);var ie=v(H,"S"),ue=y.negative||I.negative||$.negative||z.negative||Y.negative||ie.negative,fe=z.format||Y.format||ie.format?"T":"",ve=(ue?"-":"")+"P"+y.format+I.format+$.format+fe+z.format+Y.format+ie.format;return ve==="P"||ve==="-P"?"P0D":ve},L.toJSON=function(){return this.toISOString()},L.format=function(y){var I=y||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return I.replace(l,function($,z){return z||String(D[$])})},L.as=function(y){return this.$ms/f[x(y)]},L.get=function(y){var I=this.$ms,D=x(y);return D==="milliseconds"?I%=1e3:I=D==="weeks"?S(I/f[D]):this.$d[D],I||0},L.add=function(y,I,D){var $;return $=I?y*f[x(I)]:p(y)?y.$ms:m(y,this).$ms,m(this.$ms+$*(D?-1:1),this)},L.subtract=function(y,I){return this.add(y,I,!0)},L.locale=function(y){var I=this.clone();return I.$l=y,I},L.clone=function(){return m(this.$ms,this)},L.humanize=function(y){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!y)},L.valueOf=function(){return this.asMilliseconds()},L.milliseconds=function(){return this.get("milliseconds")},L.asMilliseconds=function(){return this.as("milliseconds")},L.seconds=function(){return this.get("seconds")},L.asSeconds=function(){return this.as("seconds")},L.minutes=function(){return this.get("minutes")},L.asMinutes=function(){return this.as("minutes")},L.hours=function(){return this.get("hours")},L.asHours=function(){return this.as("hours")},L.days=function(){return this.get("days")},L.asDays=function(){return this.as("days")},L.weeks=function(){return this.get("weeks")},L.asWeeks=function(){return this.as("weeks")},L.months=function(){return this.get("months")},L.asMonths=function(){return this.as("months")},L.years=function(){return this.get("years")},L.asYears=function(){return this.as("years")},C}(),E=function(C,L,y){return C.add(L.years()*y,"y").add(L.months()*y,"M").add(L.days()*y,"d").add(L.hours()*y,"h").add(L.minutes()*y,"m").add(L.seconds()*y,"s").add(L.milliseconds()*y,"ms")};return function(C,L,y){n=y,r=y().$utils(),y.duration=function($,z){var Y=y.locale();return m($,{$l:Y},z)},y.isDuration=p;var I=L.prototype.add,D=L.prototype.subtract;L.prototype.add=function($,z){return p($)?E(this,$,1):I.bind(this)($,z)},L.prototype.subtract=function($,z){return p($)?E(this,$,-1):D.bind(this)($,z)}}})})(Gd);var Sm=Gd.exports;const Cm=Yt(Sm);var aa=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(aa||{});const Em=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],Jd=jr.createContext({}),Sr=()=>j.useContext(Jd),Zd=e=>{const[t,n]=j.useState(e.initLanguage),r=a=>{var o;const i=(o=e.onChange)==null?void 0:o.call(e,a);i instanceof Promise?i.then(()=>n(a)):n(a)};return s.jsx(Jd.Provider,{value:{language:t,changeLanguage:r},children:e.children})},Tm={BASE_URL:"/surmon.admin/",DEV:!1,MODE:"demo",PROD:!0,SSR:!1,VITE_API_URL:"/",VITE_ENABLE_AD:"true",VITE_ENABLE_HASH_ROUTER:"true"},ya="https://surmon.me",Rm="https://github.com/surmon-china/surmon.admin",Im="Authorization",km="middle",Qd="large",Ve=24,Jn="#0088f5",Xd=aa.English,Lm=Tm,Pm="demo",Am=Pm==="development",ui="/surmon.admin/",Om="/",Dm=!0,Nm=!0;var zi=(e=>(e.Light="light",e.Dark="dark",e))(zi||{});const $m=e=>e==="dark",Fm=e=>e==="light",eu=jr.createContext({}),Fs=()=>j.useContext(eu),tu=e=>{const[t,n]=j.useState(e.initTheme),r=j.useMemo(()=>$m(t),[t]),a=j.useMemo(()=>Fm(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return s.jsx(eu.Provider,{value:o,children:e.children})},Mm={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class us{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Mm,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new us(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new us(this.logger,t)}}var Vt=new us;class Ms{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[c,l]=o;for(let d=0;d<l;d++)c.apply(c,[t,...r])})}}const Ur=()=>{let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n},ql=e=>e==null?"":""+e,Um=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},zm=/###/g,Kl=e=>e&&e.indexOf("###")>-1?e.replace(zm,"."):e,Yl=e=>!e||typeof e=="string",sa=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let a=0;for(;a<r.length-1;){if(Yl(e))return{};const i=Kl(r[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return Yl(e)?{}:{obj:e,k:Kl(r[a])}},Wl=(e,t,n)=>{const{obj:r,k:a}=sa(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=sa(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=sa(e,o,Object),c&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Bm=(e,t,n,r)=>{const{obj:a,k:i}=sa(e,t,Object);a[i]=a[i]||[],a[i].push(n)},fs=(e,t)=>{const{obj:n,k:r}=sa(e,t);if(n)return n[r]},Hm=(e,t,n)=>{const r=fs(e,n);return r!==void 0?r:fs(t,n)},nu=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):nu(e[r],t[r],n):e[r]=t[r]);return e},ir=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Vm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qm=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Vm[t]):e;class Km{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Ym=[" ",",","?","!",";"],Wm=new Km(20),Gm=(e,t,n)=>{t=t||"",n=n||"";const r=Ym.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Wm.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},Bi=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,c="";for(let l=i;l<r.length;++l)if(l!==i&&(c+=n),c+=r[l],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}a=o}return a},hs=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class Gl extends Ms{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):typeof r=="string"&&i?c.push(...r.split(i)):c.push(r)));const l=fs(this.data,c);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),l||!o||typeof r!="string"?l:Bi(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,n];r&&(c=c.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(c=t.split("."),a=n,n=c[1]),this.addNamespaces(n),Wl(this.data,c,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),a=r,r=n,n=c[1]),this.addNamespaces(n);let l=fs(this.data,c)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?nu(l,r,i):l={...l,...r},Wl(this.data,c,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var ru={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,a))}),t}};const Jl={};class gs extends Ms{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Um(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Vt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Gm(t,r,a);if(o&&!c){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:i};const d=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),l=c[c.length-1],d=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const b=n.nsSeparator||this.options.nsSeparator;return a?{res:`${l}${b}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${b}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let f=h&&h.res;const p=h&&h.usedKey||o,m=h&&h.exactUsedKey||o,x=Object.prototype.toString.apply(f),g=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject;if(T&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&g.indexOf(x)<0&&!(typeof S=="string"&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(h.res=b,h.usedParams=this.getUsedParamsDetails(n),h):b}if(i){const b=Array.isArray(f),E=b?[]:{},C=b?m:p;for(const L in f)if(Object.prototype.hasOwnProperty.call(f,L)){const y=`${C}${i}${L}`;E[L]=this.translate(y,{...n,joinArrays:!1,ns:c}),E[L]===y&&(E[L]=f[L])}f=E}}else if(T&&typeof S=="string"&&Array.isArray(f))f=f.join(S),f&&(f=this.extendTranslation(f,t,n,r));else{let b=!1,E=!1;const C=n.count!==void 0&&typeof n.count!="string",L=gs.hasDefaultValue(n),y=C?this.pluralResolver.getSuffix(d,n.count,n):"",I=n.ordinal&&C?this.pluralResolver.getSuffix(d,n.count,{ordinal:!1}):"",D=C&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),$=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${y}`]||n[`defaultValue${I}`]||n.defaultValue;!this.isValidLookup(f)&&L&&(b=!0,f=$),this.isValidLookup(f)||(E=!0,f=o);const Y=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:f,H=L&&$!==f&&this.options.updateMissing;if(E||b||H){if(this.logger.log(H?"updateKey":"missingKey",d,l,o,H?$:f),i){const ve=this.resolve(o,{...n,keySeparator:!1});ve&&ve.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let ve=0;ve<ue.length;ve++)ie.push(ue[ve]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(n.lng||this.language):ie.push(n.lng||this.language);const fe=(ve,ce,We)=>{const rt=L&&We!==f?We:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ve,l,ce,rt,H,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ve,l,ce,rt,H,n),this.emit("missingKey",ve,l,ce,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?ie.forEach(ve=>{const ce=this.pluralResolver.getSuffixes(ve,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(We=>{fe([ve],o+We,n[`defaultValue${We}`]||$)})}):fe(ie,o,$))}f=this.extendTranslation(f,t,n,h,r),E&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(E||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,b?f:void 0):f=this.options.parseMissingKeyHandler(f))}return a?(h.res=f,h.usedParams=this.getUsedParamsDetails(n),h):f}extendTranslation(t,n,r,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const f=t.match(this.interpolator.nestingRegexp);u=f&&f.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||a.usedLng,r),d){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;u<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return i&&i[0]===p[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):o.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,l=typeof c=="string"?[c]:c;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=ru.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,i,o,c;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(l,n),u=d.key;a=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&typeof n.count!="string",p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(g=>{this.isValidLookup(r)||(c=g,!Jl[`${x[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(Jl[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${a}" for languages "${x.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{if(this.isValidLookup(r))return;o=S;const T=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,u,S,g,n);else{let b;f&&(b=this.pluralResolver.getSuffix(S,n.count,n));const E=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(T.push(u+b),n.ordinal&&b.indexOf(C)===0&&T.push(u+b.replace(C,this.options.pluralSeparator)),p&&T.push(u+E)),m){const L=`${u}${this.options.contextSeparator}${n.context}`;T.push(L),f&&(T.push(L+b),n.ordinal&&b.indexOf(C)===0&&T.push(L+b.replace(C,this.options.pluralSeparator)),p&&T.push(L+E))}}let v;for(;v=T.pop();)this.isValidLookup(r)||(i=v,r=this.getResource(S,g,v,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const fi=e=>e.charAt(0).toUpperCase()+e.slice(1);class Zl{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vt.create("languageUtils")}getScriptPartFromCode(t){if(t=hs(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=hs(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=fi(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=fi(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=fi(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let Jm=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Zm={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Qm=["v1","v2","v3"],Xm=["v4"],Ql={zero:0,one:1,two:2,few:3,many:4,other:5},ep=()=>{const e={};return Jm.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Zm[t.fc]}})}),e};class tp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Vt.create("pluralResolver"),(!this.options.compatibilityJSON||Xm.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ep(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=hs(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const o=new Intl.PluralRules(r,{type:a});return this.pluralRulesCache[i]=o,o}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,i)=>Ql[a]-Ql[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Qm.includes(this.options.compatibilityJSON)}}const Xl=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Hm(e,t,n);return!i&&a&&typeof n=="string"&&(i=Bi(e,n,r),i===void 0&&(i=Bi(t,n,r))),i},hi=e=>e.replace(/\$/g,"$$$$");class np{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:l,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:S,alwaysFormat:T}=t.interpolation;this.escape=n!==void 0?n:qm,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?ir(i):o||"{{",this.suffix=c?ir(c):l||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?ir(f):p||ir("$t("),this.nestingSuffix=m?ir(m):x||ir(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=S||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,c;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=p=>{if(p.indexOf(this.formatSeparator)<0){const S=Xl(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...a,...n,interpolationkey:p}):S}const m=p.split(this.formatSeparator),x=m.shift().trim(),g=m.join(this.formatSeparator).trim();return this.format(Xl(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...a,...n,interpolationkey:x})};this.resetRegExp();const u=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>hi(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?hi(this.escape(p)):hi(p)}].forEach(p=>{for(c=0;i=p.regex.exec(t);){const m=i[1].trim();if(o=d(m),o===void 0)if(typeof u=="function"){const g=u(t,i,a);o=typeof g=="string"?g:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=ql(o));const x=p.safeValue(o);if(t=t.replace(i[0],x),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const c=(l,d)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,o);const p=f.match(/'/g),m=f.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;a=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const u=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=u.shift(),l=u,d=!0}if(i=n(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=ql(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),d&&(i=l.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const rp=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...l]=o.split(":"),d=l.join(":").trim().replace(/^'+|'+$/g,""),u=c.trim();n[u]||(n[u]=d),d==="false"&&(n[u]=!1),d==="true"&&(n[u]=!0),isNaN(d)||(n[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:n}},or=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=r+JSON.stringify(i);let c=t[o];return c||(c=e(hs(r),a),t[o]=c),c(n)}};class ap{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vt.create("formatter"),this.options=t,this.formats={number:or((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return i=>a.format(i)}),currency:or((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>a.format(i)}),datetime:or((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return i=>a.format(i)}),relativetime:or((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return i=>a.format(i,r.range||"day")}),list:or((n,r)=>{const a=new Intl.ListFormat(n,{...r});return i=>a.format(i)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=or(n)}format(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,l)=>{const{formatName:d,formatOptions:u}=rp(l);if(this.formats[d]){let h=c;try{const f=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=f.locale||f.lng||a.locale||a.lng||r;h=this.formats[d](c,p,{...u,...a,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${d}`);return c},t)}}const sp=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class ip extends Ms{constructor(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Vt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},c={},l={};return t.forEach(d=>{let u=!0;n.forEach(h=>{const f=`${d}|${h}`;!r.reload&&this.store.hasResourceBundle(d,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,u=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const c={};this.queue.forEach(l=>{Bm(l.loaded,[i],o),sp(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(d=>{c[d]||(c[d]={});const u=l.loaded[d];u.length&&u.forEach(h=>{c[d][h]===void 0&&(c[d][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(d,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const d=l(t,n);d&&typeof d.then=="function"?d.then(u=>c(null,u)).catch(c):c(null,d)}catch(d){c(d)}return}return l(t,n,c)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,n,r,a,l):u=d(t,n,r,a),u&&typeof u.then=="function"?u.then(h=>c(null,h)).catch(c):c(null,u)}catch(u){c(u)}else d(t,n,r,a,c,l)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}const ec=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),tc=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Ua=()=>{},op=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class da extends Ms{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=tc(t),this.services={},this.logger=Vt,this.modules={external:[]},op(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=ec();this.options={...a,...this.options,...tc(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Vt.init(i(this.modules.logger),this.options):Vt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=ap);const h=new Zl(this.options);this.store=new Gl(this.options.resources,this.options);const f=this.services;f.logger=Vt,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new tp(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(f.formatter=i(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new np(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new ip(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),g=1;g<m;g++)x[g-1]=arguments[g];t.emit(p,...x)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new gs(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),g=1;g<m;g++)x[g-1]=arguments[g];t.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ua),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const l=Ur(),d=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ua;const a=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(t,n,r){const a=Ur();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Ua),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&ru.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const a=Ur();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},c=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const d=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),a}getFixedT(t,n,r){var a=this;const i=function(o,c){let l;if(typeof c!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),h=2;h<d;h++)u[h-2]=arguments[h];l=a.options.overloadTranslationOptionHandler([o,c].concat(u))}else l={...c};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const f=a.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${f}${m}`):p=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,a.t(p,l)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(c,l)=>{const d=this.services.backendConnector.state[`${c}|${l}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=Ur();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Ur();typeof t=="string"&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Zl(ec());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new da(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ua;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new da(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Gl(this.store.data,a),i.services.resourceStore=i.store),i.translator=new gs(i.services,a),i.translator.on("*",function(c){for(var l=arguments.length,d=new Array(l>1?l-1:0),u=1;u<l;u++)d[u-1]=arguments[u];i.emit(c,...d)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=da.createInstance();Ke.createInstance=da.createInstance;Ke.createInstance;Ke.dir;Ke.init;Ke.loadResources;Ke.reloadResources;Ke.use;Ke.changeLanguage;Ke.getFixedT;Ke.t;Ke.exists;Ke.setDefaultNamespace;Ke.hasLoadedNamespace;Ke.loadNamespaces;Ke.loadLanguages;const{slice:lp,forEach:cp}=[];function dp(e){return cp.call(lp.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const nc=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,up=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const a=encodeURIComponent(t);let i=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!nc.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!nc.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},rc={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=up(e,encodeURIComponent(t),a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e){this.create(e,"",-1)}};var fp={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return rc.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&rc.create(n,e,r,a,i)}},hp={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let c=0;c<o.length;c++){const l=o[c].indexOf("=");l>0&&o[c].substring(0,l)===t&&(n=o[c].substring(l+1))}}return n}};let zr=null;const ac=()=>{if(zr!==null)return zr;try{zr=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{zr=!1}return zr};var gp={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&ac())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&ac()&&window.localStorage.setItem(n,e)}};let Br=null;const sc=()=>{if(Br!==null)return Br;try{Br=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Br=!1}return Br};var mp={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&sc())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&sc()&&window.sessionStorage.setItem(n,e)}},pp={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},xp={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},yp={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},vp={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function bp(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class au{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=dp(n,this.options||{},bp()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(fp),this.addDetector(hp),this.addDetector(gp),this.addDetector(mp),this.addDetector(pp),this.addDetector(xp),this.addDetector(yp),this.addDetector(vp)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}au.type="languageDetector";var wp={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const jp=Yt(wp);var _p=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function ic(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(jp[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(_p),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),c=[o,""];o.indexOf("=")>-1&&(c=o.split("=")),t.attrs[c[0]]=c[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var Sp=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Cp=/^\s*$/,Ep=Object.create(null);function su(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(su,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Tp={parse:function(e,t){t||(t={}),t.components||(t.components=Ep);var n,r=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var c=e.indexOf("<");r.push({type:"text",content:c===-1?e:e.substring(0,c)})}return e.replace(Sp,function(l,d){if(o){if(l!=="</"+n.name+">")return;o=!1}var u,h=l.charAt(1)!=="/",f=l.startsWith("<!--"),p=d+l.length,m=e.charAt(p);if(f){var x=ic(l);return i<0?(r.push(x),r):((u=a[i]).children.push(x),r)}if(h&&(i++,(n=ic(l)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!m||m==="<"||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),i===0&&r.push(n),(u=a[i-1])&&u.children.push(n),a[i]=n),(!h||n.voidElement)&&(i>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(i--,n=i===-1?r:a[i]),!o&&m!=="<"&&m)){u=i===-1?r:a[i].children;var g=e.indexOf("<",p),S=e.slice(p,g===-1?void 0:g);Cp.test(S)&&(S=" "),(g>-1&&i+u.length>=0||S!==" ")&&u.push({type:"text",content:S})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+su("",n)},"")}};const Xa=(...e)=>{console!=null&&console.warn&&(Rt(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},oc={},ms=(...e)=>{Rt(e[0])&&oc[e[0]]||(Rt(e[0])&&(oc[e[0]]=new Date),Xa(...e))},iu=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},lc=(e,t,n)=>{e.loadNamespaces(t,iu(e,n))},cc=(e,t,n,r)=>{Rt(n)&&(n=[n]),n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,iu(e,r))},Rp=(e,t,n={})=>!t.languages||!t.languages.length?(ms("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),Rt=e=>typeof e=="string",fr=e=>typeof e=="object"&&e!==null,Ip=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kp={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Lp=e=>kp[e],Pp=e=>e.replace(Ip,Lp);let Hi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Pp};const Ap=(e={})=>{Hi={...Hi,...e}},ou=()=>Hi;let lu;const Op=e=>{lu=e},Lo=()=>lu,gi=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},mi=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?hr(t):t},Dp=e=>Array.isArray(e)&&e.every(j.isValidElement),hr=e=>Array.isArray(e)?e:[e],Np=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},cu=(e,t)=>{if(!e)return"";let n="";const r=hr(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((i,o)=>{if(Rt(i))n+=`${i}`;else if(j.isValidElement(i)){const{props:c,type:l}=i,d=Object.keys(c).length,u=a.indexOf(l)>-1,h=c.children;if(!h&&u&&!d)n+=`<${l}/>`;else if(!h&&(!u||d)||c.i18nIsDynamicList)n+=`<${o}></${o}>`;else if(u&&d===1&&Rt(h))n+=`<${l}>${h}</${l}>`;else{const f=cu(h,t);n+=`<${o}>${f}</${o}>`}}else if(i===null)Xa("Trans: the passed in value is invalid - seems you passed in a null child.");else if(fr(i)){const{format:c,...l}=i,d=Object.keys(l);if(d.length===1){const u=c?`${d[0]}, ${c}`:d[0];n+=`{{${u}}}`}else Xa("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else Xa("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},$p=(e,t,n,r,a,i)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(o.map(g=>`<${g}`).join("|")).test(t);if(!e&&!c&&!i)return[t];const l={},d=g=>{hr(g).forEach(T=>{Rt(T)||(gi(T)?d(mi(T)):fr(T)&&!j.isValidElement(T)&&Object.assign(l,T))})};d(e);const u=Tp.parse(`<0>${t}</0>`),h={...l,...a},f=(g,S,T)=>{var E;const v=mi(g),b=m(v,S.children,T);return Dp(v)&&b.length===0||(E=g.props)!=null&&E.i18nIsDynamicList?v:b},p=(g,S,T,v,b)=>{g.dummy?(g.children=S,T.push(j.cloneElement(g,{key:v},b?void 0:S))):T.push(...j.Children.map([g],E=>{const C={...E.props};return delete C.i18nIsDynamicList,j.createElement(E.type,{...C,key:v,ref:E.ref},b?null:S)}))},m=(g,S,T)=>{const v=hr(g);return hr(S).reduce((E,C,L)=>{var I,D;const y=((D=(I=C.children)==null?void 0:I[0])==null?void 0:D.content)&&n.services.interpolator.interpolate(C.children[0].content,h,n.language);if(C.type==="tag"){let $=v[parseInt(C.name,10)];T.length===1&&!$&&($=T[0][C.name]),$||($={});const z=Object.keys(C.attrs).length!==0?Np({props:C.attrs},$):$,Y=j.isValidElement(z),H=Y&&gi(C,!0)&&!C.voidElement,ie=c&&fr(z)&&z.dummy&&!Y,ue=fr(e)&&Object.hasOwnProperty.call(e,C.name);if(Rt(z)){const fe=n.services.interpolator.interpolate(z,h,n.language);E.push(fe)}else if(gi(z)||H){const fe=f(z,C,T);p(z,fe,E,L)}else if(ie){const fe=m(v,C.children,T);p(z,fe,E,L)}else if(Number.isNaN(parseFloat(C.name)))if(ue){const fe=f(z,C,T);p(z,fe,E,L,C.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(C.name)>-1)if(C.voidElement)E.push(j.createElement(C.name,{key:`${C.name}-${L}`}));else{const fe=m(v,C.children,T);E.push(j.createElement(C.name,{key:`${C.name}-${L}`},fe))}else if(C.voidElement)E.push(`<${C.name} />`);else{const fe=m(v,C.children,T);E.push(`<${C.name}>${fe}</${C.name}>`)}else if(fr(z)&&!Y){const fe=C.children[0]?y:null;fe&&E.push(fe)}else p(z,y,E,L,C.children.length!==1||!y)}else if(C.type==="text"){const $=r.transWrapTextNodes,z=i?r.unescape(n.services.interpolator.interpolate(C.content,h,n.language)):n.services.interpolator.interpolate(C.content,h,n.language);$?E.push(j.createElement($,{key:`${C.name}-${L}`},z)):E.push(z)}return E},[])},x=m([{dummy:!0,children:e||[]}],u,hr(e||[]));return mi(x[0])};function Fp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:u,t:h,shouldUnescape:f,...p}){var $,z,Y,H;const m=u||Lo();if(!m)return ms("You will need to pass in an i18next instance by using i18nextReactModule"),e;const x=h||m.t.bind(m)||(ie=>ie),g={...ou(),...($=m.options)==null?void 0:$.react};let S=d||x.ns||((z=m.options)==null?void 0:z.defaultNS);S=Rt(S)?[S]:S||["translation"];const T=cu(e,g),v=c||T||g.transEmptyNodeValue||r,{hashTransKey:b}=g,E=r||(b?b(T||v):T||v);(H=(Y=m.options)==null?void 0:Y.interpolation)!=null&&H.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const C=o||t!==void 0||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},L={...i,context:a||i.context,count:t,...o,...C,defaultValue:v,ns:S},y=E?x(E,L):v;l&&Object.keys(l).forEach(ie=>{const ue=l[ie];if(typeof ue.type=="function"||!ue.props||!ue.props.children||y.indexOf(`${ie}/>`)<0&&y.indexOf(`${ie} />`)<0)return;function fe(){return j.createElement(j.Fragment,null,ue)}l[ie]=j.createElement(fe)});const I=$p(l||e,y,m,g,L,f),D=n??g.defaultTransParent;return D?j.createElement(D,p,I):I}const Mp={type:"3rdParty",init(e){Ap(e.options.react),Op(e)}},du=j.createContext();class Up{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Cr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:c,components:l,ns:d,i18n:u,t:h,shouldUnescape:f,...p}){var T;const{i18n:m,defaultNS:x}=j.useContext(du)||{},g=u||m||Lo(),S=h||(g==null?void 0:g.t.bind(g));return Fp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:o,defaults:c,components:l,ns:d||(S==null?void 0:S.ns)||x||((T=g==null?void 0:g.options)==null?void 0:T.defaultNS),i18n:g,t:h,shouldUnescape:f,...p})}const zp=(e,t)=>{const n=j.useRef();return j.useEffect(()=>{n.current=e},[e,t]),n.current},uu=(e,t,n,r)=>e.getFixedT(t,n,r),Bp=(e,t,n,r)=>j.useCallback(uu(e,t,n,r),[e,t,n,r]),Ye=(e,t={})=>{var b,E,C,L;const{i18n:n}=t,{i18n:r,defaultNS:a}=j.useContext(du)||{},i=n||r||Lo();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Up),!i){ms("You will need to pass in an i18next instance by using initReactI18next");const y=(D,$)=>Rt($)?$:fr($)&&Rt($.defaultValue)?$.defaultValue:Array.isArray(D)?D[D.length-1]:D,I=[y,{},!1];return I.t=y,I.i18n={},I.ready=!1,I}(b=i.options.react)!=null&&b.wait&&ms("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...ou(),...i.options.react,...t},{useSuspense:c,keyPrefix:l}=o;let d=a||((E=i.options)==null?void 0:E.defaultNS);d=Rt(d)?[d]:d||["translation"],(L=(C=i.reportNamespaces).addUsedNamespaces)==null||L.call(C,d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(y=>Rp(y,i,o)),h=Bp(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),f=()=>h,p=()=>uu(i,t.lng||null,o.nsMode==="fallback"?d:d[0],l),[m,x]=j.useState(f);let g=d.join();t.lng&&(g=`${t.lng}${g}`);const S=zp(g),T=j.useRef(!0);j.useEffect(()=>{const{bindI18n:y,bindI18nStore:I}=o;T.current=!0,!u&&!c&&(t.lng?cc(i,t.lng,d,()=>{T.current&&x(p)}):lc(i,d,()=>{T.current&&x(p)})),u&&S&&S!==g&&T.current&&x(p);const D=()=>{T.current&&x(p)};return y&&(i==null||i.on(y,D)),I&&(i==null||i.store.on(I,D)),()=>{T.current=!1,i&&(y==null||y.split(" ").forEach($=>i.off($,D))),I&&i&&I.split(" ").forEach($=>i.store.off($,D))}},[i,g]),j.useEffect(()=>{T.current&&u&&x(f)},[i,l,u]);const v=[m,i,u];if(v.t=m,v.i18n=i,v.ready=u,u||!u&&!c)return v;throw new Promise(y=>{t.lng?cc(i,t.lng,d,()=>y()):lc(i,d,()=>y())})};var fu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Nt,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})})(fu);var Hp=fu.exports;const Vp=Yt(Hp);var hu={exports:{}};(function(e,t){(function(n,r){e.exports=r(kd)})(Nt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(hu);var qp=hu.exports;const Kp=Yt(qp);var gu={exports:{}};(function(e,t){(function(n,r){e.exports=r(kd)})(Nt,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,c){return c==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,c){var l=100*o+c;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(gu);var Yp=gu.exports;const Wp=Yt(Yp),Gp={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile","page.setting.statics":"Statics","page.statics.list.title":"File list"},Jp={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料","page.setting.statics":"文件管理","page.statics.list.title":"文件列表"},Zp={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料","page.setting.statics":"媒體管理","page.statics.list.title":"媒體列表"},ps={[aa.English]:{i18n:Gp,dayjs:Vp,antd:cg},[aa.SimplifiedChinese]:{i18n:Jp,dayjs:Kp,antd:dg},[aa.TraditionalChinese]:{i18n:Zp,dayjs:Wp,antd:ug}},Fn=Ke,Qp=Object.keys(ps).reduce((e,t)=>(e[t]={translation:ps[t].i18n},e),{}),Xp=e=>(Ke.use(au).use(Mp).init({debug:Am,cleanCode:!0,resources:Qp,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),Ke);/**
* @vue/shared v3.5.2
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ex(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const tx={},nx=()=>{};const rx=Object.prototype.hasOwnProperty,Vi=(e,t)=>rx.call(e,t),_n=Array.isArray,ia=e=>Us(e)==="[object Map]",ax=e=>Us(e)==="[object Set]",qi=e=>typeof e=="function",sx=e=>typeof e=="string",va=e=>typeof e=="symbol",ba=e=>e!==null&&typeof e=="object",ix=Object.prototype.toString,Us=e=>ix.call(e),ox=e=>Us(e).slice(8,-1),lx=e=>Us(e)==="[object Object]",Po=e=>sx(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.5.2
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;const pi=new WeakSet;class cx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pi.has(this)&&(pi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=oa,oa=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dc(this),pu(this);const t=Re,n=$t;Re=this,$t=!0;try{return this.fn()}finally{xu(this),Re=t,$t=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Do(t);this.deps=this.depsTail=void 0,dc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ki(this)&&this.run()}get dirty(){return Ki(this)}}let mu=0,oa;function Ao(){mu++}function Oo(){if(--mu>0)return;let e;for(;oa;){let t=oa;for(oa=void 0;t;){const n=t.nextEffect;if(t.nextEffect=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function pu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xu(e){let t,n=e.depsTail;for(let r=n;r;r=r.prevDep)r.version===-1?(r===n&&(n=r.prevDep),Do(r),dx(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0;e.deps=t,e.depsTail=n}function Ki(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&yu(t.dep.computed)===!1||t.dep.version!==t.version)return!0;return!!e._dirty}function yu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ua))return;e.globalVersion=ua;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&!Ki(e)){e.flags&=-3;return}const n=Re,r=$t;Re=e,$t=!0;try{pu(e);const a=e.fn(e._value);(t.version===0||En(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Re=n,$t=r,xu(e),e.flags&=-3}}function Do(e){const{dep:t,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),t.subs===e&&(t.subs=n),!t.subs&&t.computed){t.computed.flags&=-5;for(let a=t.computed.deps;a;a=a.nextDep)Do(a)}}function dx(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let $t=!0;const vu=[];function bu(){vu.push($t),$t=!1}function wu(){const e=vu.pop();$t=e===void 0?!0:e}function dc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Re;Re=void 0;try{t()}finally{Re=n}}}let ua=0;class No{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0}track(t){if(!Re||!$t||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink={dep:this,sub:Re,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,Re.flags&4&&ju(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=r)}return n}trigger(t){this.version++,ua++,this.notify(t)}notify(t){Ao();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{Oo()}}}function ju(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ju(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const Yi=new WeakMap,Mn=Symbol(""),Wi=Symbol(""),fa=Symbol("");function gt(e,t,n){if($t&&Re){let r=Yi.get(e);r||Yi.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=new No),a.track()}}function Sn(e,t,n,r,a,i){const o=Yi.get(e);if(!o){ua++;return}let c=[];if(t==="clear")c=[...o.values()];else{const l=_n(e),d=l&&Po(n);if(l&&n==="length"){const u=Number(r);o.forEach((h,f)=>{(f==="length"||f===fa||!va(f)&&f>=u)&&c.push(h)})}else{const u=h=>h&&c.push(h);switch(n!==void 0&&u(o.get(n)),d&&u(o.get(fa)),t){case"add":l?d&&u(o.get("length")):(u(o.get(Mn)),ia(e)&&u(o.get(Wi)));break;case"delete":l||(u(o.get(Mn)),ia(e)&&u(o.get(Wi)));break;case"set":ia(e)&&u(o.get(Mn));break}}}Ao();for(const l of c)l.trigger();Oo()}function lr(e){const t=Ie(e);return t===e?t:(gt(t,"iterate",fa),Ft(e)?t:t.map(ct))}function $o(e){return gt(e=Ie(e),"iterate",fa),e}const ux={__proto__:null,[Symbol.iterator](){return xi(this,Symbol.iterator,ct)},concat(...e){return lr(this).concat(...e.map(t=>_n(t)?lr(t):t))},entries(){return xi(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Zt(this,"every",e,t,void 0,arguments)},filter(e,t){return Zt(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return Zt(this,"find",e,t,ct,arguments)},findIndex(e,t){return Zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zt(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return yi(this,"includes",e)},indexOf(...e){return yi(this,"indexOf",e)},join(e){return lr(this).join(e)},lastIndexOf(...e){return yi(this,"lastIndexOf",e)},map(e,t){return Zt(this,"map",e,t,void 0,arguments)},pop(){return Hr(this,"pop")},push(...e){return Hr(this,"push",e)},reduce(e,...t){return uc(this,"reduce",e,t)},reduceRight(e,...t){return uc(this,"reduceRight",e,t)},shift(){return Hr(this,"shift")},some(e,t){return Zt(this,"some",e,t,void 0,arguments)},splice(...e){return Hr(this,"splice",e)},toReversed(){return lr(this).toReversed()},toSorted(e){return lr(this).toSorted(e)},toSpliced(...e){return lr(this).toSpliced(...e)},unshift(...e){return Hr(this,"unshift",e)},values(){return xi(this,"values",ct)}};function xi(e,t,n){const r=$o(e),a=r[t]();return r!==e&&!Ft(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const fx=Array.prototype;function Zt(e,t,n,r,a,i){const o=$o(e),c=o!==e&&!Ft(e),l=o[t];if(l!==fx[t]){const h=l.apply(e,i);return c?ct(h):h}let d=n;o!==e&&(c?d=function(h,f){return n.call(this,ct(h),f,e)}:n.length>2&&(d=function(h,f){return n.call(this,h,f,e)}));const u=l.call(o,d,r);return c&&a?a(u):u}function uc(e,t,n,r){const a=$o(e);let i=n;return a!==e&&(Ft(e)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,e)}):i=function(o,c,l){return n.call(this,o,ct(c),l,e)}),a[t](i,...r)}function yi(e,t,n){const r=Ie(e);gt(r,"iterate",fa);const a=r[t](...n);return(a===-1||a===!1)&&Lx(n[0])?(n[0]=Ie(n[0]),r[t](...n)):a}function Hr(e,t,n=[]){bu(),Ao();const r=Ie(e)[t].apply(e,n);return Oo(),wu(),r}const hx=ex("__proto__,__v_isRef,__isVue"),_u=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(va));function gx(e){va(e)||(e=String(e));const t=Ie(this);return gt(t,"has",e),t.hasOwnProperty(e)}class Su{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?Tx:Ru:i?Tu:Eu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=_n(t);if(!a){let l;if(o&&(l=ux[n]))return l;if(n==="hasOwnProperty")return gx}const c=Reflect.get(t,n,en(t)?t:r);return(va(n)?_u.has(n):hx(n))||(a||gt(t,"get",n),i)?c:en(c)?o&&Po(n)?c:c.value:ba(c)?a?Iu(c):Uo(c):c}}class Cu extends Su{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=Bn(i);if(!Ft(r)&&!Bn(r)&&(i=Ie(i),r=Ie(r)),!_n(t)&&en(i)&&!en(r))return l?!1:(i.value=r,!0)}const o=_n(t)&&Po(n)?Number(n)<t.length:Vi(t,n),c=Reflect.set(t,n,r,en(t)?t:a);return t===Ie(a)&&(o?En(r,i)&&Sn(t,"set",n,r):Sn(t,"add",n,r)),c}deleteProperty(t,n){const r=Vi(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Sn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!va(n)||!_u.has(n))&&gt(t,"has",n),r}ownKeys(t){return gt(t,"iterate",_n(t)?"length":Mn),Reflect.ownKeys(t)}}class mx extends Su{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const px=new Cu,xx=new mx,yx=new Cu(!0),Fo=e=>e,zs=e=>Reflect.getPrototypeOf(e);function za(e,t,n=!1,r=!1){e=e.__v_raw;const a=Ie(e),i=Ie(t);n||(En(t,i)&&gt(a,"get",t),gt(a,"get",i));const{has:o}=zs(a),c=r?Fo:n?Bo:ct;if(o.call(a,t))return c(e.get(t));if(o.call(a,i))return c(e.get(i));e!==a&&e.get(t)}function Ba(e,t=!1){const n=this.__v_raw,r=Ie(n),a=Ie(e);return t||(En(e,a)&&gt(r,"has",e),gt(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Ha(e,t=!1){return e=e.__v_raw,!t&&gt(Ie(e),"iterate",Mn),Reflect.get(e,"size",e)}function fc(e,t=!1){!t&&!Ft(e)&&!Bn(e)&&(e=Ie(e));const n=Ie(this);return zs(n).has.call(n,e)||(n.add(e),Sn(n,"add",e,e)),this}function hc(e,t,n=!1){!n&&!Ft(t)&&!Bn(t)&&(t=Ie(t));const r=Ie(this),{has:a,get:i}=zs(r);let o=a.call(r,e);o||(e=Ie(e),o=a.call(r,e));const c=i.call(r,e);return r.set(e,t),o?En(t,c)&&Sn(r,"set",e,t):Sn(r,"add",e,t),this}function gc(e){const t=Ie(this),{has:n,get:r}=zs(t);let a=n.call(t,e);a||(e=Ie(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&Sn(t,"delete",e,void 0),i}function mc(){const e=Ie(this),t=e.size!==0,n=e.clear();return t&&Sn(e,"clear",void 0,void 0),n}function Va(e,t){return function(r,a){const i=this,o=i.__v_raw,c=Ie(o),l=t?Fo:e?Bo:ct;return!e&&gt(c,"iterate",Mn),o.forEach((d,u)=>r.call(a,l(d),l(u),i))}}function qa(e,t,n){return function(...r){const a=this.__v_raw,i=Ie(a),o=ia(i),c=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,d=a[e](...r),u=n?Fo:t?Bo:ct;return!t&&gt(i,"iterate",l?Wi:Mn),{next(){const{value:h,done:f}=d.next();return f?{value:h,done:f}:{value:c?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vx(){const e={get(i){return za(this,i)},get size(){return Ha(this)},has:Ba,add:fc,set:hc,delete:gc,clear:mc,forEach:Va(!1,!1)},t={get(i){return za(this,i,!1,!0)},get size(){return Ha(this)},has:Ba,add(i){return fc.call(this,i,!0)},set(i,o){return hc.call(this,i,o,!0)},delete:gc,clear:mc,forEach:Va(!1,!0)},n={get(i){return za(this,i,!0)},get size(){return Ha(this,!0)},has(i){return Ba.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Va(!0,!1)},r={get(i){return za(this,i,!0,!0)},get size(){return Ha(this,!0)},has(i){return Ba.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:Va(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=qa(i,!1,!1),n[i]=qa(i,!0,!1),t[i]=qa(i,!1,!0),r[i]=qa(i,!0,!0)}),[e,n,t,r]}const[bx,wx,jx,_x]=vx();function Mo(e,t){const n=t?e?_x:jx:e?wx:bx;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Vi(n,a)&&a in r?n:r,a,i)}const Sx={get:Mo(!1,!1)},Cx={get:Mo(!1,!0)},Ex={get:Mo(!0,!1)},Eu=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,Tx=new WeakMap;function Rx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ix(e){return e.__v_skip||!Object.isExtensible(e)?0:Rx(ox(e))}function Uo(e){return Bn(e)?e:zo(e,!1,px,Sx,Eu)}function kx(e){return zo(e,!1,yx,Cx,Tu)}function Iu(e){return zo(e,!0,xx,Ex,Ru)}function zo(e,t,n,r,a){if(!ba(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=Ix(e);if(o===0)return e;const c=new Proxy(e,o===2?r:n);return a.set(e,c),c}function es(e){return Bn(e)?es(e.__v_raw):!!(e&&e.__v_isReactive)}function Bn(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function Lx(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}const ct=e=>ba(e)?Uo(e):e,Bo=e=>ba(e)?Iu(e):e;function en(e){return e?e.__v_isRef===!0:!1}function ku(e){return Lu(e,!1)}function Px(e){return Lu(e,!0)}function Lu(e,t){return en(e)?e:new Ax(e,t)}class Ax{constructor(t,n){this.dep=new No,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ie(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ft(t)||Bn(t);t=r?t:Ie(t),En(t,n)&&(this._rawValue=t,this._value=r?t:ct(t),this.dep.trigger())}}class Ox{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new No(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ua-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){this.flags|=16,Re!==this&&this.dep.notify()}get value(){const t=this.dep.track();return yu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Dx(e,t,n=!1){let r,a;return qi(e)?r=e:(r=e.get,a=e.set),new Ox(r,a,n)}const Ka={},xs=new WeakMap;let An;function Nx(e,t=!1,n=An){if(n){let r=xs.get(n);r||xs.set(n,r=[]),r.push(e)}}function $x(e,t,n=tx){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:c,call:l}=n,d=v=>a?v:Ft(v)||a===!1||a===0?yn(v,1):yn(v);let u,h,f,p,m=!1,x=!1;if(en(e)?(h=()=>e.value,m=Ft(e)):es(e)?(h=()=>d(e),m=!0):_n(e)?(x=!0,m=e.some(v=>es(v)||Ft(v)),h=()=>e.map(v=>{if(en(v))return v.value;if(es(v))return d(v);if(qi(v))return l?l(v,2):v()})):qi(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){bu();try{f()}finally{wu()}}const v=An;An=u;try{return l?l(e,3,[p]):e(p)}finally{An=v}}:h=nx,t&&a){const v=h,b=a===!0?1/0:a;h=()=>yn(v(),b)}const g=()=>{u.stop()};if(i)if(t){const v=t;t=(...b)=>{v(...b),g()}}else{const v=h;h=()=>{v(),g()}}let S=x?new Array(e.length).fill(Ka):Ka;const T=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(t){const b=u.run();if(a||m||(x?b.some((E,C)=>En(E,S[C])):En(b,S))){f&&f();const E=An;An=u;try{const C=[b,S===Ka?void 0:x&&S[0]===Ka?[]:S,p];l?l(t,3,C):t(...C),S=b}finally{An=E}}}else u.run()};return c&&c(T),u=new cx(h),u.scheduler=o?()=>o(T,!1):T,p=v=>Nx(v,!1,u),f=u.onStop=()=>{const v=xs.get(u);if(v){if(l)l(v,4);else for(const b of v)b();xs.delete(u)}},t?r?T(!0):S=u.run():o?o(T.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function yn(e,t=1/0,n){if(t<=0||!ba(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,en(e))yn(e.value,t,n);else if(_n(e))for(let r=0;r<e.length;r++)yn(e[r],t,n);else if(ax(e)||ia(e))e.forEach(r=>{yn(r,t,n)});else if(lx(e)){for(const r in e)yn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&yn(e[r],t,n)}return e}/*!
 * veact v1.0.0
 * https://github.com/veactjs/veact
 *
 * Includes @vue/reactivity
 * https://github.com/vuejs/core/tree/main/packages/reactivity
 *
 * (c) 2021-present Surmon and Veact contributors.
 * Released under the MIT License.
 *
 * Date: 2024-09-05T14:34:40.987Z
 */function Ee(e){j.useEffect(()=>{e()},[])}function Ho(e){j.useEffect(()=>()=>{e()},[])}const Fx=e=>e+1,wa=()=>j.useReducer(Fx,0)[1],vi="veact",Mx={...console,log(...e){console.log(`[${vi}]`,...e)},warn(...e){console.warn(`[${vi}]`,...e)},error(...e){console.error(`[${vi}]`,...e)}};function Ux(e,t,n={}){return $x(e,t,{...n,onWarn:Mx.warn,scheduler:r=>r()})}const Ct=(e,t,n={})=>{const[r]=j.useState(()=>Ux(e,t,n));return Ho(()=>r.stop()),r};function Z(e){const[t]=j.useState(()=>ku(e)),n=wa();return Ct(t,n,{deep:!0}),t}function ut(e){const[t]=j.useState(()=>Px(e)),n=wa();return Ct(t,n),t}function Pu(e){const[t]=j.useState(()=>Uo(e)),n=wa();return Ct(t,n),t}function sn(e){const[t]=j.useState(()=>kx(e)),n=wa();return Ct(t,n),t}function St(e,t){const[n]=j.useState(()=>Dx(e)),r=wa();return Ct(n,r),n}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var $e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($e||($e={}));const pc="popstate";function zx(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:c}=r.location;return vr("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Tn(a)}return Au(t,n,null,e)}function Bx(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:c="",hash:l=""}=on(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),vr("",{pathname:o,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let l=a.location.href,d=l.indexOf("#");c=d===-1?l:l.slice(0,d)}return c+"#"+(typeof i=="string"?i:Tn(i))}function r(a,i){Hn(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Au(t,n,r,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hx(){return Math.random().toString(36).substr(2,8)}function xc(e,t){return{usr:e.state,key:e.key,idx:t}}function vr(e,t,n,r){return n===void 0&&(n=null),Le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:n,key:t&&t.key||r||Hx()})}function Tn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function on(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Au(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c=$e.Pop,l=null,d=u();d==null&&(d=0,o.replaceState(Le({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){c=$e.Pop;let g=u(),S=g==null?null:g-d;d=g,l&&l({action:c,location:x.location,delta:S})}function f(g,S){c=$e.Push;let T=vr(x.location,g,S);n&&n(T,g),d=u()+1;let v=xc(T,d),b=x.createHref(T);try{o.pushState(v,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}i&&l&&l({action:c,location:x.location,delta:1})}function p(g,S){c=$e.Replace;let T=vr(x.location,g,S);n&&n(T,g),d=u();let v=xc(T,d),b=x.createHref(T);o.replaceState(v,"",b),i&&l&&l({action:c,location:x.location,delta:0})}function m(g){let S=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof g=="string"?g:Tn(g);return T=T.replace(/ $/,"%20"),ae(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let x={get action(){return c},get location(){return e(a,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(pc,h),l=g,()=>{a.removeEventListener(pc,h),l=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let S=m(g);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:f,replace:p,go(g){return o.go(g)}};return x}var Se;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Se||(Se={}));const Vx=new Set(["lazy","caseSensitive","path","id","index","children"]);function qx(e){return e.index===!0}function ha(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...n,String(i)],c=typeof a.id=="string"?a.id:o.join("-");if(ae(a.index!==!0||!a.children,"Cannot specify children on an index route"),ae(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),qx(a)){let l=Le({},a,t(a),{id:c});return r[c]=l,l}else{let l=Le({},a,t(a),{id:c,children:void 0});return r[c]=l,a.children&&(l.children=ha(a.children,t,o,r)),l}})}function On(e,t,n){return n===void 0&&(n="/"),ts(e,t,n,!1)}function ts(e,t,n,r){let a=typeof t=="string"?on(t):t,i=Er(a.pathname||"/",n);if(i==null)return null;let o=Ou(e);Yx(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let d=ay(i);c=ny(o[l],d,r)}return c}function Kx(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Ou(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=tn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ou(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:ey(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of Du(i.path))a(i,o,l)}),t}function Du(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Du(r.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function Yx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ty(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wx=/^:[\w-]+$/,Gx=3,Jx=2,Zx=1,Qx=10,Xx=-2,yc=e=>e==="*";function ey(e,t){let n=e.split("/"),r=n.length;return n.some(yc)&&(r+=Xx),t&&(r+=Jx),n.filter(a=>!yc(a)).reduce((a,i)=>a+(Wx.test(i)?Gx:i===""?Zx:Qx),r)}function ty(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function ny(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let c=0;c<r.length;++c){let l=r[c],d=c===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Gi({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),f=l.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Gi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:tn([i,h.pathname]),pathnameBase:oy(tn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=tn([i,h.pathnameBase]))}return o}function Gi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ry(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let x=c[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=c[h];return p&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function ry(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ay(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Er(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?on(e):e;return{pathname:n?n.startsWith("/")?n:iy(n,t):t,search:ly(r),hash:cy(a)}}function iy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nu(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bs(e,t){let n=Nu(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hs(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=on(e):(a=Le({},e),ae(!a.pathname||!a.pathname.includes("?"),bi("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),bi("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),bi("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}c=h>=0?t[h]:"/"}let l=sy(a,c),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),oy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ly=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class ys{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vs(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $u=["post","put","patch","delete"],dy=new Set($u),uy=["get",...$u],fy=new Set(uy),hy=new Set([301,302,303,307,308]),gy=new Set([307,308]),wi={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},my={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Vo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,py=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Fu="remix-router-transitions";function Mu(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let w=e.detectErrorBoundary;a=_=>({hasErrorBoundary:w(_)})}else a=py;let i={},o=ha(e.routes,a,void 0,i),c,l=e.basename||"/",d=e.unstable_dataStrategy||wy,u=e.unstable_patchRoutesOnNavigation,h=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,p=new Set,m=1e3,x=new Set,g=null,S=null,T=null,v=e.hydrationData!=null,b=On(o,e.history.location,l),E=null;if(b==null&&!u){let w=it(404,{pathname:e.history.location.pathname}),{matches:_,route:R}=Rc(o);b=_,E={[R.id]:w}}b&&!e.hydrationData&&Da(b,o,e.history.location.pathname).active&&(b=null);let C;if(b)if(b.some(w=>w.route.lazy))C=!1;else if(!b.some(w=>w.route.loader))C=!0;else if(h.v7_partialHydration){let w=e.hydrationData?e.hydrationData.loaderData:null,_=e.hydrationData?e.hydrationData.errors:null,R=O=>O.route.loader?typeof O.route.loader=="function"&&O.route.loader.hydrate===!0?!1:w&&w[O.route.id]!==void 0||_&&_[O.route.id]!==void 0:!0;if(_){let O=b.findIndex(U=>_[U.route.id]!==void 0);C=b.slice(0,O+1).every(R)}else C=b.every(R)}else C=e.hydrationData!=null;else if(C=!1,b=[],h.v7_partialHydration){let w=Da(null,o,e.history.location.pathname);w.active&&w.matches&&(b=w.matches)}let L,y={historyAction:e.history.action,location:e.history.location,matches:b,initialized:C,navigation:wi,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},I=$e.Pop,D=!1,$,z=!1,Y=new Map,H=null,ie=!1,ue=!1,fe=[],ve=new Set,ce=new Map,We=0,rt=-1,at=new Map,Qe=new Set,kt=new Map,mt=new Map,He=new Set,Xe=new Map,pt=new Map,Gt=new Map,Ut=!1;function er(){if(f=e.history.listen(w=>{let{action:_,location:R,delta:O}=w;if(Ut){Ut=!1;return}Hn(pt.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=Ol({currentLocation:y.location,nextLocation:R,historyAction:_});if(U&&O!=null){Ut=!0,e.history.go(O*-1),Aa(U,{state:"blocked",location:R,proceed(){Aa(U,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(O)},reset(){let B=new Map(y.blockers);B.set(U,Vr),je({blockers:B})}});return}return Lt(_,R)}),n){Oy(t,Y);let w=()=>Dy(t,Y);t.addEventListener("pagehide",w),H=()=>t.removeEventListener("pagehide",w)}return y.initialized||Lt($e.Pop,y.location,{initialHydration:!0}),L}function Et(){f&&f(),H&&H(),p.clear(),$&&$.abort(),y.fetchers.forEach((w,_)=>st(_)),y.blockers.forEach((w,_)=>Al(_))}function cn(w){return p.add(w),()=>p.delete(w)}function je(w,_){_===void 0&&(_={}),y=Le({},y,w);let R=[],O=[];h.v7_fetcherPersist&&y.fetchers.forEach((U,B)=>{U.state==="idle"&&(He.has(B)?O.push(B):R.push(B))}),[...p].forEach(U=>U(y,{deletedFetchers:O,unstable_viewTransitionOpts:_.viewTransitionOpts,unstable_flushSync:_.flushSync===!0})),h.v7_fetcherPersist&&(R.forEach(U=>y.fetchers.delete(U)),O.forEach(U=>st(U)))}function Pe(w,_,R){var O,U;let{flushSync:B}=R===void 0?{}:R,J=y.actionData!=null&&y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&y.navigation.state==="loading"&&((O=w.state)==null?void 0:O._isRedirect)!==!0,M;_.actionData?Object.keys(_.actionData).length>0?M=_.actionData:M=null:J?M=y.actionData:M=null;let X=_.loaderData?Ec(y.loaderData,_.loaderData,_.matches||[],_.errors):y.loaderData,q=y.blockers;q.size>0&&(q=new Map(q),q.forEach((we,Te)=>q.set(Te,Vr)));let te=D===!0||y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&((U=w.state)==null?void 0:U._isRedirect)!==!0;c&&(o=c,c=void 0),ie||I===$e.Pop||(I===$e.Push?e.history.push(w,w.state):I===$e.Replace&&e.history.replace(w,w.state));let _e;if(I===$e.Pop){let we=Y.get(y.location.pathname);we&&we.has(w.pathname)?_e={currentLocation:y.location,nextLocation:w}:Y.has(w.pathname)&&(_e={currentLocation:w,nextLocation:y.location})}else if(z){let we=Y.get(y.location.pathname);we?we.add(w.pathname):(we=new Set([w.pathname]),Y.set(y.location.pathname,we)),_e={currentLocation:y.location,nextLocation:w}}je(Le({},_,{actionData:M,loaderData:X,historyAction:I,location:w,initialized:!0,navigation:wi,revalidation:"idle",restoreScrollPosition:Nl(w,_.matches||y.matches),preventScrollReset:te,blockers:q}),{viewTransitionOpts:_e,flushSync:B===!0}),I=$e.Pop,D=!1,z=!1,ie=!1,ue=!1,fe=[]}async function Oe(w,_){if(typeof w=="number"){e.history.go(w);return}let R=Ji(y.location,y.matches,l,h.v7_prependBasename,w,h.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:O,submission:U,error:B}=vc(h.v7_normalizeFormMethod,!1,R,_),J=y.location,M=vr(y.location,O,_&&_.state);M=Le({},M,e.history.encodeLocation(M));let X=_&&_.replace!=null?_.replace:void 0,q=$e.Push;X===!0?q=$e.Replace:X===!1||U!=null&&At(U.formMethod)&&U.formAction===y.location.pathname+y.location.search&&(q=$e.Replace);let te=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,_e=(_&&_.unstable_flushSync)===!0,we=Ol({currentLocation:J,nextLocation:M,historyAction:q});if(we){Aa(we,{state:"blocked",location:M,proceed(){Aa(we,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),Oe(w,_)},reset(){let Te=new Map(y.blockers);Te.set(we,Vr),je({blockers:Te})}});return}return await Lt(q,M,{submission:U,pendingError:B,preventScrollReset:te,replace:_&&_.replace,enableViewTransition:_&&_.unstable_viewTransition,flushSync:_e})}function Tt(){if(yt(),je({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Lt(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Lt(I||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Lt(w,_,R){$&&$.abort(),$=null,I=w,ie=(R&&R.startUninterruptedRevalidation)===!0,ag(y.location,y.matches),D=(R&&R.preventScrollReset)===!0,z=(R&&R.enableViewTransition)===!0;let O=c||o,U=R&&R.overrideNavigation,B=On(O,_,l),J=(R&&R.flushSync)===!0,M=Da(B,O,_.pathname);if(M.active&&M.matches&&(B=M.matches),!B){let{error:me,notFoundMatches:Ge,route:De}=oi(_.pathname);Pe(_,{matches:Ge,loaderData:{},errors:{[De.id]:me}},{flushSync:J});return}if(y.initialized&&!ue&&Ty(y.location,_)&&!(R&&R.submission&&At(R.submission.formMethod))){Pe(_,{matches:B},{flushSync:J});return}$=new AbortController;let X=cr(e.history,_,$.signal,R&&R.submission),q;if(R&&R.pendingError)q=[gr(B).route.id,{type:Se.error,error:R.pendingError}];else if(R&&R.submission&&At(R.submission.formMethod)){let me=await ii(X,_,R.submission,B,M.active,{replace:R.replace,flushSync:J});if(me.shortCircuited)return;if(me.pendingActionResult){let[Ge,De]=me.pendingActionResult;if(wt(De)&&Vs(De.error)&&De.error.status===404){$=null,Pe(_,{matches:me.matches,loaderData:{},errors:{[Ge]:De.error}});return}}B=me.matches||B,q=me.pendingActionResult,U=ji(_,R.submission),J=!1,M.active=!1,X=cr(e.history,X.url,X.signal)}let{shortCircuited:te,matches:_e,loaderData:we,errors:Te}=await Pa(X,_,B,M.active,U,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,J,q);te||($=null,Pe(_,Le({matches:_e||B},Tc(q),{loaderData:we,errors:Te})))}async function ii(w,_,R,O,U,B){B===void 0&&(B={}),yt();let J=Py(_,R);if(je({navigation:J},{flushSync:B.flushSync===!0}),U){let q=await Na(O,_.pathname,w.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let{boundaryId:te,error:_e}=Oa(_.pathname,q);return{matches:q.partialMatches,pendingActionResult:[te,{type:Se.error,error:_e}]}}else if(q.matches)O=q.matches;else{let{notFoundMatches:te,error:_e,route:we}=oi(_.pathname);return{matches:te,pendingActionResult:[we.id,{type:Se.error,error:_e}]}}}let M,X=ea(O,_);if(!X.route.action&&!X.route.lazy)M={type:Se.error,error:it(405,{method:w.method,pathname:_.pathname,routeId:X.route.id})};else if(M=(await W("action",w,[X],O))[0],w.signal.aborted)return{shortCircuited:!0};if(Nn(M)){let q;return B&&B.replace!=null?q=B.replace:q=_c(M.response.headers.get("Location"),new URL(w.url),l)===y.location.pathname+y.location.search,await de(w,M,{submission:R,replace:q}),{shortCircuited:!0}}if(Dn(M))throw it(400,{type:"defer-action"});if(wt(M)){let q=gr(O,X.route.id);return(B&&B.replace)!==!0&&(I=$e.Push),{matches:O,pendingActionResult:[q.route.id,M]}}return{matches:O,pendingActionResult:[X.route.id,M]}}async function Pa(w,_,R,O,U,B,J,M,X,q,te){let _e=U||ji(_,B),we=B||J||Pc(_e),Te=!ie&&(!h.v7_partialHydration||!X);if(O){if(Te){let Ae=$r(te);je(Le({navigation:_e},Ae!==void 0?{actionData:Ae}:{}),{flushSync:q})}let re=await Na(R,_.pathname,w.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let{boundaryId:Ae,error:vt}=Oa(_.pathname,re);return{matches:re.partialMatches,loaderData:{},errors:{[Ae]:vt}}}else if(re.matches)R=re.matches;else{let{error:Ae,notFoundMatches:vt,route:ke}=oi(_.pathname);return{matches:vt,loaderData:{},errors:{[ke.id]:Ae}}}}let me=c||o,[Ge,De]=bc(e.history,y,R,we,_,h.v7_partialHydration&&X===!0,h.v7_skipActionErrorRevalidation,ue,fe,ve,He,kt,Qe,me,l,te);if(li(re=>!(R&&R.some(Ae=>Ae.route.id===re))||Ge&&Ge.some(Ae=>Ae.route.id===re)),rt=++We,Ge.length===0&&De.length===0){let re=Ll();return Pe(_,Le({matches:R,loaderData:{},errors:te&&wt(te[1])?{[te[0]]:te[1].error}:null},Tc(te),re?{fetchers:new Map(y.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(Te){let re={};if(!O){re.navigation=_e;let Ae=$r(te);Ae!==void 0&&(re.actionData=Ae)}De.length>0&&(re.fetchers=xt(De)),je(re,{flushSync:q})}De.forEach(re=>{ce.has(re.key)&&Pt(re.key),re.controller&&ce.set(re.key,re.controller)});let Mr=()=>De.forEach(re=>Pt(re.key));$&&$.signal.addEventListener("abort",Mr);let{loaderResults:un,fetcherResults:nr}=await be(y.matches,R,Ge,De,w);if(w.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",Mr),De.forEach(re=>ce.delete(re.key));let rr=Ic([...un,...nr]);if(rr){if(rr.idx>=Ge.length){let re=De[rr.idx-Ge.length].key;Qe.add(re)}return await de(w,rr.result,{replace:M}),{shortCircuited:!0}}let{loaderData:ar,errors:zt}=Cc(y,R,Ge,un,te,De,nr,Xe);Xe.forEach((re,Ae)=>{re.subscribe(vt=>{(vt||re.done)&&Xe.delete(Ae)})}),h.v7_partialHydration&&X&&y.errors&&Object.entries(y.errors).filter(re=>{let[Ae]=re;return!Ge.some(vt=>vt.route.id===Ae)}).forEach(re=>{let[Ae,vt]=re;zt=Object.assign(zt||{},{[Ae]:vt})});let $a=Ll(),Fa=Pl(rt),Ma=$a||Fa||De.length>0;return Le({matches:R,loaderData:ar,errors:zt},Ma?{fetchers:new Map(y.fetchers)}:{})}function $r(w){if(w&&!wt(w[1]))return{[w[0]]:w[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function xt(w){return w.forEach(_=>{let R=y.fetchers.get(_.key),O=qr(void 0,R?R.data:void 0);y.fetchers.set(_.key,O)}),new Map(y.fetchers)}function dn(w,_,R,O){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(w)&&Pt(w);let U=(O&&O.unstable_flushSync)===!0,B=c||o,J=Ji(y.location,y.matches,l,h.v7_prependBasename,R,h.v7_relativeSplatPath,_,O==null?void 0:O.relative),M=On(B,J,l),X=Da(M,B,J);if(X.active&&X.matches&&(M=X.matches),!M){ne(w,_,it(404,{pathname:J}),{flushSync:U});return}let{path:q,submission:te,error:_e}=vc(h.v7_normalizeFormMethod,!0,J,O);if(_e){ne(w,_,_e,{flushSync:U});return}let we=ea(M,q);if(D=(O&&O.preventScrollReset)===!0,te&&At(te.formMethod)){tr(w,_,q,we,M,X.active,U,te);return}kt.set(w,{routeId:_,path:q}),oe(w,_,q,we,M,X.active,U,te)}async function tr(w,_,R,O,U,B,J,M){yt(),kt.delete(w);function X(ke){if(!ke.route.action&&!ke.route.lazy){let Jt=it(405,{method:M.formMethod,pathname:R,routeId:_});return ne(w,_,Jt,{flushSync:J}),!0}return!1}if(!B&&X(O))return;let q=y.fetchers.get(w);ze(w,Ay(M,q),{flushSync:J});let te=new AbortController,_e=cr(e.history,R,te.signal,M);if(B){let ke=await Na(U,R,_e.signal);if(ke.type==="aborted")return;if(ke.type==="error"){let{error:Jt}=Oa(R,ke);ne(w,_,Jt,{flushSync:J});return}else if(ke.matches){if(U=ke.matches,O=ea(U,R),X(O))return}else{ne(w,_,it(404,{pathname:R}),{flushSync:J});return}}ce.set(w,te);let we=We,me=(await W("action",_e,[O],U))[0];if(_e.signal.aborted){ce.get(w)===te&&ce.delete(w);return}if(h.v7_fetcherPersist&&He.has(w)){if(Nn(me)||wt(me)){ze(w,pn(void 0));return}}else{if(Nn(me))if(ce.delete(w),rt>we){ze(w,pn(void 0));return}else return Qe.add(w),ze(w,qr(M)),de(_e,me,{fetcherSubmission:M});if(wt(me)){ne(w,_,me.error);return}}if(Dn(me))throw it(400,{type:"defer-action"});let Ge=y.navigation.location||y.location,De=cr(e.history,Ge,te.signal),Mr=c||o,un=y.navigation.state!=="idle"?On(Mr,y.navigation.location,l):y.matches;ae(un,"Didn't find any matches after fetcher action");let nr=++We;at.set(w,nr);let rr=qr(M,me.data);y.fetchers.set(w,rr);let[ar,zt]=bc(e.history,y,un,M,Ge,!1,h.v7_skipActionErrorRevalidation,ue,fe,ve,He,kt,Qe,Mr,l,[O.route.id,me]);zt.filter(ke=>ke.key!==w).forEach(ke=>{let Jt=ke.key,Fl=y.fetchers.get(Jt),og=qr(void 0,Fl?Fl.data:void 0);y.fetchers.set(Jt,og),ce.has(Jt)&&Pt(Jt),ke.controller&&ce.set(Jt,ke.controller)}),je({fetchers:new Map(y.fetchers)});let $a=()=>zt.forEach(ke=>Pt(ke.key));te.signal.addEventListener("abort",$a);let{loaderResults:Fa,fetcherResults:Ma}=await be(y.matches,un,ar,zt,De);if(te.signal.aborted)return;te.signal.removeEventListener("abort",$a),at.delete(w),ce.delete(w),zt.forEach(ke=>ce.delete(ke.key));let re=Ic([...Fa,...Ma]);if(re){if(re.idx>=ar.length){let ke=zt[re.idx-ar.length].key;Qe.add(ke)}return de(De,re.result)}let{loaderData:Ae,errors:vt}=Cc(y,y.matches,ar,Fa,void 0,zt,Ma,Xe);if(y.fetchers.has(w)){let ke=pn(me.data);y.fetchers.set(w,ke)}Pl(nr),y.navigation.state==="loading"&&nr>rt?(ae(I,"Expected pending action"),$&&$.abort(),Pe(y.navigation.location,{matches:un,loaderData:Ae,errors:vt,fetchers:new Map(y.fetchers)})):(je({errors:vt,loaderData:Ec(y.loaderData,Ae,un,vt),fetchers:new Map(y.fetchers)}),ue=!1)}async function oe(w,_,R,O,U,B,J,M){let X=y.fetchers.get(w);ze(w,qr(M,X?X.data:void 0),{flushSync:J});let q=new AbortController,te=cr(e.history,R,q.signal);if(B){let me=await Na(U,R,te.signal);if(me.type==="aborted")return;if(me.type==="error"){let{error:Ge}=Oa(R,me);ne(w,_,Ge,{flushSync:J});return}else if(me.matches)U=me.matches,O=ea(U,R);else{ne(w,_,it(404,{pathname:R}),{flushSync:J});return}}ce.set(w,q);let _e=We,Te=(await W("loader",te,[O],U))[0];if(Dn(Te)&&(Te=await Vu(Te,te.signal,!0)||Te),ce.get(w)===q&&ce.delete(w),!te.signal.aborted){if(He.has(w)){ze(w,pn(void 0));return}if(Nn(Te))if(rt>_e){ze(w,pn(void 0));return}else{Qe.add(w),await de(te,Te);return}if(wt(Te)){ne(w,_,Te.error);return}ae(!Dn(Te),"Unhandled fetcher deferred data"),ze(w,pn(Te.data))}}async function de(w,_,R){let{submission:O,fetcherSubmission:U,replace:B}=R===void 0?{}:R;_.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let J=_.response.headers.get("Location");ae(J,"Expected a Location header on the redirect Response"),J=_c(J,new URL(w.url),l);let M=vr(y.location,J,{_isRedirect:!0});if(n){let Te=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Te=!0;else if(Vo.test(J)){const me=e.history.createURL(J);Te=me.origin!==t.location.origin||Er(me.pathname,l)==null}if(Te){B?t.location.replace(J):t.location.assign(J);return}}$=null;let X=B===!0||_.response.headers.has("X-Remix-Replace")?$e.Replace:$e.Push,{formMethod:q,formAction:te,formEncType:_e}=y.navigation;!O&&!U&&q&&te&&_e&&(O=Pc(y.navigation));let we=O||U;if(gy.has(_.response.status)&&we&&At(we.formMethod))await Lt(X,M,{submission:Le({},we,{formAction:J}),preventScrollReset:D});else{let Te=ji(M,O);await Lt(X,M,{overrideNavigation:Te,fetcherSubmission:U,preventScrollReset:D})}}async function W(w,_,R,O){try{let U=await jy(d,w,_,R,O,i,a);return await Promise.all(U.map((B,J)=>{if(Iy(B)){let M=B.result;return{type:Se.redirect,response:Cy(M,_,R[J].route.id,O,l,h.v7_relativeSplatPath)}}return Sy(B)}))}catch(U){return R.map(()=>({type:Se.error,error:U}))}}async function be(w,_,R,O,U){let[B,...J]=await Promise.all([R.length?W("loader",U,R,_):[],...O.map(M=>{if(M.matches&&M.match&&M.controller){let X=cr(e.history,M.path,M.controller.signal);return W("loader",X,[M.match],M.matches).then(q=>q[0])}else return Promise.resolve({type:Se.error,error:it(404,{pathname:M.path})})})]);return await Promise.all([Lc(w,R,B,B.map(()=>U.signal),!1,y.loaderData),Lc(w,O.map(M=>M.match),J,O.map(M=>M.controller?M.controller.signal:null),!0)]),{loaderResults:B,fetcherResults:J}}function yt(){ue=!0,fe.push(...li()),kt.forEach((w,_)=>{ce.has(_)&&(ve.add(_),Pt(_))})}function ze(w,_,R){R===void 0&&(R={}),y.fetchers.set(w,_),je({fetchers:new Map(y.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function ne(w,_,R,O){O===void 0&&(O={});let U=gr(y.matches,_);st(w),je({errors:{[U.route.id]:R},fetchers:new Map(y.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function G(w){return h.v7_fetcherPersist&&(mt.set(w,(mt.get(w)||0)+1),He.has(w)&&He.delete(w)),y.fetchers.get(w)||my}function st(w){let _=y.fetchers.get(w);ce.has(w)&&!(_&&_.state==="loading"&&at.has(w))&&Pt(w),kt.delete(w),at.delete(w),Qe.delete(w),He.delete(w),ve.delete(w),y.fetchers.delete(w)}function Fr(w){if(h.v7_fetcherPersist){let _=(mt.get(w)||0)-1;_<=0?(mt.delete(w),He.add(w)):mt.set(w,_)}else st(w);je({fetchers:new Map(y.fetchers)})}function Pt(w){let _=ce.get(w);ae(_,"Expected fetch controller: "+w),_.abort(),ce.delete(w)}function kl(w){for(let _ of w){let R=G(_),O=pn(R.data);y.fetchers.set(_,O)}}function Ll(){let w=[],_=!1;for(let R of Qe){let O=y.fetchers.get(R);ae(O,"Expected fetcher: "+R),O.state==="loading"&&(Qe.delete(R),w.push(R),_=!0)}return kl(w),_}function Pl(w){let _=[];for(let[R,O]of at)if(O<w){let U=y.fetchers.get(R);ae(U,"Expected fetcher: "+R),U.state==="loading"&&(Pt(R),at.delete(R),_.push(R))}return kl(_),_.length>0}function ng(w,_){let R=y.blockers.get(w)||Vr;return pt.get(w)!==_&&pt.set(w,_),R}function Al(w){y.blockers.delete(w),pt.delete(w)}function Aa(w,_){let R=y.blockers.get(w)||Vr;ae(R.state==="unblocked"&&_.state==="blocked"||R.state==="blocked"&&_.state==="blocked"||R.state==="blocked"&&_.state==="proceeding"||R.state==="blocked"&&_.state==="unblocked"||R.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+_.state);let O=new Map(y.blockers);O.set(w,_),je({blockers:O})}function Ol(w){let{currentLocation:_,nextLocation:R,historyAction:O}=w;if(pt.size===0)return;pt.size>1&&Hn(!1,"A router only supports one blocker at a time");let U=Array.from(pt.entries()),[B,J]=U[U.length-1],M=y.blockers.get(B);if(!(M&&M.state==="proceeding")&&J({currentLocation:_,nextLocation:R,historyAction:O}))return B}function oi(w){let _=it(404,{pathname:w}),R=c||o,{matches:O,route:U}=Rc(R);return li(),{notFoundMatches:O,route:U,error:_}}function Oa(w,_){return{boundaryId:gr(_.partialMatches).route.id,error:it(400,{type:"route-discovery",pathname:w,message:_.error!=null&&"message"in _.error?_.error:String(_.error)})}}function li(w){let _=[];return Xe.forEach((R,O)=>{(!w||w(O))&&(R.cancel(),_.push(O),Xe.delete(O))}),_}function rg(w,_,R){if(g=w,T=_,S=R||null,!v&&y.navigation===wi){v=!0;let O=Nl(y.location,y.matches);O!=null&&je({restoreScrollPosition:O})}return()=>{g=null,T=null,S=null}}function Dl(w,_){return S&&S(w,_.map(O=>Kx(O,y.loaderData)))||w.key}function ag(w,_){if(g&&T){let R=Dl(w,_);g[R]=T()}}function Nl(w,_){if(g){let R=Dl(w,_),O=g[R];if(typeof O=="number")return O}return null}function Da(w,_,R){if(u){if(x.has(R))return{active:!1,matches:w};if(w){if(Object.keys(w[0].params).length>0)return{active:!0,matches:ts(_,R,l,!0)}}else return{active:!0,matches:ts(_,R,l,!0)||[]}}return{active:!1,matches:null}}async function Na(w,_,R){let O=w;for(;;){let U=c==null,B=c||o;try{await by(u,_,O,B,i,a,Gt,R)}catch(X){return{type:"error",error:X,partialMatches:O}}finally{U&&(o=[...o])}if(R.aborted)return{type:"aborted"};let J=On(B,_,l);if(J)return $l(_,x),{type:"success",matches:J};let M=ts(B,_,l,!0);if(!M||O.length===M.length&&O.every((X,q)=>X.route.id===M[q].route.id))return $l(_,x),{type:"success",matches:null};O=M}}function $l(w,_){if(_.size>=m){let R=_.values().next().value;_.delete(R)}_.add(w)}function sg(w){i={},c=ha(w,a,void 0,i)}function ig(w,_){let R=c==null;zu(w,_,c||o,i,a),R&&(o=[...o],je({}))}return L={get basename(){return l},get future(){return h},get state(){return y},get routes(){return o},get window(){return t},initialize:er,subscribe:cn,enableScrollRestoration:rg,navigate:Oe,fetch:dn,revalidate:Tt,createHref:w=>e.history.createHref(w),encodeLocation:w=>e.history.encodeLocation(w),getFetcher:G,deleteFetcher:Fr,dispose:Et,getBlocker:ng,deleteBlocker:Al,patchRoutes:ig,_internalFetchControllers:ce,_internalActiveDeferreds:Xe,_internalSetRoutes:sg},L}function xy(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ji(e,t,n,r,a,i,o,c){let l,d;if(o){l=[];for(let h of t)if(l.push(h),h.route.id===o){d=h;break}}else l=t,d=t[t.length-1];let u=Hs(a||".",Bs(l,i),Er(e.pathname,n)||e.pathname,c==="path");return a==null&&(u.search=e.search,u.hash=e.hash),(a==null||a===""||a===".")&&d&&d.route.index&&!qo(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:tn([n,u.pathname])),Tn(u)}function vc(e,t,n,r){if(!r||!xy(r))return{path:n};if(r.formMethod&&!Ly(r.formMethod))return{path:n,error:it(405,{method:r.formMethod})};let a=()=>({path:n,error:it(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),c=Bu(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!At(o))return a();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[x,g]=m;return""+p+x+"="+g+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!At(o))return a();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return a()}}}ae(typeof FormData=="function","FormData is not available in this environment");let l,d;if(r.formData)l=Zi(r.formData),d=r.formData;else if(r.body instanceof FormData)l=Zi(r.body),d=r.body;else if(r.body instanceof URLSearchParams)l=r.body,d=Sc(l);else if(r.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(r.body),d=Sc(l)}catch{return a()}let u={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(At(u.formMethod))return{path:n,submission:u};let h=on(n);return t&&h.search&&qo(h.search)&&l.append("index",""),h.search="?"+l,{path:Tn(h),submission:u}}function yy(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function bc(e,t,n,r,a,i,o,c,l,d,u,h,f,p,m,x){let g=x?wt(x[1])?x[1].error:x[1].data:void 0,S=e.createURL(t.location),T=e.createURL(a),v=x&&wt(x[1])?x[0]:void 0,b=v?yy(n,v):n,E=x?x[1].statusCode:void 0,C=o&&E&&E>=400,L=b.filter((I,D)=>{let{route:$}=I;if($.lazy)return!0;if($.loader==null)return!1;if(i)return typeof $.loader!="function"||$.loader.hydrate?!0:t.loaderData[$.id]===void 0&&(!t.errors||t.errors[$.id]===void 0);if(vy(t.loaderData,t.matches[D],I)||l.some(H=>H===I.route.id))return!0;let z=t.matches[D],Y=I;return wc(I,Le({currentUrl:S,currentParams:z.params,nextUrl:T,nextParams:Y.params},r,{actionResult:g,actionStatus:E,defaultShouldRevalidate:C?!1:c||S.pathname+S.search===T.pathname+T.search||S.search!==T.search||Uu(z,Y)}))}),y=[];return h.forEach((I,D)=>{if(i||!n.some(ie=>ie.route.id===I.routeId)||u.has(D))return;let $=On(p,I.path,m);if(!$){y.push({key:D,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let z=t.fetchers.get(D),Y=ea($,I.path),H=!1;f.has(D)?H=!1:d.has(D)?(d.delete(D),H=!0):z&&z.state!=="idle"&&z.data===void 0?H=c:H=wc(Y,Le({currentUrl:S,currentParams:t.matches[t.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:E,defaultShouldRevalidate:C?!1:c})),H&&y.push({key:D,routeId:I.routeId,path:I.path,matches:$,match:Y,controller:new AbortController})}),[L,y]}function vy(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Uu(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function wc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function by(e,t,n,r,a,i,o,c){let l=[t,...n.map(d=>d.route.id)].join("-");try{let d=o.get(l);d||(d=e({path:t,matches:n,patch:(u,h)=>{c.aborted||zu(u,h,r,a,i)}}),o.set(l,d)),d&&Ry(d)&&await d}finally{o.delete(l)}}function zu(e,t,n,r,a){if(e){var i;let o=r[e];ae(o,"No route found to patch children into: routeId = "+e);let c=ha(t,a,[e,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...c):o.children=c}else{let o=ha(t,a,["patch",String(n.length||"0")],r);n.push(...o)}}async function jc(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];ae(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";Hn(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Vx.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,Le({},t(a),{lazy:void 0}))}function wy(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function jy(e,t,n,r,a,i,o,c){let l=r.reduce((h,f)=>h.add(f.route.id),new Set),d=new Set,u=await e({matches:a.map(h=>{let f=l.has(h.route.id);return Le({},h,{shouldLoad:f,resolve:m=>(d.add(h.route.id),f?_y(t,n,h,i,o,m,c):Promise.resolve({type:Se.data,result:void 0}))})}),request:n,params:a[0].params,context:c});return a.forEach(h=>ae(d.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((h,f)=>l.has(a[f].route.id))}async function _y(e,t,n,r,a,i,o){let c,l,d=u=>{let h,f=new Promise((x,g)=>h=g);l=()=>h(),t.signal.addEventListener("abort",l);let p=x=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:o},...x!==void 0?[x]:[]),m;return i?m=i(x=>p(x)):m=(async()=>{try{return{type:"data",result:await p()}}catch(x){return{type:"error",result:x}}})(),Promise.race([m,f])};try{let u=n.route[e];if(n.route.lazy)if(u){let h,[f]=await Promise.all([d(u).catch(p=>{h=p}),jc(n.route,a,r)]);if(h!==void 0)throw h;c=f}else if(await jc(n.route,a,r),u=n.route[e],u)c=await d(u);else if(e==="action"){let h=new URL(t.url),f=h.pathname+h.search;throw it(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Se.data,result:void 0};else if(u)c=await d(u);else{let h=new URL(t.url),f=h.pathname+h.search;throw it(404,{pathname:f})}ae(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Se.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return c}async function Sy(e){let{result:t,type:n}=e;if(Hu(t)){let d;try{let u=t.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(u){return{type:Se.error,error:u}}return n===Se.error?{type:Se.error,error:new ys(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:Se.data,data:d,statusCode:t.status,headers:t.headers}}if(n===Se.error){if(kc(t)){var r;if(t.data instanceof Error){var a;return{type:Se.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status}}t=new ys(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:Se.error,error:t,statusCode:Vs(t)?t.status:void 0}}if(ky(t)){var i,o;return{type:Se.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(kc(t)){var c,l;return{type:Se.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:Se.data,data:t}}function Cy(e,t,n,r,a,i){let o=e.headers.get("Location");if(ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Vo.test(o)){let c=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Ji(new URL(t.url),c,a,!0,o,i),e.headers.set("Location",o)}return e}function _c(e,t,n){if(Vo.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Er(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function cr(e,t,n,r){let a=e.createURL(Bu(t)).toString(),i={signal:n};if(r&&At(r.formMethod)){let{formMethod:o,formEncType:c}=r;i.method=o.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=Zi(r.formData):i.body=r.formData}return new Request(a,i)}function Zi(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Sc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Ey(e,t,n,r,a,i){let o={},c=null,l,d=!1,u={},h=r&&wt(r[1])?r[1].error:void 0;return n.forEach((f,p)=>{let m=t[p].route.id;if(ae(!Nn(f),"Cannot handle redirect results in processLoaderData"),wt(f)){let x=f.error;h!==void 0&&(x=h,h=void 0),c=c||{};{let g=gr(e,m);c[g.route.id]==null&&(c[g.route.id]=x)}o[m]=void 0,d||(d=!0,l=Vs(f.error)?f.error.status:500),f.headers&&(u[m]=f.headers)}else Dn(f)?(a.set(m,f.deferredData),o[m]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!d&&(l=f.statusCode),f.headers&&(u[m]=f.headers)):(o[m]=f.data,f.statusCode&&f.statusCode!==200&&!d&&(l=f.statusCode),f.headers&&(u[m]=f.headers))}),h!==void 0&&r&&(c={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:c,statusCode:l||200,loaderHeaders:u}}function Cc(e,t,n,r,a,i,o,c){let{loaderData:l,errors:d}=Ey(t,n,r,a,c);for(let u=0;u<i.length;u++){let{key:h,match:f,controller:p}=i[u];ae(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let m=o[u];if(!(p&&p.signal.aborted))if(wt(m)){let x=gr(e.matches,f==null?void 0:f.route.id);d&&d[x.route.id]||(d=Le({},d,{[x.route.id]:m.error})),e.fetchers.delete(h)}else if(Nn(m))ae(!1,"Unhandled fetcher revalidation redirect");else if(Dn(m))ae(!1,"Unhandled fetcher deferred data");else{let x=pn(m.data);e.fetchers.set(h,x)}}return{loaderData:l,errors:d}}function Ec(e,t,n,r){let a=Le({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function Tc(e){return e?wt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Rc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function it(e,t){let{pathname:n,routeId:r,method:a,type:i,message:o}=t===void 0?{}:t,c="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(c="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):a&&n&&r?l="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(c="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(c="Not Found",l='No route matches URL "'+n+'"'):e===405&&(c="Method Not Allowed",a&&n&&r?l="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new ys(e||500,c,new Error(l),!0)}function Ic(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Nn(n))return{result:n,idx:t}}}function Bu(e){let t=typeof e=="string"?on(e):e;return Tn(Le({},t,{hash:""}))}function Ty(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ry(e){return typeof e=="object"&&e!=null&&"then"in e}function Iy(e){return Hu(e.result)&&hy.has(e.result.status)}function Dn(e){return e.type===Se.deferred}function wt(e){return e.type===Se.error}function Nn(e){return(e&&e.type)===Se.redirect}function kc(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function ky(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Hu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Ly(e){return fy.has(e.toLowerCase())}function At(e){return dy.has(e.toLowerCase())}async function Lc(e,t,n,r,a,i){for(let o=0;o<n.length;o++){let c=n[o],l=t[o];if(!l)continue;let d=e.find(h=>h.route.id===l.route.id),u=d!=null&&!Uu(d,l)&&(i&&i[l.route.id])!==void 0;if(Dn(c)&&(a||u)){let h=r[o];ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Vu(c,h,a).then(f=>{f&&(n[o]=f||n[o])})}}}async function Vu(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Se.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Se.error,error:a}}return{type:Se.data,data:e.deferredData.data}}}function qo(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ea(e,t){let n=typeof t=="string"?on(t).search:t.search;if(e[e.length-1].route.index&&qo(n||""))return e[e.length-1];let r=Nu(e);return r[r.length-1]}function Pc(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ji(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Py(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function qr(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ay(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function pn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Oy(e,t){try{let n=e.sessionStorage.getItem(Fu);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Dy(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(Fu,JSON.stringify(n))}catch(r){Hn(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}const qs=j.createContext(null),qu=j.createContext(null),kn=j.createContext(null),Ko=j.createContext(null),Wt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Ku=j.createContext(null);function Ny(e,t){let{relative:n}=t===void 0?{}:t;Tr()||ae(!1);let{basename:r,navigator:a}=j.useContext(kn),{hash:i,pathname:o,search:c}=Wu(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:tn([r,o])),a.createHref({pathname:l,search:c,hash:i})}function Tr(){return j.useContext(Ko)!=null}function Ln(){return Tr()||ae(!1),j.useContext(Ko).location}function Yu(e){j.useContext(kn).static||j.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=j.useContext(Wt);return e?Zy():$y()}function $y(){Tr()||ae(!1);let e=j.useContext(qs),{basename:t,future:n,navigator:r}=j.useContext(kn),{matches:a}=j.useContext(Wt),{pathname:i}=Ln(),o=JSON.stringify(Bs(a,n.v7_relativeSplatPath)),c=j.useRef(!1);return Yu(()=>{c.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let h=Hs(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:tn([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,i,e])}const Fy=j.createContext(null);function My(e){let t=j.useContext(Wt).outlet;return t&&j.createElement(Fy.Provider,{value:e},t)}function Uy(){let{matches:e}=j.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Wu(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(kn),{matches:a}=j.useContext(Wt),{pathname:i}=Ln(),o=JSON.stringify(Bs(a,r.v7_relativeSplatPath));return j.useMemo(()=>Hs(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function zy(e,t,n,r){Tr()||ae(!1);let{navigator:a}=j.useContext(kn),{matches:i}=j.useContext(Wt),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Ln(),u;u=d;let h=u.pathname||"/",f=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=On(e,{pathname:f});return Ky(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:tn([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:tn([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r)}function By(){let e=Jy(),t=Vs(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,null)}const Hy=j.createElement(By,null);class Vy extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Wt.Provider,{value:this.props.routeContext},j.createElement(Ku.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qy(e){let{routeContext:t,match:n,children:r}=e,a=j.useContext(qs);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Wt.Provider,{value:t},r)}function Ky(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let u=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);u>=0||ae(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,x=null,g=null;n&&(p=c&&h.route.id?c[h.route.id]:void 0,x=h.route.errorElement||Hy,l&&(d<0&&f===0?(m=!0,g=null):d===f&&(m=!0,g=h.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,f+1)),T=()=>{let v;return p?v=x:m?v=g:h.route.Component?v=j.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,j.createElement(qy,{match:h,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(Vy,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var Gu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gu||{}),bs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bs||{});function Yy(e){let t=j.useContext(qs);return t||ae(!1),t}function Wy(e){let t=j.useContext(qu);return t||ae(!1),t}function Gy(e){let t=j.useContext(Wt);return t||ae(!1),t}function Ju(e){let t=Gy(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function Jy(){var e;let t=j.useContext(Ku),n=Wy(bs.UseRouteError),r=Ju(bs.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Zy(){let{router:e}=Yy(Gu.UseNavigateStable),t=Ju(bs.UseNavigateStable),n=j.useRef(!1);return Yu(()=>{n.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vs({fromRouteId:t},i)))},[e,t])}function _i(e){let{to:t,replace:n,state:r,relative:a}=e;Tr()||ae(!1);let{future:i,static:o}=j.useContext(kn),{matches:c}=j.useContext(Wt),{pathname:l}=Ln(),d=ln(),u=Hs(t,Bs(c,i.v7_relativeSplatPath),l,a==="path"),h=JSON.stringify(u);return j.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function Qy(e){return My(e.context)}function Xy(e){let{basename:t="/",children:n=null,location:r,navigationType:a=$e.Pop,navigator:i,static:o=!1,future:c}=e;Tr()&&ae(!1);let l=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:l,navigator:i,static:o,future:vs({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof r=="string"&&(r=on(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,x=j.useMemo(()=>{let g=Er(u,l);return g==null?null:{location:{pathname:g,search:h,hash:f,state:p,key:m},navigationType:a}},[l,u,h,f,p,m,a]);return x==null?null:j.createElement(kn.Provider,{value:d},j.createElement(Ko.Provider,{children:n,value:x}))}new Promise(()=>{});function Zu(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:j.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},br.apply(this,arguments)}function ev(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function tv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nv(e,t){return e.button===0&&(!t||t==="_self")&&!tv(e)}const rv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],av="6";try{window.__reactRouterVersion=av}catch{}function sv(e,t){return Mu({basename:void 0,future:br({},void 0,{v7_prependBasename:!0}),history:zx({window:void 0}),hydrationData:Qu(),routes:e,mapRouteProperties:Zu,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function iv(e,t){return Mu({basename:void 0,future:br({},void 0,{v7_prependBasename:!0}),history:Bx({window:void 0}),hydrationData:Qu(),routes:e,mapRouteProperties:Zu,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Qu(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=br({},t,{errors:ov(t.errors)})),t}function ov(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new ys(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const lv=j.createContext({isTransitioning:!1}),cv=j.createContext(new Map),dv="startTransition",Ac=fg[dv],uv="flushSync",Oc=hg[uv];function fv(e){Ac?Ac(e):e()}function Kr(e){Oc?Oc(e):e()}class hv{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function gv(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=j.useState(n.state),[o,c]=j.useState(),[l,d]=j.useState({isTransitioning:!1}),[u,h]=j.useState(),[f,p]=j.useState(),[m,x]=j.useState(),g=j.useRef(new Map),{v7_startTransition:S}=r||{},T=j.useCallback(y=>{S?fv(y):y()},[S]),v=j.useCallback((y,I)=>{let{deletedFetchers:D,unstable_flushSync:$,unstable_viewTransitionOpts:z}=I;D.forEach(H=>g.current.delete(H)),y.fetchers.forEach((H,ie)=>{H.data!==void 0&&g.current.set(ie,H.data)});let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||Y){$?Kr(()=>i(y)):T(()=>i(y));return}if($){Kr(()=>{f&&(u&&u.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let H=n.window.document.startViewTransition(()=>{Kr(()=>i(y))});H.finished.finally(()=>{Kr(()=>{h(void 0),p(void 0),c(void 0),d({isTransitioning:!1})})}),Kr(()=>p(H));return}f?(u&&u.resolve(),f.skipTransition(),x({state:y,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(c(y),d({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,f,u,g,T]);j.useLayoutEffect(()=>n.subscribe(v),[n,v]),j.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new hv)},[l]),j.useEffect(()=>{if(u&&o&&n.window){let y=o,I=u.promise,D=n.window.document.startViewTransition(async()=>{T(()=>i(y)),await I});D.finished.finally(()=>{h(void 0),p(void 0),c(void 0),d({isTransitioning:!1})}),p(D)}},[T,o,u,n.window]),j.useEffect(()=>{u&&o&&a.location.key===o.location.key&&u.resolve()},[u,f,a.location,o]),j.useEffect(()=>{!l.isTransitioning&&m&&(c(m.state),d({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),x(void 0))},[l.isTransitioning,m]),j.useEffect(()=>{},[]);let b=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,I,D)=>n.navigate(y,{state:I,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(y,I,D)=>n.navigate(y,{replace:!0,state:I,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),E=n.basename||"/",C=j.useMemo(()=>({router:n,navigator:b,static:!1,basename:E}),[n,b,E]),L=j.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return j.createElement(j.Fragment,null,j.createElement(qs.Provider,{value:C},j.createElement(qu.Provider,{value:a},j.createElement(cv.Provider,{value:g.current},j.createElement(lv.Provider,{value:l},j.createElement(Xy,{basename:E,location:a.location,navigationType:a.historyAction,navigator:b,future:L},a.initialized||n.future.v7_partialHydration?j.createElement(mv,{routes:n.routes,future:n.future,state:a}):t))))),null)}const mv=j.memo(pv);function pv(e){let{routes:t,future:n,state:r}=e;return zy(t,void 0,r,n)}const xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=j.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:d,preventScrollReset:u,unstable_viewTransition:h}=t,f=ev(t,rv),{basename:p}=j.useContext(kn),m,x=!1;if(typeof d=="string"&&yv.test(d)&&(m=d,xv))try{let v=new URL(window.location.href),b=d.startsWith("//")?new URL(v.protocol+d):new URL(d),E=Er(b.pathname,p);b.origin===v.origin&&E!=null?d=E+b.search+b.hash:x=!0}catch{}let g=Ny(d,{relative:a}),S=vv(d,{replace:o,state:c,target:l,preventScrollReset:u,relative:a,unstable_viewTransition:h});function T(v){r&&r(v),v.defaultPrevented||S(v)}return j.createElement("a",br({},f,{href:m||g,onClick:x||i?r:T,ref:n,target:l}))});var Dc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dc||(Dc={}));var Nc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nc||(Nc={}));function vv(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c}=t===void 0?{}:t,l=ln(),d=Ln(),u=Wu(e,{relative:o});return j.useCallback(h=>{if(nv(h,n)){h.preventDefault();let f=r!==void 0?r:Tn(d)===Tn(u);l(e,{replace:f,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:c})}},[d,l,u,r,a,n,e,i,o,c])}const bv=e=>({locale:e.locale,space:{size:km},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?Fi.darkAlgorithm:Fi.defaultAlgorithm,token:{colorPrimary:Jn,fontFamily:"inherit"}}}),wv=e=>{$i.config({holderRender(t){return s.jsx($i,{...e,children:t})}})},jv=e=>{const{isDark:t}=Fs(),{language:n}=Sr(),r=j.useMemo(()=>ps[n].antd,[n]),a=j.useMemo(()=>bv({isDarkTheme:t,locale:r}),[t,r]);return j.useLayoutEffect(()=>{wv(a)},[a]),s.jsx($i,{...a,children:e.children})},Xu="3.7.7",_v=Xu,Rr=typeof Buffer=="function",$c=typeof TextDecoder=="function"?new TextDecoder:void 0,Fc=typeof TextEncoder=="function"?new TextEncoder:void 0,Sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ta=Array.prototype.slice.call(Sv),Ya=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(ta),Cv=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Je=String.fromCharCode.bind(String),Mc=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),ef=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),tf=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),nf=e=>{let t,n,r,a,i="";const o=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=ta[t>>18&63]+ta[t>>12&63]+ta[t>>6&63]+ta[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},Yo=typeof btoa=="function"?e=>btoa(e):Rr?e=>Buffer.from(e,"binary").toString("base64"):nf,Qi=Rr?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Je.apply(null,e.subarray(r,r+4096)));return Yo(n.join(""))},ns=(e,t=!1)=>t?ef(Qi(e)):Qi(e),Ev=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Je(192|t>>>6)+Je(128|t&63):Je(224|t>>>12&15)+Je(128|t>>>6&63)+Je(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Je(240|t>>>18&7)+Je(128|t>>>12&63)+Je(128|t>>>6&63)+Je(128|t&63)}},Tv=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rf=e=>e.replace(Tv,Ev),Uc=Rr?e=>Buffer.from(e,"utf8").toString("base64"):Fc?e=>Qi(Fc.encode(e)):e=>Yo(rf(e)),pr=(e,t=!1)=>t?ef(Uc(e)):Uc(e),zc=e=>pr(e,!0),Rv=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Iv=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Je((n>>>10)+55296)+Je((n&1023)+56320);case 3:return Je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},af=e=>e.replace(Rv,Iv),sf=e=>{if(e=e.replace(/\s+/g,""),!Cv.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let i=0;i<e.length;)t=Ya[e.charAt(i++)]<<18|Ya[e.charAt(i++)]<<12|(r=Ya[e.charAt(i++)])<<6|(a=Ya[e.charAt(i++)]),n+=r===64?Je(t>>16&255):a===64?Je(t>>16&255,t>>8&255):Je(t>>16&255,t>>8&255,t&255);return n},Wo=typeof atob=="function"?e=>atob(tf(e)):Rr?e=>Buffer.from(e,"base64").toString("binary"):sf,of=Rr?e=>Mc(Buffer.from(e,"base64")):e=>Mc(Wo(e).split("").map(t=>t.charCodeAt(0))),lf=e=>of(cf(e)),kv=Rr?e=>Buffer.from(e,"base64").toString("utf8"):$c?e=>$c.decode(of(e)):e=>af(Wo(e)),cf=e=>tf(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Xi=e=>kv(cf(e)),Lv=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},df=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),uf=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,df(n));e("fromBase64",function(){return Xi(this)}),e("toBase64",function(t){return pr(this,t)}),e("toBase64URI",function(){return pr(this,!0)}),e("toBase64URL",function(){return pr(this,!0)}),e("toUint8Array",function(){return lf(this)})},ff=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,df(n));e("toBase64",function(t){return ns(this,t)}),e("toBase64URI",function(){return ns(this,!0)}),e("toBase64URL",function(){return ns(this,!0)})},Pv=()=>{uf(),ff()},eo={version:Xu,VERSION:_v,atob:Wo,atobPolyfill:sf,btoa:Yo,btoaPolyfill:nf,fromBase64:Xi,toBase64:pr,encode:pr,encodeURI:zc,encodeURL:zc,utob:rf,btou:af,decode:Xi,isValid:Lv,fromUint8Array:ns,toUint8Array:lf,extendString:uf,extendUint8Array:ff,extendBuiltins:Pv};function hf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Av}=Object.prototype,{getPrototypeOf:Go}=Object,Ks=(e=>t=>{const n=Av.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=e=>(e=e.toLowerCase(),t=>Ks(t)===e),Ys=e=>t=>typeof t===e,{isArray:Ir}=Array,ga=Ys("undefined");function Ov(e){return e!==null&&!ga(e)&&e.constructor!==null&&!ga(e.constructor)&&jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gf=Mt("ArrayBuffer");function Dv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gf(e.buffer),t}const Nv=Ys("string"),jt=Ys("function"),mf=Ys("number"),Ws=e=>e!==null&&typeof e=="object",$v=e=>e===!0||e===!1,rs=e=>{if(Ks(e)!=="object")return!1;const t=Go(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fv=Mt("Date"),Mv=Mt("File"),Uv=Mt("Blob"),zv=Mt("FileList"),Bv=e=>Ws(e)&&jt(e.pipe),Hv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jt(e.append)&&((t=Ks(e))==="formdata"||t==="object"&&jt(e.toString)&&e.toString()==="[object FormData]"))},Vv=Mt("URLSearchParams"),[qv,Kv,Yv,Wv]=["ReadableStream","Request","Response","Headers"].map(Mt),Gv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ja(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Ir(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function pf(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const $n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xf=e=>!ga(e)&&e!==$n;function to(){const{caseless:e}=xf(this)&&this||{},t={},n=(r,a)=>{const i=e&&pf(t,a)||a;rs(t[i])&&rs(r)?t[i]=to(t[i],r):rs(r)?t[i]=to({},r):Ir(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ja(arguments[r],n);return t}const Jv=(e,t,n,{allOwnKeys:r}={})=>(ja(t,(a,i)=>{n&&jt(a)?e[i]=hf(a,n):e[i]=a},{allOwnKeys:r}),e),Zv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Xv=(e,t,n,r)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&Go(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},eb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},tb=e=>{if(!e)return null;if(Ir(e))return e;let t=e.length;if(!mf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},nb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Go(Uint8Array)),rb=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},ab=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},sb=Mt("HTMLFormElement"),ib=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Bc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ob=Mt("RegExp"),yf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ja(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},lb=e=>{yf(e,(t,n)=>{if(jt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(jt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cb=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Ir(e)?r(e):r(String(e).split(t)),n},db=()=>{},ub=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Si="abcdefghijklmnopqrstuvwxyz",Hc="0123456789",vf={DIGIT:Hc,ALPHA:Si,ALPHA_DIGIT:Si+Si.toUpperCase()+Hc},fb=(e=16,t=vf.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function hb(e){return!!(e&&jt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const gb=e=>{const t=new Array(10),n=(r,a)=>{if(Ws(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=Ir(r)?[]:{};return ja(r,(o,c)=>{const l=n(o,a+1);!ga(l)&&(i[c]=l)}),t[a]=void 0,i}}return r};return n(e,0)},mb=Mt("AsyncFunction"),pb=e=>e&&(Ws(e)||jt(e))&&jt(e.then)&&jt(e.catch),bf=((e,t)=>e?setImmediate:t?((n,r)=>($n.addEventListener("message",({source:a,data:i})=>{a===$n&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),$n.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jt($n.postMessage)),xb=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||bf,k={isArray:Ir,isArrayBuffer:gf,isBuffer:Ov,isFormData:Hv,isArrayBufferView:Dv,isString:Nv,isNumber:mf,isBoolean:$v,isObject:Ws,isPlainObject:rs,isReadableStream:qv,isRequest:Kv,isResponse:Yv,isHeaders:Wv,isUndefined:ga,isDate:Fv,isFile:Mv,isBlob:Uv,isRegExp:ob,isFunction:jt,isStream:Bv,isURLSearchParams:Vv,isTypedArray:nb,isFileList:zv,forEach:ja,merge:to,extend:Jv,trim:Gv,stripBOM:Zv,inherits:Qv,toFlatObject:Xv,kindOf:Ks,kindOfTest:Mt,endsWith:eb,toArray:tb,forEachEntry:rb,matchAll:ab,isHTMLForm:sb,hasOwnProperty:Bc,hasOwnProp:Bc,reduceDescriptors:yf,freezeMethods:lb,toObjectSet:cb,toCamelCase:ib,noop:db,toFiniteNumber:ub,findKey:pf,global:$n,isContextDefined:xf,ALPHABET:vf,generateString:fb,isSpecCompliantForm:hb,toJSONObject:gb,isAsyncFn:mb,isThenable:pb,setImmediate:bf,asap:xb};function ee(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}k.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const wf=ee.prototype,jf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jf[e]={value:e}});Object.defineProperties(ee,jf);Object.defineProperty(wf,"isAxiosError",{value:!0});ee.from=(e,t,n,r,a,i)=>{const o=Object.create(wf);return k.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),ee.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const yb=null;function no(e){return k.isPlainObject(e)||k.isArray(e)}function _f(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Vc(e,t,n){return e?e.concat(t).map(function(a,i){return a=_f(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function vb(e){return k.isArray(e)&&!e.some(no)}const bb=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Gs(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!k.isUndefined(g[x])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(k.isDate(m))return m.toISOString();if(!l&&k.isBlob(m))throw new ee("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(m)||k.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,x,g){let S=m;if(m&&!g&&typeof m=="object"){if(k.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(k.isArray(m)&&vb(m)||(k.isFileList(m)||k.endsWith(x,"[]"))&&(S=k.toArray(m)))return x=_f(x),S.forEach(function(v,b){!(k.isUndefined(v)||v===null)&&t.append(o===!0?Vc([x],b,i):o===null?x:x+"[]",d(v))}),!1}return no(m)?!0:(t.append(Vc(g,x,i),d(m)),!1)}const h=[],f=Object.assign(bb,{defaultVisitor:u,convertValue:d,isVisitable:no});function p(m,x){if(!k.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),k.forEach(m,function(S,T){(!(k.isUndefined(S)||S===null)&&a.call(t,S,k.isString(T)?T.trim():T,x,f))===!0&&p(S,x?x.concat(T):[T])}),h.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return p(e),t}function qc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Jo(e,t){this._pairs=[],e&&Gs(e,this,t)}const Sf=Jo.prototype;Sf.append=function(t,n){this._pairs.push([t,n])};Sf.toString=function(t){const n=t?function(r){return t.call(this,r,qc)}:qc;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function wb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cf(e,t,n){if(!t)return e;const r=n&&n.encode||wb,a=n&&n.serialize;let i;if(a?i=a(t,n):i=k.isURLSearchParams(t)?t.toString():new Jo(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Kc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ef={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jb=typeof URLSearchParams<"u"?URLSearchParams:Jo,_b=typeof FormData<"u"?FormData:null,Sb=typeof Blob<"u"?Blob:null,Cb={isBrowser:!0,classes:{URLSearchParams:jb,FormData:_b,Blob:Sb},protocols:["http","https","file","blob","url","data"]},Zo=typeof window<"u"&&typeof document<"u",ro=typeof navigator=="object"&&navigator||void 0,Eb=Zo&&(!ro||["ReactNative","NativeScript","NS"].indexOf(ro.product)<0),Tb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rb=Zo&&window.location.href||"http://localhost",Ib=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zo,hasStandardBrowserEnv:Eb,hasStandardBrowserWebWorkerEnv:Tb,navigator:ro,origin:Rb},Symbol.toStringTag,{value:"Module"})),_t={...Ib,...Cb};function kb(e,t){return Gs(e,new _t.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return _t.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Lb(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Pb(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Tf(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=n.length;return o=!o&&k.isArray(a)?a.length:o,l?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!c):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&k.isArray(a[o])&&(a[o]=Pb(a[o])),!c)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,a)=>{t(Lb(r),a,n,0)}),n}return null}function Ab(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const _a={transitional:Ef,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(Tf(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kb(t,this.formSerializer).toString();if((c=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gs(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Ab(t)):t}],transformResponse:[function(t){const n=this.transitional||_a.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?ee.from(c,ee.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{_a.headers[e]={}});const Ob=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Db=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&Ob[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Yc=Symbol("internals");function Yr(e){return e&&String(e).trim().toLowerCase()}function as(e){return e===!1||e==null?e:k.isArray(e)?e.map(as):String(e)}function Nb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const $b=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ci(e,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function Fb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Mb(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ht{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(c,l,d){const u=Yr(l);if(!u)throw new Error("header name must be a non-empty string");const h=k.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||l]=as(c))}const o=(c,l)=>k.forEach(c,(d,u)=>i(d,u,l));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!$b(t))o(Db(t),n);else if(k.isHeaders(t))for(const[c,l]of t.entries())i(l,c,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Yr(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Nb(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yr(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ci(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Yr(o),o){const c=k.findKey(r,o);c&&(!n||Ci(r,r[c],c,n))&&(delete r[c],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Ci(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){n[o]=as(a),delete n[i];return}const c=t?Fb(i):String(i).trim();c!==i&&delete n[i],n[c]=as(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Yc]=this[Yc]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Yr(o);r[c]||(Mb(a,o),r[c]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}}ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ht.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(ht);function Ei(e,t){const n=this||_a,r=t||n,a=ht.from(r.headers);let i=r.data;return k.forEach(e,function(c){i=c.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Rf(e){return!!(e&&e.__CANCEL__)}function kr(e,t,n){ee.call(this,e??"canceled",ee.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(kr,ee,{__CANCEL__:!0});function If(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ub(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),u=r[i];o||(o=d),n[a]=l,r[a]=d;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const p=u&&d-u;return p?Math.round(f*1e3/p):void 0}}function Bb(e,t){let n=0,r=1e3/t,a,i;const o=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=r?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const ws=(e,t,n=3)=>{let r=0;const a=zb(50,250);return Bb(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-r,d=a(l),u=o<=c;r=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},Wc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Gc=e=>(...t)=>k.asap(()=>e(...t)),Hb=_t.hasStandardBrowserEnv?function(){const t=_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const c=k.isString(o)?a(o):o;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}(),Vb=_t.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Kb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kf(e,t){return e&&!qb(t)?Kb(e,t):t}const Jc=e=>e instanceof ht?{...e}:e;function Vn(e,t){t=t||{};const n={};function r(d,u,h){return k.isPlainObject(d)&&k.isPlainObject(u)?k.merge.call({caseless:h},d,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function a(d,u,h){if(k.isUndefined(u)){if(!k.isUndefined(d))return r(void 0,d,h)}else return r(d,u,h)}function i(d,u){if(!k.isUndefined(u))return r(void 0,u)}function o(d,u){if(k.isUndefined(u)){if(!k.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function c(d,u,h){if(h in t)return r(d,u);if(h in e)return r(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,u)=>a(Jc(d),Jc(u),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||a,f=h(e[u],t[u],u);k.isUndefined(f)&&h!==c||(n[u]=f)}),n}const Lf=e=>{const t=Vn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=ht.from(o),t.url=Cf(kf(t.baseURL,t.url),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(k.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[d,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(_t.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&Hb(t.url))){const d=a&&i&&Vb.read(i);d&&o.set(a,d)}return t},Yb=typeof XMLHttpRequest<"u",Wb=Yb&&function(e){return new Promise(function(n,r){const a=Lf(e);let i=a.data;const o=ht.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=a,u,h,f,p,m;function x(){p&&p(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function S(){if(!g)return;const v=ht.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:e,request:g};If(function(L){n(L),x()},function(L){r(L),x()},E),g=null}"onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){g&&(r(new ee("Request aborted",ee.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ee("Network Error",ee.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Ef;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),r(new ee(b,E.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&k.forEach(o.toJSON(),function(b,E){g.setRequestHeader(E,b)}),k.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),c&&c!=="json"&&(g.responseType=a.responseType),d&&([f,m]=ws(d,!0),g.addEventListener("progress",f)),l&&g.upload&&([h,p]=ws(l),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=v=>{g&&(r(!v||v.type?new kr(null,e,g):v),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const T=Ub(a.url);if(T&&_t.protocols.indexOf(T)===-1){r(new ee("Unsupported protocol "+T+":",ee.ERR_BAD_REQUEST,e));return}g.send(i||null)})},Gb=(e,t)=>{let n=new AbortController,r;const a=function(l){if(!r){r=!0,o();const d=l instanceof Error?l:this.reason;n.abort(d instanceof ee?d:new kr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{a(new ee(`timeout ${t} of ms exceeded`,ee.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",a):l.unsubscribe(a))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=o,[c,()=>{i&&clearTimeout(i),i=null}]},Jb=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Zb=async function*(e,t,n){for await(const r of e)yield*Jb(ArrayBuffer.isView(r)?r:await n(String(r)),t)},Zc=(e,t,n,r,a)=>{const i=Zb(e,t,a);let o=0,c,l=d=>{c||(c=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await i.next();if(u){l(),d.close();return}let f=h.byteLength;if(n){let p=o+=f;n(p)}d.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},Js=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pf=Js&&typeof ReadableStream=="function",ao=Js&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Af=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Qb=Pf&&Af(()=>{let e=!1;const t=new Request(_t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Qc=64*1024,so=Pf&&Af(()=>k.isReadableStream(new Response("").body)),js={stream:so&&(e=>e.body)};Js&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!js[t]&&(js[t]=k.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ee(`Response type '${t}' is not supported`,ee.ERR_NOT_SUPPORT,r)})})})(new Response);const Xb=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await ao(e)).byteLength},ew=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??Xb(t)},tw=Js&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Lf(e);d=d?(d+"").toLowerCase():"text";let[p,m]=a||i||o?Gb([a,i],o):[],x,g;const S=()=>{!x&&setTimeout(()=>{p&&p.unsubscribe()}),x=!0};let T;try{if(l&&Qb&&n!=="get"&&n!=="head"&&(T=await ew(u,r))!==0){let L=new Request(t,{method:"POST",body:r,duplex:"half"}),y;if(k.isFormData(r)&&(y=L.headers.get("content-type"))&&u.setContentType(y),L.body){const[I,D]=Wc(T,ws(Gc(l)));r=Zc(L.body,Qc,I,D,ao)}}k.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let b=await fetch(g);const E=so&&(d==="stream"||d==="response");if(so&&(c||E)){const L={};["status","statusText","headers"].forEach($=>{L[$]=b[$]});const y=k.toFiniteNumber(b.headers.get("content-length")),[I,D]=c&&Wc(y,ws(Gc(c),!0))||[];b=new Response(Zc(b.body,Qc,I,()=>{D&&D(),E&&S()},ao),L)}d=d||"text";let C=await js[k.findKey(js,d)||"text"](b,e);return!E&&S(),m&&m(),await new Promise((L,y)=>{If(L,y,{data:C,headers:ht.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(v){throw S(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,e,g),{cause:v.cause||v}):ee.from(v,v&&v.code,e,g)}}),io={http:yb,xhr:Wb,fetch:tw};k.forEach(io,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xc=e=>`- ${e}`,nw=e=>k.isFunction(e)||e===null||e===!1,Of={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!nw(n)&&(r=io[(o=String(n)).toLowerCase()],r===void 0))throw new ee(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Xc).join(`
`):" "+Xc(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:io};function Ti(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kr(null,e)}function ed(e){return Ti(e),e.headers=ht.from(e.headers),e.data=Ei.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Of.getAdapter(e.adapter||_a.adapter)(e).then(function(r){return Ti(e),r.data=Ei.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return Rf(r)||(Ti(e),r&&r.response&&(r.response.data=Ei.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Df="1.7.5",Qo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const td={};Qo.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Df+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new ee(a(o," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!td[o]&&(td[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};function rw(e,t,n){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new ee("option "+i+" must be "+l,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const oo={assertOptions:rw,validators:Qo},hn=oo.validators;class Un{constructor(t){this.defaults=t,this.interceptors={request:new Kc,response:new Kc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&oo.assertOptions(r,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:oo.assertOptions(a,{encode:hn.function,serialize:hn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[n.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=ht.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,f;if(!l){const m=[ed.bind(this),void 0];for(m.unshift.apply(m,c),m.push.apply(m,d),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=c.length;let p=n;for(h=0;h<f;){const m=c[h++],x=c[h++];try{p=m(p)}catch(g){x.call(this,g);break}}try{u=ed.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Vn(this.defaults,t);const n=kf(t.baseURL,t.url);return Cf(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){Un.prototype[t]=function(n,r){return this.request(Vn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,c){return this.request(Vn(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Un.prototype[t]=n(),Un.prototype[t+"Form"]=n(!0)});class Xo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new kr(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Xo(function(a){t=a}),cancel:t}}}function aw(e){return function(n){return e.apply(null,n)}}function sw(e){return k.isObject(e)&&e.isAxiosError===!0}const lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lo).forEach(([e,t])=>{lo[t]=e});function Nf(e){const t=new Un(e),n=hf(Un.prototype.request,t);return k.extend(n,Un.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Nf(Vn(e,a))},n}const Me=Nf(_a);Me.Axios=Un;Me.CanceledError=kr;Me.CancelToken=Xo;Me.isCancel=Rf;Me.VERSION=Df;Me.toFormData=Gs;Me.AxiosError=ee;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=aw;Me.isAxiosError=sw;Me.mergeConfig=Vn;Me.AxiosHeaders=ht;Me.formToJSON=e=>Tf(k.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=Of.getAdapter;Me.HttpStatusCode=lo;Me.default=Me;const Zs={LOGIN:"/auth/login",CHECK_TOKEN:"/auth/check",RENEWAL_TOKEN:"/auth/renewal"};function iw(e){return V.post(Zs.LOGIN,{password:eo.encode(e)}).then(t=>t.result)}function ow(){return V.post(Zs.RENEWAL_TOKEN).then(e=>e.result)}function lw(){return V.post(Zs.CHECK_TOKEN).then(e=>e.result)}const $f=e=>localStorage.getItem(e),Ff=(e,t)=>localStorage.setItem(e,t),cw=e=>{localStorage.removeItem(e)},dw=(e,t)=>{Ff(e,JSON.stringify(t))},uw=e=>{const t=$f(e);return typeof t=="string"?JSON.parse(t):null},nn={get:$f,set:Ff,remove:cw,setJSON:dw,getJSON:uw},el="id_token",tl="token_birth_time",nl="token_expires_in",Mf=()=>nn.get(el),Uf=(e,t)=>{nn.set(el,e),nn.set(nl,String(t)),nn.set(tl,String(+new Date/1e3))},Qs=()=>{nn.remove(el),nn.remove(nl),nn.remove(tl)},zf=()=>{const e=Mf();return(e==null?void 0:e.split(".").length)===3},Bf=()=>{const e=Number(localStorage.getItem(nl)),n=Number(localStorage.getItem(tl))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},_s={getToken:Mf,setToken:Uf,removeToken:Qs,isTokenValid:zf,getTokenCountdown:Bf};let co=null;const Hf=()=>{typeof co=="number"&&window.clearTimeout(co)},Vf=()=>{Hf();const t=Bf()-10;console.debug("Token auto-renewal is working.",`Token will be updated automatically after ${t}s!`),co=window.setTimeout(()=>{ow().then(n=>{Uf(n.access_token,n.expires_in),Vf()})},t*1e3)},fw="_appLoading_19idb_1",hw={appLoading:fw},qf=600,nd=200,gw={transitionProperty:"all",transitionDuration:`${nd}ms`,transitionDelay:`${qf-nd}ms`,backgroundColor:"transparent",opacity:0},mw=e=>{const t=ln(),{i18n:n}=Ye(),[r,a]=j.useState(!1),[i,o]=j.useState(!1),[c,l]=j.useState(!1),d=async()=>{try{a(!0),console.debug("Token verifying..."),await(zf()?Promise.resolve():Promise.reject("The local token is invalid")),await lw(),console.debug("Token verification successful."),a(!1),Vf(),o(!0),setTimeout(()=>l(!0),qf)}catch(u){console.debug("Invalid token, need to log in again.",u),Bt.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),Qs(),t(tt[he.Hello])}};return Ee(()=>d()),Ho(()=>Hf()),s.jsxs("div",{id:"app-auth",children:[i&&e.children,!c&&s.jsx(le,{align:"center",justify:"center",className:hw.appLoading,style:i?gw:{},children:s.jsxs(A,{direction:"vertical",align:"center",children:[s.jsx(dt,{indicator:s.jsx(gg,{spin:!0,style:{fontSize:48}})}),s.jsx(F.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},Ri=(e=!1)=>{const[t,n]=j.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}},Kf="/option",pw="/archive",Yf={STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function xw(){return V.get(Yf.STATISTIC).then(e=>e.result)}function yw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return V.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function vw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return V.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function bw(){return V.patch(pw).then(e=>e.result)}function ww(){return V.patch(Yf.DATA_BASE_BACKUP).then(e=>e.result)}function jw(){return V.get(Kf).then(e=>e.result)}function _w(e){return V.put(Kf,e).then(t=>t.result)}const Wf={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",BATCH_RUN_PIVOT_REPORTS:"/extension/google-analytics/batch-run-pivot-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function Sw(e){return V.post(Wf.BATCH_RUN_REPORTS,e)}function Cw(e){return V.post(Wf.RUN_REALTIME_REPORT,e)}const Wr=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),Ew=e=>{var t;return((t=e[0])==null?void 0:t.rows)||[]},Tw=e=>{var t;return((t=e[1])==null?void 0:t.rows)||[]},Rw=e=>{var t;return((t=e[2])==null?void 0:t.rows)||[]},Iw=e=>{var t;return((t=e[3])==null?void 0:t.rows)||[]},kw=e=>{var t;return((t=e[4])==null?void 0:t.rows)||[]},Lw=async(e,t,n)=>Sw({requests:[Wr({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),Wr({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),Wr({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),Wr({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),Wr({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),ss=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>et().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>et().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>et().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>et().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],Pw=127397,rl=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Pw)),Aw=e=>{try{return!!new Intl.DisplayNames("en",{type:"region",fallback:"code"}).of(e)}catch{return!1}},Ow=(e,t=navigator.language)=>{try{return new Intl.DisplayNames([t],{type:"region"}).of(e)??null}catch{return null}};lm([um,fm,hm,gm,mm,pm]);const al=jr.forwardRef((e,t)=>{const n=j.useRef(null),r=j.useRef(),a=()=>{var i;(i=r.current)==null||i.resize({animation:{duration:300}})};return j.useEffect(()=>{var i;n.current&&(r.current=cm(n.current)??dm(n.current,null,{renderer:"svg"}),e.options&&((i=r.current)==null||i.setOption(e.options)))},[n,e.options]),j.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),j.useImperativeHandle(t,()=>({instance:()=>r.current})),s.jsx("div",{ref:n,className:e.className,style:e.style})}),Gf=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:Jn,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});function Dw(e){return e==null}var Nw=Dw;const $w=Yt(Nw);function Sa(e){var n;if($w(e.data))return s.jsx(F.Text,{type:"secondary",children:e.placeholder??"-"});const t=(n=e.children)==null?void 0:n.call(e,e.data);return typeof t=="string"||typeof t=="number"?s.jsx("span",{children:t}):t||null}const K=e=>s.jsxs(A,{size:"small",className:e.className,children:[e.prefix,s.jsx(Sa,{data:e.text,placeholder:e.placeholder,children:t=>s.jsx(F.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?s.jsx("small",{children:t}):t})}),e.suffix]}),rd=e=>Cw({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),Fw=e=>{const t=j.useRef(),n=j.useRef(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),c=j.useMemo(()=>{const f=[],p=[];return Array.from({length:30},(m,x)=>{const g=String(Math.abs(x-30)).padStart(2,"0"),S=r.find(v=>v.dimensionValues[0].value===g),T=S==null?void 0:S.metricValues[0].value;f.push(g),p.push(T?Number(T):0)}),{timeList:f,valueList:p}},[r]),l=j.useMemo(()=>c.valueList.reduce((f,p)=>f+p,0),[c]),d=j.useMemo(()=>Gf({xLabelFormatter:f=>`-${Number(f)}分钟`,tooltipLabelFormatter:({value:f})=>`${Number(f)} 分钟前`,categoryData:c.timeList,barsData:[{data:c.valueList,name:"Active Users",color:Jn}]}),[c]),u=()=>{window.clearTimeout(t.current);const f=rd(["minutesAgo"]).then(m=>{a(m.result.data.rows??[])}),p=rd(["countryId","city"]).then(m=>{o(m.result.data.rows??[])});Promise.all([f,p]).then(()=>{n.current||(t.current=window.setTimeout(u,e.pollIntervalSeconds*1e3))})};Ee(()=>{u()}),Ho(()=>{n.current=!0,window.clearTimeout(t.current)});const h=f=>s.jsx(rn,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:f,renderItem:(p,m)=>s.jsx(rn.Item,{style:{paddingInline:0},children:s.jsxs(le,{justify:"space-between",children:[p.dimensionValues[0].value.includes("other")?s.jsx(K,{text:"__",prefix:"🌍",suffix:s.jsx(K,{text:p.dimensionValues[1].value,type:"secondary",small:!0})}):s.jsx(K,{text:p.dimensionValues[0].value,prefix:rl(p.dimensionValues[0].value),suffix:s.jsx(K,{text:p.dimensionValues[1].value,type:"secondary",small:!0})}),s.jsx(K,{text:p.metricValues[0].value,type:"secondary"})]})},m)});return s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:16,children:s.jsx(al,{options:d,style:{width:"100%",height:e.chartHeight}})}),s.jsxs(Fe,{xs:8,children:[s.jsx(wn,{prefix:s.jsx(Wn,{}),title:"Active Users",value:l}),s.jsx(Q,{style:{marginBottom:0,marginTop:14}}),i.length?h(i):s.jsx(mg,{image:null,imageStyle:{height:"1rem"}})]})]})},Mw=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),ad={users:0,views:0,events:0},Gr={users:Jn,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},Uw=e=>{const t=j.useMemo(()=>ss.find(i=>i.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=j.useMemo(()=>t.xAxisList(),[t]),r=j.useMemo(()=>{let i=0,o=0,c=0;const l=new Map(n.map(d=>[d,{...ad}]));return e.rows.forEach(d=>{const u=d.dimensionValues[0].value,[h,f,p]=d.metricValues.map(x=>Number(x.value)),m=l.get(u)??{...ad};m.users+=h,m.views+=f,m.events+=p,l.set(u,m),i+=h,o+=f,c+=p}),{totalUsers:i,totalViews:o,totalEvents:c,map:l}},[n,e.rows]),a=j.useMemo(()=>{const i=[...r.map.values()],o=i.map(l=>l.users),c=i.map(l=>l.views);return i.map(l=>l.events),Mw({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:Gr.users},{data:c,name:"Page Views",zIndex:2,color:Gr.views}]})},[r]);return s.jsxs(le,{gap:"large",children:[s.jsx(al,{options:a,style:{width:"100%",height:e.chartHeight}}),s.jsxs(A,{direction:"vertical",size:"small",style:{width:120},children:[s.jsx(wn,{value:r.totalUsers,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx(ci,{style:{color:Gr.users}})]})}),s.jsx(wn,{value:r.totalViews,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Page Views"}),s.jsx(ci,{style:{color:Gr.views}})]})}),s.jsx(wn,{value:r.totalEvents,title:s.jsxs(le,{justify:"space-between",children:[s.jsx("span",{children:"Event Count"}),s.jsx(ci,{style:{color:Gr.events}})]})})]})]})},zw="_childList_p2pes_1",Bw="_listItem_p2pes_5",Hw="_listItemPercent_p2pes_9",Vw="_percentCore_p2pes_15",dr={childList:zw,listItem:Bw,listItemPercent:Hw,percentCore:Vw},qw=e=>{const t=e.data.children??[],[n,r]=j.useState(e.defaultExpanded??!0),a=j.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),i=()=>{var c,l;return s.jsx(K,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?(c=e.labelPrefix)==null?void 0:c.call(e,e.data):e.labelPrefix,suffix:s.jsxs(s.Fragment,{children:[typeof e.labelSuffix=="function"?(l=e.labelSuffix)==null?void 0:l.call(e,e.data):e.labelSuffix,t!=null&&t.length?s.jsx(N,{type:"text",size:"small",icon:n?s.jsx(pg,{}):s.jsx(xg,{}),onClick:()=>r(!n)}):null]})})},o=()=>s.jsxs("ul",{className:dr.childList,children:[t.slice(0,e.limit).map(c=>s.jsx("li",{className:dr.childItem,children:s.jsxs(le,{justify:"space-between",children:[s.jsx(K,{text:c.name}),s.jsx(K,{text:c.value,type:"secondary"})]})},c.name)),e.limit&&t.length>e.limit&&s.jsx("li",{className:dr.childItem,children:s.jsx(yg,{})})]});return s.jsxs(rn.Item,{className:dr.listItem,children:[s.jsx("div",{className:dr.listItemPercent,children:s.jsx("div",{className:dr.percentCore,style:{width:`${a}%`}})}),s.jsxs(le,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):i(),s.jsx("span",{children:e.data.value})]}),t!=null&&t.length&&n?o():null]})},Xs=e=>{const t=j.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[i,o]=a.dimensionValues.map(d=>d.value),c=Number(a.metricValues[0].value),l=r.get(i)??{value:0};l.value+=c,l.name=i,o&&(l.children=l.children||[],l.children.push({name:o,value:c})),r.set(i,l)}),[...r.values()]},[e.rows]),n=j.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return s.jsx(rn,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>s.jsx(qw,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},Kw=e=>{const{language:t}=Sr();return s.jsx(Xs,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:({name:n})=>Aw(n)?rl(n):"🌍",labelSuffix:n=>Ow(n.name,t)??""})},Yw=e=>e==="Windows"?s.jsx(vg,{}):e==="Macintosh"?s.jsx(Ml,{}):e==="iOS"?s.jsx(Ml,{}):e==="Android"?s.jsx(bg,{}):e==="Linux"?s.jsx(wg,{}):e.includes("Chrome")?s.jsx(jg,{}):s.jsx(ks,{}),Ww=e=>s.jsx(Xs,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>Yw(t.name)}),ma=0;var lt=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(lt||{});const sl=[{id:0,name:"待审核",icon:s.jsx(Ze,{}),color:"blue"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"},{id:-2,name:"垃圾评论",icon:s.jsx(Ls,{}),color:"red"},{id:-1,name:"回收站",icon:s.jsx(qe,{}),color:"orange"}],Gw=new Map(sl.map(e=>[e.id,e])),la=e=>Gw.get(e),il=e=>{const t=ui.endsWith("/")?ui:`${ui}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},sd=e=>`${ya}${e}`,Jf=`${ya}/article/`,Ss=e=>`${Jf}${e}`,Jw=e=>`${ya}/tag/${e}`,Zw=e=>`${ya}/category/${e}`,Zf=()=>`${ya}/guestbook`,Qw=e=>e===ma?Zf():Ss(e),Xw=e=>s.jsx(Xs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Cn,{placement:"topLeft",title:sd(t.name),children:s.jsx(F.Link,{href:sd(t.name),target:"_blank",children:s.jsxs(A,{size:"small",children:[s.jsx(xr,{}),t.name]})})})}),ej=e=>s.jsx(Xs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(Cn,{placement:"topLeft",title:t.name,children:s.jsx(F.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function ol(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function tj(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const nj="_statisticCard_13tgk_1",rj="_icon_13tgk_4",aj="_divider_13tgk_11",sj="_link_13tgk_14",vn={statisticCard:nj,icon:rj,divider:aj,link:sj},Wa=e=>s.jsxs(xe,{bordered:!1,className:vn.statisticCard,children:[s.jsxs(le,{justify:"space-between",children:[s.jsx(wn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),s.jsx("div",{className:vn.icon,children:e.icon})]}),s.jsx(Q,{className:vn.divider}),e.loading?s.jsx(vo.Input,{block:!0,active:!0,size:"small"}):e.extra]}),ij=(e,t)=>[s.jsx(Wa,{loading:t,title:"今日阅读（文章页 PV）",value:(e==null?void 0:e.todayViews)??"-",suffix:"次",icon:s.jsx(bo,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsxs(F.Text,{type:"secondary",children:["累计阅读 ",s.jsx("strong",{children:ol((e==null?void 0:e.totalViews)??0)})]}),s.jsxs(Xt,{className:vn.link,to:tt[he.ArticlePost],children:[s.jsx(Ze,{})," 写文章"]})]})},"views"),s.jsx(Wa,{loading:t,title:"全站评论",value:(e==null?void 0:e.comments)??"-",suffix:"条",icon:s.jsx(pa,{}),extra:s.jsxs(le,{justify:"space-between",align:"center",children:[s.jsx(Xt,{className:vn.link,to:tt[he.Comment],children:"管理评论"}),s.jsx(Q,{type:"vertical"}),s.jsx(Xt,{className:vn.link,to:tt[he.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),s.jsx(Wa,{loading:t,title:"累计获得喜欢",value:(e==null?void 0:e.totalLikes)??"-",suffix:"次",icon:s.jsx(wo,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsx(_g,{count:5,disabled:!0,allowHalf:!0,value:e==null?void 0:e.averageEmotion}),s.jsx(Xt,{className:vn.link,to:tt[he.Feedback],children:"站点反馈"})]})},"likes"),s.jsx(Wa,{loading:t,title:"共发布文章",value:(e==null?void 0:e.articles)??"-",suffix:"篇",icon:s.jsx(Ld,{}),extra:s.jsxs(le,{justify:"space-between",children:[s.jsxs(F.Text,{type:"secondary",children:[s.jsx("strong",{children:(e==null?void 0:e.tags)??"-"})," 个文章标签"]}),s.jsx(Xt,{className:vn.link,to:tt[he.Tag],children:"管理标签"})]})},"contents")],oj="YYYY-MM-DD",Jr="YYYY/MM/DD",lj=e=>{const t=j.useRef(null),n=j.useMemo(()=>et(),[]),r=j.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const l=et(e.articleData[0].date),d=et(e.commentData[0].date);return l.isBefore(d)?l:d},[e.articleData,e.commentData]),a=j.useMemo(()=>{if(!r)return null;const l=new Map(e.articleData.flatMap(m=>[[m.date,m.count]])),d=new Map(e.commentData.flatMap(m=>[[m.date,m.count]])),u=n.diff(r,"day"),h=[],f=[],p=[];for(let m=0;m<=u;m++){const x=r.add(m,"day"),g=x.format(oj),S=x.format(Jr);h.push(S),f.push(l.get(g)||0),p.push(d.get(g)||0)}return{dateList:h,articleCountList:f,commentCountList:p}},[r,e.articleData,e.commentData]),i=j.useMemo(()=>Gf({dataZoom:!0,startValue:n.subtract(3,"months").format(Jr),endValue:n.format(Jr),categoryData:(a==null?void 0:a.dateList)??[],barsData:[{data:(a==null?void 0:a.articleCountList)??[],name:"Articles",color:Jn},{data:(a==null?void 0:a.commentCountList)??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{var l,d;(d=(l=t.current)==null?void 0:l.instance())==null||d.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},c=l=>{var d,u;(u=(d=t.current)==null?void 0:d.instance())==null||u.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:l.format(Jr),endValue:et().format(Jr)})};return s.jsx(xe,{bordered:!1,title:e.title,loading:e.loading,extra:s.jsxs(A,{wrap:!0,children:[s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{onClick:()=>c(et().subtract(1,"month")),children:"最近一月"}),s.jsx(N,{onClick:()=>c(et().subtract(3,"months")),children:"最近三个月"}),s.jsx(N,{onClick:()=>c(et().subtract(1,"year")),children:"最近一年"}),s.jsx(N,{onClick:o,children:"全部视图"})]}),s.jsx(Q,{type:"vertical"}),e.cardExtra]}),children:s.jsx(al,{ref:t,options:i,style:{width:"100%",height:e.height}})})},cj="_dashboardPage_1jxrl_1",dj="_gaChartContent_1jxrl_4",uj="_gaTreeListContent_1jxrl_8",Pn={dashboardPage:cj,gaChartContent:dj,gaTreeListContent:uj},fj=()=>{const e=Ri(),[t,n]=j.useState([]),[r,a]=j.useState([]),i=async()=>{const S=Promise.all([yw(),vw()]),[T,v]=await e.promise(S);n(T),a(v)},o=Ri(),[c,l]=j.useState(null),d=()=>{o.promise(xw()).then(S=>{l(S)})},u=j.useMemo(()=>ij(c,o.state),[c,o.state]),h=Ri(),[f,p]=j.useState([]),[m,x]=j.useState(ss[0].value),g=()=>{const S=ss.find(C=>C.value===m),{getStartDate:T,getEndDate:v,dimension:b}=S.gaQueryParams,E=Lw(T(),v(),b);h.promise(E).then(C=>{var L,y;p(((y=(L=C.result)==null?void 0:L.data)==null?void 0:y.reports)??[])})};return j.useEffect(()=>g(),[m]),Ee(()=>{d(),i()}),s.jsxs(A,{direction:"vertical",size:Qd,className:Pn.dashboardPage,children:[s.jsx(Ht,{gutter:[Ve,Ve],children:u.map((S,T)=>s.jsx(Fe,{xs:24,md:12,lg:6,children:S},T))}),s.jsx(Ht,{gutter:[Ve,Ve],children:s.jsx(Fe,{xs:24,children:s.jsx(lj,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:s.jsx(N,{size:"small",loading:e.state,icon:s.jsx(nt,{}),onClick:()=>i()})})})}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,md:24,lg:9,children:s.jsx(xe,{bordered:!1,classNames:{body:Pn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:s.jsx(Fw,{pollIntervalSeconds:16,chartHeight:200})})}),s.jsx(Fe,{xs:24,md:24,lg:15,children:s.jsx(xe,{bordered:!1,classNames:{body:Pn.gaChartContent},loading:h.state,title:"GA Overview",extra:s.jsxs(A,{wrap:!0,children:[s.jsx(Qa.Group,{options:ss,onChange:S=>x(S.target.value),value:m,disabled:h.state,optionType:"button",size:"small"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",loading:h.state,icon:s.jsx(nt,{}),onClick:()=>g()})]}),children:!h.state&&s.jsx(Uw,{chartHeight:200,activeDateRange:m,rows:Ew(f)})})})]}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Regions Rank",loading:h.state,classNames:{body:Pn.gaTreeListContent},children:!h.state&&s.jsx(Kw,{rows:Tw(f)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Devices Rank",loading:h.state,classNames:{body:Pn.gaTreeListContent},children:!h.state&&s.jsx(Ww,{rows:Rw(f)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Urls Rank",loading:h.state,classNames:{body:Pn.gaTreeListContent},children:!h.state&&s.jsx(Xw,{rows:Iw(f)})})}),s.jsx(Fe,{xs:24,md:12,lg:6,children:s.jsx(xe,{bordered:!1,title:"GA Page Titles Rank",loading:h.state,classNames:{body:Pn.gaTreeListContent},children:!h.state&&s.jsx(ej,{rows:kw(f)})})})]})]})},hj=(e=!1,t=ku)=>{const n=t(e),r=()=>{n.value=!0},a=()=>{n.value=!1};return{state:n,start:r,stop:a,promise:o=>(r(),o.finally(a))}},ge=(e=!1)=>hj(e,Z);var gj=4,mj=.001,pj=1e-7,xj=10,na=11,Ga=1/(na-1),yj=typeof Float32Array=="function";function Qf(e,t){return 1-3*t+3*e}function Xf(e,t){return 3*t-6*e}function eh(e){return 3*e}function Cs(e,t,n){return((Qf(t,n)*e+Xf(t,n))*e+eh(t))*e}function th(e,t,n){return 3*Qf(t,n)*e*e+2*Xf(t,n)*e+eh(t)}function vj(e,t,n,r,a){var i,o,c=0;do o=t+(n-t)/2,i=Cs(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>pj&&++c<xj);return o}function bj(e,t,n,r){for(var a=0;a<gj;++a){var i=th(t,n,r);if(i===0)return t;var o=Cs(t,n,r)-e;t-=o/i}return t}function wj(e){return e}var jj=function(t,n,r,a){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return wj;for(var i=yj?new Float32Array(na):new Array(na),o=0;o<na;++o)i[o]=Cs(o*Ga,t,r);function c(l){for(var d=0,u=1,h=na-1;u!==h&&i[u]<=l;++u)d+=Ga;--u;var f=(l-i[u])/(i[u+1]-i[u]),p=d+f*Ga,m=th(p,t,r);return m>=mj?bj(l,p,t,r):m===0?p:vj(l,d,d+Ga,t,r)}return function(d){return d===0?0:d===1?1:Cs(c(d),n,a)}};const id=Yt(jj),_j={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Ja={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},ft=(e,t=500,n={})=>{n.easing=_j.ease;const r=Ja.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let i=!1;const o=function(){i=!0};Ja.on(r,a,o);let c=0;const l=window.pageYOffset;if(typeof e=="number")c=e;else{const m=typeof e=="string"?Ja.$(e):e;c=l+m.getBoundingClientRect().top}let d=document.body.scrollHeight-c<window.innerHeight?document.body.scrollHeight-window.innerHeight:c;n.offset&&(d+=n.offset);const u=d-l,h=Reflect.apply(id,id,n.easing);let f;const p=function(){Ja.off(r,a,o),i&&n.onCancel&&n.onCancel(),!i&&n.onDone&&n.onDone()};u&&window.requestAnimationFrame(function m(x){if(i)return p();f||(f=x);const g=x-f;let S=Math.min(g/t,1);S=h(S),window.scrollTo(0,l+u*S),g<t?window.requestAnimationFrame(m):p()})},Lr=e=>s.jsx(Pd,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:s.jsx(N,{disabled:e.disabled,icon:s.jsx(Sg,{}),iconPosition:"end",children:e.text??e.children})});var nh=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(nh||{});const ll=[{id:0,name:"原创",icon:s.jsx(Ze,{}),color:"default"},{id:1,name:"转载",icon:s.jsx(jo,{}),color:"default"},{id:2,name:"衍生",icon:s.jsx(Cg,{}),color:"default"}],Sj=new Map(ll.map(e=>[e.id,e])),Cj=e=>Sj.get(e);var rh=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(rh||{});const cl=[{id:1,name:"公开",icon:s.jsx(Eg,{}),color:"green"},{id:-1,name:"私密",icon:s.jsx(Tg,{}),color:"red"},{id:0,name:"保留",icon:s.jsx(Ls,{}),color:"orange"}],Ej=new Map(cl.map(e=>[e.id,e])),Tj=e=>Ej.get(e);var Ot=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Ot||{});const dl=[{id:0,name:"草稿",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"},{id:-1,name:"回收站",icon:s.jsx(qe,{}),color:"red"}],Rj=new Map(dl.map(e=>[e.id,e])),uo=e=>Rj.get(e),Ii=({emoji:e})=>s.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var ah=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(ah||{});const ul=[{id:"zh",name:"中文",icon:s.jsx(Ii,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:s.jsx(Ii,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:s.jsx(Ii,{emoji:"🌐"})}];new Map(ul.map(e=>[e.id,e]));const Pr="/article";function Ij(e={}){return V.get(Pr,{params:e}).then(t=>t.result)}function sh(e){return V.get(`${Pr}/${e}`).then(t=>t.result)}function kj(e){return V.post(Pr,e).then(t=>t.result)}function Lj(e){return V.put(`${Pr}/${e._id}`,e).then(t=>t.result)}function od(e,t){return V.patch(Pr,{article_ids:e,state:t}).then(n=>n.result)}function Pj(e){return V.delete(Pr,{data:{article_ids:e}}).then(t=>t.result)}const ih=1,oh=-1;var qn=(e=>(e[e.Asc=ih]="Asc",e[e.Desc=oh]="Desc",e))(qn||{}),Kn=(e=>(e[e.Asc=ih]="Asc",e[e.Desc=oh]="Desc",e[e.Hot=2]="Hot",e))(Kn||{});const Aj=[{id:Kn.Desc,name:"最新",icon:s.jsx(Rg,{})},{id:Kn.Asc,name:"最早",icon:s.jsx(Ig,{})},{id:2,name:"最热",icon:s.jsx(kg,{})}],Oj=new Map(Aj.map(e=>[e.id,e])),ld=e=>Oj.get(e),Zn=e=>{const t=[qn.Desc,qn.Asc],n=e.withHot?[...t,Kn.Hot]:t;return s.jsx(ye,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:s.jsxs(A,{size:"small",children:[ld(r).icon,ld(r).name]})}))})},Ar="/tag";function Dj(e={}){return V.get(Ar,{params:e}).then(t=>t.result)}function lh(){return V.get(`${Ar}/all`).then(e=>e.result)}function Nj(e){return V.post(Ar,e).then(t=>t.result)}function $j(e){return V.put(`${Ar}/${e._id}`,e).then(t=>t.result)}function Fj(e){return V.delete(`${Ar}/${e}`).then(t=>t.result)}function Mj(e){return V.delete(Ar,{data:{tag_ids:e}}).then(t=>t.result)}var fl={};(function(e){var t=Nt&&Nt.__assign||function(){return(t=Object.assign||function(o){for(var c,l=1,d=arguments.length;l<d;l++)for(var u in c=arguments[l])Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,c){c===void 0&&(c={});for(var l,d=t(t({},n),c),u=[],h={},f=d.throwIfOrphans?new Set:null,p=0,m=o;p<m.length;p++){var x=m[p],g=d.nestedIds?i(x,d.id):x[d.id],S=d.nestedIds?i(x,d.parentId):x[d.parentId];if(d.rootParentIds[g])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(g,'", `rootParentIds`: ').concat(Object.keys(d.rootParentIds).map(function(T){return'"'.concat(T,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(h,g)||(h[g]=((l={})[d.childrenField]=[],l)),f&&f.delete(g),d.dataField?h[g][d.dataField]=x:d.assign?h[g]=Object.assign(x,((l={})[d.childrenField]=h[g][d.childrenField],l)):h[g]=t(t({},x),((x={})[d.childrenField]=h[g][d.childrenField],x)),x=h[g],S==null||d.rootParentIds[S]?u.push(x):(Object.prototype.hasOwnProperty.call(h,S)||(h[S]=((g={})[d.childrenField]=[],g),f&&f.add(S)),h[S][d.childrenField].push(x))}if(f!=null&&f.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(f),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(d.throwIfOrphans&&a(u,d.childrenField)<Object.keys(h).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return u}function a(o,c){return o.reduce(function(l,d){return l+1+(d[c]&&a(d[c],c))},0)}function i(o,c){return c.split(".").reduce(function(l,d){return l&&l[d]},o)}e.arrayToTree=r,e.countNodes=a})(fl);const ei="/category";function hl(){return V.get(`${ei}/all`).then(e=>({list:e.result,tree:fl.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function gl(e){const t=n=>n.map(r=>{var a;return{data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:((a=e.disabledWhen)==null?void 0:a.call(e,r))??!1,children:t(r.children||[])}});return t(e.tree)}function Uj(e){return V.post(ei,e).then(t=>t.result)}function zj(e){return V.put(`${ei}/${e._id}`,e).then(t=>t.result)}function Bj(e){return V.delete(`${ei}/${e}`).then(t=>t.result)}const Be="ALL",cd={sort:Kn.Desc,featured:!1,tag_slug:Be,category_slug:Be,public:Be,state:Be,origin:Be,lang:Be},Hj=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==Be?e.tag_slug:void 0,category_slug:e.category_slug!==Be?e.category_slug:void 0,state:e.state!==Be?e.state:void 0,public:e.public!==Be?e.public:void 0,origin:e.origin!==Be?e.origin:void 0,lang:e.lang!==Be?e.lang:void 0}),Vj=e=>{const{i18n:t}=Ye(),n=ge(),r=ut([]),a=()=>{n.promise(hl()).then(l=>{r.value=l.tree})},i=ge(),o=ut([]),c=()=>{i.promise(lh()).then(l=>{o.value=l})};return Ee(()=>{c(),a()}),s.jsxs(le,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?s.jsx(_o,{}):s.jsx(So,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:l=>e.onParamsChange({state:l}),options:[{label:"全部状态",value:Be},...dl.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:l=>e.onParamsChange({public:l}),options:[{label:"全部可见",value:Be},...cl.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:l=>e.onParamsChange({origin:l}),options:[{label:"全部来源",value:Be},...ll.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsx(ye,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:l=>e.onParamsChange({lang:l}),options:[{label:"全部语言",value:Be},...ul.map(l=>({value:l.id,label:s.jsxs(A,{size:"small",children:[l.icon,l.name]})}))]}),s.jsxs(A.Compact,{children:[s.jsx(Ad,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:l=>e.onParamsChange({category_slug:l}),treeData:[{label:"全部分类",key:Be,value:Be},...gl({tree:r.value,valuer:l=>l.slug})]}),s.jsx(ye,{style:{width:140},loading:i.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:l=>e.onParamsChange({tag_slug:l}),options:[{label:"全部标签",value:Be},...o.value.map(l=>({value:l.slug,label:`${l.name} (${l.article_count})`}))]})]})]}),s.jsxs(A,{wrap:!0,children:[s.jsx(Zn,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:l=>e.onParamsChange({sort:l})}),s.jsx(se.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:l=>e.onKeywordChange(l.target.value),allowClear:!0,onSearch:(l,d,u)=>{(u==null?void 0:u.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),s.jsx(A,{children:e.extra})]})},ch=e=>{var t;return(t=et(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Ue=e=>{var t;return(t=et(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},qj=e=>{var t,n,r;return s.jsx(an,{rowKey:a=>a._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(a,i)=>s.jsx(Od.Ribbon,{color:i.featured?Jn:"transparent",text:i.featured?"精选":null,children:s.jsxs(xe,{size:"small",bordered:!1,styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${i.thumbnail}") center / cover`},children:[s.jsx(F.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:i.title}),s.jsx(F.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:i.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(a,i){return s.jsx(A,{direction:"vertical",size:"small",wrap:!0,children:i.tags.map(o=>s.jsx(Kt,{style:{cursor:"pointer"},icon:s.jsx(Dd,{}),onClick:()=>e.onClickTag(o),children:o.name},o._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(a,i){var o,c,l;return s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{size:"small",children:[s.jsx(bo,{}),"浏览 ",ol(((o=i.meta)==null?void 0:o.views)??0)," 次"]}),s.jsxs(A,{size:"small",children:[s.jsx(wo,{}),"喜欢 ",(c=i.meta)==null?void 0:c.likes," 次"]}),s.jsxs(A,{size:"small",children:[s.jsx(pa,{}),"评论 ",(l=i.meta)==null?void 0:l.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsxs("div",{children:["分类：",i.categories.map((o,c)=>s.jsxs("span",{children:[s.jsx(F.Link,{onClick:()=>e.onClickCategory(o),children:o.name}),i.categories[c+1]?s.jsx(Q,{type:"vertical"}):""]},c))]}),s.jsxs("div",{children:["发布：",Ue(i.created_at)]}),s.jsxs("div",{children:["更新：",Ue(i.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(a,i)=>s.jsx(A,{direction:"vertical",children:[uo(i.state),Tj(i.public),Cj(i.origin)].map(o=>s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name},o.id+o.name))})},{title:"操作",width:110,dataIndex:"actions",render:(a,i)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(Xt,{to:Il.articleDetail(i._id),children:s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),children:"文章详情"})}),i.state===Ot.Draft&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(It,{}),onClick:()=>e.onUpdateState(i,Ot.Published),children:s.jsx(F.Text,{type:"success",children:"直接发布"})}),i.state===Ot.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onUpdateState(i,Ot.Recycle),children:"移回收站"}),i.state===Ot.Recycle&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Nd,{}),onClick:()=>e.onUpdateState(i,Ot.Draft),children:s.jsx(F.Text,{type:"warning",children:"退至草稿"})}),s.jsx(N,{size:"small",block:!0,type:"link",target:"_blank",icon:s.jsx(xa,{}),href:Ss(i.id),children:"宿主页面"})]})}]})},Kj=()=>{var h;const{i18n:e}=Ye(),t=ge(),n=sn({data:[],pagination:void 0}),r=Z([]),a=Z(""),i=Z({...cd}),o=(f={})=>{a.value="",i.value={...cd,...f}},c=f=>{const p={...f,...Hj(i.value),keyword:a.value||void 0};t.promise(Ij(p)).then(m=>{n.data=m.data,n.pagination=m.pagination,ft(document.body)})},l=()=>{var f,p;c({page:(f=n.pagination)==null?void 0:f.current_page,per_page:(p=n.pagination)==null?void 0:p.per_page})},d=(f,p)=>{const m=uo(p).name;Ce.confirm({title:`确定要将此文章更新为「 ${m} 」状态吗？`,content:`《${f.title}》`,centered:!0,onOk:()=>od([f._id],p).then(()=>{l()})})},u=(f,p)=>{const m=uo(p).name;Ce.confirm({title:`确定要将 ${f.length} 个文章更新为「 ${m} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>od(f,p).then(()=>{l()})})};return Ct(()=>i.value,()=>c(),{deep:!0}),Ee(()=>{c()}),s.jsxs(xe,{bordered:!1,title:e.t("page.article.list.title",{total:((h=n.pagination)==null?void 0:h.total)??"-"}),extra:s.jsx(Xt,{to:tt[he.ArticlePost],children:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Ze,{}),children:e.t("page.article.create")})}),children:[s.jsx(Vj,{loading:t.state.value,keyword:a.value,onKeywordChange:f=>a.value=f,onKeywordSearch:()=>c(),params:i.value,onParamsChange:f=>Object.assign(i.value,f),onResetRefresh:()=>o({}),extra:s.jsx(Lr,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:s.jsx(Nd,{}),onClick:()=>u(r.value,Ot.Draft)},{label:"直接发布",icon:s.jsx(It,{}),onClick:()=>u(r.value,Ot.Published)},{label:"移回收站",icon:s.jsx(qe,{}),onClick:()=>u(r.value,Ot.Recycle)}]})}),s.jsx(Q,{}),s.jsx(qj,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:f=>r.value=f,onPaginate:(f,p)=>c({page:f,per_page:p}),onUpdateState:(f,p)=>d(f,p),onClickCategory:({slug:f})=>o({category_slug:f}),onClickTag:({slug:f})=>o({tag_slug:f})})]})};function Yj(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ti=Yj,Wj=typeof Nt=="object"&&Nt&&Nt.Object===Object&&Nt,Gj=Wj,Jj=Gj,Zj=typeof self=="object"&&self&&self.Object===Object&&self,Qj=Jj||Zj||Function("return this")(),Ca=Qj,Xj=Ca,e0=function(){return Xj.Date.now()},t0=e0,n0=/\s/;function r0(e){for(var t=e.length;t--&&n0.test(e.charAt(t)););return t}var a0=r0,s0=a0,i0=/^\s+/;function o0(e){return e&&e.slice(0,s0(e)+1).replace(i0,"")}var l0=o0,c0=Ca,d0=c0.Symbol,dh=d0,dd=dh,uh=Object.prototype,u0=uh.hasOwnProperty,f0=uh.toString,Zr=dd?dd.toStringTag:void 0;function h0(e){var t=u0.call(e,Zr),n=e[Zr];try{e[Zr]=void 0;var r=!0}catch{}var a=f0.call(e);return r&&(t?e[Zr]=n:delete e[Zr]),a}var g0=h0,m0=Object.prototype,p0=m0.toString;function x0(e){return p0.call(e)}var y0=x0,ud=dh,v0=g0,b0=y0,w0="[object Null]",j0="[object Undefined]",fd=ud?ud.toStringTag:void 0;function _0(e){return e==null?e===void 0?j0:w0:fd&&fd in Object(e)?v0(e):b0(e)}var ml=_0;function S0(e){return e!=null&&typeof e=="object"}var fh=S0,C0=ml,E0=fh,T0="[object Symbol]";function R0(e){return typeof e=="symbol"||E0(e)&&C0(e)==T0}var I0=R0,k0=l0,hd=ti,L0=I0,gd=NaN,P0=/^[-+]0x[0-9a-f]+$/i,A0=/^0b[01]+$/i,O0=/^0o[0-7]+$/i,D0=parseInt;function N0(e){if(typeof e=="number")return e;if(L0(e))return gd;if(hd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=k0(e);var n=A0.test(e);return n||O0.test(e)?D0(e.slice(2),n?2:8):P0.test(e)?gd:+e}var $0=N0,F0=ti,ki=t0,md=$0,M0="Expected a function",U0=Math.max,z0=Math.min;function B0(e,t,n){var r,a,i,o,c,l,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(M0);t=md(t)||0,F0(n)&&(u=!!n.leading,h="maxWait"in n,i=h?U0(md(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(C){var L=r,y=a;return r=a=void 0,d=C,o=e.apply(y,L),o}function m(C){return d=C,c=setTimeout(S,t),u?p(C):o}function x(C){var L=C-l,y=C-d,I=t-L;return h?z0(I,i-y):I}function g(C){var L=C-l,y=C-d;return l===void 0||L>=t||L<0||h&&y>=i}function S(){var C=ki();if(g(C))return T(C);c=setTimeout(S,x(C))}function T(C){return c=void 0,f&&r?p(C):(r=a=void 0,o)}function v(){c!==void 0&&clearTimeout(c),d=0,r=l=a=c=void 0}function b(){return c===void 0?o:T(ki())}function E(){var C=ki(),L=g(C);if(r=arguments,a=this,l=C,L){if(c===void 0)return m(l);if(h)return clearTimeout(c),c=setTimeout(S,t),p(l)}return c===void 0&&(c=setTimeout(S,t)),o}return E.cancel=v,E.flush=b,E}var H0=B0;const V0=Yt(H0);var Es=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(Es||{});const q0=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],$R=new Map(q0.map(e=>[e.id,e])),hh=e=>`uneditor-${e}`,FR=V0((e,t)=>nn.set(hh(e),t),666),K0=e=>nn.get(hh(e)),Y0=jr.lazy(()=>xm(()=>import("./Editor-BQ6Tczqp.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),wr=e=>s.jsx(jr.Suspense,{fallback:s.jsx(xe,{size:"small",loading:!0}),children:s.jsx(Y0,{...e})}),W0=e=>t=>s.jsx(tu,{initTheme:e.initTheme,children:s.jsx(Zd,{initLanguage:e.initLanguage,children:s.jsx(wr,{...t})})}),fo=e=>navigator.clipboard.writeText(e);var G0=ml,J0=fh,Z0="[object Number]";function Q0(e){return typeof e=="number"||J0(e)&&G0(e)==Z0}var X0=Q0;const e_=Yt(X0),gh={UPLOAD:"/extension/static/upload",LIST:"/extension/static/list"};async function t_(e){return V.get(gh.LIST,{params:e}).then(t=>t.result)}async function n_(e){const t=new FormData;return t.append("file",e.file),t.append("name",e.name),V.post(gh.UPLOAD,t,{onUploadProgress:({loaded:n,total:r})=>{var a;if(e_(r)){const i=n/r*100;(a=e.onProgress)==null||a.call(e,i)}}}).then(n=>n.result)}const r_=3e6;var mh=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(mh||{});const ph=()=>{const e=ge(),t=Z(!1),n=Z(0);return{upload:(a,i=null,o)=>{if(a.size>r_)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const c=(i??a.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",c),e.promise(n_({file:a,name:c,onProgress:l=>{var d;console.debug("[upoader]","New upload progress:",l),t.value=!0,n.value=l*100,(d=o==null?void 0:o.onProgress)==null||d.call(o,l)}}).then(l=>(console.debug("[upoader]","Upload completed:",l.url),l)).catch(l=>(console.warn("[upoader]","Upload failed:",l),Promise.reject({code:"failure",error:l}))).finally(()=>{t.value=!1}))},uploading:e,progressing:t,progress:n}},Ts=e=>`![](${e})`,a_="_imageUploader_1yty1_1",s_="_copyMarkdown_1yty1_4",i_="_uploader_1yty1_7",o_="_tigger_1yty1_15",l_="_image_1yty1_1",Qr={imageUploader:a_,copyMarkdown:s_,uploader:i_,tigger:o_,image:l_},xh=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,yh=e=>{const{i18n:t}=Ye(),n=ph(),r=a=>{Bt.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,xh(a,e.directory)).then(i=>{var o;(o=e.onChange)==null||o.call(e,i.url),Bt.success({message:t.t("component.image_uploader.state.succeeded"),description:i.key})}).catch(i=>{var o;Bt.error({message:t.t("component.image_uploader.state.failed"),description:i.code===mh.Failure?String(((o=i.error)==null?void 0:o.message)??i.error):i.code})})};return s.jsxs(A,{direction:"vertical",className:Qr.imageUploader,children:[s.jsx(Co,{name:"file",listType:"picture-card",className:Qr.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>{var a;return(a=e.onChange)==null?void 0:a.call(e,"")},customRequest:a=>{a.file&&r(a.file)},children:e.value?s.jsx("img",{className:Qr.image,src:e.value,alt:e.value}):s.jsxs(A,{className:Qr.tigger,direction:"vertical",align:"center",size:"small",children:[n!=null&&n.uploading.state.value?s.jsx($d,{}):s.jsx(In,{}),n!=null&&n.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&s.jsx(se,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:s.jsx(xr,{}),value:e.value,onChange:a=>{var i;return(i=e.onChange)==null?void 0:i.call(e,a.target.value)}}),!e.disabledMarkdown&&e.value&&s.jsxs(A.Compact,{className:Qr.copyMarkdown,children:[s.jsx(se,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:s.jsx(Lg,{}),value:Ts(e.value)}),s.jsx(Cn,{title:"Copy Markdown",children:s.jsx(N,{icon:s.jsx(jo,{}),onClick:()=>fo(Ts(e.value))})})]})]})},c_="_inputWrapper_kev5k_1",d_="_inputGroup_kev5k_4",pd={inputWrapper:c_,inputGroup:d_},Ea=e=>s.jsx(P.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>s.jsxs(A,{direction:"vertical",size:"middle",className:pd.inputWrapper,children:[t.map(a=>s.jsxs(A,{size:"middle",className:pd.inputGroup,children:[s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:s.jsx(se,{placeholder:"Name"})}),s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:s.jsx(se,{placeholder:"Value"})}),s.jsx(N,{icon:s.jsx(qe,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),s.jsx(N,{block:!0,type:"dashed",icon:s.jsx(In,{}),onClick:()=>n(),children:s.jsx("span",{children:s.jsx(Cr,{i18nKey:"component.form_key_value.add"})})})]})});function u_(e){let t=JSON.stringify(e.initValue,null,2);const n=W0({initTheme:e.initTheme,initLanguage:e.initLanguage});return Ce.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:Fn.t("component.modal_json_editor.save"),content:s.jsx("div",{style:{display:"grid",width:"100%"},children:s.jsx(n,{value:t,onChange:r=>t=r,placeholder:Fn.t("component.modal_json_editor.placeholder"),defaultLanguage:Es.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=Fn.t("component.modal_json_editor.error");return jn.error(a),Promise.reject(a)}}})}const ot=e=>e.isFolder,vh=e=>`${(e/1024).toFixed(2)}kb`,pl=e=>["jpg","jpeg","png","webp","svg","ico"].some(t=>e.toLowerCase().endsWith(t)),bh=e=>["mp3","wma","wav","ape","flac"].some(t=>e.toLowerCase().endsWith(t)),wh=e=>["mp4","wmv","mov","webp"].some(t=>e.toLowerCase().endsWith(t)),jh=e=>pl(e)?s.jsx(Eo,{}):wh(e)?s.jsx(di,{}):bh(e)?s.jsx(di,{}):e.toLowerCase().endsWith("html")?s.jsx(Pg,{}):e.toLowerCase().endsWith("pdf")?s.jsx(Ag,{}):s.jsx(di,{}),f_=e=>{const t=[{title:"Key",dataIndex:"key",sorter:(n,r)=>{const a=ot(n)?n.prefix:n.key,i=ot(r)?r.prefix:r.key;return a.localeCompare(i)},render:(n,r)=>s.jsxs(A,{size:"small",children:[ot(r)?s.jsx(Fd,{}):jh(r.key),ot(r)?s.jsx(F.Link,{onClick:()=>e.onClickFolder(r.prefix),children:r.prefix}):s.jsx(Cn,{title:r.url,placement:"topLeft",children:s.jsx(F.Link,{copyable:{text:r.url},onClick:()=>e.onClickFile(r),children:r.key})})]})},{width:96,title:"Size",dataIndex:"size",sorter:(n,r)=>{const a=ot(n)?0:n.size,i=ot(r)?0:r.size;return a-i},render:(n,r)=>ot(r)?"-":vh(r.size)},{width:160,title:"LastModified",dataIndex:"lastModified",defaultSortOrder:"descend",sorter:(n,r)=>{const a=ot(n)?0:n.lastModified??0,i=ot(r)?0:r.lastModified??0;return a-i},render:(n,r)=>ot(r)?"-":ch(r.lastModified)},{width:120,title:"StorageClass",dataIndex:"storageClass",render:(n,r)=>ot(r)?"-":r.storageClass}];return s.jsx(an,{size:e.size,pagination:!1,columns:t,loading:e.loading,dataSource:e.data})},h_="_fileModalDescriptions_12vi3_1",g_="_fileModalImage_12vi3_4",m_="_fileModalVideo_12vi3_7",p_="_fileModalAudio_12vi3_11",x_="_fileModalIframe_12vi3_14",y_="_fileModalPdf_12vi3_18",v_="_fileGridList_12vi3_23",b_="_listItem_12vi3_32",w_="_handler_12vi3_32",j_="_image_12vi3_44",__="_name_12vi3_53",Dt={fileModalDescriptions:h_,fileModalImage:g_,fileModalVideo:m_,fileModalAudio:p_,fileModalIframe:x_,fileModalPdf:y_,fileGridList:v_,listItem:b_,handler:w_,image:j_,name:__},S_=e=>{const t=r=>{ot(r)?e.onClickFolder(r.prefix):e.onClickFile(r)},n=r=>ot(r)?s.jsx(Fd,{}):pl(r.key)?s.jsx("img",{loading:"lazy",className:Dt.image,src:r.url}):jh(r.key);return s.jsx(dt,{spinning:e.loading,children:s.jsx("ul",{className:Dt.fileGridList,children:e.data.map((r,a)=>s.jsx(Cn,{placement:"topLeft",destroyTooltipOnHide:!0,mouseEnterDelay:.01,mouseLeaveDelay:.01,title:ot(r)?r.prefix:r.key,children:s.jsxs("li",{className:Dt.listItem,onClick:()=>t(r),children:[s.jsx("div",{className:Dt.handler,children:n(r)}),s.jsx("p",{className:Dt.name,children:ot(r)?r.prefix:r.key})]})},a))})})},xd=[280,500,1e3],_h=e=>{var x;const t=ut("list"),n=Pu({limit:e.initLimit??xd[1],prefix:e.initPrefix??""}),r=ut(null),a=St(()=>!!r.value),i=g=>{r.value=g},o=()=>{r.value=null},{i18n:c}=Ye(),l=ge(),d=ut(),u=Z([]),h=St(()=>{var S,T;return[...((T=(S=d.value)==null?void 0:S.commonPrefixes)==null?void 0:T.map(v=>({isFolder:!0,prefix:v.Prefix,key:v.Prefix})))??[],...u.value.filter(v=>!(v.key.endsWith("/")&&v.size===0))]}),f=g=>l.promise(t_({limit:n.limit,prefix:n.prefix,delimiter:"/",startAfter:g})).then(S=>{d.value=S,g?u.value.push(...S.files):u.value=S.files}),p=g=>{n.prefix=g,f()};Ct(()=>n.limit,()=>f()),Ee(()=>f());const m=g=>{const S=()=>pl(g.key)?s.jsx(F.Link,{href:g.url,target:"_blank",children:s.jsx("img",{src:g.url,alt:g.key,className:Dt.fileModalImage})}):wh(g.key)?s.jsx("video",{src:g.url,controls:!0,autoPlay:!0,className:Dt.fileModalVideo}):bh(g.key)?s.jsx("audio",{src:g.url,controls:!0,autoPlay:!0,className:Dt.fileModalAudio}):g.key.toLowerCase().endsWith("html")?s.jsx("iframe",{src:g.url,className:Dt.fileModalIframe}):g.key.toLowerCase().endsWith("pdf")?s.jsx("iframe",{src:g.url,className:Dt.fileModalPdf}):s.jsx(F.Link,{href:g.url,target:"_blank",children:"新窗口打开"});return s.jsxs(mn,{size:"middle",column:2,className:Dt.fileModalDescriptions,children:[s.jsx(mn.Item,{label:"size",children:vh(g.size)}),s.jsx(mn.Item,{label:"StorageClass",children:g.storageClass}),s.jsx(mn.Item,{label:"lastModified",span:2,children:ch(g.lastModified)}),s.jsx(mn.Item,{label:"ETag",span:2,children:g.eTag}),s.jsx(mn.Item,{label:"Key",span:2,children:s.jsx(F.Text,{copyable:{text:g.url},children:g.key})}),s.jsx(mn.Item,{span:2,children:S()})]})};return s.jsxs("div",{children:[s.jsx(Ce,{title:((x=r.value)==null?void 0:x.key)??"文件详情",centered:!0,closable:!0,destroyOnClose:!0,footer:null,open:a.value,onCancel:o,onClose:o,children:r.value?m(r.value):null}),s.jsxs(le,{justify:"space-between",children:[s.jsxs(A,{children:[s.jsx(ye,{placeholder:"每页数据",disabled:l.state.value,value:n.limit,onChange:g=>n.limit=g,labelRender:g=>`每页 ${g.value} 条数据`,optionRender:g=>`${g.value} 条`,options:xd.map(g=>({value:g}))}),s.jsx(se.Search,{style:{width:260},allowClear:!0,placeholder:"输入前缀以过滤",disabled:l.state.value,value:n.prefix,onChange:g=>n.prefix=g.target.value,onSearch:(g,S,T)=>{(T==null?void 0:T.source)==="input"&&f()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:l.state.value,onClick:()=>f(),children:c.t("common.list.filter.refresh")})]}),s.jsx(ye,{placeholder:"展示方式",value:t.value,onChange:g=>t.value=g,options:[{value:"list",label:s.jsxs(A,{size:"small",children:[s.jsx(Og,{})," 列表"]})},{value:"grid",label:s.jsxs(A,{size:"small",children:[s.jsx(Md,{})," 网格"]})}]})]}),s.jsx(Q,{}),t.value==="list"?s.jsx(f_,{loading:l.state.value,data:h.value,size:e.tableListSize,onClickFolder:p,onClickFile:i}):s.jsx(S_,{loading:l.state.value,data:h.value,onClickFolder:p,onClickFile:i}),s.jsx("br",{}),d.value&&s.jsx(le,{justify:"center",children:d.value.files.length<d.value.limit?s.jsx(F.Text,{type:"secondary",children:"没有更多了"}):s.jsx(N,{size:"large",icon:s.jsx(In,{}),disabled:l.state.value,loading:l.state.value,onClick:()=>{var g;return f((g=u.value.at(-1))==null?void 0:g.key)},children:l.state.value?"加载中...":"加载更多"})})]})},C_="_categorySelect_1vnzs_1",E_="_multipleImageUploader_1vnzs_11",T_="_copyButton_1vnzs_14",is={categorySelect:C_,multipleImageUploader:E_,copyButton:T_},R_=e=>{const t=ph(),n=Pu([]);return s.jsxs("div",{className:is.multipleImageUploader,children:[n.length?s.jsx(N,{block:!0,type:"dashed",className:is.copyButton,onClick:()=>{fo(n.map(Ts).join(`
`)),jn.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,s.jsxs(Co.Dragger,{className:is.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:s.jsx(Cn,{title:"Copy Markdown",children:s.jsx(jo,{})})},onDownload:r=>{fo(Ts(r.response.url)),jn.info("复制成功")},onPreview:r=>{Ce.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>{var a,i;return s.jsx(xe,{title:((a=r.response)==null?void 0:a.key)??"",children:s.jsx("img",{style:{width:"100%"},src:(i=r.response)==null?void 0:i.url})})}})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,xh(a,e.directory),{onProgress:i=>{var o;return(o=r.onProgress)==null?void 0:o.call(r,{percent:i})}}).then(i=>{var o;n.push(i.url),(o=r.onSuccess)==null||o.call(r,i)}).catch(i=>{var o;(o=r.onError)==null||o.call(r,i)})}},children:[s.jsx("br",{}),s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(Ps,{})}),s.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),s.jsx("br",{})]})]})},I_=e=>{const t=s.jsxs(A,{children:[s.jsx(Eo,{}),"图片上传器"]}),n=s.jsx(N,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return s.jsx(Ce,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(R_,{directory:e.uploaderDirectory})})},k_=e=>{const t=ge(),n=ut([]),r=()=>{t.promise(lh()).then(c=>{n.value=c})},a=e.value||[],i=(c,l)=>{var h;const d=c._id,u=l?[...a,d]:a.filter(f=>f!==d);(h=e.onChange)==null||h.call(e,u)};Ee(()=>{r()});const o=c=>{const l=a.includes(c._id);return s.jsx(N,{size:"small",onClick:()=>i(c,!l),type:l?"primary":"default",icon:l?s.jsx(Ud,{}):s.jsx(Dd,{style:{opacity:.6}}),children:c.name},c._id)};return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(vo,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?s.jsx(A,{wrap:!0,size:[12,12],children:n.value.map(o)}):s.jsx(F.Text,{type:"secondary",children:"无数据"})})}),s.jsx(Q,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(nt,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},L_=e=>{var r;const t=Z(!1),n=Z(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(P,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[(r=e.extraItems)==null?void 0:r.map((a,i)=>s.jsx(P.Item,{label:a.label,wrapperCol:{span:12},children:a.content},i)),s.jsx(P.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:s.jsx(se,{addonBefore:Jf,placeholder:"article-title",allowClear:!0})}),s.jsx(P.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:s.jsx(se,{placeholder:"文章标题"})}),s.jsx(P.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"文章描述"})}),s.jsx(P.Item,{label:"关键词",name:"keywords",children:s.jsx(ye,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{label:"标签",name:"tags",children:s.jsx(k_,{})}),s.jsx("br",{}),s.jsx(P.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:s.jsx(wr,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:()=>s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",icon:s.jsx(To,{}),onClick:()=>{n.value=!0}}),s.jsx(N,{size:"small",icon:s.jsx(As,{}),onClick:()=>{t.value=!0}})]})})})]}),s.jsx(I_,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${et().format("YYYY-MM-DD")}`}),s.jsx(Ce,{title:"云存储文件管理",centered:!0,closable:!0,width:880,footer:null,open:n.value,onClose:()=>n.value=!1,onCancel:()=>n.value=!1,styles:{body:{paddingTop:"12px",paddingRight:"14px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(_h,{initPrefix:"nodepress/",tableListSize:"small"})})]})},P_=e=>{const t=ge(),n=ut([]),r=()=>{t.promise(hl()).then(i=>{n.value=i.tree})};Ee(()=>{r()});const a=()=>s.jsx(Dg,{className:is.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:i=>{var c;const o=Array.isArray(i)?i:i.checked;(c=e.onChange)==null||c.call(e,o)},treeData:gl({tree:n.value,valuer:i=>i._id}),titleRender:i=>{const o=i.data;return s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{strong:!0,children:o.name}),s.jsx(Q,{type:"vertical"}),o.slug]})}});return s.jsxs("div",{children:[s.jsx(dt,{spinning:t.state.value&&!!n.value.length,children:s.jsx(vo,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():s.jsx(F.Text,{type:"secondary",children:"无数据"})})}),s.jsx(Q,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(nt,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},A_=e=>s.jsx(P,{scrollToFirstError:!0,form:e.form,children:s.jsx(P.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n!=null&&n.length?Promise.resolve():Promise.reject()}}],children:s.jsx(P_,{})})}),ur={message:"必选",required:!0},O_=e=>s.jsxs(P,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[s.jsx(P.Item,{required:!0,name:"state",label:"发布状态",rules:[ur],children:s.jsx(ye,{placeholder:"文章发布状态",options:dl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"origin",label:"文章来源",rules:[ur],children:s.jsx(ye,{placeholder:"文章来源",options:ll.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"public",label:"公开类型",rules:[ur],children:s.jsx(ye,{placeholder:"文章公开类型",options:cl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"lang",label:"内容语言",rules:[ur],children:s.jsx(ye,{placeholder:"文章语言",options:ul.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"featured",label:"精选文章",rules:[ur],valuePropName:"checked",children:s.jsx(Mi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(P.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[ur],valuePropName:"checked",children:s.jsx(Mi,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(Q,{}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(It,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),D_=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:nh.Original,state:Ot.Published,public:rh.Public,lang:ah.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),Sh=e=>{const{i18n:t}=Ye(),{language:n}=Sr(),{theme:r}=Fs(),[a]=P.useForm(),[i]=P.useForm(),[o]=P.useForm(),[c]=P.useForm(),[l]=P.useForm(),d=f=>{a.setFieldsValue(f),i.setFieldsValue(f),o.setFieldsValue(f),c.setFieldsValue(f),l.setFieldsValue(f)},u=async()=>{var f;try{const p={...e.article,...await a.validateFields(),...await i.validateFields(),...await o.validateFields(),...await c.validateFields(),...await l.validateFields()};p.slug=p.slug||null,(f=e.onSubmit)==null||f.call(e,p)}catch(p){console.debug("Article 提交错误：",p),jn.error("请检查表单中的不合法项")}},h=()=>{u_({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:c.getFieldsValue(),callback:f=>c.setFieldsValue(f)})};return j.useEffect(()=>{e.article&&d(e.article)},[e.article]),Ee(()=>{d(D_),ft(document.body)}),s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,lg:17,children:s.jsx(xe,{bordered:!1,title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(L_,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),s.jsx(Fe,{xs:24,lg:7,children:s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.categories"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(A_,{form:i})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.thumbnail"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:o,children:s.jsx(P.Item,{noStyle:!0,name:"thumbnail",children:s.jsx(yh,{directory:"thumbnail"})})})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.extends"),bordered:!1,extra:s.jsx(N,{type:"link",size:"small",icon:s.jsx(Ze,{}),disabled:e.loading,onClick:h,children:"以 JSON 编辑"}),children:s.jsx(dt,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:c,children:s.jsx(P.Item,{noStyle:!0,shouldUpdate:!0,children:s.jsx(Ea,{fieldName:"extends"})})})})})}),s.jsx(Fe,{span:24,children:s.jsx(xe,{title:t.t("page.article.editor.states"),bordered:!1,children:s.jsx(dt,{spinning:e.loading,children:s.jsx(O_,{form:l,submitting:e.submitting,onSubmit:u})})})})]})})]})},Ch="/vote";function Eh(e={}){return V.get(Ch,{params:e}).then(t=>t.result)}function N_(e){return V.delete(Ch,{data:{vote_ids:e}}).then(t=>t.result)}const $_="_emoji_9ujl9_1",F_={emoji:$_},Qn=e=>s.jsx(Sa,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&rl(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return s.jsxs("span",{className:e.className,children:[n?s.jsx("span",{className:F_.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var xl=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(xl||{}),mr=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(mr||{}),os=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(os||{});const M_=new Map([[1,"页面"],[2,"评论"]]),ls=e=>M_.get(e),U_=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),yl=e=>U_.get(e),Th=[{id:1,name:"+1",icon:s.jsx(Gn,{})},{id:-1,name:"-1",icon:s.jsx(_r,{})}],z_=new Map(Th.map(e=>[e.id,e])),Rs=e=>z_.get(e);var ho={exports:{}};(function(e,t){(function(n,r){var a="1.0.38",i="",o="?",c="function",l="undefined",d="object",u="string",h="major",f="model",p="name",m="type",x="vendor",g="version",S="architecture",T="console",v="mobile",b="tablet",E="smarttv",C="wearable",L="embedded",y=500,I="Amazon",D="Apple",$="ASUS",z="BlackBerry",Y="Browser",H="Chrome",ie="Edge",ue="Firefox",fe="Google",ve="Huawei",ce="LG",We="Microsoft",rt="Motorola",at="Opera",Qe="Samsung",kt="Sharp",mt="Sony",He="Xiaomi",Xe="Zebra",pt="Facebook",Gt="Chromium OS",Ut="Mac OS",er=function(oe,de){var W={};for(var be in oe)de[be]&&de[be].length%2===0?W[be]=de[be].concat(oe[be]):W[be]=oe[be];return W},Et=function(oe){for(var de={},W=0;W<oe.length;W++)de[oe[W].toUpperCase()]=oe[W];return de},cn=function(oe,de){return typeof oe===u?je(de).indexOf(je(oe))!==-1:!1},je=function(oe){return oe.toLowerCase()},Pe=function(oe){return typeof oe===u?oe.replace(/[^\d\.]/g,i).split(".")[0]:r},Oe=function(oe,de){if(typeof oe===u)return oe=oe.replace(/^\s\s*/,i),typeof de===l?oe:oe.substring(0,y)},Tt=function(oe,de){for(var W=0,be,yt,ze,ne,G,st;W<de.length&&!G;){var Fr=de[W],Pt=de[W+1];for(be=yt=0;be<Fr.length&&!G&&Fr[be];)if(G=Fr[be++].exec(oe),G)for(ze=0;ze<Pt.length;ze++)st=G[++yt],ne=Pt[ze],typeof ne===d&&ne.length>0?ne.length===2?typeof ne[1]==c?this[ne[0]]=ne[1].call(this,st):this[ne[0]]=ne[1]:ne.length===3?typeof ne[1]===c&&!(ne[1].exec&&ne[1].test)?this[ne[0]]=st?ne[1].call(this,st,ne[2]):r:this[ne[0]]=st?st.replace(ne[1],ne[2]):r:ne.length===4&&(this[ne[0]]=st?ne[3].call(this,st.replace(ne[1],ne[2])):r):this[ne]=st||r;W+=2}},Lt=function(oe,de){for(var W in de)if(typeof de[W]===d&&de[W].length>0){for(var be=0;be<de[W].length;be++)if(cn(de[W][be],oe))return W===o?r:W}else if(cn(de[W],oe))return W===o?r:W;return oe},ii={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Pa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$r={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,at+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,at+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,at]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+Y]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+Y],g],[/\bfocus\/([\w\.]+)/i],[g,[p,ue+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,at+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,at+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[g,[p,ue]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+Y]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+Y],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,Qe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,pt],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,H+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Lt,ii]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,ue+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[S,"amd64"]],[/(ia32(?=;))/i],[[S,je]],[/((?:i[346]|x)86)[;\)]/i],[[S,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/windows (ce|mobile); ppc;/i],[[S,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[S,/ower/,i,je]],[/(sun4\w)[;\)]/i],[[S,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[S,je]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[x,Qe],[m,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[x,Qe],[m,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[x,D],[m,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[x,D],[m,b]],[/(macintosh);/i],[f,[x,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[x,kt],[m,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[x,ve],[m,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[x,ve],[m,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[x,He],[m,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[x,He],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[x,"OPPO"],[m,v]],[/\b(opd2\d{3}a?) bui/i],[f,[x,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[x,"Vivo"],[m,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[x,"Realme"],[m,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[x,rt],[m,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[x,rt],[m,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[x,ce],[m,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[x,ce],[m,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[x,"Lenovo"],[m,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[x,"Nokia"],[m,v]],[/(pixel c)\b/i],[f,[x,fe],[m,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[x,fe],[m,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[x,mt],[m,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[x,mt],[m,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[x,"OnePlus"],[m,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[x,I],[m,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[x,I],[m,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,x,[m,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[x,z],[m,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[x,$],[m,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[x,$],[m,v]],[/(nexus 9)/i],[f,[x,"HTC"],[m,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[f,/_/g," "],[m,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[x,"Acer"],[m,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[x,"Meizu"],[m,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[x,"Ulefone"],[m,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[x,f,[m,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,f,[m,b]],[/(surface duo)/i],[f,[x,We],[m,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[x,"Fairphone"],[m,v]],[/(u304aa)/i],[f,[x,"AT&T"],[m,v]],[/\bsie-(\w*)/i],[f,[x,"Siemens"],[m,v]],[/\b(rct\w+) b/i],[f,[x,"RCA"],[m,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[x,"Dell"],[m,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[x,"Verizon"],[m,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[x,"Barnes & Noble"],[m,b]],[/\b(tm\d{3}\w+) b/i],[f,[x,"NuVision"],[m,b]],[/\b(k88) b/i],[f,[x,"ZTE"],[m,b]],[/\b(nx\d{3}j) b/i],[f,[x,"ZTE"],[m,v]],[/\b(gen\d{3}) b.+49h/i],[f,[x,"Swiss"],[m,v]],[/\b(zur\d{3}) b/i],[f,[x,"Swiss"],[m,b]],[/\b((zeki)?tb.*\b) b/i],[f,[x,"Zeki"],[m,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],f,[m,b]],[/\b(ns-?\w{0,9}) b/i],[f,[x,"Insignia"],[m,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[x,"NextBook"],[m,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],f,[m,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],f,[m,v]],[/\b(ph-1) /i],[f,[x,"Essential"],[m,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[x,"Envizen"],[m,b]],[/\b(trio[-\w\. ]+) b/i],[f,[x,"MachSpeed"],[m,b]],[/\btu_(1491) b/i],[f,[x,"Rotor"],[m,b]],[/(shield[\w ]+) b/i],[f,[x,"Nvidia"],[m,b]],[/(sprint) (\w+)/i],[x,f,[m,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[x,We],[m,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[x,Xe],[m,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[x,Xe],[m,v]],[/smart-tv.+(samsung)/i],[x,[m,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[x,Qe],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,ce],[m,E]],[/(apple) ?tv/i],[x,[f,D+" TV"],[m,E]],[/crkey/i],[[f,H+"cast"],[x,fe],[m,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[x,I],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[x,kt],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[x,mt],[m,E]],[/(mitv-\w{5}) bui/i],[f,[x,He],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[x,f,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Oe],[f,Oe],[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,f,[m,T]],[/droid.+; (shield) bui/i],[f,[x,"Nvidia"],[m,T]],[/(playstation [345portablevi]+)/i],[f,[x,mt],[m,T]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[x,We],[m,T]],[/((pebble))app/i],[x,f,[m,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[x,D],[m,C]],[/droid.+; (glass) \d/i],[f,[x,fe],[m,C]],[/droid.+; (wt63?0{2,3})\)/i],[f,[x,Xe],[m,C]],[/(quest( \d| pro)?)/i],[f,[x,pt],[m,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[m,L]],[/(aeobc)\b/i],[f,[x,I],[m,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,v]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,ie+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,Lt,Pa]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Lt,Pa],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Ut],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,ue+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,H+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Gt],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},xt=function(oe,de){if(typeof oe===d&&(de=oe,oe=r),!(this instanceof xt))return new xt(oe,de).getResult();var W=typeof n!==l&&n.navigator?n.navigator:r,be=oe||(W&&W.userAgent?W.userAgent:i),yt=W&&W.userAgentData?W.userAgentData:r,ze=de?er($r,de):$r,ne=W&&W.userAgent==be;return this.getBrowser=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.browser),G[h]=Pe(G[g]),ne&&W&&W.brave&&typeof W.brave.isBrave==c&&(G[p]="Brave"),G},this.getCPU=function(){var G={};return G[S]=r,Tt.call(G,be,ze.cpu),G},this.getDevice=function(){var G={};return G[x]=r,G[f]=r,G[m]=r,Tt.call(G,be,ze.device),ne&&!G[m]&&yt&&yt.mobile&&(G[m]=v),ne&&G[f]=="Macintosh"&&W&&typeof W.standalone!==l&&W.maxTouchPoints&&W.maxTouchPoints>2&&(G[f]="iPad",G[m]=b),G},this.getEngine=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.engine),G},this.getOS=function(){var G={};return G[p]=r,G[g]=r,Tt.call(G,be,ze.os),ne&&!G[p]&&yt&&yt.platform&&yt.platform!="Unknown"&&(G[p]=yt.platform.replace(/chrome os/i,Gt).replace(/macos/i,Ut)),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(G){return be=typeof G===u&&G.length>y?Oe(G,y):G,this},this.setUA(be),this};xt.VERSION=a,xt.BROWSER=Et([p,g,h]),xt.CPU=Et([S]),xt.DEVICE=Et([f,x,m,T,v,E,b,C,L]),xt.ENGINE=xt.OS=Et([p,g]),e.exports&&(t=e.exports=xt),t.UAParser=xt;var dn=typeof n!==l&&(n.jQuery||n.Zepto);if(dn&&!dn.ua){var tr=new xt;dn.ua=tr.getResult(),dn.ua.get=function(){return tr.getUA()},dn.ua.set=function(oe){tr.setUA(oe);var de=tr.getResult();for(var W in de)dn.ua[W]=de[W]}}})(typeof window=="object"?window:Nt)})(ho,ho.exports);var vl=ho.exports;const Rn=e=>{const t=new vl.UAParser(e).getBrowser();return t.name&&t.version?`${t.name} | ${t.version}`:null},Xn=e=>{const t=new vl.UAParser(e).getOS();return t.name&&t.version?`${t.name} | ${t.version}`:null},Ta=e=>{const t=new vl.UAParser(e).getDevice();return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},B_=e=>{var t;return s.jsx(mn,{column:3,items:[{key:"user",label:"用户",children:s.jsx(A,{direction:"vertical",children:s.jsx(yr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:s.jsxs("span",{children:[s.jsx(K,{text:(t=e.author)==null?void 0:t.name,placeholder:"未知用户"}),"（",yl(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:s.jsx(Kt,{icon:Rs(e.vote_type).icon,color:e.vote_type===xl.Upvote?"green":"red",children:s.jsx("strong",{children:Rs(e.vote_type).name})})},{key:"browser",label:"浏览器",children:s.jsx(K,{text:Rn(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:s.jsx(K,{text:Ue(e.created_at)})},{key:"os",label:"系统",children:s.jsx(K,{text:Xn(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:s.jsx(Qn,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:s.jsx(K,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]})},H_=e=>{const t=ge(),n=ge(),r=Z([]),a=ut(null),i=ut(qn.Desc),o=St(()=>a.value?a.value.current_page<a.value.total_page:!1),c=async(l=1)=>{const d=l===1,u=d?t:n;d&&(r.value=[],a.value=null);const h={page:l,per_page:50,target_type:mr.Post,target_id:e.articleId,sort:i.value},f=await u.promise(Eh(h));d?(r.value=f.data,a.value=f.pagination):(r.value.push(...f.data),a.value=f.pagination)};return Ee(()=>c()),s.jsxs(Os,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsxs(A.Compact,{children:[s.jsx(Zn,{disabled:t.state.value||n.state.value,value:i.value,onChange:l=>{i.value=l,c()}}),s.jsx(N,{icon:s.jsx(nt,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"})]}),children:[s.jsx(rn,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:l=>s.jsx(rn.Item,{children:B_(l)})}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(In,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var l;return c(((l=a.value)==null?void 0:l.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},Ra="/comment",V_=e=>fl.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function Rh(e={}){return V.get(Ra,{params:e}).then(t=>t.result)}function q_(e){return V.put(`${Ra}/${e._id}`,e).then(t=>t.result)}function K_(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return V.patch(Ra,r).then(a=>a.result)}function Y_(e,t){return V.delete(Ra,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function W_(e){return V.put(`${Ra}/${e}/ip_location`).then(t=>t.result)}const G_=e=>{const t=ge(),n=ge(),r=Z([]),a=ut(null),i=ut(Kn.Desc),o=St(()=>a.value?a.value.current_page<a.value.total_page:!1),c=St(()=>V_(r.value)),l=async(d=1)=>{const u=d===1,h=u?t:n;u&&(r.value=[],a.value=null);const f={page:d,per_page:50,post_id:e.articleId,sort:i.value},p=await h.promise(Rh(f));u?(r.value=p.data,a.value=p.pagination):(r.value.push(...p.data),a.value=p.pagination)};return Ee(()=>l()),s.jsxs(Os,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsx(Zn,{withHot:!0,disabled:t.state.value||n.state.value,value:i.value,onChange:d=>{i.value=d,l()}}),footer:s.jsxs(le,{justify:"space-between",align:"bottom",children:[s.jsx(N,{size:"small",icon:s.jsx(nt,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"}),s.jsx(N,{size:"small",type:"primary",icon:s.jsx(xa,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:c.value,loading:n.state.value}),s.jsx(Q,{}),s.jsx(le,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(In,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var d;return l(((d=a.value)==null?void 0:d.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},J_=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Z_=(e,t)=>e.length?J_(e)[t]:void 0,Ih=e=>Z_(e,"disqus-author-username"),Q_=e=>`https://www.gravatar.com/avatar/${e}`,X_=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,eS=e=>{if(e.author.email_hash)return Q_(e.author.email_hash);const t=Ih(e.extends);return t?X_(t):""},tS="_commentContent_9dq3k_1",nS="_avatarBadge_9dq3k_5",rS="_avatarBadgeIconWrapper_9dq3k_5",aS="_avatarBadgeIcon_9dq3k_5",cs={commentContent:tS,avatarBadge:nS,avatarBadgeIconWrapper:rS,avatarBadgeIcon:aS},bl=e=>{const t=!!Ih(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return s.jsx(Od,{className:cs.avatarBadge,title:n,count:s.jsx(yr,{placement:"right",content:n,children:s.jsx("span",{className:cs.avatarBadgeIconWrapper,children:s.jsx("img",{className:cs.avatarBadgeIcon,src:il(r)})})}),children:s.jsx(Ro,{shape:"square",size:e.size,src:eS(e.comment)})})},kh=e=>s.jsx(rn,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>{var n;return s.jsx(rn.Item,{children:s.jsxs(le,{align:"flex-start",gap:"large",children:[s.jsx("div",{style:{marginTop:"var(--app-padding)"},children:s.jsx(bl,{size:"large",comment:t})}),s.jsxs(A,{direction:"vertical",style:{flex:1},children:[s.jsxs(le,{justify:"space-between",children:[s.jsxs("div",{children:[t.author.site?s.jsx(F.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):s.jsx(F.Text,{strong:!0,children:t.author.name}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:s.jsx(Qn,{data:t.ip_location},"ip-location")}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:Ue(t.created_at)})]}),s.jsx(Kt,{color:la(t.state).color,icon:la(t.state).icon,children:la(t.state).name})]}),s.jsx(F.Paragraph,{style:{margin:0},children:t.content}),s.jsxs(A,{children:[s.jsxs(F.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?s.jsx(Ng,{}):s.jsx(Gn,{})," ",t.likes]}),s.jsxs(F.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?s.jsx($g,{}):s.jsx(_r,{})," ",t.dislikes]}),s.jsx(K,{type:"secondary",placeholder:"未知浏览器",small:!0,text:Rn(t.agent)}),s.jsx(K,{type:"secondary",placeholder:"未知系统",small:!0,text:Xn(t.agent)})]}),(n=t.children)!=null&&n.length?s.jsx(kh,{comments:t.children||[]}):""]})]})})}}),sS=()=>{var f,p,m,x,g,S,T,v,b,E,C,L;const{article_id:e}=Uy(),t=Il.articleDetail(e),n=ln(),r=ge(),a=ge(),i=Z(null),o=Z(!1),c=Z(!1),l=async()=>{try{const y=await r.promise(sh(e)),I=K0(t);I&&I!==y.content?Ce.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){i.value={...y,content:I||""}},onCancel(){i.value=y}}):i.value=y}catch(y){Ce.error({centered:!0,title:"文章请求失败",content:String(y.message)})}},d=y=>a.promise(Lj(y)).then(I=>{i.value=I,ft(document.body)}),u=()=>{Ce.confirm({title:`你确定要彻底删除文章《${i.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>{var y;return a.promise(Pj([(y=i.value)==null?void 0:y._id])).then(()=>{n(tt[he.ArticleList]),ft(document.body)})}})},h=()=>{var y;n({pathname:tt[he.Comment],search:`post_id=${(y=i.value)==null?void 0:y.id}`})};return Ee(()=>l()),s.jsxs(s.Fragment,{children:[s.jsx(Sh,{article:i.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:y=>d(y),mainFormExtraItems:[{label:"ID",content:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{children:((f=i.value)==null?void 0:f.id)??"-"}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{children:((p=i.value)==null?void 0:p._id)??"-"})]})}],mainCardExtra:s.jsxs(A,{size:"small",wrap:!0,children:[s.jsxs(A.Compact,{size:"small",children:[s.jsx(Cn,{title:tj(((x=(m=i.value)==null?void 0:m.meta)==null?void 0:x.views)??0),children:s.jsxs(N,{icon:s.jsx(bo,{}),loading:r.state.value,children:[ol(((S=(g=i.value)==null?void 0:g.meta)==null?void 0:S.views)??0)," 阅读"]})}),s.jsxs(N,{icon:s.jsx(wo,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>c.value=!0,children:[((v=(T=i.value)==null?void 0:T.meta)==null?void 0:v.likes)??""," 喜欢"]}),s.jsxs(N,{icon:s.jsx(pa,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[((E=(b=i.value)==null?void 0:b.meta)==null?void 0:E.comments)??""," 评论"]})]}),s.jsx(Q,{type:"vertical"}),s.jsx(Cn,{title:Ss((C=i.value)==null?void 0:C.id),children:s.jsx(N,{size:"small",type:"dashed",target:"_blank",icon:s.jsx(xa,{}),loading:r.state.value,disabled:r.state.value,href:Ss((L=i.value)==null?void 0:L.id),children:"打开"})}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{type:"dashed",size:"small",danger:!0,icon:s.jsx(qe,{}),disabled:r.state.value,onClick:()=>jn.warning("双击执行删除操作"),onDoubleClick:u,children:"删除文章"})]})}),i.value&&s.jsxs(s.Fragment,{children:[s.jsx(H_,{width:"48rem",open:c.value,likeCount:i.value.meta.likes,articleId:i.value.id,onClose:()=>c.value=!1}),s.jsx(G_,{width:"68rem",open:o.value,commentCount:i.value.meta.comments,articleId:i.value.id,renderTreeList:({comments:y,loading:I})=>s.jsx(kh,{comments:y,loading:I}),onClose:()=>o.value=!1,onNavigate:h})]})]})},iS=()=>{const e=ln(),t=ge(),n=r=>t.promise(kj(r)).then(a=>{e(Il.articleDetail(a._id)),ft(document.body)});return s.jsx(Sh,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},Ia="/announcement";function oS(e={}){return V.get(Ia,{params:e}).then(t=>t.result)}function lS(e){return V.post(Ia,e).then(t=>t.result)}function cS(e){return V.put(`${Ia}/${e._id}`,e).then(t=>t.result)}function dS(e){return V.delete(`${Ia}/${e}`).then(t=>t.result)}function uS(e){return V.delete(Ia,{data:{announcement_ids:e}}).then(t=>t.result)}var Lh=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(Lh||{});const wl=[{id:0,name:"未发布",icon:s.jsx(Ze,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(It,{}),color:"green"}],fS=new Map(wl.map(e=>[e.id,e])),hS=e=>fS.get(e),jl="ALL",yd={state:jl,sort:qn.Desc},gS=e=>({state:e.state!==jl?e.state:void 0,sort:e.sort}),mS=e=>{const{i18n:t}=Ye();return s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:jl},...wl.map(n=>({value:n.id,label:s.jsxs(A,{size:"small",children:[n.icon,n.name]})}))]}),s.jsx(Zn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),s.jsx(se.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(A,{children:e.extra})]})},pS=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(a,i)=>Ue(i.created_at)},{title:"状态",width:120,dataIndex:"state",render:(a,i)=>{const o=hS(i.state);return s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name})}},{title:"操作",width:160,dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"删除"})]})}]})},xS={labelCol:{span:4},wrapperCol:{span:19}},yS=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return j.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,destroyOnClose:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...xS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.initData.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"发布于",children:Ue(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.initData.updated_at)})]}),s.jsx(P.Item,{label:"发布状态",name:"state",initialValue:Lh.Published,rules:[{required:!0,message:"请选择状态"}],children:s.jsx(ye,{placeholder:"选择状态",options:wl.map(r=>({value:r.id,label:s.jsxs(A,{size:"small",children:[r.icon,r.name]})}))})}),s.jsx(P.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(wr,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},vS=()=>{var b;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z({...yd}),o=()=>{a.value="",i.value={...yd}},c=Z([]),l=Z(!1),d=Z(null),u=St(()=>{const E=d.value;return E!==null?r.data[E]:null}),h=()=>{l.value=!1},f=E=>{d.value=E,l.value=!0},p=()=>{d.value=null,l.value=!0},m=E=>{const C={...E,...gS(i.value),keyword:a.value||void 0};t.promise(oS(C)).then(L=>{r.data=L.data,r.pagination=L.pagination,ft(document.body)})},x=()=>{var E,C;m({page:(E=r.pagination)==null?void 0:E.current_page,per_page:(C=r.pagination)==null?void 0:C.per_page})},g=E=>{n.promise(lS(E)).then(()=>{h(),x()})},S=E=>{const C={...u.value,...E};n.promise(cS(C)).then(()=>{h(),x()})},T=E=>{Ce.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>dS(E).then(()=>{x()})})},v=E=>{Ce.confirm({title:`确定要删除 ${E.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>uS(E).then(()=>{x()})})};return Ct(()=>i.value,()=>m(),{deep:!0}),Ee(()=>{m()}),s.jsxs(xe,{bordered:!1,title:e.t("page.announcement.list.title",{total:((b=r.pagination)==null?void 0:b.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(In,{}),onClick:p,children:"发布新公告"}),children:[s.jsx(mS,{loading:t.state.value,keyword:a.value,onKeywordChange:E=>a.value=E,onKeywordSearch:()=>m(),params:i.value,onParamsChange:E=>Object.assign(i.value,E),onResetRefresh:o,extra:s.jsx(Lr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>v(c.value)}]})}),s.jsx(Q,{}),s.jsx(pS,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:E=>c.value=E,onEdit:(E,C)=>f(C),onDelete:E=>T(E._id),onPaginate:(E,C)=>m({page:E,per_page:C})}),s.jsx(yS,{width:680,title:u.value?"编辑公告":"新公告",open:l.value,submitting:n.state.value,initData:u.value,onCancel:h,onSubmit:E=>{u.value?S(E):g(E)}})]})},bS={labelCol:{span:5},wrapperCol:{span:18}},ra="null",wS={pid:ra,extends:[{name:"icon",value:"icon-category"}]},jS=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===ra?null:r.pid})})};return j.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??ra})):(t.resetFields(),t.setFieldsValue({...wS}))},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...bS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.initData.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"创建于",children:Ue(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.initData.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"分类名称"})}),s.jsx(P.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"分类别名"})}),s.jsx(P.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){var i;return a===ra?Promise.resolve():a===((i=e.initData)==null?void 0:i._id)?Promise.reject():Promise.resolve()}}],children:s.jsx(Ad,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:ra},...e.selectTree]})}),s.jsx(P.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"分类描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Ea,{fieldName:"extends"})})]})})},_S="_categoryTreeNode_1cgqs_1",SS="_levelIcon_1cgqs_11",Li={categoryTreeNode:_S,levelIcon:SS},Ph=e=>s.jsx(rn,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>{var n;return s.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[s.jsxs(le,{justify:"space-between",align:"start",className:Li.categoryTreeNode,children:[e.level&&s.jsx("div",{className:Li.levelIcon,children:s.jsx(Fg,{})}),s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{strong:!0,children:t.name}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{type:"secondary",children:t.slug}),s.jsx(Q,{type:"vertical"}),s.jsxs(F.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),s.jsx(K,{type:"secondary",text:t.description})]}),s.jsxs("div",{className:Li.actions,children:[s.jsx(N,{size:"small",type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(t),children:"编辑"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(t),children:"删除"}),s.jsx(Q,{type:"vertical"}),s.jsx(N,{size:"small",icon:s.jsx(xa,{}),type:"link",target:"_blank",href:Zw(t.slug),children:"查看"})]})]}),(n=t.children)!=null&&n.length?s.jsx(Ph,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}}),CS=()=>{var x;const{i18n:e}=Ye(),t=ge(),n=ge(),r=ut([]),a=ut([]),i=Z(!1),o=Z(null),c=St(()=>o.value?a.value.find(g=>g._id===o.value):null),l=()=>{i.value=!1},d=g=>{o.value=g,i.value=!0},u=()=>{i.value=!0,o.value=null},h=()=>t.promise(hl()).then(g=>{a.value=g.list,r.value=g.tree}),f=g=>{n.promise(Uj(g)).then(()=>{l(),h()})},p=g=>{const S={...c.value,...g};n.promise(zj(S)).then(()=>{l(),h()})},m=g=>{Ce.confirm({title:`确定要删除分类「 ${g.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Bj(g._id).then(()=>{h()})})};return Ee(()=>h()),s.jsxs(xe,{bordered:!1,title:e.t("page.category.list.title",{total:((x=a.value)==null?void 0:x.length)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(In,{}),onClick:u,children:"创建新分类"}),children:[s.jsx(A,{children:s.jsx(N,{icon:s.jsx(nt,{}),loading:t.state.value,onClick:()=>h(),children:e.t("common.list.filter.refresh")})}),s.jsx(Q,{}),s.jsx(Ph,{tree:r.value,loading:t.state.value,onEdit:g=>d(g._id),onDelete:g=>m(g)}),s.jsx(jS,{width:680,title:c.value?"编辑分类":"新分类",open:i.value,submitting:n.state.value,initData:c.value,onCancel:()=>l(),onSubmit:g=>{c.value?p(g):f(g)},selectTree:gl({tree:r.value,valuer:g=>g._id,disabledWhen:g=>{var S,T;return g._id===((S=c.value)==null?void 0:S._id)?!0:g.pid===((T=c.value)==null?void 0:T._id)}})})]})},ES=e=>{const{i18n:t}=Ye();return s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(se.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(A,{children:e.extra})]})},TS=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Ze,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"删除"}),s.jsx(N,{type:"link",target:"_blank",icon:s.jsx(xa,{}),href:Jw(i.slug),children:"查看"})]})}]})},RS={labelCol:{span:5},wrapperCol:{span:18}},IS={extends:[{name:"icon",value:"icon-tag"}]},kS=e=>{var r,a,i,o;const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return j.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??IS)},[e.initData,e.open]),s.jsx(Ce,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...RS,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:(r=e.initData)==null?void 0:r.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:(a=e.initData)==null?void 0:a._id})]})}),s.jsx(P.Item,{label:"创建于",children:Ue((i=e.initData)==null?void 0:i.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue((o=e.initData)==null?void 0:o.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"标签名称"})}),s.jsx(P.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se,{placeholder:"标签别名"})}),s.jsx(P.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{rows:4,placeholder:"标签描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(Ea,{fieldName:"extends"})})]})})},LS=()=>{var v;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z([]),o=Z(!1),c=Z(null),l=St(()=>{const b=c.value;return b!==null?r.data[b]:null}),d=()=>{o.value=!1},u=b=>{c.value=b,o.value=!0},h=()=>{c.value=null,o.value=!0},f=b=>{const E={...b,keyword:a.value||void 0};t.promise(Dj(E)).then(C=>{r.data=C.data,r.pagination=C.pagination,ft(document.body)})},p=()=>{var b,E;f({page:(b=r.pagination)==null?void 0:b.current_page,per_page:(E=r.pagination)==null?void 0:E.per_page})},m=b=>{n.promise(Nj(b)).then(()=>{d(),p()})},x=b=>{const E={...l.value,...b};n.promise($j(E)).then(()=>{d(),p()})},g=b=>{Ce.confirm({title:`确定要删除标签「 ${b.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Fj(b._id).then(()=>{p()})})},S=b=>{Ce.confirm({title:`确定要删除 ${b.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Mj(b).then(()=>{p()})})},T=()=>{a.value="",f()};return Ee(()=>{f()}),s.jsxs(xe,{bordered:!1,title:e.t("page.tag.list.title",{total:((v=r.pagination)==null?void 0:v.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(In,{}),onClick:h,children:"创建新标签"}),children:[s.jsx(ES,{loading:t.state.value,keyword:a.value,onKeywordChange:b=>a.value=b,onKeywordSearch:()=>f(),onResetRefresh:T,extra:s.jsx(Lr,{text:"批量操作",disabled:!i.value.length,options:[{label:"批量删除",icon:s.jsx(qe,{}),onClick:()=>S(i.value)}]})}),s.jsx(Q,{}),s.jsx(TS,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:i.value,onSelect:b=>i.value=b,onPaginate:(b,E)=>f({page:b,per_page:E}),onEdit:(b,E)=>u(E),onDelete:b=>g(b)}),s.jsx(kS,{width:680,title:l.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:l.value,onCancel:d,onSubmit:b=>l.value?x(b):m(b)})]})},Ah="%[a-f0-9]{2}",vd=new RegExp("("+Ah+")|([^%]+?)","gi"),bd=new RegExp("("+Ah+")+","gi");function go(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],go(n),go(r))}function PS(e){try{return decodeURIComponent(e)}catch{let t=e.match(vd)||[];for(let n=1;n<t.length;n++)e=go(t,n).join(""),t=e.match(vd)||[];return e}}function AS(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=bd.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=PS(n[0]);a!==n[0]&&(t[n[0]]=a)}n=bd.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function OS(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return AS(e)}}function DS(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a!=null&&a.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const i=e[r];t(r,i,e)&&Object.defineProperty(n,r,a)}}return n}function Oh(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const NS=e=>e==null,$S=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),mo=Symbol("encodeFragmentIdentifier");function FS(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[",a,"]"].join("")]:[...n,[Ne(t,e),"[",Ne(a,e),"]=",Ne(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),"[]"].join("")]:[...n,[Ne(t,e),"[]=",Ne(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ne(t,e),":list="].join("")]:[...n,[Ne(t,e),":list=",Ne(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[Ne(n,e),t,Ne(a,e)].join("")]:[[r,Ne(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Ne(t,e)]:[...n,[Ne(t,e),"=",Ne(r,e)].join("")]}}function MS(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&Qt(r,e).includes(e.arrayFormatSeparator);r=o?Qt(r,e):r;const c=i||o?r.split(e.arrayFormatSeparator).map(l=>Qt(l,e)):r===null?r:Qt(r,e);a[n]=c};case"bracket-separator":return(n,r,a)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){a[n]=r&&Qt(r,e);return}const o=r===null?[]:r.split(e.arrayFormatSeparator).map(c=>Qt(c,e));if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function Dh(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Ne(e,t){return t.encode?t.strict?$S(e):encodeURIComponent(e):e}function Qt(e,t){return t.decode?OS(e):e}function Nh(e){return Array.isArray(e)?e.sort():typeof e=="object"?Nh(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function $h(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function US(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function wd(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function _l(e){e=$h(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function Sl(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},Dh(t.arrayFormatSeparator);const n=MS(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const i=t.decode?a.replaceAll("+"," "):a;let[o,c]=Oh(i,"=");o===void 0&&(o=i),c=c===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?c:Qt(c,t),n(Qt(o,t),c,r)}for(const[a,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[a]!=="string")for(const[o,c]of Object.entries(i)){const l=t.types[a]?t.types[a].replace("[]",""):void 0;i[o]=wd(c,t,l)}else typeof i=="object"&&i!==null&&t.types[a]==="string"?r[a]=Object.values(i).join(t.arrayFormatSeparator):r[a]=wd(i,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,i)=>{const o=r[i];return a[i]=o&&typeof o=="object"&&!Array.isArray(o)?Nh(o):o,a},Object.create(null))}function Fh(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Dh(t.arrayFormatSeparator);const n=o=>t.skipNull&&NS(e[o])||t.skipEmptyString&&e[o]==="",r=FS(t),a={};for(const[o,c]of Object.entries(e))n(o)||(a[o]=c);const i=Object.keys(a);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const c=e[o];return c===void 0?"":c===null?Ne(o,t):Array.isArray(c)?c.length===0&&t.arrayFormat==="bracket-separator"?Ne(o,t)+"[]":c.reduce(r(o),[]).join("&"):Ne(o,t)+"="+Ne(c,t)}).filter(o=>o.length>0).join("&")}function Mh(e,t){var a;t={decode:!0,...t};let[n,r]=Oh(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:Sl(_l(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:Qt(r,t)}:{}}}function Uh(e,t){t={encode:!0,strict:!0,[mo]:!0,...t};const n=$h(e.url).split("?")[0]||"",r=_l(e.url),a={...Sl(r,{sort:!1}),...e.query};let i=Fh(a,t);i&&(i=`?${i}`);let o=US(e.url);if(typeof e.fragmentIdentifier=="string"){const c=new URL(n);c.hash=e.fragmentIdentifier,o=t[mo]?c.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}function zh(e,t,n){n={parseFragmentIdentifier:!0,[mo]:!1,...n};const{url:r,query:a,fragmentIdentifier:i}=Mh(e,n);return Uh({url:r,query:DS(a,t),fragmentIdentifier:i},n)}function zS(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,i)=>!t(a,i);return zh(e,r,n)}const BS=Object.freeze(Object.defineProperty({__proto__:null,exclude:zS,extract:_l,parse:Sl,parseUrl:Mh,pick:zh,stringify:Fh,stringifyUrl:Uh},Symbol.toStringTag,{value:"Module"}));var HS=ml,VS=ti,qS="[object AsyncFunction]",KS="[object Function]",YS="[object GeneratorFunction]",WS="[object Proxy]";function GS(e){if(!VS(e))return!1;var t=HS(e);return t==KS||t==YS||t==qS||t==WS}var JS=GS,ZS=Ca,QS=ZS["__core-js_shared__"],XS=QS,Pi=XS,jd=function(){var e=/[^.]+$/.exec(Pi&&Pi.keys&&Pi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function e1(e){return!!jd&&jd in e}var t1=e1,n1=Function.prototype,r1=n1.toString;function a1(e){if(e!=null){try{return r1.call(e)}catch{}try{return e+""}catch{}}return""}var s1=a1,i1=JS,o1=t1,l1=ti,c1=s1,d1=/[\\^$.*+?()[\]{}|]/g,u1=/^\[object .+?Constructor\]$/,f1=Function.prototype,h1=Object.prototype,g1=f1.toString,m1=h1.hasOwnProperty,p1=RegExp("^"+g1.call(m1).replace(d1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x1(e){if(!l1(e)||o1(e))return!1;var t=i1(e)?p1:u1;return t.test(c1(e))}var y1=x1;function v1(e,t){return e==null?void 0:e[t]}var b1=v1,w1=y1,j1=b1;function _1(e,t){var n=j1(e,t);return w1(n)?n:void 0}var Cl=_1,S1=Cl,C1=S1(Object,"create"),ni=C1,_d=ni;function E1(){this.__data__=_d?_d(null):{},this.size=0}var T1=E1;function R1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var I1=R1,k1=ni,L1="__lodash_hash_undefined__",P1=Object.prototype,A1=P1.hasOwnProperty;function O1(e){var t=this.__data__;if(k1){var n=t[e];return n===L1?void 0:n}return A1.call(t,e)?t[e]:void 0}var D1=O1,N1=ni,$1=Object.prototype,F1=$1.hasOwnProperty;function M1(e){var t=this.__data__;return N1?t[e]!==void 0:F1.call(t,e)}var U1=M1,z1=ni,B1="__lodash_hash_undefined__";function H1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=z1&&t===void 0?B1:t,this}var V1=H1,q1=T1,K1=I1,Y1=D1,W1=U1,G1=V1;function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=q1;Or.prototype.delete=K1;Or.prototype.get=Y1;Or.prototype.has=W1;Or.prototype.set=G1;var J1=Or;function Z1(){this.__data__=[],this.size=0}var Q1=Z1;function X1(e,t){return e===t||e!==e&&t!==t}var eC=X1,tC=eC;function nC(e,t){for(var n=e.length;n--;)if(tC(e[n][0],t))return n;return-1}var ri=nC,rC=ri,aC=Array.prototype,sC=aC.splice;function iC(e){var t=this.__data__,n=rC(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():sC.call(t,n,1),--this.size,!0}var oC=iC,lC=ri;function cC(e){var t=this.__data__,n=lC(t,e);return n<0?void 0:t[n][1]}var dC=cC,uC=ri;function fC(e){return uC(this.__data__,e)>-1}var hC=fC,gC=ri;function mC(e,t){var n=this.__data__,r=gC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var pC=mC,xC=Q1,yC=oC,vC=dC,bC=hC,wC=pC;function Dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dr.prototype.clear=xC;Dr.prototype.delete=yC;Dr.prototype.get=vC;Dr.prototype.has=bC;Dr.prototype.set=wC;var jC=Dr,_C=Cl,SC=Ca,CC=_C(SC,"Map"),EC=CC,Sd=J1,TC=jC,RC=EC;function IC(){this.size=0,this.__data__={hash:new Sd,map:new(RC||TC),string:new Sd}}var kC=IC;function LC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PC=LC,AC=PC;function OC(e,t){var n=e.__data__;return AC(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ai=OC,DC=ai;function NC(e){var t=DC(this,e).delete(e);return this.size-=t?1:0,t}var $C=NC,FC=ai;function MC(e){return FC(this,e).get(e)}var UC=MC,zC=ai;function BC(e){return zC(this,e).has(e)}var HC=BC,VC=ai;function qC(e,t){var n=VC(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var KC=qC,YC=kC,WC=$C,GC=UC,JC=HC,ZC=KC;function Nr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nr.prototype.clear=YC;Nr.prototype.delete=WC;Nr.prototype.get=GC;Nr.prototype.has=JC;Nr.prototype.set=ZC;var QC=Nr,XC="__lodash_hash_undefined__";function eE(e){return this.__data__.set(e,XC),this}var tE=eE;function nE(e){return this.__data__.has(e)}var rE=nE,aE=QC,sE=tE,iE=rE;function Is(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new aE;++t<n;)this.add(e[t])}Is.prototype.add=Is.prototype.push=sE;Is.prototype.has=iE;var oE=Is;function lE(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var cE=lE;function dE(e){return e!==e}var uE=dE;function fE(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var hE=fE,gE=cE,mE=uE,pE=hE;function xE(e,t,n){return t===t?pE(e,t,n):gE(e,mE,n)}var yE=xE,vE=yE;function bE(e,t){var n=e==null?0:e.length;return!!n&&vE(e,t,0)>-1}var wE=bE;function jE(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var _E=jE;function SE(e,t){return e.has(t)}var CE=SE,EE=Cl,TE=Ca,RE=EE(TE,"Set"),IE=RE;function kE(){}var LE=kE;function PE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Bh=PE,Ai=IE,AE=LE,OE=Bh,DE=1/0,NE=Ai&&1/OE(new Ai([,-0]))[1]==DE?function(e){return new Ai(e)}:AE,$E=NE,FE=oE,ME=wE,UE=_E,zE=CE,BE=$E,HE=Bh,VE=200;function qE(e,t,n){var r=-1,a=ME,i=e.length,o=!0,c=[],l=c;if(n)o=!1,a=UE;else if(i>=VE){var d=t?null:BE(e);if(d)return HE(d);o=!1,a=zE,l=new FE}else l=t?[]:c;e:for(;++r<i;){var u=e[r],h=t?t(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),c.push(u)}else a(l,h,n)||(l!==c&&l.push(h),c.push(u))}return c}var KE=qE,YE=KE;function WE(e){return e&&e.length?YE(e):[]}var GE=WE;const Cd=Yt(GE),JE="_input_1s5lo_1",ZE={input:JE};function El(e){const t=j.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return s.jsxs(A.Compact,{className:ca(e.className,e.rootClassName),style:e.style,size:e.size,children:[s.jsx(ye,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),s.jsx(se.Search,{className:ca(ZE.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>{var r;return(r=e.onInputChange)==null?void 0:r.call(e,n.target.value)},onSearch:(n,r,a)=>{var i;(a==null?void 0:a.source)==="input"&&((i=e.onInputSearch)==null||i.call(e,n))}})]})}const bn="ALL",Za=Object.freeze({postId:bn,state:bn,sort:Kn.Desc}),QE=e=>({post_id:e.postId!==bn?e.postId:void 0,state:e.state!==bn?e.state:void 0,sort:e.sort}),XE=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(El,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):bn;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===bn?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:bn,label:"全部评论"},{value:ma,label:"留言评论"}]}),s.jsx(ye,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:bn},...sl.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(Zn,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(se.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(Cr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),eT=e=>{const t=sn({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async i=>{try{await W_(i),t.done.push(i)}catch{t.fail.push(i)}finally{t.todo=t.todo.slice().filter(o=>o!==i)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const i=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];jn.info(i.join("，"))}},r=()=>{const a=e.comments.filter(i=>{var o;return!!i.ip&&!((o=i.ip_location)!=null&&o.region_code)}).map(i=>i._id);a.length?(t.todo.push(...a),n(),jn.info(`开始任务，共 ${a.length} 条数据`)):jn.info("没有需要修正的数据")};return s.jsxs(A,{wrap:!0,children:[s.jsxs(N.Group,{children:[t.running&&s.jsxs(N,{size:"small",onClick:()=>{Ce.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,s.jsx(Q,{type:"vertical"}),"DONE: ",t.done.length,s.jsx(Q,{type:"vertical"}),"FAIL: ",t.fail.length]}),s.jsx(N,{size:"small",icon:s.jsx(ks,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Mg,{}),href:Zf(),children:"去留言板"})]})},tT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(a,i){return s.jsx(N,{size:"small",onClick:()=>e.onClickPostId(i.post_id),children:i.post_id})}},{title:"评论内容",dataIndex:"content",render:(a,i)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Paragraph,{className:cs.commentContent,ellipsis:{rows:5,expandable:!0},children:i.content}),s.jsx(K,{type:"secondary",text:Ue(i.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsxs(A,{children:[s.jsx(bl,{comment:i}),s.jsx(K,{text:i.author.name})]}),s.jsxs(A,{direction:"vertical",size:"small",children:[s.jsx(K,{placeholder:"Left blank",prefix:s.jsx(Ds,{}),text:i.author.email,copyable:!0}),s.jsxs(A,{size:"small",children:[s.jsx(xr,{}),s.jsx(Sa,{data:i.author.site,placeholder:"Left blank",children:o=>s.jsx(yr,{placement:"top",content:o,children:s.jsx(F.Link,{target:"_blank",rel:"noreferrer",href:o,children:"点击打开"})})})]})]})]})}},{title:"终端信息",width:210,dataIndex:"agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(ks,{}),text:i.ip,copyable:!0}),s.jsxs(A,{size:"small",children:[s.jsx(zd,{}),s.jsx(Qn,{data:i.ip_location})]}),s.jsxs(A,{size:"small",children:[s.jsx(Bd,{}),s.jsx(yr,{title:"终端信息",placement:"right",content:s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"浏览器",text:Rn(i.agent)})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"系统",text:Xn(i.agent)})}),s.jsx("div",{children:s.jsx(K,{prefix:"设备",text:Ta(i.agent)})})]}),children:Rn(i.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(a,i)=>{const o=la(i.state);return s.jsxs(A,{direction:"vertical",children:[s.jsx(Kt,{icon:o.icon,color:o.color,children:o.name}),s.jsxs(Kt,{icon:s.jsx(Gn,{}),color:i.likes>0?"processing":void 0,children:[i.likes," 个赞"]}),s.jsxs(Kt,{icon:s.jsx(_r,{}),color:i.dislikes>0?"gold":void 0,children:[i.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(a,i,o)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"评论详情"}),i.state===lt.Auditing&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(It,{}),onClick:()=>e.onUpdateState(i,lt.Published),children:s.jsx(F.Text,{type:"success",children:"审核通过"})}),i.state===lt.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Ls,{}),onClick:()=>e.onUpdateState(i,lt.Spam),children:"标为垃圾"}),(i.state===lt.Auditing||i.state===lt.Published)&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(qe,{}),onClick:()=>e.onUpdateState(i,lt.Deleted),children:"移回收站"}),(i.state===lt.Deleted||i.state===lt.Spam)&&s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onUpdateState(i,lt.Auditing),children:s.jsx(F.Text,{type:"warning",children:"退为草稿"})}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})]})}]})},nT=e=>{var i,o,c,l,d,u,h,f,p,m,x,g,S,T,v;const[t]=P.useForm(),n=ut(null),r=b=>{sh(b).then(E=>{n.value=E})},a=()=>{t.validateFields().then(b=>{e.onSubmit(b)})};return Ee(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==ma&&r(e.comment.post_id)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:(i=e.comment)==null?void 0:i.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:(o=e.comment)==null?void 0:o._id})]})}),s.jsx(P.Item,{label:"发布于",children:Ue((c=e.comment)==null?void 0:c.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue((l=e.comment)==null?void 0:l.updated_at)}),s.jsx(P.Item,{label:"用户头像",children:s.jsx(bl,{size:"large",comment:e.comment})}),s.jsx(P.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:s.jsx(se,{prefix:s.jsx(Wn,{})})}),s.jsx(P.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:s.jsx(se,{prefix:s.jsx(Ds,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:s.jsx(se,{prefix:s.jsx(xr,{}),type:"url",placeholder:"URL",suffix:s.jsx(Ug,{onClick:()=>{var E;const b=(E=e.comment)==null?void 0:E.author.site;b&&window.open(b)}})})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(K,{text:(d=e.comment)==null?void 0:d.ip,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Qn,{data:(u=e.comment)==null?void 0:u.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(K,{text:Rn((h=e.comment)==null?void 0:h.agent),placeholder:"未知浏览器"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Xn((f=e.comment)==null?void 0:f.agent),placeholder:"未知系统"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Ta((p=e.comment)==null?void 0:p.agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:s.jsx(Ul,{addonBefore:s.jsx(Gn,{}),placeholder:"多少"})}),s.jsx(P.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:s.jsx(Ul,{addonBefore:s.jsx(_r,{}),placeholder:"多少"})}),s.jsx(P.Item,{label:"宿主页面",children:s.jsxs(N,{type:"link",target:"_blank",icon:s.jsx(xr,{}),href:Qw((m=e.comment)==null?void 0:m.post_id),children:[((x=e.comment)==null?void 0:x.post_id)===ma?"留言板":((g=n.value)==null?void 0:g.title)??"加载中⋯",s.jsx(Q,{type:"vertical"}),s.jsxs("span",{children:["#",(S=e.comment)==null?void 0:S.id]})]})}),(T=e.comment)!=null&&T.pid?s.jsx(P.Item,{label:"父级评论",children:s.jsxs(F.Text,{strong:!0,children:["#",(v=e.comment)==null?void 0:v.pid]})}):null,s.jsx(P.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:s.jsx(ye,{placeholder:"选择状态",options:sl.map(b=>({value:b.id,label:s.jsxs(A,{size:"small",children:[b.icon,b.name]})}))})}),s.jsx(P.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(wr,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:s.jsx(Ea,{fieldName:"extends"})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(It,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},rT=()=>{var y;const e=Ln(),{i18n:t}=Ye(),{post_id:n}=BS.parse(e.search),r=n?Number(n):void 0,a=ge(),i=ge(),o=sn({data:[],pagination:void 0}),c=Z(""),l=Z(String(r??"")),d=Z({...Za,postId:r??Za.postId}),u=()=>{c.value="",l.value="",d.value={...Za}},h=I=>{c.value="",l.value=String(I),d.value={...Za,postId:Number(I)}},f=Z([]),p=St(()=>o.data.filter(I=>f.value.includes(I._id))),m=Z(!1),x=Z(null),g=St(()=>{const I=x.value;return I!==null?o.data[I]:null}),S=()=>{m.value=!1},T=I=>{x.value=I,m.value=!0},v=I=>{const D={...I,...QE(d.value),keyword:c.value||void 0};a.promise(Rh(D)).then($=>{o.data=$.data,o.pagination=$.pagination,ft(document.body)})},b=()=>{var I,D;v({page:(I=o.pagination)==null?void 0:I.current_page,per_page:(D=o.pagination)==null?void 0:D.per_page})},E=I=>{const D={...g.value,...I};i.promise(q_(D)).then(()=>{S(),b()})},C=I=>{Ce.confirm({title:`确定要彻底删除 ${I.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>Y_(I.map(D=>D._id),Cd(I.map(D=>D.post_id))).then(()=>{b()})})},L=(I,D)=>{Ce.confirm({title:`确定要将 ${I.length} 个评论更新为「 ${la(D).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>K_(I.map($=>$._id),Cd(I.map($=>$.post_id)),D).then(()=>{b()})})};return Ct(()=>d.value,()=>v(),{deep:!0}),Ee(()=>{v()}),s.jsxs(xe,{bordered:!1,title:t.t("page.comment.list.title",{total:((y=o.pagination)==null?void 0:y.total)??"-"}),extra:s.jsx(eT,{comments:o.data,loading:a.state.value}),children:[s.jsx(XE,{loading:a.state.value,keyword:c.value,onKeywordChange:I=>c.value=I,onKeywordSearch:()=>v(),params:d.value,onParamsChange:I=>Object.assign(d.value,I),postIdInput:l.value,onPostIdInputChange:I=>l.value=I,onResetRefresh:u,extra:s.jsx(Lr,{text:"批量操作",disabled:!f.value.length,options:[{label:"退为草稿",icon:s.jsx(Ze,{}),onClick:()=>L(p.value,lt.Auditing)},{label:"审核通过",icon:s.jsx(It,{}),onClick:()=>L(p.value,lt.Published)},{label:"标为垃圾",icon:s.jsx(Ls,{}),onClick:()=>L(p.value,lt.Spam)},{label:"移回收站",icon:s.jsx(qe,{}),onClick:()=>L(p.value,lt.Deleted)},{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>C(p.value)}]})}),s.jsx(Q,{}),s.jsx(tT,{loading:a.state.value,selectedIds:f.value,onSelecte:I=>f.value=I,data:o.data,pagination:o.pagination,onPaginate:(I,D)=>v({page:I,per_page:D}),onDetail:(I,D)=>T(D),onDelete:I=>C([I]),onUpdateState:(I,D)=>L([I],D),onClickPostId:h}),s.jsx(Os,{width:"46rem",title:"评论详情",destroyOnClose:!0,open:m.value,onClose:S,children:s.jsx(dt,{spinning:i.state.value,children:g.value&&s.jsx(nT,{submitting:i.state.value,comment:g.value,onSubmit:I=>E(I)})})})]})},qt="ALL",aT=void 0,Oi={target_type:qt,vote_type:qt,author_type:qt,sort:qn.Desc},sT=e=>({target_type:e.target_type!==qt?e.target_type:void 0,vote_type:e.vote_type!==qt?e.vote_type:void 0,author_type:e.author_type!==qt?e.author_type:void 0,sort:e.sort}),iT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(A.Compact,{children:s.jsx(El,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===qt?"目标":ls(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:qt,label:"所有类型"},{value:mr.Post,label:ls(mr.Post)},{value:mr.Comment,label:ls(mr.Comment)}]})}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:qt,label:"所有态度"},...Th.map(t=>({value:t.id,label:s.jsxs(A,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(ye,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:qt,label:"所有用户"},...[os.Anonymous,os.Guest,os.Disqus].map(t=>({value:t,label:yl(t)}))]}),s.jsx(Zn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(Cr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),oT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(a,i)=>s.jsxs(N,{type:"link",onClick:()=>e.onClickTarget(i),children:[ls(i.target_type)," #",i.target_id===ma?"Guestbook":i.target_id]})},{title:"态度",dataIndex:"vote_type",render:(a,i)=>s.jsx(Kt,{icon:Rs(i.vote_type).icon,color:i.vote_type===xl.Upvote?"green":"red",children:s.jsx("strong",{children:Rs(i.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(a,i)=>{var o;return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(zg,{}),text:yl(i.author_type)}),s.jsx(yr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(i.author,null,2)}),children:s.jsx("span",{children:s.jsx(K,{prefix:s.jsx(Wn,{}),text:(o=i.author)==null?void 0:o.name,placeholder:"未知用户"})})})]})}},{title:"IP / GEO",dataIndex:"ip",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(ks,{}),text:i.ip,copyable:!0,placeholder:"未知 IP"}),s.jsxs(A,{size:"small",children:[s.jsx(zd,{}),s.jsx(Qn,{data:i.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{prefix:s.jsx(Bd,{}),text:Rn(i.user_agent),placeholder:"未知浏览器"}),s.jsx(A,{size:"small",children:s.jsx(K,{prefix:s.jsx(Bg,{}),text:Xn(i.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(A,{size:"small",children:s.jsx(K,{prefix:s.jsx(Hg,{}),text:Ta(i.user_agent),placeholder:"未知设备"})}),s.jsx(K,{prefix:s.jsx(Hd,{}),text:Ue(i.created_at)})]})}}]})},lT=()=>{var p;const{i18n:e}=Ye(),t=ge(),n=sn({data:[],pagination:void 0}),r=Z({...Oi}),a=Z(void 0),i=m=>{a.value=Number.isFinite(m)?m:void 0},o=()=>{a.value=aT,r.value={...Oi}},c=m=>{a.value=m.target_id,r.value={...Oi,target_type:m.target_type}},l=Z([]),d=St(()=>n.data.filter(m=>l.value.includes(m._id))),u=m=>{const x={...m,...sT(r.value),target_id:a.value};t.promise(Eh(x)).then(g=>{n.data=g.data,n.pagination=g.pagination,ft(document.body)})},h=()=>{var m,x;u({page:(m=n.pagination)==null?void 0:m.current_page,per_page:(x=n.pagination)==null?void 0:x.per_page})},f=m=>{Ce.confirm({title:`确定要彻底删除 ${m.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>N_(m.map(x=>x._id)).then(()=>{h()})})};return Ct(()=>r.value,()=>u(),{deep:!0}),Ee(()=>{u()}),s.jsxs(xe,{bordered:!1,title:e.t("page.vote.list.title",{total:((p=n.pagination)==null?void 0:p.total)??"-"}),children:[s.jsx(iT,{loading:t.state.value,targetId:a.value,onTargetIdChange:i,onTargetIdSearch:()=>u(),params:r.value,onParamsChange:m=>Object.assign(r.value,m),onResetRefresh:o,extra:s.jsx(Lr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>f(d.value)}]})}),s.jsx(Q,{}),s.jsx(oT,{loading:t.state.value,selectedIds:l.value,data:n.data,pagination:n.pagination,onSelecte:m=>l.value=m,onPaginate:(m,x)=>u({page:m,per_page:x}),onClickTarget:m=>c(m)})]})},Tl="/feedback";function cT(e={}){return V.get(Tl,{params:e}).then(t=>t.result)}function dT(e){return V.put(`${Tl}/${e._id}`,e).then(t=>t.result)}function uT(e){return V.delete(Tl,{data:{feedback_ids:e}}).then(t=>t.result)}var Hh=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(Hh||{});const fT=[{number:0,boolean:!1,name:"未标记",icon:s.jsx(So,{})},{number:1,boolean:!0,name:"已标记",icon:s.jsx(_o,{style:{color:"#fadb14"}})}],hT=new Map(fT.map(e=>[e.number,e])),po=e=>hT.get(e?1:0),zn="ALL",Ed={marked:!1,tid:zn,emotion:zn,sort:qn.Desc},gT=e=>({marked:e.marked?Hh.Yes:void 0,tid:e.tid!==zn?e.tid:void 0,emotion:e.emotion!==zn?e.emotion:void 0,sort:e.sort}),mT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?s.jsx(_o,{}):s.jsx(So,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),s.jsx(El,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):zn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:zn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),s.jsx(ye,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:zn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),s.jsx(Zn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(se.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(nt,{}),loading:e.loading,onClick:e.onResetRefresh,children:s.jsx("span",{children:s.jsx(Cr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(A,{children:e.extra})]}),pT="_feedbackContent_1w5aj_1",xT={feedbackContent:pT},yT=e=>{var t,n,r;return s.jsx(an,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(a,i)=>po(i.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(a,i)=>s.jsx(wn,{prefix:i.emotion_emoji,value:i.emotion})},{title:"反馈内容",dataIndex:"content",render:(a,i)=>s.jsx(F.Paragraph,{className:xT.feedbackContent,ellipsis:{rows:3,expandable:!0},children:i.content})},{title:"备注",width:180,dataIndex:"remark",render:(a,i)=>s.jsx(Sa,{data:i.remark||null,children:o=>s.jsx(F.Paragraph,{ellipsis:{rows:3,expandable:!0},children:o})})},{title:"发布于",width:200,dataIndex:"agent",render(a,i){return s.jsxs(A,{direction:"vertical",children:[s.jsx(yr,{title:"终端信息",placement:"left",style:{width:300},content:s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"用户：",text:i.user_name})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"邮箱：",text:i.user_email,copyable:!0})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"来源：",text:i.origin,copyable:!0})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"IP：",text:i.ip||void 0,copyable:!0})}),s.jsxs(F.Paragraph,{children:["位置： ",s.jsx(Qn,{data:i.ip_location})]}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"浏览器：",text:Rn(i.user_agent)})}),s.jsx(F.Paragraph,{children:s.jsx(K,{prefix:"系统：",text:Xn(i.user_agent)})}),s.jsx("div",{children:s.jsx(K,{prefix:"设备：",text:Ta(i.user_agent)})})]}),children:s.jsx("span",{children:s.jsx(K,{prefix:s.jsx(Wn,{}),text:i.user_name,placeholder:"Anonymous"})})}),s.jsx(K,{prefix:s.jsx(Hd,{}),text:Ue(i.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(a,i,o)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Ze,{}),onClick:()=>e.onDetail(i,o),children:"反馈详情"}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(qe,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})}]})},vT=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return Ee(()=>{t.setFieldsValue(e.feedback)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(A,{size:"small",children:[s.jsx(F.Text,{copyable:!0,children:e.feedback.id}),s.jsx(Q,{type:"vertical"}),s.jsx(F.Text,{copyable:!0,children:e.feedback._id})]})}),s.jsx(P.Item,{label:"TID",children:s.jsx(F.Text,{copyable:!0,children:e.feedback.tid})}),s.jsx(P.Item,{label:"发布于",children:Ue(e.feedback.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Ue(e.feedback.updated_at)}),s.jsx(P.Item,{name:"marked",label:"是否标记",children:s.jsxs(Qa.Group,{size:"middle",children:[s.jsx(Qa.Button,{value:!1,children:po(!1).icon}),s.jsx(Qa.Button,{value:!0,children:po(!0).icon})]})}),s.jsx(P.Item,{name:"user_name",label:"用户昵称",children:s.jsx(se,{prefix:s.jsx(Wn,{})})}),s.jsx(P.Item,{name:"user_email",label:"用户邮箱",children:s.jsx(se,{prefix:s.jsx(Ds,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(K,{text:e.feedback.ip||null,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Qn,{data:e.feedback.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(K,{text:Rn(e.feedback.user_agent),placeholder:"未知浏览器"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Xn(e.feedback.user_agent),placeholder:"未知系统"}),s.jsx(Q,{type:"vertical"}),s.jsx(K,{text:Ta(e.feedback.user_agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{label:"反馈评分",children:s.jsx(wn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),s.jsx(P.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(se.TextArea,{autoSize:{minRows:8,maxRows:18}})}),s.jsx(P.Item,{label:"备注",name:"remark",children:s.jsx(se.TextArea,{autoSize:{minRows:3,maxRows:8}})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(It,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},bT=()=>{var T;const{i18n:e}=Ye(),t=ge(),n=ge(),r=sn({data:[],pagination:void 0}),a=Z(""),i=Z({...Ed}),o=()=>{a.value="",i.value={...Ed}},c=Z([]),l=St(()=>r.data.filter(v=>c.value.includes(v._id))),d=Z(!1),u=Z(null),h=St(()=>{const v=u.value;return v!==null?r.data[v]:null}),f=()=>{d.value=!1},p=v=>{u.value=v,d.value=!0},m=v=>{const b={...v,...gT(i.value),keyword:a.value||void 0};t.promise(cT(b)).then(E=>{r.data=E.data,r.pagination=E.pagination,ft(document.body)})},x=()=>{var v,b;m({page:(v=r.pagination)==null?void 0:v.current_page,per_page:(b=r.pagination)==null?void 0:b.per_page})},g=v=>{Ce.confirm({title:`确定要彻底删除 ${v.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>uT(v.map(b=>b._id)).then(()=>{x()})})},S=v=>{const{emotion_emoji:b,emotion_text:E,...C}={...h.value,...v},L={...C,ip:C.ip||null};n.promise(dT(L)).then(()=>{f(),x()})};return Ct(()=>i.value,()=>m(),{deep:!0}),Ee(()=>{m()}),s.jsxs(xe,{bordered:!1,title:e.t("page.feedback.list.title",{total:((T=r.pagination)==null?void 0:T.total)??"-"}),children:[s.jsx(mT,{loading:t.state.value,keyword:a.value,onKeywordChange:v=>a.value=v,onKeywordSearch:()=>m(),params:i.value,onParamsChange:v=>Object.assign(i.value,v),onResetRefresh:o,extra:s.jsx(Lr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(qe,{}),onClick:()=>g(l.value)}]})}),s.jsx(Q,{}),s.jsx(yT,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:c.value,onSelect:v=>c.value=v,onDetail:(v,b)=>p(b),onDelete:v=>g([v]),onPaginate:(v,b)=>m({page:v,per_page:b})}),s.jsx(Os,{width:"46rem",title:"反馈详情",destroyOnClose:!0,open:d.value,onClose:f,children:s.jsx(dt,{spinning:n.state.value,children:h.value&&s.jsx(vT,{submitting:n.state.value,feedback:h.value,onSubmit:v=>S(v)})})})]})},wT=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),URL.revokeObjectURL(a)},ka="/disqus";function jT(e){return V.get(`${ka}/threads`,{params:e})}function _T(e){return V.get(`${ka}/posts`,{params:e})}function Vh(){return V.get(`${ka}/config`)}async function ST(e){const t=new FormData;return t.append("file",e),V.post(`${ka}/import-xml`,t)}async function CT(){const e=await V.$({url:`${ka}/export-xml`,method:"GET",responseType:"blob"});wT(e.data,"nodepress-export-to-disqus.xml","application/xml")}var Yn=(e=>(e.Desc="desc",e.Asc="asc",e))(Yn||{}),ds=(e=>(e.Open="open",e.Closed="closed",e))(ds||{}),xn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(xn||{});const xo="ALL",Td={order:Yn.Desc,include:xo},ET=()=>{var c,l;const e=Z(null),t=ge(),n=sn({cursor:null,list:[]}),r=Z({...Td}),a=()=>{r.value={...Td}},i=d=>{const u={...d,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==xo?[r.value.include]:[...Object.values(ds)]};t.promise(jT(u)).then(h=>{d!=null&&d.cursor?(n.cursor=h.result.cursor,n.list.push(...h.result.response)):(n.cursor=h.result.cursor,n.list=h.result.response,ft(document.body))})},o=()=>{i({cursor:n.cursor.next})};return Ct(()=>r.value,()=>i(),{deep:!0}),Ee(()=>{Vh().then(d=>{e.value=d.result,i()})}),s.jsxs(xe,{bordered:!1,title:`Threads (${n.list.length})`,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Io,{}),href:`https://${(c=e.value)==null?void 0:c.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:d=>r.value.include=d,options:[{value:xo,label:"All state"},{value:ds.Open,label:"Open"},{value:ds.Closed,label:"Closed"}]}),s.jsx(ye,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:d=>r.value.order=d,options:[{value:Yn.Desc,label:"Desc"},{value:Yn.Asc,label:"Asc"}]}),s.jsx(N,{icon:s.jsx(nt,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),s.jsx(Q,{}),s.jsx(an,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(d,u)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Link,{href:`https://disqus.com/home/discussion/${u.forum}/${u.slug}/`,target:"_blank",strong:!0,children:u.title}),s.jsx(F.Link,{href:u.link,target:"_blank",type:"secondary",children:u.link})]})},{title:"ID / Author",key:"id",render:(d,u)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(F.Text,{copyable:!0,children:u.id}),s.jsx(F.Text,{copyable:!0,type:"secondary",children:u.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(d,u)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(A,{children:u.identifiers.map(h=>s.jsx(Kt,{children:h},h))}),s.jsx(F.Text,{type:"secondary",children:Ue(u.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(d,u)=>s.jsxs(A,{size:"small",children:[s.jsx(pa,{}),u.posts]})},{title:"Likes",key:"likes",render:(d,u)=>s.jsxs(A,{size:"small",children:[s.jsx(Gn,{}),u.likes]})},{title:"Dislikes",key:"dislikes",render:(d,u)=>s.jsxs(A,{size:"small",children:[s.jsx(_r,{}),u.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(d,u)=>s.jsx(Mi,{disabled:!0,checked:!u.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:(l=n.cursor)!=null&&l.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(F.Text,{type:"secondary",children:"NO MORE"})})]})},Rl="ALL",Rd={order:Yn.Desc,include:Rl},TT=e=>s.jsxs(le,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(A,{wrap:!0,children:[s.jsx(ye,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:Rl,label:"All state"},{value:xn.Approved,label:"Approved"},{value:xn.Unapproved,label:"Unapproved"},{value:xn.Spam,label:"Spam"},{value:xn.Deleted,label:"Deleted"},{value:xn.Flagged,label:"Flagged"},{value:xn.Highlighted,label:"Highlighted"}]}),s.jsx(ye,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:Yn.Desc,label:"Desc"},{value:Yn.Asc,label:"Asc"}]}),s.jsx(se.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onThreadIdSearch()}}),s.jsx(N,{loading:e.loading,icon:s.jsx(nt,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),s.jsx(A,{children:e.extra})]}),RT=e=>s.jsx(an,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>s.jsxs(A,{direction:"vertical",children:[s.jsx(K,{text:n.id,copyable:!0,type:"secondary"}),s.jsx(K,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>s.jsxs("div",{children:[s.jsx(F.Paragraph,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),s.jsx(F.Text,{type:"secondary",children:Ue(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>s.jsxs(A,{children:[s.jsx(Ro,{size:38,shape:"square",src:n.author.avatar.cache}),s.jsxs(A,{direction:"vertical",size:"small",children:[s.jsx("strong",{children:n.author.name}),s.jsx(Sa,{data:n.author.url,children:r=>s.jsx(F.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?s.jsx(F.Text,{type:"secondary",children:"Guest"}):s.jsx(F.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>s.jsxs(A,{size:"small",children:[s.jsx(Gn,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>s.jsxs(A,{size:"small",children:[s.jsx(_r,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>s.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:s.jsx(Ud,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:s.jsx(zl,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:s.jsx(zl,{})}].filter(r=>r.value).map((r,a)=>s.jsxs(F.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),IT=()=>{var l,d;const e=Z(null),t=ge(),n=sn({cursor:null,list:[]}),r=Z(""),a=Z({...Rd}),i=u=>{const h={...u,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==Rl?[a.value.include]:[...Object.values(xn)]};t.promise(_T(h)).then(f=>{u!=null&&u.cursor?(n.cursor=f.result.cursor,n.list.push(...f.result.response)):(n.cursor=f.result.cursor,n.list=f.result.response,ft(document.body))})},o=()=>{i({cursor:n.cursor.next})},c=()=>{r.value="",a.value={...Rd}};return Ct(()=>a.value,()=>i(),{deep:!0}),Ee(()=>{Vh().then(u=>{e.value=u.result,i()})}),s.jsxs(xe,{title:`Posts (${n.list.length})`,bordered:!1,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(Io,{}),href:`https://${(l=e.value)==null?void 0:l.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[s.jsx(TT,{loading:t.state.value,threadId:r.value,onThreadIdChange:u=>r.value=u,onThreadIdSearch:()=>i(),params:a.value,onParamsChange:u=>Object.assign(a.value,u),onResetRefresh:c}),s.jsx(Q,{}),s.jsx(RT,{loading:t.state.value,data:n.list.slice()}),s.jsx("br",{}),s.jsx(le,{justify:"center",children:(d=n.cursor)!=null&&d.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(F.Text,{type:"secondary",children:"NO MORE"})})]})},kT=()=>{const e=ge(),t=n=>{e.promise(ST(n)).catch(r=>{Ce.error({title:"Upload XML error",content:String(r)})})};return s.jsxs("div",{children:[s.jsx(Vd,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:s.jsx(To,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:s.jsx(As,{})}]}),s.jsx(ko,{icon:s.jsx(Ns,{}),title:"Disqus To NodePress",extra:s.jsxs(A,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(qd,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),s.jsx(Co,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:s.jsx(N,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:s.jsx(Ps,{}),children:"Upload XML to NodePress"})})]})})]})},LT=()=>s.jsxs("div",{children:[s.jsx(Vd,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:s.jsx(To,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:s.jsx(As,{})}]}),s.jsx(ko,{icon:s.jsx(Ns,{}),title:"NodePress To Disqus",extra:s.jsxs(N.Group,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(qd,{}),onClick:()=>CT(),children:"Download XML"}),s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Ps,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),PT=()=>s.jsxs(A,{direction:"vertical",size:Qd,style:{width:"100%"},children:[s.jsx(xe,{title:"Synchronize NodePress to Disqus",bordered:!1,children:s.jsx(LT,{})}),s.jsx(xe,{title:"Synchronize Disqus To NodePress",bordered:!1,children:s.jsx(kT,{})})]}),Di=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},AT=e=>{var d;const t=ge(),n=ge(),r=Z(null),[a]=P.useForm(),i=u=>{r.value=u,a.setFieldsValue({...u,ad_config:Di(u.ad_config,2)})},o=()=>t.promise(jw()).then(i),c=u=>{const h={...u,ad_config:Di(u.ad_config)};return n.promise(_w(h)).then(i)},l=()=>{a.validateFields().then(u=>{const h={...r.value,...u};c(h).then(()=>{ft(document.body)})})};return Ee(()=>{o()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[s.jsx(P.Item,{label:!0,children:s.jsx(wn,{valueStyle:{fontWeight:"bold"},value:(d=r.value)==null?void 0:d.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),s.jsx(P.Item,{name:"title",label:"站点标题",required:!0,children:s.jsx(se,{placeholder:"站点标题"})}),s.jsx(P.Item,{name:"sub_title",label:"副标题",required:!0,children:s.jsx(se,{placeholder:"副标题"})}),s.jsx(P.Item,{name:"description",label:"站点描述",required:!0,children:s.jsx(se.TextArea,{rows:4,placeholder:"站点描述"})}),s.jsx(P.Item,{name:"keywords",label:"关键词",required:!0,children:s.jsx(ye,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:s.jsx(se,{suffix:s.jsx(xr,{}),placeholder:"https://example.me"})}),s.jsx(P.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:s.jsx(se,{suffix:s.jsx(Ds,{}),placeholder:"example@xxx.me"})}),s.jsx(P.Item,{name:"statement",label:"站点声明",children:s.jsx(wr,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:Es.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:s.jsx(Ea,{fieldName:"friend_links"})}),s.jsx(P.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:s.jsx(ye,{placeholder:"回车以输入多个关键字",mode:"tags"})}),s.jsx(P.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(u,h){try{return Di(h||""),Promise.resolve()}catch(f){return Promise.reject(f)}}}],children:s.jsx(wr,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:Es.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:!0,children:s.jsx(N,{icon:s.jsx(It,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:l,children:"保存"})})]})})},OT=()=>{const e=ge(),t=ge(),n=()=>{Ce.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(ww())})},r=()=>{Ce.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise(bw())})};return s.jsxs(Ht,{children:[s.jsx(N,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:s.jsx(As,{}),children:"立即更新数据库备份"}),s.jsx(Q,{}),s.jsx(N,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:s.jsx(Ns,{}),children:"更新 Archive 及缓存"})]})},DT=()=>{const e=ln(),t=ge(),n=ge(),r=si(),[a]=P.useForm(),i=()=>{t.promise(Jh()).then(a.setFieldsValue)},o=d=>n.promise(CR(d)).then(()=>{d.new_password?(Bt.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{Qs(),e(tt[he.Hello])},1688)):(i(),r.refresh())}),c=()=>{a.validateFields().then(d=>{Reflect.deleteProperty(d,"rel_new_password"),o({...d}).then(()=>{ft(document.body)})})},l=async()=>{const d=a.getFieldValue("password"),u=a.getFieldValue("new_password"),h=a.getFieldValue("rel_new_password");if(!(!d&&!u&&!h)&&(u!==h||d===u))throw new Error};return Ee(()=>{i()}),s.jsx(dt,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[s.jsx(P.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:s.jsx(yh,{disabledMarkdown:!0})}),s.jsx(P.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:s.jsx(se,{placeholder:"昵称"})}),s.jsx(P.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:s.jsx(se.TextArea,{placeholder:"签名"})}),s.jsx(Q,{}),s.jsx(P.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"旧密码",autoComplete:"password"})}),s.jsx(P.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"新密码",autoComplete:"new_password"})}),s.jsx(P.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:l}],children:s.jsx(se.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(It,{}),loading:n.state.value,onClick:c,children:"保存"})]})})},Ni=e=>{const t=s.jsxs(A,{size:"small",children:[e.icon,e.title]});return s.jsx(xe,{bordered:!1,title:t,children:e.children})},NT=()=>{const{i18n:e}=Ye();return s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{xs:24,lg:17,children:s.jsx(Ni,{title:e.t("page.setting.general.title"),icon:s.jsx(Vg,{}),children:s.jsx(AT,{labelSpan:4,wrapperSpan:19})})}),s.jsx(Fe,{xs:24,lg:7,children:s.jsxs(Ht,{gutter:[Ve,Ve],children:[s.jsx(Fe,{span:24,children:s.jsx(Ni,{title:e.t("page.setting.data.title"),icon:s.jsx(qg,{}),children:s.jsx(OT,{})})}),s.jsx(Fe,{span:24,children:s.jsx(Ni,{title:e.t("page.setting.userinfo.title"),icon:s.jsx(Wn,{}),children:s.jsx(DT,{})})})]})})]})},$T=()=>{const{i18n:e}=Ye(),t=ut(!1);return s.jsxs(xe,{bordered:!1,title:e.t("page.statics.list.title",{total:"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Ps,{}),disabled:!0,onClick:()=>t.value=!0,children:"上传新文件"}),children:[s.jsx(_h,{tableListSize:"middle"}),s.jsx(Ce,{title:"上传文件",centered:!0,closable:!1,footer:null,open:t.value,onClose:()=>t.value=!1,children:s.jsx("p",{children:"TODO"})})]})};var he=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Static="static",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(he||{});const qh=[{index:!0,element:s.jsx(_i,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:he.Dashboard,path:"/dashboard",element:s.jsx(fj,{}),handle:{i18nKey:"page.dashboard.title",icon:s.jsx(Io,{})}},{id:he.Announcement,path:"/announcement",element:s.jsx(vS,{}),handle:{i18nKey:"page.announcement.title",icon:s.jsx(Kg,{})}},{id:he.Category,path:"/category",element:s.jsx(CS,{}),handle:{i18nKey:"page.category.title",icon:s.jsx(Yg,{})}},{id:he.Tag,path:"/tag",element:s.jsx(LS,{}),handle:{i18nKey:"page.tag.title",icon:s.jsx(Wg,{})}},{id:he.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:s.jsx(Ld,{})},children:[{index:!0,element:s.jsx(_i,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:he.ArticleList,path:"/article/list",element:s.jsx(Kj,{}),handle:{i18nKey:"page.article.list",icon:s.jsx(Bl,{})}},{id:he.ArticlePost,path:"/article/post",element:s.jsx(iS,{}),handle:{i18nKey:"page.article.create",icon:s.jsx(Ze,{})}},{id:he.ArticleEdit,path:"/article/edit/:article_id",element:s.jsx(sS,{}),handle:{i18nKey:"page.article.edit",icon:s.jsx(Ze,{}),hiddenInMenu:!0}}]},{id:he.Comment,path:"/comment",element:s.jsx(rT,{}),handle:{i18nKey:"page.comment.title",icon:s.jsx(pa,{})}},{id:he.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:s.jsx(Gg,{})},children:[{index:!0,element:s.jsx(_i,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:he.DisqusPost,path:"/disqus/posts",element:s.jsx(IT,{}),handle:{i18nKey:"page.disqus.posts",icon:s.jsx(Bl,{})}},{id:he.DisqusThread,path:"/disqus/threads",element:s.jsx(ET,{}),handle:{i18nKey:"page.disqus.threads",icon:s.jsx(Md,{})}},{id:he.DisqusSync,path:"/disqus/synchronize",element:s.jsx(PT,{}),handle:{i18nKey:"page.disqus.synchronize",icon:s.jsx(Ns,{})}}]},{id:he.Vote,path:"/vote",element:s.jsx(lT,{}),handle:{i18nKey:"page.vote.title",icon:s.jsx(Gn,{})}},{id:he.Feedback,path:"/feedback",element:s.jsx(bT,{}),handle:{i18nKey:"page.feedback.title",icon:s.jsx(Jg,{})}},{id:he.Static,path:"/static",element:s.jsx($T,{}),handle:{i18nKey:"page.setting.statics",icon:s.jsx(Eo,{})}},{id:he.Setting,path:"/setting",element:s.jsx(NT,{}),handle:{i18nKey:"page.setting.title",icon:s.jsx(Kd,{})}}],FT="_appLayout_th6z3_1",MT="_appSider_th6z3_1",UT="_siderContent_th6z3_9",zT="_logo_th6z3_15",BT="_userInfo_th6z3_23",HT="_collapsed_th6z3_29",VT="_avatar_th6z3_32",qT="_name_th6z3_36",KT="_slogan_th6z3_57",YT="_menus_th6z3_61",WT="_footerLink_th6z3_79",GT="_appHeader_th6z3_93",JT="_headerContent_th6z3_104",ZT="_userMenu_th6z3_108",QT="_appFooter_th6z3_116",XT="_appContent_th6z3_121",eR="_pageContainer_th6z3_121",tR="_pageHeader_th6z3_121",nR="_title_th6z3_127",rR="_icon_th6z3_130",aR="_breadcrumb_th6z3_133",sR="_pageContent_th6z3_137",iR="_backTop_th6z3_140",oR="_pageHeaderAdvert_th6z3_144",lR="_adCard_th6z3_148",pe={appLayout:FT,appSider:MT,siderContent:UT,logo:zT,userInfo:BT,collapsed:HT,avatar:VT,name:qT,slogan:KT,menus:YT,footerLink:WT,appHeader:GT,headerContent:JT,userMenu:ZT,appFooter:QT,appContent:XT,pageContainer:eR,pageHeader:tR,title:nR,icon:rR,breadcrumb:aR,pageContent:sR,backTop:iR,pageHeaderAdvert:oR,adCard:lR},Kh=e=>e.filter(t=>{var n;return!((n=t.handle)!=null&&n.hiddenInMenu)}).map(t=>{var n,r,a;return{key:t.path,icon:(n=t.handle)==null?void 0:n.icon,children:t!=null&&t.children?Kh(t.children):null,label:(r=t.handle)!=null&&r.i18nKey?s.jsx(Cr,{i18nKey:t.handle.i18nKey}):(a=t.handle)==null?void 0:a.name}}),cR=({isSiderCollapsed:e})=>{const t=ln(),n=Ln(),{language:r}=Sr(),a=si(),i=j.useMemo(()=>Kh(qh),[r]);return s.jsxs("div",{className:pe.siderContent,children:[s.jsx(Xt,{to:"/",className:pe.logo,children:s.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:il(e?"/images/logo.mini.svg":"/images/logo.svg")})}),s.jsx(dt,{spinning:a.loading,size:"small",children:s.jsxs(le,{vertical:!0,justify:"center",align:"center",className:ca(pe.userInfo,e&&pe.collapsed),children:[s.jsx("img",{draggable:!1,className:pe.avatar,src:a.data.avatar,alt:a.data.name}),s.jsx(F.Title,{level:5,className:pe.name,title:a.data.name,children:a.data.name||"-"}),s.jsx(F.Text,{type:"secondary",ellipsis:!0,className:pe.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),s.jsx(Zg,{mode:"inline",className:pe.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[tt[he.Article]],items:i}),s.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:Rm,className:ca(pe.footerLink,e&&pe.collapsed),children:e?s.jsx(Hl,{}):s.jsxs(A,{size:"small",children:[s.jsx(Hl,{}),"source-code"]})})]})},dR=e=>{const t=ln(),n=Fs(),r=Sr(),a=si(),{i18n:i}=Ye(),o=()=>{t(tt[he.Setting])},c=()=>{Ce.confirm({title:i.t("logout.confirmation"),centered:!0,onOk(){Qs(),t(tt[he.Hello])}})};return s.jsxs(le,{justify:"space-between",className:pe.headerContent,children:[s.jsxs(le,{align:"center",gap:"middle",children:[s.jsx(N,{type:"text",className:pe.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?s.jsx(Qg,{}):s.jsx(Xg,{})}),s.jsx(N,{type:"text",className:pe.item,onClick:()=>n.toggleTheme(),icon:n.isDark?s.jsx(em,{}):s.jsx(tm,{})}),s.jsx(ye,{size:"small",className:pe.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:Em.map(l=>({value:l.code,label:l.name}))})]}),s.jsx(le,{align:"center",justify:"center",children:s.jsx(Pd,{placement:"bottomRight",menu:{items:[{key:"profile",icon:s.jsx(Kd,{}),label:i.t("page.setting.title"),onClick:o},{key:"divider",type:"divider"},{key:"logout",icon:s.jsx(nm,{}),label:i.t("logout.title"),danger:!0,onClick:c}]},children:s.jsxs("div",{className:pe.userMenu,children:[s.jsx("span",{children:a.data.name}),s.jsx(Ro,{shape:"square",size:"small",icon:s.jsx(Wn,{}),className:pe.avatar,src:a.data.avatar})]})})})]})},uR=()=>(Ee(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),s.jsx("div",{className:pe.pageHeaderAdvert,children:s.jsx(xe,{classNames:{body:pe.adCard},size:"small",bordered:!1,children:s.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),fR=e=>{var i,o,c;const{i18n:t}=Ye(),n=Ln(),[,...r]=n.pathname.split("/"),a=Yh.find(l=>Gi(l.path,n.pathname));return s.jsxs("div",{className:pe.pageContainer,children:[s.jsxs(le,{align:"center",justify:"space-between",className:pe.pageHeader,children:[s.jsxs(F.Title,{className:pe.title,level:4,children:[s.jsx("span",{className:pe.icon,children:(i=a==null?void 0:a.handle)==null?void 0:i.icon}),(o=a==null?void 0:a.handle)!=null&&o.i18nKey?t.t(a.handle.i18nKey):(c=a==null?void 0:a.handle)==null?void 0:c.name]}),s.jsx(rm,{className:pe.breadcrumb,items:r.map(l=>({title:l}))})]}),Dm&&s.jsx(uR,{}),s.jsx("div",{className:pe.pageContent,children:e==null?void 0:e.children}),s.jsx(am.BackTop,{className:pe.backTop,shape:"square",type:"primary",icon:s.jsx(sm,{}),onClick:()=>ft(document.body)})]})},hR="xl",gR=Fi.getDesignToken().screenXL,mR=window.innerWidth>=gR,pR=e=>{const t=si(),[n,r]=j.useState(!mR),a=()=>r(!n);return Ee(()=>{t.refresh()}),s.jsxs(sr,{id:"app-layout",className:pe.appLayout,children:[s.jsx(sr.Sider,{className:pe.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:hR,onBreakpoint:i=>r(i),children:s.jsx(cR,{isSiderCollapsed:n})}),s.jsxs(sr,{children:[s.jsx(sr.Header,{className:pe.appHeader,children:s.jsx(dR,{isSiderCollapsed:n,onToggleSider:a})}),s.jsx(sr.Content,{className:pe.appContent,children:s.jsx(fR,{children:e==null?void 0:e.children})}),s.jsx(sr.Footer,{className:pe.appFooter,children:s.jsxs(A,{size:"small",children:[s.jsx(im,{}),"Powered by",s.jsx(F.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",s.jsx(F.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},xR="_helloPage_1nnw2_1",yR="_icon_1nnw2_9",vR="_input_1nnw2_19",Xr={helloPage:xR,icon:yR,input:vR},bR=()=>{const e=ln(),[t,n]=j.useState(""),[r,a]=j.useState(!1),[i,o]=j.useState(!1),c=()=>a(!0),l=()=>a(!1),d=async p=>{try{o(!0);const m=await iw(p);_s.setToken(m.access_token,m.expires_in),e(tt[he.Dashboard])}catch(m){return console.warn("Login failed！",m),Promise.reject(m)}finally{o(!1)}},u=p=>{p.key==="Escape"&&l(),p.key==="Enter"&&t&&d(t)},h=s.jsx("div",{className:Xr.icon,onClick:c,onTouchEnd:c,children:"🔐"}),f=s.jsx(se.Password,{className:Xr.input,id:"password",size:"large",autoFocus:!0,disabled:i,value:t,visibilityToggle:!1,onBlur:l,onKeyDownCapture:u,onInput:p=>n(p.target.value)});return s.jsx("div",{className:ca(Xr.helloPage,r?Xr.inputing:Xr.normal),children:s.jsx(dt,{spinning:i,indicator:s.jsx($d,{}),children:r?f:h})})},wR="_notFoundPage_u75hf_1",jR={notFoundPage:wR},_R=()=>s.jsx(le,{justify:"center",align:"center",className:jR.notFoundPage,children:s.jsx(ko,{status:"warning",title:"404 NOT FOUND",extra:s.jsx(Xt,{to:"/",children:s.jsx(N,{type:"link",children:s.jsx(Cr,{i18nKey:"page.404.link"})})})})}),yo=[{id:he.Hello,path:"/hello",element:s.jsx(bR,{})},{path:"/",children:qh,element:s.jsx(mw,{children:s.jsx(pR,{children:s.jsx(Qy,{})})})},{path:"*",element:s.jsx(_R,{})}],Yh=[],tt={},SR=new Map,Wh=e=>{e.forEach(t=>{var n;t.id&&(Yh.push(t),tt[t.id]=t.path,SR.set(t.id,t)),(n=t.children)!=null&&n.length&&Wh(t.children)})};Wh(yo);const Il={articleDetail:e=>`/article/edit/${e}`},La=Me.create({baseURL:Om,adapter:window.__axiosAdapter||void 0});La.interceptors.request.use(e=>(_s.isTokenValid()?(e.headers=e.headers||{},e.headers[Im]=`Bearer ${_s.getToken()}`):e.url!==Zs.LOGIN&&Bt.error({message:Fn.t("nodepress.request.invalid_token.title"),description:Fn.t("nodepress.request.invalid_token.description"),duration:2}),e));La.interceptors.response.use(e=>{var t;return(t=e.headers["content-type"])!=null&&t.includes("json")?e.data.status==="success"?(Bt.success({message:Fn.t("nodepress.response.success"),description:e.data.message,duration:2}),Promise.resolve(e.data)):(Bt.error({message:e.data.message,description:e.data.error,duration:3}),Promise.reject(e)):(Bt.success({message:Fn.t("nodepress.response.success"),description:e.statusText,duration:2}),e)},e=>{var i,o,c,l,d,u,h,f;const t=(i=e==null?void 0:e.toJSON)==null?void 0:i.call(e),n=((c=(o=e.response)==null?void 0:o.data)==null?void 0:c.message)||"Error",r=((d=(l=e.response)==null?void 0:l.data)==null?void 0:d.error)||((u=e.response)==null?void 0:u.statusText)||(t==null?void 0:t.message)||"",a={...t,config:e.config,request:e.request,response:e.response,code:e.code||((h=e.response)==null?void 0:h.status)||400,message:`${n}: ${r}`};return console.debug("axios error:",a),Bt.error({message:n,description:r,duration:3}),((f=e.response)==null?void 0:f.status)===401&&(_s.removeToken(),window.location.href=tt[he.Hello]),Promise.reject(a)});const gn=e=>(...t)=>La[e](...t),V={$:La,request:gn("request"),head:gn("head"),get:gn("get"),post:gn("post"),put:gn("put"),patch:gn("patch"),delete:gn("delete"),options:gn("options")},Gh="/auth/admin";function Jh(){return V.get(Gh).then(e=>e.result)}function CR(e){const t={...e,password:e.password?eo.encode(e.password):"",new_password:e.new_password?eo.encode(e.new_password):""};return V.put(Gh,t).then(n=>n.result)}const ER=Object.freeze({name:"Admin",slogan:"NodePress",avatar:il("/images/nodepress.png")}),Zh=jr.createContext({}),si=()=>j.useContext(Zh),TR=e=>{const[t,n]=j.useState({...ER}),[r,a]=j.useState(!1),i=async()=>{try{a(!0),n(await Jh())}finally{a(!1)}};return s.jsx(Zh.Provider,{value:{data:t,loading:r,refresh:i},children:e.children})};function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var RR=function(){};function Qh(e,t){return Math.random()*(t-e+1)+e}function Id(e,t){return Math.floor(Qh(e,t))}var IR=j.forwardRef(function(e,t){var n=e.progress,r=e.height,a=r===void 0?2:r,i=e.className,o=i===void 0?"":i,c=e.color,l=c===void 0?"red":c,d=e.background,u=d===void 0?"transparent":d,h=e.onLoaderFinished,f=e.transitionTime,p=f===void 0?300:f,m=e.loaderSpeed,x=m===void 0?500:m,g=e.waitingTime,S=g===void 0?1e3:g,T=e.shadow,v=T===void 0||T,b=e.containerStyle,E=b===void 0?{}:b,C=e.style,L=C===void 0?{}:C,y=e.shadowStyle,I=y===void 0?{}:y,D=e.containerClassName,$=D===void 0?"":D,z=j.useRef(!1),Y=j.useState(0),H=Y[0],ie=Y[1],ue=j.useRef({active:!1,refreshRate:1e3}),fe=j.useState(!1),ve=fe[0],ce=fe[1],We=j.useState({active:!1,value:20}),rt=We[0],at=We[1],Qe={position:"fixed",top:0,left:0,height:a,background:u,zIndex:99999999999,width:"100%"},kt={boxShadow:"0 0 10px "+l+", 0 0 10px "+l,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+x+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},mt=j.useState({height:"100%",background:l,transition:"all "+x+"ms ease",width:"0%"}),He=mt[0],Xe=mt[1],pt=j.useState(kt),Gt=pt[0],Ut=pt[1];j.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]),j.useImperativeHandle(t,function(){return{continuousStart:function(Pe,Oe){if(Oe===void 0&&(Oe=1e3),!rt.active)if(ve)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Tt=Pe||Id(10,20);ue.current={active:!0,refreshRate:Oe},ie(Tt),je(Tt)}},staticStart:function(Pe){if(!ue.current.active)if(ve)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Oe=Pe||Id(30,50);at({active:!0,value:Oe}),ie(Oe),je(Oe)}},complete:function(){ve?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(ie(100),je(100))}}}),j.useEffect(function(){Xe(bt({},He,{background:l})),Ut(bt({},Gt,{boxShadow:"0 0 10px "+l+", 0 0 5px "+l}))},[l]),j.useEffect(function(){if(t){if(t&&n!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);je(H),ce(!1)}else n&&je(n),ce(!0)},[n]);var er,Et,cn,je=function Pe(Oe){Oe>=100?(Xe(bt({},He,{width:"100%"})),v&&Ut(bt({},Gt,{left:Oe-10+"%"})),setTimeout(function(){z.current&&(Xe(bt({},He,{opacity:0,width:"100%",transition:"all "+p+"ms ease-out",color:l})),setTimeout(function(){z.current&&(ue.current.active&&(ue.current=bt({},ue.current,{active:!1}),ie(0),Pe(0)),rt.active&&(at(bt({},rt,{active:!1})),ie(0),Pe(0)),h&&h(),ie(0),Pe(0))},p))},S)):(Xe(function(Tt){return bt({},Tt,{width:Oe+"%",opacity:1,transition:Oe>0?"all "+x+"ms ease":""})}),v&&Ut(bt({},Gt,{left:Oe-5.5+"%",transition:Oe>0?"all "+x+"ms ease":""})))};return er=function(){var Pe=Qh(Math.min(10,(100-H)/5),Math.min(20,(100-H)/3));H+Pe<95&&(ie(H+Pe),je(H+Pe))},Et=ue.current.active?ue.current.refreshRate:null,cn=j.useRef(RR),j.useEffect(function(){cn.current=er}),j.useEffect(function(){},[void 0]),j.useEffect(function(){if(Et!==null&&Et!==!1){var Pe=setInterval(function(){return cn.current()},Et);return function(){return clearInterval(Pe)}}},[Et]),j.createElement("div",{className:$,style:bt({},Qe,E)},j.createElement("div",{className:o,style:bt({},He,L)},v?j.createElement("div",{style:bt({},Gt,I)}):null))});const kR=e=>{const{axios:t,...n}=e,r=j.useRef(null);return Ee(()=>{t.interceptors.request.use(a=>{var i;return(i=r.current)==null||i.continuousStart(),a}),t.interceptors.response.use(a=>{var i;return(i=r.current)==null||i.complete(),a},a=>{var i;return(i=r.current)==null||i.complete(),Promise.reject(a)})}),s.jsx(IR,{...n,ref:r})},LR=Nm?iv(yo):sv(yo),PR=()=>{const{theme:e}=Fs(),{language:t}=Sr();return Ee(()=>{console.info("App is running.",Lm)}),s.jsx(jv,{children:s.jsx(om,{className:"app-container",children:s.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[s.jsx(kR,{axios:La,color:Jn,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),s.jsx(TR,{children:s.jsx(gv,{router:LR})})]})})})};et.extend(Cm);const Xh=Xp({fallbackLanguage:Xd}),eg=Xh.resolvedLanguage??Xd,tg=window.matchMedia("(prefers-color-scheme: dark)").matches?zi.Dark:zi.Light,AR=e=>Xh.changeLanguage(e).then(()=>{et.locale(ps[e].dayjs)});console.info("App booting up...",{INIT_THEME:tg,INIT_LANGUAGE:eg});Ui.createRoot(document.getElementById("root")).render(s.jsx(Zd,{initLanguage:eg,onChange:AR,children:s.jsx(tu,{initTheme:tg,children:s.jsx(PR,{})})}));export{Cr as T,Es as U,q0 as a,Fs as b,$R as c,wT as d,s as j,FR as s,ch as t,Ye as u};
