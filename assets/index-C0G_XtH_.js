const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Editor-bMIaFJf6.js","assets/antd-DPuv7EpB.js","assets/codemirror-BpZvPqCn.js","assets/echarts-C4LX7dmx.js","assets/Editor-BdGec0f9.css"])))=>i.map(i=>d[i]);
import{r as b,a as Ff,c as Et,g as Mt,R as hr,d as uu,b as Mf,e as Uf,f as zf,h as Bf,i as Hf,C as Si,t as Ci,F as ue,S as O,j as ct,k as qf,T as M,s as Ot,l as Qe,m as Dt,n as Ne,o as cn,p as Dn,D as ee,E as Vf,L as Wt,q as Xs,B as N,u as Kf,v as Yf,w as Wf,x as Gf,y as yl,z as Jf,A as Zf,G as Qf,H as ws,I as Je,J as jt,K as js,M as Ve,N as ir,O as or,P as ve,Q as ao,U as so,V as sa,W as io,X as Xf,Y as du,Z as it,_ as za,$ as hu,a0 as eg,a1 as oo,a2 as tg,a3 as ng,a4 as rg,a5 as ag,a6 as sg,a7 as ig,a8 as je,a9 as lo,aa as co,ab as fu,ac as ie,ad as mn,ae as gu,af as Ft,ag as mu,ah as pu,ai as ia,aj as Re,ak as uo,al as xu,am as Nn,an as og,ao as P,ap as un,aq as ho,ar as lg,as as yu,at as _s,au as cg,av as Ei,aw as $n,ax as fr,ay as Ss,az as ug,aA as lr,aB as fo,aC as dg,aD as hg,aE as fg,aF as Zr,aG as gg,aH as Cs,aI as vu,aJ as bu,aK as mg,aL as vl,aM as pg,aN as xg,aO as yg,aP as wu,aQ as go,aR as bl,aS as ju,aT as _u,aU as mo,aV as Es,aW as Su,aX as vg,aY as bg,aZ as wg,a_ as jg,a$ as _g,b0 as wl,b1 as Sg,b2 as Cg,b3 as Eg,b4 as Cu,b5 as Tg,b6 as jl,b7 as Rg,b8 as Ig,b9 as Lg,ba as kg,bb as Pg,bc as Ag,bd as Og,be as Dg,bf as Yn,bg as Ng,bh as $g}from"./antd-DPuv7EpB.js";import{u as Fg,g as Mg,i as Ug,a as zg,b as Bg,c as Hg,d as qg,e as Vg,f as Kg}from"./echarts-C4LX7dmx.js";import{_ as Yg}from"./codemirror-BpZvPqCn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Eu={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=b,Gg=Symbol.for("react.element"),Jg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Qg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Zg.call(t,r)&&!Xg.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Gg,type:e,key:i,ref:o,props:a,_owner:Qg.current}}Ts.Fragment=Jg;Ts.jsx=Tu;Ts.jsxs=Tu;Eu.exports=Ts;var s=Eu.exports,Ti={},_l=Ff;Ti.createRoot=_l.createRoot,Ti.hydrateRoot=_l.hydrateRoot;var Ru={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Et,function(){var n,r,a=1e3,i=6e4,o=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2628e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:l,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},x=function(y){return y instanceof j},g=function(y,L,E){return new j(y,E,L.$l)},p=function(y){return r.p(y)+"s"},m=function(y){return y<0},C=function(y){return m(y)?Math.ceil(y):Math.floor(y)},S=function(y){return Math.abs(y)},w=function(y,L){return y?m(y)?{negative:!0,format:""+S(y)+L}:{negative:!1,format:""+y+L}:{negative:!1,format:""}},j=function(){function y(E,R,D){var $=this;if(this.$d={},this.$l=D,E===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return g(E*d[p(R)],this);if(typeof E=="number")return this.$ms=E,this.parseFromMilliseconds(),this;if(typeof E=="object")return Object.keys(E).forEach(function(B){$.$d[p(B)]=E[B]}),this.calMilliseconds(),this;if(typeof E=="string"){var z=E.match(f);if(z){var Z=z.slice(2).map(function(B){return B!=null?Number(B):0});return this.$d.years=Z[0],this.$d.months=Z[1],this.$d.weeks=Z[2],this.$d.days=Z[3],this.$d.hours=Z[4],this.$d.minutes=Z[5],this.$d.seconds=Z[6],this.calMilliseconds(),this}}return this}var L=y.prototype;return L.calMilliseconds=function(){var E=this;this.$ms=Object.keys(this.$d).reduce(function(R,D){return R+(E.$d[D]||0)*d[D]},0)},L.parseFromMilliseconds=function(){var E=this.$ms;this.$d.years=C(E/u),E%=u,this.$d.months=C(E/h),E%=h,this.$d.days=C(E/l),E%=l,this.$d.hours=C(E/o),E%=o,this.$d.minutes=C(E/i),E%=i,this.$d.seconds=C(E/a),E%=a,this.$d.milliseconds=E},L.toISOString=function(){var E=w(this.$d.years,"Y"),R=w(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var $=w(D,"D"),z=w(this.$d.hours,"H"),Z=w(this.$d.minutes,"M"),B=this.$d.seconds||0;this.$d.milliseconds&&(B+=this.$d.milliseconds/1e3,B=Math.round(1e3*B)/1e3);var oe=w(B,"S"),ge=E.negative||R.negative||$.negative||z.negative||Z.negative||oe.negative,Y=z.format||Z.format||oe.format?"T":"",xe=(ge?"-":"")+"P"+E.format+R.format+$.format+Y+z.format+Z.format+oe.format;return xe==="P"||xe==="-P"?"P0D":xe},L.toJSON=function(){return this.toISOString()},L.format=function(E){var R=E||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return R.replace(c,function($,z){return z||String(D[$])})},L.as=function(E){return this.$ms/d[p(E)]},L.get=function(E){var R=this.$ms,D=p(E);return D==="milliseconds"?R%=1e3:R=D==="weeks"?C(R/d[D]):this.$d[D],R||0},L.add=function(E,R,D){var $;return $=R?E*d[p(R)]:x(E)?E.$ms:g(E,this).$ms,g(this.$ms+$*(D?-1:1),this)},L.subtract=function(E,R){return this.add(E,R,!0)},L.locale=function(E){var R=this.clone();return R.$l=E,R},L.clone=function(){return g(this.$ms,this)},L.humanize=function(E){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!E)},L.valueOf=function(){return this.asMilliseconds()},L.milliseconds=function(){return this.get("milliseconds")},L.asMilliseconds=function(){return this.as("milliseconds")},L.seconds=function(){return this.get("seconds")},L.asSeconds=function(){return this.as("seconds")},L.minutes=function(){return this.get("minutes")},L.asMinutes=function(){return this.as("minutes")},L.hours=function(){return this.get("hours")},L.asHours=function(){return this.as("hours")},L.days=function(){return this.get("days")},L.asDays=function(){return this.as("days")},L.weeks=function(){return this.get("weeks")},L.asWeeks=function(){return this.as("weeks")},L.months=function(){return this.get("months")},L.asMonths=function(){return this.as("months")},L.years=function(){return this.get("years")},L.asYears=function(){return this.as("years")},y}(),T=function(y,L,E){return y.add(L.years()*E,"y").add(L.months()*E,"M").add(L.days()*E,"d").add(L.hours()*E,"h").add(L.minutes()*E,"m").add(L.seconds()*E,"s").add(L.milliseconds()*E,"ms")};return function(y,L,E){n=E,r=E().$utils(),E.duration=function($,z){var Z=E.locale();return g($,{$l:Z},z)},E.isDuration=x;var R=L.prototype.add,D=L.prototype.subtract;L.prototype.add=function($,z){return x($)?T(this,$,1):R.bind(this)($,z)},L.prototype.subtract=function($,z){return x($)?T(this,$,-1):D.bind(this)($,z)}}})})(Ru);var em=Ru.exports;const tm=Mt(em);var Wr=(e=>(e.English="en-US",e.SimplifiedChinese="zh-CN",e.TraditionalChinese="zh-TW",e))(Wr||{});const nm=[{code:"en-US",name:"English"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁体中文"}],Iu=hr.createContext({}),gr=()=>b.useContext(Iu),Lu=e=>{const[t,n]=b.useState(e.initLanguage),r=a=>{var o;const i=(o=e.onChange)==null?void 0:o.call(e,a);i instanceof Promise?i.then(()=>n(a)):n(a)};return s.jsx(Iu.Provider,{value:{language:t,changeLanguage:r},children:e.children})},rm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.surmon.me"},oa="https://surmon.me",am="https://github.com/surmon-china/surmon.admin",sm="Authorization",im="middle",ku="large",qe=24,Fn="#0088f5",Pu=Wr.English,om=rm,lm="production",cm=lm==="development",ei="/",um="https://api.surmon.me",dm=!1,hm=!1;var Ri=(e=>(e.Light="light",e.Dark="dark",e))(Ri||{});const fm=e=>e==="dark",gm=e=>e==="light",Au=hr.createContext({}),Rs=()=>b.useContext(Au),Ou=e=>{const[t,n]=b.useState(e.initTheme),r=b.useMemo(()=>fm(t),[t]),a=b.useMemo(()=>gm(t),[t]),o={theme:t,isDark:r,isLight:a,setTheme:n,toggleTheme:()=>{n(t==="dark"?"light":"dark")}};return s.jsx(Au.Provider,{value:o,children:e.children})},mm={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class rs{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||mm,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new rs(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new rs(this.logger,t)}}var Nt=new rs;class Is{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l.apply(l,[t,...r])})}}function kr(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});return n.resolve=e,n.reject=t,n}function Sl(e){return e==null?"":""+e}function pm(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}const xm=/###/g;function Gr(e,t,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(xm,"."):l}function a(){return!e||typeof e=="string"}const i=typeof t!="string"?t:t.split(".");let o=0;for(;o<i.length-1;){if(a())return{};const l=r(i[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return a()?{}:{obj:e,k:r(i[o])}}function Cl(e,t,n){const{obj:r,k:a}=Gr(e,t,Object);if(r!==void 0||t.length===1){r[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=Gr(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Gr(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n}function ym(e,t,n,r){const{obj:a,k:i}=Gr(e,t,Object);a[i]=a[i]||[],a[i].push(n)}function as(e,t){const{obj:n,k:r}=Gr(e,t);if(n)return n[r]}function vm(e,t,n){const r=as(e,n);return r!==void 0?r:as(t,n)}function Du(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):Du(e[r],t[r],n):e[r]=t[r]);return e}function Wn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var bm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function wm(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>bm[t]):e}class jm{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const _m=[" ",",","?","!",";"],Sm=new jm(20);function Cm(e,t,n){t=t||"",n=n||"";const r=_m.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const a=Sm.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i}function Ii(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let a=e;for(let i=0;i<r.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}a=o}return a}function ss(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class El extends Is{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):typeof r=="string"&&i?l.push(...r.split(i)):l.push(r)));const c=as(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||typeof r!="string"?c:Ii(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),Cl(this.data,l,a),i.silent||this.emit("added",t,n,r,a)}addResources(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});a.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=r,r=n,n=l[1]),this.addNamespaces(n);let c=as(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Du(c,r,i):c={...c,...r},Cl(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Nu={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,a))}),t}};const Tl={};class is extends Is{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),pm(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Cm(t,r,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:i};const u=t.split(r);(r!==a||r===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],n),c=l[l.length-1],u=n.lng||this.language,h=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const j=n.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${j}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${j}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(t,n);let d=f&&f.res;const x=f&&f.usedKey||o,g=f&&f.exactUsedKey||o,p=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(p)<0&&!(typeof C=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,d,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(f.res=j,f.usedParams=this.getUsedParamsDetails(n),f):j}if(i){const j=Array.isArray(d),T=j?[]:{},y=j?g:x;for(const L in d)if(Object.prototype.hasOwnProperty.call(d,L)){const E=`${y}${i}${L}`;T[L]=this.translate(E,{...n,joinArrays:!1,ns:l}),T[L]===E&&(T[L]=d[L])}d=T}}else if(S&&typeof C=="string"&&Array.isArray(d))d=d.join(C),d&&(d=this.extendTranslation(d,t,n,r));else{let j=!1,T=!1;const y=n.count!==void 0&&typeof n.count!="string",L=is.hasDefaultValue(n),E=y?this.pluralResolver.getSuffix(u,n.count,n):"",R=n.ordinal&&y?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",D=y&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),$=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${R}`]||n.defaultValue;!this.isValidLookup(d)&&L&&(j=!0,d=$),this.isValidLookup(d)||(T=!0,d=o);const Z=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:d,B=L&&$!==d&&this.options.updateMissing;if(T||j||B){if(this.logger.log(B?"updateKey":"missingKey",u,c,o,B?$:d),i){const xe=this.resolve(o,{...n,keySeparator:!1});xe&&xe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let xe=0;xe<ge.length;xe++)oe.push(ge[xe]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(n.lng||this.language):oe.push(n.lng||this.language);const Y=(xe,Pe,Me)=>{const Ue=L&&Me!==d?Me:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(xe,c,Pe,Ue,B,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(xe,c,Pe,Ue,B,n),this.emit("missingKey",xe,c,Pe,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?oe.forEach(xe=>{const Pe=this.pluralResolver.getSuffixes(xe,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&Pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&Pe.push(`${this.options.pluralSeparator}zero`),Pe.forEach(Me=>{Y([xe],o+Me,n[`defaultValue${Me}`]||$)})}):Y(oe,o,$))}d=this.extendTranslation(d,t,n,f,r),T&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${c}:${o}`),(T||j)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,j?d:void 0):d=this.options.parseMissingKeyHandler(d))}return a?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const d=t.match(this.interpolator.nestingRegexp);h=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||a.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),x=d&&d.length;h<x&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,x=new Array(d),g=0;g<d;g++)x[g]=arguments[g];return i&&i[0]===x[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${n[0]}`),null):o.translate(...x,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=typeof l=="string"?[l]:l;return t!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(t=Nu.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,i,o,l;return typeof t=="string"&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),h=u.key;a=h;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",x=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(l=m,!Tl[`${p[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Tl[`${p[0]}-${m}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(C=>{if(this.isValidLookup(r))return;o=C;const S=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,h,C,m,n);else{let j;d&&(j=this.pluralResolver.getSuffix(C,n.count,n));const T=`${this.options.pluralSeparator}zero`,y=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(S.push(h+j),n.ordinal&&j.indexOf(y)===0&&S.push(h+j.replace(y,this.options.pluralSeparator)),x&&S.push(h+T)),g){const L=`${h}${this.options.contextSeparator}${n.context}`;S.push(L),d&&(S.push(L+j),n.ordinal&&j.indexOf(y)===0&&S.push(L+j.replace(y,this.options.pluralSeparator)),x&&S.push(L+T))}}let w;for(;w=S.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(C,m,w,n))}))})}),{res:r,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,a):this.resourceStore.getResource(t,n,r,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let a=r?t.replace:t;if(r&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function ti(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Rl{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nt.create("languageUtils")}getScriptPartFromCode(t){if(t=ss(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ss(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(a=>a.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ti(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ti(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=ti(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),r.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let Em=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tm={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const Rm=["v1","v2","v3"],Im=["v4"],Il={zero:0,one:1,two:2,few:3,many:4,other:5};function Lm(){const e={};return Em.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Tm[t.fc]}})}),e}class km{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Nt.create("pluralResolver"),(!this.options.compatibilityJSON||Im.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Lm()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(ss(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((a,i)=>Il[a]-Il[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):r.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,r);return a?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Rm.includes(this.options.compatibilityJSON)}}function Ll(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=vm(e,t,n);return!i&&a&&typeof n=="string"&&(i=Ii(e,n,r),i===void 0&&(i=Ii(t,n,r))),i}class Pm{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Nt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:x,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:C,alwaysFormat:S}=t.interpolation;this.escape=n!==void 0?n:wm,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Wn(i):o||"{{",this.suffix=l?Wn(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=d?Wn(d):x||Wn("$t("),this.nestingSuffix=g?Wn(g):p||Wn(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=C||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}const h=g=>{if(g.indexOf(this.formatSeparator)<0){const S=Ll(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...a,...n,interpolationkey:g}):S}const p=g.split(this.formatSeparator),m=p.shift().trim(),C=p.join(this.formatSeparator).trim();return this.format(Ll(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...a,...n,interpolationkey:m})};this.resetRegExp();const f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>u(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?u(this.escape(g)):u(g)}].forEach(g=>{for(l=0;i=g.regex.exec(t);){const p=i[1].trim();if(o=h(p),o===void 0)if(typeof f=="function"){const C=f(t,i,a);o=typeof C=="string"?C:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(d){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=Sl(o));const m=g.safeValue(o);if(t=t.replace(i[0],m),d?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;function l(c,u){const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const f=c.split(new RegExp(`${h}[ ]*{`));let d=`{${f[1]}`;c=f[0],d=this.interpolate(d,o);const x=d.match(/'/g),g=d.match(/"/g);(x&&x.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${h}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;a=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const h=a[1].split(this.formatSeparator).map(f=>f.trim());a[1]=h.shift(),c=h,u=!0}if(i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=Sl(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=c.reduce((h,f)=>this.format(h,f,r.lng,{...r,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}function Am(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();n[h]||(n[h]=u),u==="false"&&(n[h]=!1),u==="true"&&(n[h]=!0),isNaN(u)||(n[h]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}}function Gn(e){const t={};return function(r,a,i){const o=a+JSON.stringify(i);let l=t[o];return l||(l=e(ss(a),i),t[o]=l),l(r)}}class Om{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Nt.create("formatter"),this.options=t,this.formats={number:Gn((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return i=>a.format(i)}),currency:Gn((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>a.format(i)}),datetime:Gn((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return i=>a.format(i)}),relativetime:Gn((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return i=>a.format(i,r.range||"day")}),list:Gn((n,r)=>{const a=new Intl.ListFormat(n,{...r});return i=>a.format(i)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Gn(n)}format(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,c)=>{const{formatName:u,formatOptions:h}=Am(c);if(this.formats[u]){let f=l;try{const d=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},x=d.locale||d.lng||a.locale||a.lng||r;f=this.formats[u](l,x,{...h,...a,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}function Dm(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class Nm extends Is{constructor(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Nt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(t,n,r,a){const i={},o={},l={},c={};return t.forEach(u=>{let h=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,h=!1,o[d]===void 0&&(o[d]=!0),i[d]===void 0&&(i[d]=!0),c[f]===void 0&&(c[f]=!0)))}),h||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const l={};this.queue.forEach(c=>{ym(c.loaded,[i],o),Dm(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const h=c.loaded[u];h.length&&h.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&h&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,a+1,i*2,o)},i);return}o(u,h)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(t,n,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(t,n,r,a,c):h=u(t,n,r,a),h&&typeof h.then=="function"?h.then(f=>l(null,f)).catch(l):l(null,h)}catch(h){l(h)}else u(t,n,r,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,a)}}}function kl(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(a=>{n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Pl(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function La(){}function $m(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class Qr extends Is{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Pl(t),this.services={},this.logger=Nt,this.modules={external:[]},$m(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=kl();this.options={...a,...this.options,...Pl(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(h){return h?typeof h=="function"?new h:h:null}if(!this.options.isClone){this.modules.logger?Nt.init(i(this.modules.logger),this.options):Nt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=Om);const f=new Rl(this.options);this.store=new El(this.options.resources,this.options);const d=this.services;d.logger=Nt,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new km(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(d.formatter=i(h),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Pm(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Nm(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(x){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];t.emit(x,...p)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new is(this.services,this.options),this.translator.on("*",function(x){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];t.emit(x,...p)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,r||(r=La),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return t.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return t.store[h](...arguments),t}});const c=kr(),u=()=>{const h=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La;const a=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const a=kr();return t||(t=this.languages),n||(n=this.options.ns),r||(r=La),this.services.backendConnector.reload(t,n,i=>{a.resolve(),r(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Nu.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const a=kr();this.emit("languageChanging",t);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{o(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),a}getFixedT(t,n,r){var a=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),f=2;f<u;f++)h[f-2]=arguments[f];c=a.options.overloadTranslationOptionHandler([o,l].concat(h))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=a.options.keySeparator||".";let x;return c.keyPrefix&&Array.isArray(o)?x=o.map(g=>`${c.keyPrefix}${d}${g}`):x=c.keyPrefix?`${c.keyPrefix}${d}${o}`:o,a.t(x,c)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const r=kr();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=kr();typeof t=="string"&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Rl(kl());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Qr(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new Qr(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new El(this.store.data,a),i.services.resourceStore=i.store),i.translator=new is(i.services,a),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];i.emit(l,...u)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=Qr.createInstance();Ke.createInstance=Qr.createInstance;Ke.createInstance;Ke.dir;Ke.init;Ke.loadResources;Ke.reloadResources;Ke.use;Ke.changeLanguage;Ke.getFixedT;Ke.t;Ke.exists;Ke.setDefaultNamespace;Ke.hasLoadedNamespace;Ke.loadNamespaces;Ke.loadLanguages;const{slice:Fm,forEach:Mm}=[];function Um(e){return Mm.call(Fm.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const Al=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zm=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const a=encodeURIComponent(t);let i=`${e}=${a}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Al.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Al.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},Ol={create(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=zm(e,encodeURIComponent(t),a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e){this.create(e,"",-1)}};var Bm={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Ol.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&Ol.create(n,e,r,a,i)}},Hm={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}};let Pr=null;const Dl=()=>{if(Pr!==null)return Pr;try{Pr=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Pr=!1}return Pr};var qm={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Dl())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Dl()&&window.localStorage.setItem(n,e)}};let Ar=null;const Nl=()=>{if(Ar!==null)return Ar;try{Ar=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ar=!1}return Ar};var Vm={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Nl())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Nl()&&window.sessionStorage.setItem(n,e)}},Km={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),a&&t.push(a)}return t.length>0?t:void 0}},Ym={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Wm={name:"path",lookup(e){var a;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}},Gm={name:"subdomain",lookup(e){var a,i;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function Jm(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class $u{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Um(n,this.options||{},Jm()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Bm),this.addDetector(Hm),this.addDetector(qm),this.addDetector(Vm),this.addDetector(Km),this.addDetector(Ym),this.addDetector(Wm),this.addDetector(Gm)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}$u.type="languageDetector";var Zm={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Qm=Mt(Zm);var Xm=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function $l(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Qm[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(Xm),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var ep=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,tp=/^\s*$/,np=Object.create(null);function Fu(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Fu,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var rp={parse:function(e,t){t||(t={}),t.components||(t.components=np);var n,r=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");r.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(ep,function(c,u){if(o){if(c!=="</"+n.name+">")return;o=!1}var h,f=c.charAt(1)!=="/",d=c.startsWith("<!--"),x=u+c.length,g=e.charAt(x);if(d){var p=$l(c);return i<0?(r.push(p),r):((h=a[i]).children.push(p),r)}if(f&&(i++,(n=$l(c)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!g||g==="<"||n.children.push({type:"text",content:e.slice(x,e.indexOf("<",x))}),i===0&&r.push(n),(h=a[i-1])&&h.children.push(n),a[i]=n),(!f||n.voidElement)&&(i>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(i--,n=i===-1?r:a[i]),!o&&g!=="<"&&g)){h=i===-1?r:a[i].children;var m=e.indexOf("<",x),C=e.slice(x,m===-1?void 0:m);tp.test(C)&&(C=" "),(m>-1&&i+h.length>=0||C!==" ")&&h.push({type:"text",content:C})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+Fu("",n)},"")}};const Ba=(...e)=>{console!=null&&console.warn&&(bt(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},Fl={},os=(...e)=>{bt(e[0])&&Fl[e[0]]||(bt(e[0])&&(Fl[e[0]]=new Date),Ba(...e))},Mu=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Ml=(e,t,n)=>{e.loadNamespaces(t,Mu(e,n))},Ul=(e,t,n,r)=>{bt(n)&&(n=[n]),n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,Mu(e,r))},ap=(e,t,n={})=>!t.languages||!t.languages.length?(os("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,a)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,e))return!1}}),bt=e=>typeof e=="string",Xn=e=>typeof e=="object"&&e!==null,sp=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ip={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},op=e=>ip[e],lp=e=>e.replace(sp,op);let Li={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lp};const cp=(e={})=>{Li={...Li,...e}},Uu=()=>Li;let zu;const up=e=>{zu=e},po=()=>zu,ni=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},ri=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?er(t):t},dp=e=>Array.isArray(e)&&e.every(b.isValidElement),er=e=>Array.isArray(e)?e:[e],hp=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},Bu=(e,t)=>{if(!e)return"";let n="";const r=er(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((i,o)=>{if(bt(i))n+=`${i}`;else if(b.isValidElement(i)){const{props:l,type:c}=i,u=Object.keys(l).length,h=a.indexOf(c)>-1,f=l.children;if(!f&&h&&!u)n+=`<${c}/>`;else if(!f&&(!h||u)||l.i18nIsDynamicList)n+=`<${o}></${o}>`;else if(h&&u===1&&bt(f))n+=`<${c}>${f}</${c}>`;else{const d=Bu(f,t);n+=`<${o}>${d}</${o}>`}}else if(i===null)Ba("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Xn(i)){const{format:l,...c}=i,u=Object.keys(c);if(u.length===1){const h=l?`${u[0]}, ${l}`:u[0];n+=`{{${h}}}`}else Ba("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else Ba("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n},fp=(e,t,n,r,a,i)=>{if(t==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(m=>`<${m}`).join("|")).test(t);if(!e&&!l&&!i)return[t];const c={},u=m=>{er(m).forEach(S=>{bt(S)||(ni(S)?u(ri(S)):Xn(S)&&!b.isValidElement(S)&&Object.assign(c,S))})};u(e);const h=rp.parse(`<0>${t}</0>`),f={...c,...a},d=(m,C,S)=>{var T;const w=ri(m),j=g(w,C.children,S);return dp(w)&&j.length===0||(T=m.props)!=null&&T.i18nIsDynamicList?w:j},x=(m,C,S,w,j)=>{m.dummy?(m.children=C,S.push(b.cloneElement(m,{key:w},j?void 0:C))):S.push(...b.Children.map([m],T=>{const y={...T.props};return delete y.i18nIsDynamicList,b.createElement(T.type,{...y,key:w,ref:T.ref},j?null:C)}))},g=(m,C,S)=>{const w=er(m);return er(C).reduce((T,y,L)=>{var R,D;const E=((D=(R=y.children)==null?void 0:R[0])==null?void 0:D.content)&&n.services.interpolator.interpolate(y.children[0].content,f,n.language);if(y.type==="tag"){let $=w[parseInt(y.name,10)];S.length===1&&!$&&($=S[0][y.name]),$||($={});const z=Object.keys(y.attrs).length!==0?hp({props:y.attrs},$):$,Z=b.isValidElement(z),B=Z&&ni(y,!0)&&!y.voidElement,oe=l&&Xn(z)&&z.dummy&&!Z,ge=Xn(e)&&Object.hasOwnProperty.call(e,y.name);if(bt(z)){const Y=n.services.interpolator.interpolate(z,f,n.language);T.push(Y)}else if(ni(z)||B){const Y=d(z,y,S);x(z,Y,T,L)}else if(oe){const Y=g(w,y.children,S);x(z,Y,T,L)}else if(Number.isNaN(parseFloat(y.name)))if(ge){const Y=d(z,y,S);x(z,Y,T,L,y.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(y.name)>-1)if(y.voidElement)T.push(b.createElement(y.name,{key:`${y.name}-${L}`}));else{const Y=g(w,y.children,S);T.push(b.createElement(y.name,{key:`${y.name}-${L}`},Y))}else if(y.voidElement)T.push(`<${y.name} />`);else{const Y=g(w,y.children,S);T.push(`<${y.name}>${Y}</${y.name}>`)}else if(Xn(z)&&!Z){const Y=y.children[0]?E:null;Y&&T.push(Y)}else x(z,E,T,L,y.children.length!==1||!E)}else if(y.type==="text"){const $=r.transWrapTextNodes,z=i?r.unescape(n.services.interpolator.interpolate(y.content,f,n.language)):n.services.interpolator.interpolate(y.content,f,n.language);$?T.push(b.createElement($,{key:`${y.name}-${L}`},z)):T.push(z)}return T},[])},p=g([{dummy:!0,children:e||[]}],h,er(e||[]));return ri(p[0])};function gp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:l,components:c,ns:u,i18n:h,t:f,shouldUnescape:d,...x}){var $,z,Z,B;const g=h||po();if(!g)return os("You will need to pass in an i18next instance by using i18nextReactModule"),e;const p=f||g.t.bind(g)||(oe=>oe),m={...Uu(),...($=g.options)==null?void 0:$.react};let C=u||p.ns||((z=g.options)==null?void 0:z.defaultNS);C=bt(C)?[C]:C||["translation"];const S=Bu(e,m),w=l||S||m.transEmptyNodeValue||r,{hashTransKey:j}=m,T=r||(j?j(S||w):S||w);(B=(Z=g.options)==null?void 0:Z.interpolation)!=null&&B.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const y=o||t!==void 0||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},L={...i,context:a||i.context,count:t,...o,...y,defaultValue:w,ns:C},E=T?p(T,L):w;c&&Object.keys(c).forEach(oe=>{const ge=c[oe];if(typeof ge.type=="function"||!ge.props||!ge.props.children||E.indexOf(`${oe}/>`)<0&&E.indexOf(`${oe} />`)<0)return;function Y(){return b.createElement(b.Fragment,null,ge)}c[oe]=b.createElement(Y)});const R=fp(c||e,E,g,m,L,d),D=n??m.defaultTransParent;return D?b.createElement(D,x,R):R}const mp={type:"3rdParty",init(e){cp(e.options.react),up(e)}},Hu=b.createContext();class pp{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function mr({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:o,defaults:l,components:c,ns:u,i18n:h,t:f,shouldUnescape:d,...x}){var S;const{i18n:g,defaultNS:p}=b.useContext(Hu)||{},m=h||g||po(),C=f||(m==null?void 0:m.t.bind(m));return gp({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:o,defaults:l,components:c,ns:u||(C==null?void 0:C.ns)||p||((S=m==null?void 0:m.options)==null?void 0:S.defaultNS),i18n:m,t:f,shouldUnescape:d,...x})}const xp=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current},qu=(e,t,n,r)=>e.getFixedT(t,n,r),yp=(e,t,n,r)=>b.useCallback(qu(e,t,n,r),[e,t,n,r]),et=(e,t={})=>{var j,T,y,L;const{i18n:n}=t,{i18n:r,defaultNS:a}=b.useContext(Hu)||{},i=n||r||po();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new pp),!i){os("You will need to pass in an i18next instance by using initReactI18next");const E=(D,$)=>bt($)?$:Xn($)&&bt($.defaultValue)?$.defaultValue:Array.isArray(D)?D[D.length-1]:D,R=[E,{},!1];return R.t=E,R.i18n={},R.ready=!1,R}(j=i.options.react)!=null&&j.wait&&os("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Uu(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=a||((T=i.options)==null?void 0:T.defaultNS);u=bt(u)?[u]:u||["translation"],(L=(y=i.reportNamespaces).addUsedNamespaces)==null||L.call(y,u);const h=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>ap(E,i,o)),f=yp(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),d=()=>f,x=()=>qu(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[g,p]=b.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const C=xp(m),S=b.useRef(!0);b.useEffect(()=>{const{bindI18n:E,bindI18nStore:R}=o;S.current=!0,!h&&!l&&(t.lng?Ul(i,t.lng,u,()=>{S.current&&p(x)}):Ml(i,u,()=>{S.current&&p(x)})),h&&C&&C!==m&&S.current&&p(x);const D=()=>{S.current&&p(x)};return E&&(i==null||i.on(E,D)),R&&(i==null||i.store.on(R,D)),()=>{S.current=!1,i&&(E==null||E.split(" ").forEach($=>i.off($,D))),R&&i&&R.split(" ").forEach($=>i.store.off($,D))}},[i,m]),b.useEffect(()=>{S.current&&h&&p(d)},[i,c,h]);const w=[g,i,h];if(w.t=g,w.i18n=i,w.ready=h,h||!h&&!l)return w;throw new Promise(E=>{t.lng?Ul(i,t.lng,u,()=>E()):Ml(i,u,()=>E())})};var Vu={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Et,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],a=n%100;return"["+n+(r[(a-20)%10]||r[a]||r[0])+"]"}}})})(Vu);var vp=Vu.exports;const bp=Mt(vp);var Ku={exports:{}};(function(e,t){(function(n,r){e.exports=r(uu)})(Et,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(Ku);var wp=Ku.exports;const jp=Mt(wp);var Yu={exports:{}};(function(e,t){(function(n,r){e.exports=r(uu)})(Et,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var a=r(n),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,l){return l==="W"?o+"週":o+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(o,l){var c=100*o+l;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return a.default.locale(i,null,!0),i})})(Yu);var _p=Yu.exports;const Sp=Mt(_p),Cp={"login.verifying_token":"Verifying token...","login.initializing":"Initializing...","login.invalid_token_message_title":"Please log-in again","login.invalid_token_message_description":"Invalid token!","logout.title":"Logout","logout.confirmation":"Are you sure you want to log out?","nodepress.request.invalid_token.title":"Invalid Token","nodepress.request.invalid_token.description":"Token is invalid or doesn't exist","nodepress.response.success":"NodePress Response","component.form_key_value.add":"Add item","component.modal_json_editor.save":"Save","component.modal_json_editor.error":"Invalid JSON format","component.modal_json_editor.placeholder":"Input JSON here...","component.image_uploader.state.start":"Start uploading","component.image_uploader.state.succeeded":"Upload succeeded","component.image_uploader.state.failed":"Upload failed","component.image_uploader.input.placeholder":"Input image URL","component.universal_editor.cacheable_title":"Cached drafts are enabled","component.universal_editor.state.length":"Length","component.universal_editor.state.line_count":"Line Count","component.universal_editor.state.selected_count":"Selected Count","component.universal_editor.state.selected_length":"Selected Length","common.list.filter.search":"Input keywords to search","common.list.filter.refresh":"Refresh","common.list.filter.refresh_with_reset":"Reset and Refresh","common.table.states":"States","common.table.actions":"Actions","page.404.link":"Back to Home","page.dashboard.title":"Dashboard","page.announcement.title":"Announcements","page.announcement.list.title":"Announcements ({{total}})","page.category.title":"Categories","page.category.list.title":"Categories ({{total}})","page.tag.title":"Tags","page.tag.list.title":"Tags ({{total}})","page.article.title":"Articles","page.article.list":"All Articles","page.article.create":"Add New","page.article.edit":"Edit Article","page.article.list.title":"Articles ({{total}})","page.article.list.filter.featured":"Featured","page.article.list.filter.search":"Input title, content... to search","page.article.editor.content":"Basic Content","page.article.editor.categories":"Categories","page.article.editor.thumbnail":"Thumbnail","page.article.editor.extends":"Extends","page.article.editor.states":"States","page.comment.title":"Comments","page.comment.list.title":"Comments ({{total}})","page.vote.title":"Votes","page.vote.list.title":"Votes ({{total}})","page.feedback.title":"Feedbacks","page.feedback.list.title":"Feedbacks ({{total}})","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"Setting","page.setting.general.title":"General Settings","page.setting.data.title":"Cloud Data","page.setting.userinfo.title":"Admin Profile"},Ep={"login.verifying_token":"校验 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不见！","login.invalid_token_message_description":"你还好吗？","logout.title":"退出登录","logout.confirmation":"确定要退出登陆吗？","nodepress.request.invalid_token.title":"Token 无效","nodepress.request.invalid_token.description":"Token 无效或不存在","nodepress.response.success":"数据请求成功","component.form_key_value.add":"增加数据项","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式错误","component.modal_json_editor.placeholder":"请输入 JSON 内容","component.image_uploader.state.start":"开始上传","component.image_uploader.state.succeeded":"上传成功","component.image_uploader.state.failed":"上传失败","component.image_uploader.input.placeholder":"可以直接输入地址","component.universal_editor.cacheable_title":"已开启本地草稿缓存","component.universal_editor.state.length":"字数","component.universal_editor.state.line_count":"行数","component.universal_editor.state.selected_count":"已选","component.universal_editor.state.selected_length":"已选字数","common.list.filter.search":"输入关键词搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置并刷新","common.table.states":"状态","common.table.actions":"操作","page.404.link":"返回首页","page.dashboard.title":"超级看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分类","page.category.list.title":"分类列表（{{total}}）","page.tag.title":"文章标签","page.tag.list.title":"标签列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"编辑文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精选文章","page.article.list.filter.search":"输入文章标题、内容搜索","page.article.editor.content":"文章内容","page.article.editor.categories":"分类目录","page.article.editor.thumbnail":"缩略图","page.article.editor.extends":"自定义扩展","page.article.editor.states":"发布选项","page.comment.title":"评论管理","page.comment.list.title":"评论列表（{{total}}）","page.vote.title":"表态记录","page.vote.list.title":"记录列表（{{total}}）","page.feedback.title":"站点反馈","page.feedback.list.title":"反馈列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系统设置","page.setting.general.title":"通用设置","page.setting.data.title":"数据安全","page.setting.userinfo.title":"站长资料"},Tp={"login.verifying_token":"校驗 Token...","login.initializing":"正在初始化...","login.invalid_token_message_title":"好久不見！","login.invalid_token_message_description":"你還好嗎？","logout.title":"退出登錄","logout.confirmation":"確定要退出登錄嗎？","nodepress.request.invalid_token.title":"Token 無效","nodepress.request.invalid_token.description":"Token 無效或不存在","nodepress.response.success":"資料請求成功","component.form_key_value.add":"增加數據項","component.modal_json_editor.save":"提交更新","component.modal_json_editor.error":"JSON 格式錯誤","component.modal_json_editor.placeholder":"請輸入 JSON 內容","component.image_uploader.state.start":"開始上傳","component.image_uploader.state.succeeded":"上傳成功","component.image_uploader.state.failed":"上傳失敗","component.image_uploader.input.placeholder":"可以直接輸入地址","component.universal_editor.cacheable_title":"已開啟本地草稿緩存","component.universal_editor.state.length":"字數","component.universal_editor.state.line_count":"行數","component.universal_editor.state.selected_count":"已選","component.universal_editor.state.selected_length":"已選字數","common.list.filter.search":"輸入關鍵詞搜索","common.list.filter.refresh":"刷新","common.list.filter.refresh_with_reset":"重置並刷新","common.table.states":"狀態","common.table.actions":"操作","page.404.link":"返回首頁","page.dashboard.title":"超級看板","page.announcement.title":"公告管理","page.announcement.list.title":"公告列表（{{total}}）","page.category.title":"文章分類","page.category.list.title":"分類列表（{{total}}）","page.tag.title":"文章標籤","page.tag.list.title":"標籤列表（{{total}}）","page.article.title":"文章管理","page.article.list":"所有文章","page.article.create":"新撰文章","page.article.edit":"編輯文章","page.article.list.title":"文章列表（{{total}}）","page.article.list.filter.featured":"精選文章","page.article.list.filter.search":"輸入文章標題、內容搜索","page.article.editor.content":"文章內容","page.article.editor.categories":"分類目錄","page.article.editor.thumbnail":"縮略圖","page.article.editor.extends":"自定義擴展","page.article.editor.states":"發佈選項","page.comment.title":"評論管理","page.comment.list.title":"評論列表（{{total}}）","page.vote.title":"表態記錄","page.vote.list.title":"記錄列表（{{total}}）","page.feedback.title":"站點反饋","page.feedback.list.title":"反饋列表（{{total}}）","page.disqus.title":"Disqus","page.disqus.posts":"Posts","page.disqus.threads":"Threads","page.disqus.synchronize":"Synchronize","page.setting.title":"系統設置","page.setting.general.title":"通用設置","page.setting.data.title":"數據安全","page.setting.userinfo.title":"站長資料"},ls={[Wr.English]:{i18n:Cp,dayjs:bp,antd:Mf},[Wr.SimplifiedChinese]:{i18n:Ep,dayjs:jp,antd:Uf},[Wr.TraditionalChinese]:{i18n:Tp,dayjs:Sp,antd:zf}},_n=Ke,Rp=Object.keys(ls).reduce((e,t)=>(e[t]={translation:ls[t].i18n},e),{}),Ip=e=>(Ke.use($u).use(mp).init({debug:cm,cleanCode:!0,resources:Rp,fallbackLng:e.fallbackLanguage,interpolation:{escapeValue:!1},detection:{lookupLocalStorage:"i18next-lang"}}),Ke);/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lp(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const kp=()=>{},Pp=Object.prototype.hasOwnProperty,cs=(e,t)=>Pp.call(e,t),Sn=Array.isArray,Ha=e=>Wu(e)==="[object Map]",Ap=e=>typeof e=="function",Op=e=>typeof e=="string",la=e=>typeof e=="symbol",Ls=e=>e!==null&&typeof e=="object",Dp=Object.prototype.toString,Wu=e=>Dp.call(e),Np=e=>Wu(e).slice(8,-1),xo=e=>Op(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pr=(e,t)=>!Object.is(e,t);/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $p;function Fp(e,t=$p){t&&t.active&&t.effects.push(e)}let Cn;class Gu{constructor(t,n,r,a){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Fp(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Qu();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Mp(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xu()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=dn,n=Cn;try{return dn=!0,Cn=this,this._runnings++,zl(this),this.fn()}finally{Bl(this),this._runnings--,Cn=n,dn=t}}stop(){this.active&&(zl(this),Bl(this),this.onStop&&this.onStop(),this.active=!1)}}function Mp(e){return e.value}function zl(e){e._trackId++,e._depsLength=0}function Bl(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ju(e.deps[t],e);e.deps.length=e._depsLength}}function Ju(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let dn=!0,ki=0;const Zu=[];function Qu(){Zu.push(dn),dn=!1}function Xu(){const e=Zu.pop();dn=e===void 0?!0:e}function yo(){ki++}function vo(){for(ki--;!ki&&Pi.length;)Pi.shift()()}function ed(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Ju(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Pi=[];function td(e,t,n){yo();for(const r of e.keys()){let a;r._dirtyLevel<t&&(a??(a=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(a??(a=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Pi.push(r.scheduler)))}vo()}const nd=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Ai=new WeakMap,En=Symbol(""),Oi=Symbol("");function wt(e,t,n){if(dn&&Cn){let r=Ai.get(e);r||Ai.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=nd(()=>r.delete(n))),ed(Cn,a)}}function hn(e,t,n,r,a,i){const o=Ai.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&Sn(e)){const c=Number(r);o.forEach((u,h)=>{(h==="length"||!la(h)&&h>=c)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":Sn(e)?xo(n)&&l.push(o.get("length")):(l.push(o.get(En)),Ha(e)&&l.push(o.get(Oi)));break;case"delete":Sn(e)||(l.push(o.get(En)),Ha(e)&&l.push(o.get(Oi)));break;case"set":Ha(e)&&l.push(o.get(En));break}yo();for(const c of l)c&&td(c,4);vo()}const Up=Lp("__proto__,__v_isRef,__isVue"),rd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(la)),Hl=zp();function zp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=_e(this);for(let i=0,o=this.length;i<o;i++)wt(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(_e)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qu(),yo();const r=_e(this)[t].apply(this,n);return vo(),Xu(),r}}),e}function Bp(e){la(e)||(e=String(e));const t=_e(this);return wt(t,"has",e),t.hasOwnProperty(e)}class ad{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?tx:ld:i?od:id).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Sn(t);if(!a){if(o&&cs(Hl,n))return Reflect.get(Hl,n,r);if(n==="hasOwnProperty")return Bp}const l=Reflect.get(t,n,r);return(la(n)?rd.has(n):Up(n))||(a||wt(t,"get",n),i)?l:In(l)?o&&xo(n)?l:l.value:Ls(l)?a?cd(l):jo(l):l}}class sd extends ad{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const c=Xr(i);if(!ud(r)&&!Xr(r)&&(i=_e(i),r=_e(r)),!Sn(t)&&In(i)&&!In(r))return c?!1:(i.value=r,!0)}const o=Sn(t)&&xo(n)?Number(n)<t.length:cs(t,n),l=Reflect.set(t,n,r,a);return t===_e(a)&&(o?pr(r,i)&&hn(t,"set",n,r):hn(t,"add",n,r)),l}deleteProperty(t,n){const r=cs(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&hn(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!la(n)||!rd.has(n))&&wt(t,"has",n),r}ownKeys(t){return wt(t,"iterate",Sn(t)?"length":En),Reflect.ownKeys(t)}}class Hp extends ad{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qp=new sd,Vp=new Hp,Kp=new sd(!0),bo=e=>e,ks=e=>Reflect.getPrototypeOf(e);function ka(e,t,n=!1,r=!1){e=e.__v_raw;const a=_e(e),i=_e(t);n||(pr(t,i)&&wt(a,"get",t),wt(a,"get",i));const{has:o}=ks(a),l=r?bo:n?So:ea;if(o.call(a,t))return l(e.get(t));if(o.call(a,i))return l(e.get(i));e!==a&&e.get(t)}function Pa(e,t=!1){const n=this.__v_raw,r=_e(n),a=_e(e);return t||(pr(e,a)&&wt(r,"has",e),wt(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Aa(e,t=!1){return e=e.__v_raw,!t&&wt(_e(e),"iterate",En),Reflect.get(e,"size",e)}function ql(e){e=_e(e);const t=_e(this);return ks(t).has.call(t,e)||(t.add(e),hn(t,"add",e,e)),this}function Vl(e,t){t=_e(t);const n=_e(this),{has:r,get:a}=ks(n);let i=r.call(n,e);i||(e=_e(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?pr(t,o)&&hn(n,"set",e,t):hn(n,"add",e,t),this}function Kl(e){const t=_e(this),{has:n,get:r}=ks(t);let a=n.call(t,e);a||(e=_e(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&hn(t,"delete",e,void 0),i}function Yl(){const e=_e(this),t=e.size!==0,n=e.clear();return t&&hn(e,"clear",void 0,void 0),n}function Oa(e,t){return function(r,a){const i=this,o=i.__v_raw,l=_e(o),c=t?bo:e?So:ea;return!e&&wt(l,"iterate",En),o.forEach((u,h)=>r.call(a,c(u),c(h),i))}}function Da(e,t,n){return function(...r){const a=this.__v_raw,i=_e(a),o=Ha(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=a[e](...r),h=n?bo:t?So:ea;return!t&&wt(i,"iterate",c?Oi:En),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:l?[h(f[0]),h(f[1])]:h(f),done:d}},[Symbol.iterator](){return this}}}}function tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yp(){const e={get(i){return ka(this,i)},get size(){return Aa(this)},has:Pa,add:ql,set:Vl,delete:Kl,clear:Yl,forEach:Oa(!1,!1)},t={get(i){return ka(this,i,!1,!0)},get size(){return Aa(this)},has:Pa,add:ql,set:Vl,delete:Kl,clear:Yl,forEach:Oa(!1,!0)},n={get(i){return ka(this,i,!0)},get size(){return Aa(this,!0)},has(i){return Pa.call(this,i,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:Oa(!0,!1)},r={get(i){return ka(this,i,!0,!0)},get size(){return Aa(this,!0)},has(i){return Pa.call(this,i,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:Oa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Da(i,!1,!1),n[i]=Da(i,!0,!1),t[i]=Da(i,!1,!0),r[i]=Da(i,!0,!0)}),[e,n,t,r]}const[Wp,Gp,Jp,Zp]=Yp();function wo(e,t){const n=t?e?Zp:Jp:e?Gp:Wp;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(cs(n,a)&&a in r?n:r,a,i)}const Qp={get:wo(!1,!1)},Xp={get:wo(!1,!0)},ex={get:wo(!0,!1)},id=new WeakMap,od=new WeakMap,ld=new WeakMap,tx=new WeakMap;function nx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rx(e){return e.__v_skip||!Object.isExtensible(e)?0:nx(Np(e))}function jo(e){return Xr(e)?e:_o(e,!1,qp,Qp,id)}function ax(e){return _o(e,!1,Kp,Xp,od)}function cd(e){return _o(e,!0,Vp,ex,ld)}function _o(e,t,n,r,a){if(!Ls(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=rx(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return a.set(e,l),l}function qa(e){return Xr(e)?qa(e.__v_raw):!!(e&&e.__v_isReactive)}function Xr(e){return!!(e&&e.__v_isReadonly)}function ud(e){return!!(e&&e.__v_isShallow)}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}const ea=e=>Ls(e)?jo(e):e,So=e=>Ls(e)?cd(e):e;class dd{constructor(t,n,r,a){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Gu(()=>t(this._value),()=>Va(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=_e(this);return(!t._cacheable||t.effect.dirty)&&pr(t._value,t._value=t.effect.run())&&Va(t,4),hd(t),t.effect._dirtyLevel>=2&&Va(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function sx(e,t,n=!1){let r,a;const i=Ap(e);return i?(r=e,a=kp):(r=e.get,a=e.set),new dd(r,a,i||!a,n)}function hd(e){var t;dn&&Cn&&(e=_e(e),ed(Cn,(t=e.dep)!=null?t:e.dep=nd(()=>e.dep=void 0,e instanceof dd?e:void 0)))}function Va(e,t=4,n){e=_e(e);const r=e.dep;r&&td(r,t)}function In(e){return!!(e&&e.__v_isRef===!0)}function fd(e){return gd(e,!1)}function ix(e){return gd(e,!0)}function gd(e,t){return In(e)?e:new ox(e,t)}class ox{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:_e(t),this._value=n?t:ea(t)}get value(){return hd(this),this._value}set value(t){const n=this.__v_isShallow||ud(t)||Xr(t);t=n?t:_e(t),pr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ea(t),Va(this,4))}}/*!
* Veact v0.1.4
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/function Ce(e){b.useEffect(function(){e()},[])}function Co(e){b.useEffect(function(){return function(){e()}},[])}var lx=function(e){return e+1},ca=function(){return b.useReducer(lx,0)[1]},Wl=function(e,t){return e!==t&&(e==e||t==t)},md=Array.isArray,cx=Object.prototype.toString,ai=function(e){return cx.call(e)},ar=function(e){return typeof e=="function"},pd=function(e){return e!==null&&typeof e=="object"},si="[veact]",Ps=Object.assign(Object.assign({},console),{log:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];console.log.apply(console,[si].concat(e))},warn:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];console.warn.apply(console,[si].concat(e))},error:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];console.error.apply(console,[si].concat(e))}});function Ka(e,t,n){var r;try{r=n?e.apply(void 0,n):e()}catch(a){Ps.error(a,t)}return r}function Di(e,t,n){if(ar(e)){var r=Ka(e,t,n);return r&&pd(a=r)&&ar(a.then)&&ar(a.catch)&&r.catch(function(l){Ps.error(l,t)}),r}for(var a,i=[],o=0;o<e.length;o++)i.push(Di(e[o],t,n));return i}var tr=function(e,t){if(t===void 0&&(t=new Set),!pd(e)||t.has(e)||e.__v_skip)return e;if(t.add(e),In(e))tr(e.value,t);else if(md(e))for(var n=0;n<e.length;n++)tr(e[n],t);else if(function(a){return ai(a)==="[object Set]"}(e)||function(a){return ai(a)==="[object Map]"}(e))e.forEach(function(a){tr(a,t)});else if(function(a){return ai(a)==="[object Object]"}(e))for(var r in e)tr(e[r],t);return e},ii=function(){},Gl={},Jl=function(e){Ps.warn("Invalid watch source: ",e,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")};function ux(e,t,n){n===void 0&&(n={}),ar(t)||Ps.warn("`watch` only supports `watch(source, cb, options?) signature.");var r,a,i,o=n.immediate,l=n.deep,c=n.ssr,u=n.onTrack,h=n.onTrigger,f=l,d=!1,x=!1,g=function(S){i=a.onStop=function(){Ka(S,"watcher cleanup function")}};if(ar(e)?r=function(){return Ka(e,"watcher getter")}:In(e)?(x=!!e._shallow,r=function(){return e.value}):qa(e)?(f=!0,r=function(){return e}):md(e)?(d=!0,x=e.some(qa),r=function(){return e.map(function(S){return In(S)?S.value:qa(S)?tr(S):ar(S)?Ka(S,"watcher getter"):(Jl(S),null)})}):(r=ii,Jl(e)),f){var p=r;r=function(){return tr(p())}}if(c)return g=ii,o&&Di(t,"watcher callback",[r(),d?[]:void 0,g]),ii;var m=d?[]:Gl,C=function(){if(a.active){var S=a.run();(f||x||(d?S.some(function(w,j){return Wl(w,m[j])}):Wl(S,m)))&&(i==null||i(),Di(t,"watcher callback",[S,m===Gl?void 0:m,g]),m=S)}};return(a=new Gu(r,C)).onTrack=u,a.onTrigger=h,o?C():m=a.run(),function(){return a.stop()}}function _t(e,t,n){n===void 0&&(n={});var r=b.useState(function(){return ux(e,t,n)})[0];return Co(function(){return r==null?void 0:r()}),r}function X(e){var t=b.useState(function(){return fd(e)})[0];return _t(t,ca()),t}function Rt(e){var t=b.useState(function(){return ix(e)})[0];return _t(t,ca()),t}function dx(e){var t=b.useState(function(){return jo(e)})[0];return _t(t,ca()),t}function Gt(e){var t=b.useState(function(){return ax(e)})[0];return _t(t,ca()),t}function It(e,t){var n=b.useState(function(){return sx(e)})[0];return _t(n,ca()),n}/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var De;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(De||(De={}));const Zl="popstate";function hx(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return cr("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:fn(a)}return xd(t,n,null,e)}function fx(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=Jt(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),cr("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:fn(i))}function r(a,i){Ln(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return xd(t,n,r,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gx(){return Math.random().toString(36).substr(2,8)}function Ql(e,t){return{usr:e.state,key:e.key,idx:t}}function cr(e,t,n,r){return n===void 0&&(n=null),Le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jt(t):t,{state:n,key:t&&t.key||r||gx()})}function fn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xd(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=De.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Le({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=De.Pop;let m=h(),C=m==null?null:m-u;u=m,c&&c({action:l,location:p.location,delta:C})}function d(m,C){l=De.Push;let S=cr(p.location,m,C);n&&n(S,m),u=h()+1;let w=Ql(S,u),j=p.createHref(S);try{o.pushState(w,"",j)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function x(m,C){l=De.Replace;let S=cr(p.location,m,C);n&&n(S,m),u=h();let w=Ql(S,u),j=p.createHref(S);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function g(m){let C=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof m=="string"?m:fn(m);return S=S.replace(/ $/,"%20"),se(C,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,C)}let p={get action(){return l},get location(){return e(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Zl,f),c=m,()=>{a.removeEventListener(Zl,f),c=null}},createHref(m){return t(a,m)},createURL:g,encodeLocation(m){let C=g(m);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:d,replace:x,go(m){return o.go(m)}};return p}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));const mx=new Set(["lazy","caseSensitive","path","id","index","children"]);function px(e){return e.index===!0}function ta(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,i)=>{let o=[...n,String(i)],l=typeof a.id=="string"?a.id:o.join("-");if(se(a.index!==!0||!a.children,"Cannot specify children on an index route"),se(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),px(a)){let c=Le({},a,t(a),{id:l});return r[l]=c,c}else{let c=Le({},a,t(a),{id:l,children:void 0});return r[l]=c,a.children&&(c.children=ta(a.children,t,o,r)),c}})}function vn(e,t,n){return n===void 0&&(n="/"),Ya(e,t,n,!1)}function Ya(e,t,n,r){let a=typeof t=="string"?Jt(t):t,i=xr(a.pathname||"/",n);if(i==null)return null;let o=yd(e);yx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ix(i);l=Tx(o[c],u,r)}return l}function xx(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function yd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(se(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Kt([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yd(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Cx(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of vd(i.path))a(i,o,c)}),t}function vd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=vd(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function yx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ex(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vx=/^:[\w-]+$/,bx=3,wx=2,jx=1,_x=10,Sx=-2,Xl=e=>e==="*";function Cx(e,t){let n=e.split("/"),r=n.length;return n.some(Xl)&&(r+=Sx),t&&(r+=wx),n.filter(a=>!Xl(a)).reduce((a,i)=>a+(vx.test(i)?bx:i===""?jx:_x),r)}function Ex(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Tx(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Ni({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),d=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ni({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Kt([i,f.pathname]),pathnameBase:Px(Kt([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Kt([i,f.pathnameBase]))}return o}function Ni(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:x}=h;if(d==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return x&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Rx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Ix(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Lx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Jt(e):e;return{pathname:n?n.startsWith("/")?n:kx(n,t):t,search:Ax(r),hash:Ox(a)}}function kx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function oi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bd(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function As(e,t){let n=bd(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Os(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Jt(e):(a=Le({},e),se(!a.pathname||!a.pathname.includes("?"),oi("?","pathname","search",a)),se(!a.pathname||!a.pathname.includes("#"),oi("#","pathname","hash",a)),se(!a.search||!a.search.includes("#"),oi("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}l=f>=0?t[f]:"/"}let c=Lx(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Kt=e=>e.join("/").replace(/\/\/+/g,"/"),Px=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ox=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class us{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ds(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wd=["post","put","patch","delete"],Dx=new Set(wd),Nx=["get",...wd],$x=new Set(Nx),Fx=new Set([301,302,303,307,308]),Mx=new Set([307,308]),li={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ux={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Or={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Eo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),jd="remix-router-transitions";function _d(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let v=e.detectErrorBoundary;a=_=>({hasErrorBoundary:v(_)})}else a=zx;let i={},o=ta(e.routes,a,void 0,i),l,c=e.basename||"/",u=e.unstable_dataStrategy||Kx,h=e.unstable_patchRoutesOnMiss,f=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,x=new Set,g=null,p=null,m=null,C=e.hydrationData!=null,S=vn(o,e.history.location,c),w=null;if(S==null&&!h){let v=at(404,{pathname:e.history.location.pathname}),{matches:_,route:I}=cc(o);S=_,w={[I.id]:v}}S&&!e.hydrationData&&Ca(S,o,e.history.location.pathname).active&&(S=null);let j;if(S)if(S.some(v=>v.route.lazy))j=!1;else if(!S.some(v=>v.route.loader))j=!0;else if(f.v7_partialHydration){let v=e.hydrationData?e.hydrationData.loaderData:null,_=e.hydrationData?e.hydrationData.errors:null,I=A=>A.route.loader?typeof A.route.loader=="function"&&A.route.loader.hydrate===!0?!1:v&&v[A.route.id]!==void 0||_&&_[A.route.id]!==void 0:!0;if(_){let A=S.findIndex(U=>_[U.route.id]!==void 0);j=S.slice(0,A+1).every(I)}else j=S.every(I)}else j=e.hydrationData!=null;else if(j=!1,S=[],f.v7_partialHydration){let v=Ca(null,o,e.history.location.pathname);v.active&&v.matches&&(S=v.matches)}let T,y={historyAction:e.history.action,location:e.history.location,matches:S,initialized:j,navigation:li,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L=De.Pop,E=!1,R,D=!1,$=new Map,z=null,Z=!1,B=!1,oe=[],ge=new Set,Y=new Map,xe=0,Pe=-1,Me=new Map,Ue=new Set,tt=new Map,yt=new Map,lt=new Set,nt=new Map,Ze=new Map,kt=new Map,zt=!1;function Bt(){if(d=e.history.listen(v=>{let{action:_,location:I,delta:A}=v;if(zt){zt=!1;return}Ln(Ze.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let U=gl({currentLocation:y.location,nextLocation:I,historyAction:_});if(U&&A!=null){zt=!0,e.history.go(A*-1),_a(U,{state:"blocked",location:I,proceed(){_a(U,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),e.history.go(A)},reset(){let H=new Map(y.blockers);H.set(U,Or),Ee({blockers:H})}});return}return Te(_,I)}),n){sy(t,$);let v=()=>iy(t,$);t.addEventListener("pagehide",v),z=()=>t.removeEventListener("pagehide",v)}return y.initialized||Te(De.Pop,y.location,{initialHydration:!0}),T}function Qt(){d&&d(),z&&z(),x.clear(),R&&R.abort(),y.fetchers.forEach((v,_)=>ce(_)),y.blockers.forEach((v,_)=>fl(_))}function Bn(v){return x.add(v),()=>x.delete(v)}function Ee(v,_){_===void 0&&(_={}),y=Le({},y,v);let I=[],A=[];f.v7_fetcherPersist&&y.fetchers.forEach((U,H)=>{U.state==="idle"&&(lt.has(H)?A.push(H):I.push(H))}),[...x].forEach(U=>U(y,{deletedFetchers:A,unstable_viewTransitionOpts:_.viewTransitionOpts,unstable_flushSync:_.flushSync===!0})),f.v7_fetcherPersist&&(I.forEach(U=>y.fetchers.delete(U)),A.forEach(U=>ce(U)))}function dt(v,_,I){var A,U;let{flushSync:H}=I===void 0?{}:I,W=y.actionData!=null&&y.navigation.formMethod!=null&&St(y.navigation.formMethod)&&y.navigation.state==="loading"&&((A=v.state)==null?void 0:A._isRedirect)!==!0,F;_.actionData?Object.keys(_.actionData).length>0?F=_.actionData:F=null:W?F=y.actionData:F=null;let re=_.loaderData?oc(y.loaderData,_.loaderData,_.matches||[],_.errors):y.loaderData,q=y.blockers;q.size>0&&(q=new Map(q),q.forEach((ye,Se)=>q.set(Se,Or)));let V=E===!0||y.navigation.formMethod!=null&&St(y.navigation.formMethod)&&((U=v.state)==null?void 0:U._isRedirect)!==!0;l&&(o=l,l=void 0),Z||L===De.Pop||(L===De.Push?e.history.push(v,v.state):L===De.Replace&&e.history.replace(v,v.state));let be;if(L===De.Pop){let ye=$.get(y.location.pathname);ye&&ye.has(v.pathname)?be={currentLocation:y.location,nextLocation:v}:$.has(v.pathname)&&(be={currentLocation:v,nextLocation:y.location})}else if(D){let ye=$.get(y.location.pathname);ye?ye.add(v.pathname):(ye=new Set([v.pathname]),$.set(y.location.pathname,ye)),be={currentLocation:y.location,nextLocation:v}}Ee(Le({},_,{actionData:F,loaderData:re,historyAction:L,location:v,initialized:!0,navigation:li,revalidation:"idle",restoreScrollPosition:pl(v,_.matches||y.matches),preventScrollReset:V,blockers:q}),{viewTransitionOpts:be,flushSync:H===!0}),L=De.Pop,E=!1,D=!1,Z=!1,B=!1,oe=[]}async function rt(v,_){if(typeof v=="number"){e.history.go(v);return}let I=$i(y.location,y.matches,c,f.v7_prependBasename,v,f.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:A,submission:U,error:H}=ec(f.v7_normalizeFormMethod,!1,I,_),W=y.location,F=cr(y.location,A,_&&_.state);F=Le({},F,e.history.encodeLocation(F));let re=_&&_.replace!=null?_.replace:void 0,q=De.Push;re===!0?q=De.Replace:re===!1||U!=null&&St(U.formMethod)&&U.formAction===y.location.pathname+y.location.search&&(q=De.Replace);let V=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,be=(_&&_.unstable_flushSync)===!0,ye=gl({currentLocation:W,nextLocation:F,historyAction:q});if(ye){_a(ye,{state:"blocked",location:F,proceed(){_a(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),rt(v,_)},reset(){let Se=new Map(y.blockers);Se.set(ye,Or),Ee({blockers:Se})}});return}return await Te(q,F,{submission:U,pendingError:H,preventScrollReset:V,replace:_&&_.replace,enableViewTransition:_&&_.unstable_viewTransition,flushSync:be})}function Ye(){if(Q(),Ee({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Te(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Te(L||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Te(v,_,I){R&&R.abort(),R=null,L=v,Z=(I&&I.startUninterruptedRevalidation)===!0,Of(y.location,y.matches),E=(I&&I.preventScrollReset)===!0,D=(I&&I.enableViewTransition)===!0;let A=l||o,U=I&&I.overrideNavigation,H=vn(A,_,c),W=(I&&I.flushSync)===!0,F=Ca(H,A,_.pathname);if(F.active&&F.matches&&(H=F.matches),!H){let{error:me,notFoundMatches:We,route:Ae}=Zs(_.pathname);dt(_,{matches:We,loaderData:{},errors:{[Ae.id]:me}},{flushSync:W});return}if(y.initialized&&!B&&Qx(y.location,_)&&!(I&&I.submission&&St(I.submission.formMethod))){dt(_,{matches:H},{flushSync:W});return}R=new AbortController;let re=Jn(e.history,_,R.signal,I&&I.submission),q;if(I&&I.pendingError)q=[nr(H).route.id,{type:we.error,error:I.pendingError}];else if(I&&I.submission&&St(I.submission.formMethod)){let me=await vt(re,_,I.submission,H,F.active,{replace:I.replace,flushSync:W});if(me.shortCircuited)return;if(me.pendingActionResult){let[We,Ae]=me.pendingActionResult;if(pt(Ae)&&Ds(Ae.error)&&Ae.error.status===404){R=null,dt(_,{matches:me.matches,loaderData:{},errors:{[We]:Ae.error}});return}}H=me.matches||H,q=me.pendingActionResult,U=ci(_,I.submission),W=!1,F.active=!1,re=Jn(e.history,re.url,re.signal)}let{shortCircuited:V,matches:be,loaderData:ye,errors:Se}=await Rr(re,_,H,F.active,U,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,W,q);V||(R=null,dt(_,Le({matches:be||H},lc(q),{loaderData:ye,errors:Se})))}async function vt(v,_,I,A,U,H){H===void 0&&(H={}),Q();let W=ry(_,I);if(Ee({navigation:W},{flushSync:H.flushSync===!0}),U){let q=await Ea(A,_.pathname,v.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let{boundaryId:V,error:be}=Sa(_.pathname,q);return{matches:q.partialMatches,pendingActionResult:[V,{type:we.error,error:be}]}}else if(q.matches)A=q.matches;else{let{notFoundMatches:V,error:be,route:ye}=Zs(_.pathname);return{matches:V,pendingActionResult:[ye.id,{type:we.error,error:be}]}}}let F,re=qr(A,_);if(!re.route.action&&!re.route.lazy)F={type:we.error,error:at(405,{method:v.method,pathname:_.pathname,routeId:re.route.id})};else if(F=(await ne("action",v,[re],A))[0],v.signal.aborted)return{shortCircuited:!0};if(wn(F)){let q;return H&&H.replace!=null?q=H.replace:q=ac(F.response.headers.get("Location"),new URL(v.url),c)===y.location.pathname+y.location.search,await Pt(v,F,{submission:I,replace:q}),{shortCircuited:!0}}if(bn(F))throw at(400,{type:"defer-action"});if(pt(F)){let q=nr(A,re.route.id);return(H&&H.replace)!==!0&&(L=De.Push),{matches:A,pendingActionResult:[q.route.id,F]}}return{matches:A,pendingActionResult:[re.route.id,F]}}async function Rr(v,_,I,A,U,H,W,F,re,q,V){let be=U||ci(_,H),ye=H||W||fc(be),Se=!Z&&(!f.v7_partialHydration||!re);if(A){if(Se){let ke=ba(V);Ee(Le({navigation:be},ke!==void 0?{actionData:ke}:{}),{flushSync:q})}let ae=await Ea(I,_.pathname,v.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:ke,error:gt}=Sa(_.pathname,ae);return{matches:ae.partialMatches,loaderData:{},errors:{[ke]:gt}}}else if(ae.matches)I=ae.matches;else{let{error:ke,notFoundMatches:gt,route:Ie}=Zs(_.pathname);return{matches:gt,loaderData:{},errors:{[Ie.id]:ke}}}}let me=l||o,[We,Ae]=tc(e.history,y,I,ye,_,f.v7_partialHydration&&re===!0,f.v7_skipActionErrorRevalidation,B,oe,ge,lt,tt,Ue,me,c,V);if(Qs(ae=>!(I&&I.some(ke=>ke.route.id===ae))||We&&We.some(ke=>ke.route.id===ae)),Pe=++xe,We.length===0&&Ae.length===0){let ae=Ir();return dt(_,Le({matches:I,loaderData:{},errors:V&&pt(V[1])?{[V[0]]:V[1].error}:null},lc(V),ae?{fetchers:new Map(y.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(Se){let ae={};if(!A){ae.navigation=be;let ke=ba(V);ke!==void 0&&(ae.actionData=ke)}Ae.length>0&&(ae.fetchers=wa(Ae)),Ee(ae,{flushSync:q})}Ae.forEach(ae=>{Y.has(ae.key)&&Be(ae.key),ae.controller&&Y.set(ae.key,ae.controller)});let Lr=()=>Ae.forEach(ae=>Be(ae.key));R&&R.signal.addEventListener("abort",Lr);let{loaderResults:en,fetcherResults:qn}=await fe(y.matches,I,We,Ae,v);if(v.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Lr),Ae.forEach(ae=>Y.delete(ae.key));let Vn=uc([...en,...qn]);if(Vn){if(Vn.idx>=We.length){let ae=Ae[Vn.idx-We.length].key;Ue.add(ae)}return await Pt(v,Vn.result,{replace:F}),{shortCircuited:!0}}let{loaderData:Kn,errors:At}=ic(y,I,We,en,V,Ae,qn,nt);nt.forEach((ae,ke)=>{ae.subscribe(gt=>{(gt||ae.done)&&nt.delete(ke)})}),f.v7_partialHydration&&re&&y.errors&&Object.entries(y.errors).filter(ae=>{let[ke]=ae;return!We.some(gt=>gt.route.id===ke)}).forEach(ae=>{let[ke,gt]=ae;At=Object.assign(At||{},{[ke]:gt})});let Ta=Ir(),Ra=hl(Pe),Ia=Ta||Ra||Ae.length>0;return Le({matches:I,loaderData:Kn,errors:At},Ia?{fetchers:new Map(y.fetchers)}:{})}function ba(v){if(v&&!pt(v[1]))return{[v[0]]:v[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function wa(v){return v.forEach(_=>{let I=y.fetchers.get(_.key),A=Dr(void 0,I?I.data:void 0);y.fetchers.set(_.key,A)}),new Map(y.fetchers)}function ja(v,_,I,A){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Y.has(v)&&Be(v);let U=(A&&A.unstable_flushSync)===!0,H=l||o,W=$i(y.location,y.matches,c,f.v7_prependBasename,I,f.v7_relativeSplatPath,_,A==null?void 0:A.relative),F=vn(H,W,c),re=Ca(F,H,W);if(re.active&&re.matches&&(F=re.matches),!F){ze(v,_,at(404,{pathname:W}),{flushSync:U});return}let{path:q,submission:V,error:be}=ec(f.v7_normalizeFormMethod,!0,W,A);if(be){ze(v,_,be,{flushSync:U});return}let ye=qr(F,q);if(E=(A&&A.preventScrollReset)===!0,V&&St(V.formMethod)){ht(v,_,q,ye,F,re.active,U,V);return}tt.set(v,{routeId:_,path:q}),Xt(v,_,q,ye,F,re.active,U,V)}async function ht(v,_,I,A,U,H,W,F){Q(),tt.delete(v);function re(Ie){if(!Ie.route.action&&!Ie.route.lazy){let Ht=at(405,{method:F.formMethod,pathname:I,routeId:_});return ze(v,_,Ht,{flushSync:W}),!0}return!1}if(!H&&re(A))return;let q=y.fetchers.get(v);le(v,ay(F,q),{flushSync:W});let V=new AbortController,be=Jn(e.history,I,V.signal,F);if(H){let Ie=await Ea(U,I,be.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:Ht}=Sa(I,Ie);ze(v,_,Ht,{flushSync:W});return}else if(Ie.matches){if(U=Ie.matches,A=qr(U,I),re(A))return}else{ze(v,_,at(404,{pathname:I}),{flushSync:W});return}}Y.set(v,V);let ye=xe,me=(await ne("action",be,[A],U))[0];if(be.signal.aborted){Y.get(v)===V&&Y.delete(v);return}if(f.v7_fetcherPersist&&lt.has(v)){if(wn(me)||pt(me)){le(v,an(void 0));return}}else{if(wn(me))if(Y.delete(v),Pe>ye){le(v,an(void 0));return}else return Ue.add(v),le(v,Dr(F)),Pt(be,me,{fetcherSubmission:F});if(pt(me)){ze(v,_,me.error);return}}if(bn(me))throw at(400,{type:"defer-action"});let We=y.navigation.location||y.location,Ae=Jn(e.history,We,V.signal),Lr=l||o,en=y.navigation.state!=="idle"?vn(Lr,y.navigation.location,c):y.matches;se(en,"Didn't find any matches after fetcher action");let qn=++xe;Me.set(v,qn);let Vn=Dr(F,me.data);y.fetchers.set(v,Vn);let[Kn,At]=tc(e.history,y,en,F,We,!1,f.v7_skipActionErrorRevalidation,B,oe,ge,lt,tt,Ue,Lr,c,[A.route.id,me]);At.filter(Ie=>Ie.key!==v).forEach(Ie=>{let Ht=Ie.key,xl=y.fetchers.get(Ht),$f=Dr(void 0,xl?xl.data:void 0);y.fetchers.set(Ht,$f),Y.has(Ht)&&Be(Ht),Ie.controller&&Y.set(Ht,Ie.controller)}),Ee({fetchers:new Map(y.fetchers)});let Ta=()=>At.forEach(Ie=>Be(Ie.key));V.signal.addEventListener("abort",Ta);let{loaderResults:Ra,fetcherResults:Ia}=await fe(y.matches,en,Kn,At,Ae);if(V.signal.aborted)return;V.signal.removeEventListener("abort",Ta),Me.delete(v),Y.delete(v),At.forEach(Ie=>Y.delete(Ie.key));let ae=uc([...Ra,...Ia]);if(ae){if(ae.idx>=Kn.length){let Ie=At[ae.idx-Kn.length].key;Ue.add(Ie)}return Pt(Ae,ae.result)}let{loaderData:ke,errors:gt}=ic(y,y.matches,Kn,Ra,void 0,At,Ia,nt);if(y.fetchers.has(v)){let Ie=an(me.data);y.fetchers.set(v,Ie)}hl(qn),y.navigation.state==="loading"&&qn>Pe?(se(L,"Expected pending action"),R&&R.abort(),dt(y.navigation.location,{matches:en,loaderData:ke,errors:gt,fetchers:new Map(y.fetchers)})):(Ee({errors:gt,loaderData:oc(y.loaderData,ke,en,gt),fetchers:new Map(y.fetchers)}),B=!1)}async function Xt(v,_,I,A,U,H,W,F){let re=y.fetchers.get(v);le(v,Dr(F,re?re.data:void 0),{flushSync:W});let q=new AbortController,V=Jn(e.history,I,q.signal);if(H){let me=await Ea(U,I,V.signal);if(me.type==="aborted")return;if(me.type==="error"){let{error:We}=Sa(I,me);ze(v,_,We,{flushSync:W});return}else if(me.matches)U=me.matches,A=qr(U,I);else{ze(v,_,at(404,{pathname:I}),{flushSync:W});return}}Y.set(v,q);let be=xe,Se=(await ne("loader",V,[A],U))[0];if(bn(Se)&&(Se=await Rd(Se,V.signal,!0)||Se),Y.get(v)===q&&Y.delete(v),!V.signal.aborted){if(lt.has(v)){le(v,an(void 0));return}if(wn(Se))if(Pe>be){le(v,an(void 0));return}else{Ue.add(v),await Pt(V,Se);return}if(pt(Se)){ze(v,_,Se.error);return}se(!bn(Se),"Unhandled fetcher deferred data"),le(v,an(Se.data))}}async function Pt(v,_,I){let{submission:A,fetcherSubmission:U,replace:H}=I===void 0?{}:I;_.response.headers.has("X-Remix-Revalidate")&&(B=!0);let W=_.response.headers.get("Location");se(W,"Expected a Location header on the redirect Response"),W=ac(W,new URL(v.url),c);let F=cr(y.location,W,{_isRedirect:!0});if(n){let Se=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(Eo.test(W)){const me=e.history.createURL(W);Se=me.origin!==t.location.origin||xr(me.pathname,c)==null}if(Se){H?t.location.replace(W):t.location.assign(W);return}}R=null;let re=H===!0||_.response.headers.has("X-Remix-Replace")?De.Replace:De.Push,{formMethod:q,formAction:V,formEncType:be}=y.navigation;!A&&!U&&q&&V&&be&&(A=fc(y.navigation));let ye=A||U;if(Mx.has(_.response.status)&&ye&&St(ye.formMethod))await Te(re,F,{submission:Le({},ye,{formAction:W}),preventScrollReset:E});else{let Se=ci(F,A);await Te(re,F,{overrideNavigation:Se,fetcherSubmission:U,preventScrollReset:E})}}async function ne(v,_,I,A){try{let U=await Yx(u,v,_,I,A,i,a);return await Promise.all(U.map((H,W)=>{if(ey(H)){let F=H.result;return{type:we.redirect,response:Jx(F,_,I[W].route.id,A,c,f.v7_relativeSplatPath)}}return Gx(H)}))}catch(U){return I.map(()=>({type:we.error,error:U}))}}async function fe(v,_,I,A,U){let[H,...W]=await Promise.all([I.length?ne("loader",U,I,_):[],...A.map(F=>{if(F.matches&&F.match&&F.controller){let re=Jn(e.history,F.path,F.controller.signal);return ne("loader",re,[F.match],F.matches).then(q=>q[0])}else return Promise.resolve({type:we.error,error:at(404,{pathname:F.path})})})]);return await Promise.all([hc(v,I,H,H.map(()=>U.signal),!1,y.loaderData),hc(v,A.map(F=>F.match),W,A.map(F=>F.controller?F.controller.signal:null),!0)]),{loaderResults:H,fetcherResults:W}}function Q(){B=!0,oe.push(...Qs()),tt.forEach((v,_)=>{Y.has(_)&&(ge.add(_),Be(_))})}function le(v,_,I){I===void 0&&(I={}),y.fetchers.set(v,_),Ee({fetchers:new Map(y.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function ze(v,_,I,A){A===void 0&&(A={});let U=nr(y.matches,_);ce(v),Ee({errors:{[U.route.id]:I},fetchers:new Map(y.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function ft(v){return f.v7_fetcherPersist&&(yt.set(v,(yt.get(v)||0)+1),lt.has(v)&&lt.delete(v)),y.fetchers.get(v)||Ux}function ce(v){let _=y.fetchers.get(v);Y.has(v)&&!(_&&_.state==="loading"&&Me.has(v))&&Be(v),tt.delete(v),Me.delete(v),Ue.delete(v),lt.delete(v),ge.delete(v),y.fetchers.delete(v)}function G(v){if(f.v7_fetcherPersist){let _=(yt.get(v)||0)-1;_<=0?(yt.delete(v),lt.add(v)):yt.set(v,_)}else ce(v);Ee({fetchers:new Map(y.fetchers)})}function Be(v){let _=Y.get(v);se(_,"Expected fetch controller: "+v),_.abort(),Y.delete(v)}function Hn(v){for(let _ of v){let I=ft(_),A=an(I.data);y.fetchers.set(_,A)}}function Ir(){let v=[],_=!1;for(let I of Ue){let A=y.fetchers.get(I);se(A,"Expected fetcher: "+I),A.state==="loading"&&(Ue.delete(I),v.push(I),_=!0)}return Hn(v),_}function hl(v){let _=[];for(let[I,A]of Me)if(A<v){let U=y.fetchers.get(I);se(U,"Expected fetcher: "+I),U.state==="loading"&&(Be(I),Me.delete(I),_.push(I))}return Hn(_),_.length>0}function Pf(v,_){let I=y.blockers.get(v)||Or;return Ze.get(v)!==_&&Ze.set(v,_),I}function fl(v){y.blockers.delete(v),Ze.delete(v)}function _a(v,_){let I=y.blockers.get(v)||Or;se(I.state==="unblocked"&&_.state==="blocked"||I.state==="blocked"&&_.state==="blocked"||I.state==="blocked"&&_.state==="proceeding"||I.state==="blocked"&&_.state==="unblocked"||I.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+_.state);let A=new Map(y.blockers);A.set(v,_),Ee({blockers:A})}function gl(v){let{currentLocation:_,nextLocation:I,historyAction:A}=v;if(Ze.size===0)return;Ze.size>1&&Ln(!1,"A router only supports one blocker at a time");let U=Array.from(Ze.entries()),[H,W]=U[U.length-1],F=y.blockers.get(H);if(!(F&&F.state==="proceeding")&&W({currentLocation:_,nextLocation:I,historyAction:A}))return H}function Zs(v){let _=at(404,{pathname:v}),I=l||o,{matches:A,route:U}=cc(I);return Qs(),{notFoundMatches:A,route:U,error:_}}function Sa(v,_){return{boundaryId:nr(_.partialMatches).route.id,error:at(400,{type:"route-discovery",pathname:v,message:_.error!=null&&"message"in _.error?_.error:String(_.error)})}}function Qs(v){let _=[];return nt.forEach((I,A)=>{(!v||v(A))&&(I.cancel(),_.push(A),nt.delete(A))}),_}function Af(v,_,I){if(g=v,m=_,p=I||null,!C&&y.navigation===li){C=!0;let A=pl(y.location,y.matches);A!=null&&Ee({restoreScrollPosition:A})}return()=>{g=null,m=null,p=null}}function ml(v,_){return p&&p(v,_.map(A=>xx(A,y.loaderData)))||v.key}function Of(v,_){if(g&&m){let I=ml(v,_);g[I]=m()}}function pl(v,_){if(g){let I=ml(v,_),A=g[I];if(typeof A=="number")return A}return null}function Ca(v,_,I){if(h)if(v){let A=v[v.length-1].route;if(A.path&&(A.path==="*"||A.path.endsWith("/*")))return{active:!0,matches:Ya(_,I,c,!0)}}else return{active:!0,matches:Ya(_,I,c,!0)||[]};return{active:!1,matches:null}}async function Ea(v,_,I){let A=v,U=A.length>0?A[A.length-1].route:null;for(;;){let H=l==null,W=l||o;try{await Vx(h,_,A,W,i,a,kt,I)}catch(V){return{type:"error",error:V,partialMatches:A}}finally{H&&(o=[...o])}if(I.aborted)return{type:"aborted"};let F=vn(W,_,c),re=!1;if(F){let V=F[F.length-1].route;if(V.index)return{type:"success",matches:F};if(V.path&&V.path.length>0)if(V.path==="*")re=!0;else return{type:"success",matches:F}}let q=Ya(W,_,c,!0);if(!q||A.map(V=>V.route.id).join("-")===q.map(V=>V.route.id).join("-"))return{type:"success",matches:re?F:null};if(A=q,U=A[A.length-1].route,U.path==="*")return{type:"success",matches:A}}}function Df(v){i={},l=ta(v,a,void 0,i)}function Nf(v,_){let I=l==null;Cd(v,_,l||o,i,a),I&&(o=[...o],Ee({}))}return T={get basename(){return c},get future(){return f},get state(){return y},get routes(){return o},get window(){return t},initialize:Bt,subscribe:Bn,enableScrollRestoration:Af,navigate:rt,fetch:ja,revalidate:Ye,createHref:v=>e.history.createHref(v),encodeLocation:v=>e.history.encodeLocation(v),getFetcher:ft,deleteFetcher:G,dispose:Qt,getBlocker:Pf,deleteBlocker:fl,patchRoutes:Nf,_internalFetchControllers:Y,_internalActiveDeferreds:nt,_internalSetRoutes:Df},T}function Bx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function $i(e,t,n,r,a,i,o,l){let c,u;if(o){c=[];for(let f of t)if(c.push(f),f.route.id===o){u=f;break}}else c=t,u=t[t.length-1];let h=Os(a||".",As(c,i),xr(e.pathname,n)||e.pathname,l==="path");return a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&u&&u.route.index&&!To(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Kt([n,h.pathname])),fn(h)}function ec(e,t,n,r){if(!r||!Bx(r))return{path:n};if(r.formMethod&&!ny(r.formMethod))return{path:n,error:at(405,{method:r.formMethod})};let a=()=>({path:n,error:at(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),l=Ed(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!St(o))return a();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,g)=>{let[p,m]=g;return""+x+p+"="+m+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!St(o))return a();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return a()}}}se(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Fi(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Fi(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=sc(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=sc(c)}catch{return a()}let h={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(St(h.formMethod))return{path:n,submission:h};let f=Jt(n);return t&&f.search&&To(f.search)&&c.append("index",""),f.search="?"+c,{path:fn(f),submission:h}}function Hx(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function tc(e,t,n,r,a,i,o,l,c,u,h,f,d,x,g,p){let m=p?pt(p[1])?p[1].error:p[1].data:void 0,C=e.createURL(t.location),S=e.createURL(a),w=p&&pt(p[1])?p[0]:void 0,j=w?Hx(n,w):n,T=p?p[1].statusCode:void 0,y=o&&T&&T>=400,L=j.filter((R,D)=>{let{route:$}=R;if($.lazy)return!0;if($.loader==null)return!1;if(i)return typeof $.loader!="function"||$.loader.hydrate?!0:t.loaderData[$.id]===void 0&&(!t.errors||t.errors[$.id]===void 0);if(qx(t.loaderData,t.matches[D],R)||c.some(B=>B===R.route.id))return!0;let z=t.matches[D],Z=R;return nc(R,Le({currentUrl:C,currentParams:z.params,nextUrl:S,nextParams:Z.params},r,{actionResult:m,actionStatus:T,defaultShouldRevalidate:y?!1:l||C.pathname+C.search===S.pathname+S.search||C.search!==S.search||Sd(z,Z)}))}),E=[];return f.forEach((R,D)=>{if(i||!n.some(oe=>oe.route.id===R.routeId)||h.has(D))return;let $=vn(x,R.path,g);if(!$){E.push({key:D,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let z=t.fetchers.get(D),Z=qr($,R.path),B=!1;d.has(D)?B=!1:u.has(D)?(u.delete(D),B=!0):z&&z.state!=="idle"&&z.data===void 0?B=l:B=nc(Z,Le({currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:m,actionStatus:T,defaultShouldRevalidate:y?!1:l})),B&&E.push({key:D,routeId:R.routeId,path:R.path,matches:$,match:Z,controller:new AbortController})}),[L,E]}function qx(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function Sd(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function nc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Vx(e,t,n,r,a,i,o,l){let c=[t,...n.map(u=>u.route.id)].join("-");try{let u=o.get(c);u||(u=e({path:t,matches:n,patch:(h,f)=>{l.aborted||Cd(h,f,r,a,i)}}),o.set(c,u)),u&&Xx(u)&&await u}finally{o.delete(c)}}function Cd(e,t,n,r,a){if(e){var i;let o=r[e];se(o,"No route found to patch children into: routeId = "+e);let l=ta(t,a,[e,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=ta(t,a,["patch",String(n.length||"0")],r);n.push(...o)}}async function rc(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];se(a,"No route found in manifest");let i={};for(let o in r){let c=a[o]!==void 0&&o!=="hasErrorBoundary";Ln(!c,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!mx.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,Le({},t(a),{lazy:void 0}))}function Kx(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Yx(e,t,n,r,a,i,o,l){let c=r.reduce((f,d)=>f.add(d.route.id),new Set),u=new Set,h=await e({matches:a.map(f=>{let d=c.has(f.route.id);return Le({},f,{shouldLoad:d,resolve:g=>(u.add(f.route.id),d?Wx(t,n,f,i,o,g,l):Promise.resolve({type:we.data,result:void 0}))})}),request:n,params:a[0].params,context:l});return a.forEach(f=>se(u.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((f,d)=>c.has(a[d].route.id))}async function Wx(e,t,n,r,a,i,o){let l,c,u=h=>{let f,d=new Promise((p,m)=>f=m);c=()=>f(),t.signal.addEventListener("abort",c);let x=p=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):h({request:t,params:n.params,context:o},...p!==void 0?[p]:[]),g;return i?g=i(p=>x(p)):g=(async()=>{try{return{type:"data",result:await x()}}catch(p){return{type:"error",result:p}}})(),Promise.race([g,d])};try{let h=n.route[e];if(n.route.lazy)if(h){let f,[d]=await Promise.all([u(h).catch(x=>{f=x}),rc(n.route,a,r)]);if(f!==void 0)throw f;l=d}else if(await rc(n.route,a,r),h=n.route[e],h)l=await u(h);else if(e==="action"){let f=new URL(t.url),d=f.pathname+f.search;throw at(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:we.data,result:void 0};else if(h)l=await u(h);else{let f=new URL(t.url),d=f.pathname+f.search;throw at(404,{pathname:d})}se(l.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:we.error,result:h}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function Gx(e){let{result:t,type:n}=e;if(Td(t)){let u;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(h){return{type:we.error,error:h}}return n===we.error?{type:we.error,error:new us(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:we.data,data:u,statusCode:t.status,headers:t.headers}}if(n===we.error){if(dc(t)){var r;if(t.data instanceof Error){var a;return{type:we.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status}}t=new us(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:we.error,error:t,statusCode:Ds(t)?t.status:void 0}}if(ty(t)){var i,o;return{type:we.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(dc(t)){var l,c;return{type:we.data,data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:we.data,data:t}}function Jx(e,t,n,r,a,i){let o=e.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Eo.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=$i(new URL(t.url),l,a,!0,o,i),e.headers.set("Location",o)}return e}function ac(e,t,n){if(Eo.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=xr(a.pathname,n)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Jn(e,t,n,r){let a=e.createURL(Ed(t)).toString(),i={signal:n};if(r&&St(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=Fi(r.formData):i.body=r.formData}return new Request(a,i)}function Fi(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function sc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Zx(e,t,n,r,a,i){let o={},l=null,c,u=!1,h={},f=r&&pt(r[1])?r[1].error:void 0;return n.forEach((d,x)=>{let g=t[x].route.id;if(se(!wn(d),"Cannot handle redirect results in processLoaderData"),pt(d)){let p=d.error;f!==void 0&&(p=f,f=void 0),l=l||{};{let m=nr(e,g);l[m.route.id]==null&&(l[m.route.id]=p)}o[g]=void 0,u||(u=!0,c=Ds(d.error)?d.error.status:500),d.headers&&(h[g]=d.headers)}else bn(d)?(a.set(g,d.deferredData),o[g]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(c=d.statusCode),d.headers&&(h[g]=d.headers)):(o[g]=d.data,d.statusCode&&d.statusCode!==200&&!u&&(c=d.statusCode),d.headers&&(h[g]=d.headers))}),f!==void 0&&r&&(l={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:h}}function ic(e,t,n,r,a,i,o,l){let{loaderData:c,errors:u}=Zx(t,n,r,a,l);for(let h=0;h<i.length;h++){let{key:f,match:d,controller:x}=i[h];se(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(x&&x.signal.aborted))if(pt(g)){let p=nr(e.matches,d==null?void 0:d.route.id);u&&u[p.route.id]||(u=Le({},u,{[p.route.id]:g.error})),e.fetchers.delete(f)}else if(wn(g))se(!1,"Unhandled fetcher revalidation redirect");else if(bn(g))se(!1,"Unhandled fetcher deferred data");else{let p=an(g.data);e.fetchers.set(f,p)}}return{loaderData:c,errors:u}}function oc(e,t,n,r){let a=Le({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function lc(e){return e?pt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function nr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function cc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function at(e,t){let{pathname:n,routeId:r,method:a,type:i,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",i==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):a&&n&&r?c="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",a&&n&&r?c="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new us(e||500,l,new Error(c),!0)}function uc(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(wn(n))return{result:n,idx:t}}}function Ed(e){let t=typeof e=="string"?Jt(e):e;return fn(Le({},t,{hash:""}))}function Qx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Xx(e){return typeof e=="object"&&e!=null&&"then"in e}function ey(e){return Td(e.result)&&Fx.has(e.result.status)}function bn(e){return e.type===we.deferred}function pt(e){return e.type===we.error}function wn(e){return(e&&e.type)===we.redirect}function dc(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function ty(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Td(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ny(e){return $x.has(e.toLowerCase())}function St(e){return Dx.has(e.toLowerCase())}async function hc(e,t,n,r,a,i){for(let o=0;o<n.length;o++){let l=n[o],c=t[o];if(!c)continue;let u=e.find(f=>f.route.id===c.route.id),h=u!=null&&!Sd(u,c)&&(i&&i[c.route.id])!==void 0;if(bn(l)&&(a||h)){let f=r[o];se(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Rd(l,f,a).then(d=>{d&&(n[o]=d||n[o])})}}}async function Rd(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(a){return{type:we.error,error:a}}return{type:we.data,data:e.deferredData.data}}}function To(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function qr(e,t){let n=typeof t=="string"?Jt(t).search:t.search;if(e[e.length-1].route.index&&To(n||""))return e[e.length-1];let r=bd(e);return r[r.length-1]}function fc(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:i,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ci(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ry(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Dr(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ay(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function an(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sy(e,t){try{let n=e.sessionStorage.getItem(jd);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function iy(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(jd,JSON.stringify(n))}catch(r){Ln(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(this,arguments)}const Ns=b.createContext(null),Id=b.createContext(null),pn=b.createContext(null),Ro=b.createContext(null),Ut=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Ld=b.createContext(null);function oy(e,t){let{relative:n}=t===void 0?{}:t;yr()||se(!1);let{basename:r,navigator:a}=b.useContext(pn),{hash:i,pathname:o,search:l}=Pd(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Kt([r,o])),a.createHref({pathname:c,search:l,hash:i})}function yr(){return b.useContext(Ro)!=null}function xn(){return yr()||se(!1),b.useContext(Ro).location}function kd(e){b.useContext(pn).static||b.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=b.useContext(Ut);return e?jy():ly()}function ly(){yr()||se(!1);let e=b.useContext(Ns),{basename:t,future:n,navigator:r}=b.useContext(pn),{matches:a}=b.useContext(Ut),{pathname:i}=xn(),o=JSON.stringify(As(a,n.v7_relativeSplatPath)),l=b.useRef(!1);return kd(()=>{l.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Os(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kt([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,o,i,e])}const cy=b.createContext(null);function uy(e){let t=b.useContext(Ut).outlet;return t&&b.createElement(cy.Provider,{value:e},t)}function dy(){let{matches:e}=b.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function Pd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(pn),{matches:a}=b.useContext(Ut),{pathname:i}=xn(),o=JSON.stringify(As(a,r.v7_relativeSplatPath));return b.useMemo(()=>Os(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function hy(e,t,n,r){yr()||se(!1);let{navigator:a}=b.useContext(pn),{matches:i}=b.useContext(Ut),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xn(),h;h=u;let f=h.pathname||"/",d=f;if(c!=="/"){let p=c.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=vn(e,{pathname:d});return xy(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Kt([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Kt([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n,r)}function fy(){let e=wy(),t=Ds(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,null)}const gy=b.createElement(fy,null);class my extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ut.Provider,{value:this.props.routeContext},b.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function py(e){let{routeContext:t,match:n,children:r}=e,a=b.useContext(Ns);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ut.Provider,{value:t},r)}function xy(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||se(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:x}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let x,g=!1,p=null,m=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||gy,c&&(u<0&&d===0?(g=!0,m=null):u===d&&(g=!0,m=f.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,d+1)),S=()=>{let w;return x?w=p:g?w=m:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,b.createElement(py,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?b.createElement(my,{location:n.location,revalidation:n.revalidation,component:p,error:x,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}var Ad=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ad||{}),hs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hs||{});function yy(e){let t=b.useContext(Ns);return t||se(!1),t}function vy(e){let t=b.useContext(Id);return t||se(!1),t}function by(e){let t=b.useContext(Ut);return t||se(!1),t}function Od(e){let t=by(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function wy(){var e;let t=b.useContext(Ld),n=vy(hs.UseRouteError),r=Od(hs.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jy(){let{router:e}=yy(Ad.UseNavigateStable),t=Od(hs.UseNavigateStable),n=b.useRef(!1);return kd(()=>{n.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ds({fromRouteId:t},i)))},[e,t])}function ui(e){let{to:t,replace:n,state:r,relative:a}=e;yr()||se(!1);let{future:i,static:o}=b.useContext(pn),{matches:l}=b.useContext(Ut),{pathname:c}=xn(),u=Zt(),h=Os(t,As(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(h);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function _y(e){return uy(e.context)}function Sy(e){let{basename:t="/",children:n=null,location:r,navigationType:a=De.Pop,navigator:i,static:o=!1,future:l}=e;yr()&&se(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:ds({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Jt(r));let{pathname:h="/",search:f="",hash:d="",state:x=null,key:g="default"}=r,p=b.useMemo(()=>{let m=xr(h,c);return m==null?null:{location:{pathname:m,search:f,hash:d,state:x,key:g},navigationType:a}},[c,h,f,d,x,g,a]);return p==null?null:b.createElement(pn.Provider,{value:u},b.createElement(Ro.Provider,{children:n,value:p}))}new Promise(()=>{});function Dd(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(this,arguments)}function Cy(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ey(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ty(e,t){return e.button===0&&(!t||t==="_self")&&!Ey(e)}const Ry=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Iy="6";try{window.__reactRouterVersion=Iy}catch{}function Ly(e,t){return _d({basename:void 0,future:ur({},void 0,{v7_prependBasename:!0}),history:hx({window:void 0}),hydrationData:Nd(),routes:e,mapRouteProperties:Dd,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function ky(e,t){return _d({basename:void 0,future:ur({},void 0,{v7_prependBasename:!0}),history:fx({window:void 0}),hydrationData:Nd(),routes:e,mapRouteProperties:Dd,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function Nd(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ur({},t,{errors:Py(t.errors)})),t}function Py(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new us(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const Ay=b.createContext({isTransitioning:!1}),Oy=b.createContext(new Map),Dy="startTransition",gc=Bf[Dy],Ny="flushSync",mc=Hf[Ny];function $y(e){gc?gc(e):e()}function Nr(e){mc?mc(e):e()}class Fy{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function My(e){let{fallbackElement:t,router:n,future:r}=e,[a,i]=b.useState(n.state),[o,l]=b.useState(),[c,u]=b.useState({isTransitioning:!1}),[h,f]=b.useState(),[d,x]=b.useState(),[g,p]=b.useState(),m=b.useRef(new Map),{v7_startTransition:C}=r||{},S=b.useCallback(E=>{C?$y(E):E()},[C]),w=b.useCallback((E,R)=>{let{deletedFetchers:D,unstable_flushSync:$,unstable_viewTransitionOpts:z}=R;D.forEach(B=>m.current.delete(B)),E.fetchers.forEach((B,oe)=>{B.data!==void 0&&m.current.set(oe,B.data)});let Z=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||Z){$?Nr(()=>i(E)):S(()=>i(E));return}if($){Nr(()=>{d&&(h&&h.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let B=n.window.document.startViewTransition(()=>{Nr(()=>i(E))});B.finished.finally(()=>{Nr(()=>{f(void 0),x(void 0),l(void 0),u({isTransitioning:!1})})}),Nr(()=>x(B));return}d?(h&&h.resolve(),d.skipTransition(),p({state:E,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l(E),u({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,d,h,m,S]);b.useLayoutEffect(()=>n.subscribe(w),[n,w]),b.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new Fy)},[c]),b.useEffect(()=>{if(h&&o&&n.window){let E=o,R=h.promise,D=n.window.document.startViewTransition(async()=>{S(()=>i(E)),await R});D.finished.finally(()=>{f(void 0),x(void 0),l(void 0),u({isTransitioning:!1})}),x(D)}},[S,o,h,n.window]),b.useEffect(()=>{h&&o&&a.location.key===o.location.key&&h.resolve()},[h,d,a.location,o]),b.useEffect(()=>{!c.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),p(void 0))},[c.isTransitioning,g]),b.useEffect(()=>{},[]);let j=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,R,D)=>n.navigate(E,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,R,D)=>n.navigate(E,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),T=n.basename||"/",y=b.useMemo(()=>({router:n,navigator:j,static:!1,basename:T}),[n,j,T]),L=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(Ns.Provider,{value:y},b.createElement(Id.Provider,{value:a},b.createElement(Oy.Provider,{value:m.current},b.createElement(Ay.Provider,{value:c},b.createElement(Sy,{basename:T,location:a.location,navigationType:a.historyAction,navigator:j,future:L},a.initialized||n.future.v7_partialHydration?b.createElement(Uy,{routes:n.routes,future:n.future,state:a}):t))))),null)}const Uy=b.memo(zy);function zy(e){let{routes:t,future:n,state:r}=e;return hy(t,void 0,r,n)}const By=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=b.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:f}=t,d=Cy(t,Ry),{basename:x}=b.useContext(pn),g,p=!1;if(typeof u=="string"&&Hy.test(u)&&(g=u,By))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=xr(j.pathname,x);j.origin===w.origin&&T!=null?u=T+j.search+j.hash:p=!0}catch{}let m=oy(u,{relative:a}),C=qy(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,unstable_viewTransition:f});function S(w){r&&r(w),w.defaultPrevented||C(w)}return b.createElement("a",ur({},d,{href:g||m,onClick:p||i?r:S,ref:n,target:c}))});var pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pc||(pc={}));var xc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xc||(xc={}));function qy(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,c=Zt(),u=xn(),h=Pd(e,{relative:o});return b.useCallback(f=>{if(Ty(f,n)){f.preventDefault();let d=r!==void 0?r:fn(u)===fn(h);c(e,{replace:d,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,h,r,a,n,e,i,o,l])}const Vy=e=>({locale:e.locale,space:{size:im},theme:{hashed:!1,cssVar:{prefix:"app"},algorithm:e.isDarkTheme?Ci.darkAlgorithm:Ci.defaultAlgorithm,token:{colorPrimary:Fn,fontFamily:"inherit"}}}),Ky=e=>{Si.config({holderRender(t){return s.jsx(Si,{...e,children:t})}})},Yy=e=>{const{isDark:t}=Rs(),{language:n}=gr(),r=b.useMemo(()=>ls[n].antd,[n]),a=b.useMemo(()=>Vy({isDarkTheme:t,locale:r}),[t,r]);return b.useLayoutEffect(()=>{Ky(a)},[a]),s.jsx(Si,{...a,children:e.children})},$d="3.7.7",Wy=$d,vr=typeof Buffer=="function",yc=typeof TextDecoder=="function"?new TextDecoder:void 0,vc=typeof TextEncoder=="function"?new TextEncoder:void 0,Gy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vr=Array.prototype.slice.call(Gy),Na=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Vr),Jy=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ge=String.fromCharCode.bind(String),bc=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Fd=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Md=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Ud=e=>{let t,n,r,a,i="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=Vr[t>>18&63]+Vr[t>>12&63]+Vr[t>>6&63]+Vr[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},Io=typeof btoa=="function"?e=>btoa(e):vr?e=>Buffer.from(e,"binary").toString("base64"):Ud,Mi=vr?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Ge.apply(null,e.subarray(r,r+4096)));return Io(n.join(""))},Wa=(e,t=!1)=>t?Fd(Mi(e)):Mi(e),Zy=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ge(192|t>>>6)+Ge(128|t&63):Ge(224|t>>>12&15)+Ge(128|t>>>6&63)+Ge(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ge(240|t>>>18&7)+Ge(128|t>>>12&63)+Ge(128|t>>>6&63)+Ge(128|t&63)}},Qy=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,zd=e=>e.replace(Qy,Zy),wc=vr?e=>Buffer.from(e,"utf8").toString("base64"):vc?e=>Mi(vc.encode(e)):e=>Io(zd(e)),sr=(e,t=!1)=>t?Fd(wc(e)):wc(e),jc=e=>sr(e,!0),Xy=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ev=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Ge((n>>>10)+55296)+Ge((n&1023)+56320);case 3:return Ge((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ge((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Bd=e=>e.replace(Xy,ev),Hd=e=>{if(e=e.replace(/\s+/g,""),!Jy.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,a;for(let i=0;i<e.length;)t=Na[e.charAt(i++)]<<18|Na[e.charAt(i++)]<<12|(r=Na[e.charAt(i++)])<<6|(a=Na[e.charAt(i++)]),n+=r===64?Ge(t>>16&255):a===64?Ge(t>>16&255,t>>8&255):Ge(t>>16&255,t>>8&255,t&255);return n},Lo=typeof atob=="function"?e=>atob(Md(e)):vr?e=>Buffer.from(e,"base64").toString("binary"):Hd,qd=vr?e=>bc(Buffer.from(e,"base64")):e=>bc(Lo(e).split("").map(t=>t.charCodeAt(0))),Vd=e=>qd(Kd(e)),tv=vr?e=>Buffer.from(e,"base64").toString("utf8"):yc?e=>yc.decode(qd(e)):e=>Bd(Lo(e)),Kd=e=>Md(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Ui=e=>tv(Kd(e)),nv=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Yd=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Wd=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,Yd(n));e("fromBase64",function(){return Ui(this)}),e("toBase64",function(t){return sr(this,t)}),e("toBase64URI",function(){return sr(this,!0)}),e("toBase64URL",function(){return sr(this,!0)}),e("toUint8Array",function(){return Vd(this)})},Gd=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,Yd(n));e("toBase64",function(t){return Wa(this,t)}),e("toBase64URI",function(){return Wa(this,!0)}),e("toBase64URL",function(){return Wa(this,!0)})},rv=()=>{Wd(),Gd()},zi={version:$d,VERSION:Wy,atob:Lo,atobPolyfill:Hd,btoa:Io,btoaPolyfill:Ud,fromBase64:Ui,toBase64:sr,encode:sr,encodeURI:jc,encodeURL:jc,utob:zd,btou:Bd,decode:Ui,isValid:nv,fromUint8Array:Wa,toUint8Array:Vd,extendString:Wd,extendUint8Array:Gd,extendBuiltins:rv};function Jd(e,t){return function(){return e.apply(t,arguments)}}const{toString:av}=Object.prototype,{getPrototypeOf:ko}=Object,$s=(e=>t=>{const n=av.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=e=>(e=e.toLowerCase(),t=>$s(t)===e),Fs=e=>t=>typeof t===e,{isArray:br}=Array,na=Fs("undefined");function sv(e){return e!==null&&!na(e)&&e.constructor!==null&&!na(e.constructor)&&xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zd=Lt("ArrayBuffer");function iv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zd(e.buffer),t}const ov=Fs("string"),xt=Fs("function"),Qd=Fs("number"),Ms=e=>e!==null&&typeof e=="object",lv=e=>e===!0||e===!1,Ga=e=>{if($s(e)!=="object")return!1;const t=ko(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cv=Lt("Date"),uv=Lt("File"),dv=Lt("Blob"),hv=Lt("FileList"),fv=e=>Ms(e)&&xt(e.pipe),gv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xt(e.append)&&((t=$s(e))==="formdata"||t==="object"&&xt(e.toString)&&e.toString()==="[object FormData]"))},mv=Lt("URLSearchParams"),[pv,xv,yv,vv]=["ReadableStream","Request","Response","Headers"].map(Lt),bv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),br(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Xd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eh=e=>!na(e)&&e!==jn;function Bi(){const{caseless:e}=eh(this)&&this||{},t={},n=(r,a)=>{const i=e&&Xd(t,a)||a;Ga(t[i])&&Ga(r)?t[i]=Bi(t[i],r):Ga(r)?t[i]=Bi({},r):br(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ua(arguments[r],n);return t}const wv=(e,t,n,{allOwnKeys:r}={})=>(ua(t,(a,i)=>{n&&xt(a)?e[i]=Jd(a,n):e[i]=a},{allOwnKeys:r}),e),jv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_v=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Sv=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&ko(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Cv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ev=e=>{if(!e)return null;if(br(e))return e;let t=e.length;if(!Qd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Tv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ko(Uint8Array)),Rv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Iv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Lv=Lt("HTMLFormElement"),kv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),_c=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Pv=Lt("RegExp"),th=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ua(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Av=e=>{th(e,(t,n)=>{if(xt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(xt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ov=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return br(e)?r(e):r(String(e).split(t)),n},Dv=()=>{},Nv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,di="abcdefghijklmnopqrstuvwxyz",Sc="0123456789",nh={DIGIT:Sc,ALPHA:di,ALPHA_DIGIT:di+di.toUpperCase()+Sc},$v=(e=16,t=nh.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Fv(e){return!!(e&&xt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Mv=e=>{const t=new Array(10),n=(r,a)=>{if(Ms(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=br(r)?[]:{};return ua(r,(o,l)=>{const c=n(o,a+1);!na(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},Uv=Lt("AsyncFunction"),zv=e=>e&&(Ms(e)||xt(e))&&xt(e.then)&&xt(e.catch),rh=((e,t)=>e?setImmediate:t?((n,r)=>(jn.addEventListener("message",({source:a,data:i})=>{a===jn&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),jn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xt(jn.postMessage)),Bv=typeof queueMicrotask<"u"?queueMicrotask.bind(jn):typeof process<"u"&&process.nextTick||rh,k={isArray:br,isArrayBuffer:Zd,isBuffer:sv,isFormData:gv,isArrayBufferView:iv,isString:ov,isNumber:Qd,isBoolean:lv,isObject:Ms,isPlainObject:Ga,isReadableStream:pv,isRequest:xv,isResponse:yv,isHeaders:vv,isUndefined:na,isDate:cv,isFile:uv,isBlob:dv,isRegExp:Pv,isFunction:xt,isStream:fv,isURLSearchParams:mv,isTypedArray:Tv,isFileList:hv,forEach:ua,merge:Bi,extend:wv,trim:bv,stripBOM:jv,inherits:_v,toFlatObject:Sv,kindOf:$s,kindOfTest:Lt,endsWith:Cv,toArray:Ev,forEachEntry:Rv,matchAll:Iv,isHTMLForm:Lv,hasOwnProperty:_c,hasOwnProp:_c,reduceDescriptors:th,freezeMethods:Av,toObjectSet:Ov,toCamelCase:kv,noop:Dv,toFiniteNumber:Nv,findKey:Xd,global:jn,isContextDefined:eh,ALPHABET:nh,generateString:$v,isSpecCompliantForm:Fv,toJSONObject:Mv,isAsyncFn:Uv,isThenable:zv,setImmediate:rh,asap:Bv};function te(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}k.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ah=te.prototype,sh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sh[e]={value:e}});Object.defineProperties(te,sh);Object.defineProperty(ah,"isAxiosError",{value:!0});te.from=(e,t,n,r,a,i)=>{const o=Object.create(ah);return k.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),te.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Hv=null;function Hi(e){return k.isPlainObject(e)||k.isArray(e)}function ih(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Cc(e,t,n){return e?e.concat(t).map(function(a,i){return a=ih(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function qv(e){return k.isArray(e)&&!e.some(Hi)}const Vv=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Us(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!k.isUndefined(m[p])});const r=n.metaTokens,a=n.visitor||h,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(k.isDate(g))return g.toISOString();if(!c&&k.isBlob(g))throw new te("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(g)||k.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,p,m){let C=g;if(g&&!m&&typeof g=="object"){if(k.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(k.isArray(g)&&qv(g)||(k.isFileList(g)||k.endsWith(p,"[]"))&&(C=k.toArray(g)))return p=ih(p),C.forEach(function(w,j){!(k.isUndefined(w)||w===null)&&t.append(o===!0?Cc([p],j,i):o===null?p:p+"[]",u(w))}),!1}return Hi(g)?!0:(t.append(Cc(m,p,i),u(g)),!1)}const f=[],d=Object.assign(Vv,{defaultVisitor:h,convertValue:u,isVisitable:Hi});function x(g,p){if(!k.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),k.forEach(g,function(C,S){(!(k.isUndefined(C)||C===null)&&a.call(t,C,k.isString(S)?S.trim():S,p,d))===!0&&x(C,p?p.concat(S):[S])}),f.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Ec(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Po(e,t){this._pairs=[],e&&Us(e,this,t)}const oh=Po.prototype;oh.append=function(t,n){this._pairs.push([t,n])};oh.toString=function(t){const n=t?function(r){return t.call(this,r,Ec)}:Ec;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Kv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lh(e,t,n){if(!t)return e;const r=n&&n.encode||Kv,a=n&&n.serialize;let i;if(a?i=a(t,n):i=k.isURLSearchParams(t)?t.toString():new Po(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Tc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ch={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yv=typeof URLSearchParams<"u"?URLSearchParams:Po,Wv=typeof FormData<"u"?FormData:null,Gv=typeof Blob<"u"?Blob:null,Jv={isBrowser:!0,classes:{URLSearchParams:Yv,FormData:Wv,Blob:Gv},protocols:["http","https","file","blob","url","data"]},Ao=typeof window<"u"&&typeof document<"u",Zv=(e=>Ao&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Qv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xv=Ao&&window.location.href||"http://localhost",eb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ao,hasStandardBrowserEnv:Zv,hasStandardBrowserWebWorkerEnv:Qv,origin:Xv},Symbol.toStringTag,{value:"Module"})),Tt={...eb,...Jv};function tb(e,t){return Us(e,new Tt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Tt.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function nb(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rb(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function uh(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&k.isArray(a)?a.length:o,c?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&k.isArray(a[o])&&(a[o]=rb(a[o])),!l)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,a)=>{t(nb(r),a,n,0)}),n}return null}function ab(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const da={transitional:ch,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(uh(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tb(t,this.formSerializer).toString();if((l=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Us(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),ab(t)):t}],transformResponse:[function(t){const n=this.transitional||da.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?te.from(l,te.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tt.classes.FormData,Blob:Tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{da.headers[e]={}});const sb=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ib=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&sb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Rc=Symbol("internals");function $r(e){return e&&String(e).trim().toLowerCase()}function Ja(e){return e===!1||e==null?e:k.isArray(e)?e.map(Ja):String(e)}function ob(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const lb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hi(e,t,n,r,a){if(k.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function cb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ub(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ut{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const h=$r(c);if(!h)throw new Error("header name must be a non-empty string");const f=k.findKey(a,h);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Ja(l))}const o=(l,c)=>k.forEach(l,(u,h)=>i(u,h,c));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!lb(t))o(ib(t),n);else if(k.isHeaders(t))for(const[l,c]of t.entries())i(c,l,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=$r(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return ob(a);if(k.isFunction(n))return n.call(this,a,r);if(k.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$r(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||hi(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=$r(o),o){const l=k.findKey(r,o);l&&(!n||hi(r,r[l],l,n))&&(delete r[l],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||hi(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){n[o]=Ja(a),delete n[i];return}const l=t?cb(i):String(i).trim();l!==i&&delete n[i],n[l]=Ja(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Rc]=this[Rc]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=$r(o);r[l]||(ub(a,o),r[l]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}}ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(ut.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(ut);function fi(e,t){const n=this||da,r=t||n,a=ut.from(r.headers);let i=r.data;return k.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function dh(e){return!!(e&&e.__CANCEL__)}function wr(e,t,n){te.call(this,e??"canceled",te.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(wr,te,{__CANCEL__:!0});function hh(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function db(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[i];o||(o=u),n[a]=c,r[a]=u;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const x=h&&u-h;return x?Math.round(d*1e3/x):void 0}}function fb(e,t){let n=0,r=1e3/t,a,i;const o=(u,h=Date.now())=>{n=h,a=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const fs=(e,t,n=3)=>{let r=0;const a=hb(50,250);return fb(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Ic=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Lc=e=>(...t)=>k.asap(()=>e(...t)),gb=Tt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const l=k.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),mb=Tt.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fh(e,t){return e&&!pb(t)?xb(e,t):t}const kc=e=>e instanceof ut?{...e}:e;function kn(e,t){t=t||{};const n={};function r(u,h,f){return k.isPlainObject(u)&&k.isPlainObject(h)?k.merge.call({caseless:f},u,h):k.isPlainObject(h)?k.merge({},h):k.isArray(h)?h.slice():h}function a(u,h,f){if(k.isUndefined(h)){if(!k.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function i(u,h){if(!k.isUndefined(h))return r(void 0,h)}function o(u,h){if(k.isUndefined(h)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,f){if(f in t)return r(u,h);if(f in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h)=>a(kc(u),kc(h),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(h){const f=c[h]||a,d=f(e[h],t[h],h);k.isUndefined(d)&&f!==l||(n[h]=d)}),n}const gh=e=>{const t=kn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=ut.from(o),t.url=lh(fh(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(k.isFormData(n)){if(Tt.hasStandardBrowserEnv||Tt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Tt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&gb(t.url))){const u=a&&i&&mb.read(i);u&&o.set(a,u)}return t},yb=typeof XMLHttpRequest<"u",vb=yb&&function(e){return new Promise(function(n,r){const a=gh(e);let i=a.data;const o=ut.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,h,f,d,x,g;function p(){x&&x(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let m=new XMLHttpRequest;m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout;function C(){if(!m)return;const w=ut.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:e,request:m};hh(function(L){n(L),p()},function(L){r(L),p()},T),m=null}"onloadend"in m?m.onloadend=C:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(C)},m.onabort=function(){m&&(r(new te("Request aborted",te.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new te("Network Error",te.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||ch;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new te(j,T.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&k.forEach(o.toJSON(),function(j,T){m.setRequestHeader(T,j)}),k.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),l&&l!=="json"&&(m.responseType=a.responseType),u&&([d,g]=fs(u,!0),m.addEventListener("progress",d)),c&&m.upload&&([f,x]=fs(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(h=w=>{m&&(r(!w||w.type?new wr(null,e,m):w),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=db(a.url);if(S&&Tt.protocols.indexOf(S)===-1){r(new te("Unsupported protocol "+S+":",te.ERR_BAD_REQUEST,e));return}m.send(i||null)})},bb=(e,t)=>{let n=new AbortController,r;const a=function(c){if(!r){r=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof te?u:new wr(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{a(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",a):c.unsubscribe(a))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=o,[l,()=>{i&&clearTimeout(i),i=null}]},wb=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},jb=async function*(e,t,n){for await(const r of e)yield*wb(ArrayBuffer.isView(r)?r:await n(String(r)),t)},Pc=(e,t,n,r,a)=>{const i=jb(e,t,a);let o=0,l,c=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){c(),u.close();return}let d=f.byteLength;if(n){let x=o+=d;n(x)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},zs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mh=zs&&typeof ReadableStream=="function",qi=zs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ph=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_b=mh&&ph(()=>{let e=!1;const t=new Request(Tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ac=64*1024,Vi=mh&&ph(()=>k.isReadableStream(new Response("").body)),gs={stream:Vi&&(e=>e.body)};zs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!gs[t]&&(gs[t]=k.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,r)})})})(new Response);const Sb=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await qi(e)).byteLength},Cb=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??Sb(t)},Eb=zs&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:d}=gh(e);u=u?(u+"").toLowerCase():"text";let[x,g]=a||i||o?bb([a,i],o):[],p,m;const C=()=>{!p&&setTimeout(()=>{x&&x.unsubscribe()}),p=!0};let S;try{if(c&&_b&&n!=="get"&&n!=="head"&&(S=await Cb(h,r))!==0){let y=new Request(t,{method:"POST",body:r,duplex:"half"}),L;if(k.isFormData(r)&&(L=y.headers.get("content-type"))&&h.setContentType(L),y.body){const[E,R]=Ic(S,fs(Lc(c)));r=Pc(y.body,Ac,E,R,qi)}}k.isString(f)||(f=f?"include":"omit"),m=new Request(t,{...d,signal:x,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:f});let w=await fetch(m);const j=Vi&&(u==="stream"||u==="response");if(Vi&&(l||j)){const y={};["status","statusText","headers"].forEach(D=>{y[D]=w[D]});const L=k.toFiniteNumber(w.headers.get("content-length")),[E,R]=l&&Ic(L,fs(Lc(l),!0))||[];w=new Response(Pc(w.body,Ac,E,()=>{R&&R(),j&&C()},qi),y)}u=u||"text";let T=await gs[k.findKey(gs,u)||"text"](w,e);return!j&&C(),g&&g(),await new Promise((y,L)=>{hh(y,L,{data:T,headers:ut.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:m})})}catch(w){throw C(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,m),{cause:w.cause||w}):te.from(w,w&&w.code,e,m)}}),Ki={http:Hv,xhr:vb,fetch:Eb};k.forEach(Ki,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Oc=e=>`- ${e}`,Tb=e=>k.isFunction(e)||e===null||e===!1,xh={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Tb(n)&&(r=Ki[(o=String(n)).toLowerCase()],r===void 0))throw new te(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Oc).join(`
`):" "+Oc(i[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ki};function gi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wr(null,e)}function Dc(e){return gi(e),e.headers=ut.from(e.headers),e.data=fi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xh.getAdapter(e.adapter||da.adapter)(e).then(function(r){return gi(e),r.data=fi.call(e,e.transformResponse,r),r.headers=ut.from(r.headers),r},function(r){return dh(r)||(gi(e),r&&r.response&&(r.response.data=fi.call(e,e.transformResponse,r.response),r.response.headers=ut.from(r.response.headers))),Promise.reject(r)})}const yh="1.7.3",Oo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Oo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Nc={};Oo.transitional=function(t,n,r){function a(i,o){return"[Axios v"+yh+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new te(a(o," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!Nc[o]&&(Nc[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function Rb(e,t,n){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new te("option "+i+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+i,te.ERR_BAD_OPTION)}}const Yi={assertOptions:Rb,validators:Oo},nn=Yi.validators;class Tn{constructor(t){this.defaults=t,this.interceptors={request:new Tc,response:new Tc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=kn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Yi.assertOptions(r,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),a!=null&&(k.isFunction(a)?n.paramsSerializer={serialize:a}:Yi.assertOptions(a,{encode:nn.function,serialize:nn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[n.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=ut.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let h,f=0,d;if(!c){const g=[Dc.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),d=g.length,h=Promise.resolve(n);f<d;)h=h.then(g[f++],g[f++]);return h}d=l.length;let x=n;for(f=0;f<d;){const g=l[f++],p=l[f++];try{x=g(x)}catch(m){p.call(this,m);break}}try{h=Dc.call(this,x)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)h=h.then(u[f++],u[f++]);return h}getUri(t){t=kn(this.defaults,t);const n=fh(t.baseURL,t.url);return lh(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){Tn.prototype[t]=function(n,r){return this.request(kn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(kn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Tn.prototype[t]=n(),Tn.prototype[t+"Form"]=n(!0)});class Do{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new wr(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Do(function(a){t=a}),cancel:t}}}function Ib(e){return function(n){return e.apply(null,n)}}function Lb(e){return k.isObject(e)&&e.isAxiosError===!0}const Wi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wi).forEach(([e,t])=>{Wi[t]=e});function vh(e){const t=new Tn(e),n=Jd(Tn.prototype.request,t);return k.extend(n,Tn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return vh(kn(e,a))},n}const $e=vh(da);$e.Axios=Tn;$e.CanceledError=wr;$e.CancelToken=Do;$e.isCancel=dh;$e.VERSION=yh;$e.toFormData=Us;$e.AxiosError=te;$e.Cancel=$e.CanceledError;$e.all=function(t){return Promise.all(t)};$e.spread=Ib;$e.isAxiosError=Lb;$e.mergeConfig=kn;$e.AxiosHeaders=ut;$e.formToJSON=e=>uh(k.isHTMLForm(e)?new FormData(e):e);$e.getAdapter=xh.getAdapter;$e.HttpStatusCode=Wi;$e.default=$e;const Bs={LOGIN:"/auth/login",CHECK_TOKEN:"/auth/check",RENEWAL_TOKEN:"/auth/renewal"};function kb(e){return K.post(Bs.LOGIN,{password:zi.encode(e)}).then(t=>t.result)}function Pb(){return K.post(Bs.RENEWAL_TOKEN).then(e=>e.result)}function Ab(){return K.post(Bs.CHECK_TOKEN).then(e=>e.result)}const bh=e=>localStorage.getItem(e),wh=(e,t)=>localStorage.setItem(e,t),Ob=e=>{localStorage.removeItem(e)},Db=(e,t)=>{wh(e,JSON.stringify(t))},Nb=e=>{const t=bh(e);return typeof t=="string"?JSON.parse(t):null},Yt={get:bh,set:wh,remove:Ob,setJSON:Db,getJSON:Nb},No="id_token",$o="token_birth_time",Fo="token_expires_in",jh=()=>Yt.get(No),_h=(e,t)=>{Yt.set(No,e),Yt.set(Fo,String(t)),Yt.set($o,String(+new Date/1e3))},Hs=()=>{Yt.remove(No),Yt.remove(Fo),Yt.remove($o)},Sh=()=>{const e=jh();return(e==null?void 0:e.split(".").length)===3},Ch=()=>{const e=Number(localStorage.getItem(Fo)),n=Number(localStorage.getItem($o))+e,r=+new Date/1e3;return n>r?Math.floor(n-r):0},ms={getToken:jh,setToken:_h,removeToken:Hs,isTokenValid:Sh,getTokenCountdown:Ch};let Gi=null;const Eh=()=>{typeof Gi=="number"&&window.clearTimeout(Gi)},Th=()=>{Eh();const t=Ch()-10;console.debug("Token auto-renewal is working.",`Token will be updated automatically after ${t}s!`),Gi=window.setTimeout(()=>{Pb().then(n=>{_h(n.access_token,n.expires_in),Th()})},t*1e3)},$b="_appLoading_19idb_1",Fb={appLoading:$b},Rh=600,$c=200,Mb={transitionProperty:"all",transitionDuration:`${$c}ms`,transitionDelay:`${Rh-$c}ms`,backgroundColor:"transparent",opacity:0},Ub=e=>{const t=Zt(),{i18n:n}=et(),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),u=async()=>{try{a(!0),console.debug("Token verifying..."),await(Sh()?Promise.resolve():Promise.reject("The local token is invalid")),await Ab(),console.debug("Token verification successful."),a(!1),Th(),o(!0),setTimeout(()=>c(!0),Rh)}catch(h){console.debug("Invalid token, need to log in again.",h),Ot.info({message:n.t("login.invalid_token_message_title"),description:n.t("login.invalid_token_message_description")}),Hs(),t(Xe[de.Hello])}};return Ce(()=>u()),Co(()=>Eh()),s.jsxs("div",{id:"app-auth",children:[i&&e.children,!l&&s.jsx(ue,{align:"center",justify:"center",className:Fb.appLoading,style:i?Mb:{},children:s.jsxs(O,{direction:"vertical",align:"center",children:[s.jsx(ct,{indicator:s.jsx(qf,{spin:!0,style:{fontSize:48}})}),s.jsx(M.Text,{type:"secondary",children:r?n.t("login.verifying_token"):n.t("login.initializing")})]})})]})},mi=(e=!1)=>{const[t,n]=b.useState(e),r=()=>n(!0),a=()=>n(!1);return{state:t,start:r,stop:a,promise:o=>(r(),o.finally(a))}};var zb=typeof Et=="object"&&Et&&Et.Object===Object&&Et,Bb=zb,Hb=Bb,qb=typeof self=="object"&&self&&self.Object===Object&&self,Vb=Hb||qb||Function("return this")(),ha=Vb,Kb=ha,Yb=Kb.Symbol,Ih=Yb,Fc=Ih,Lh=Object.prototype,Wb=Lh.hasOwnProperty,Gb=Lh.toString,Fr=Fc?Fc.toStringTag:void 0;function Jb(e){var t=Wb.call(e,Fr),n=e[Fr];try{e[Fr]=void 0;var r=!0}catch{}var a=Gb.call(e);return r&&(t?e[Fr]=n:delete e[Fr]),a}var Zb=Jb,Qb=Object.prototype,Xb=Qb.toString;function ew(e){return Xb.call(e)}var tw=ew,Mc=Ih,nw=Zb,rw=tw,aw="[object Null]",sw="[object Undefined]",Uc=Mc?Mc.toStringTag:void 0;function iw(e){return e==null?e===void 0?sw:aw:Uc&&Uc in Object(e)?nw(e):rw(e)}var Mo=iw;function ow(e){return e!=null&&typeof e=="object"}var kh=ow,lw=Mo,cw=kh,uw="[object Number]";function dw(e){return typeof e=="number"||cw(e)&&lw(e)==uw}var hw=dw;const fw=Mt(hw),Ph="/option",gw="/archive",Uo={UPLOAD:"/extension/upload",STATISTIC:"/extension/statistic",DATA_BASE_BACKUP:"/extension/database-backup"};function mw(){return K.get(Uo.STATISTIC).then(e=>e.result)}function pw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return K.get("/article/calendar",{params:{timezone:e}}).then(t=>t.result)}function xw(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return K.get("/comment/calendar",{params:{timezone:e}}).then(t=>t.result)}function yw(){return K.patch(gw).then(e=>e.result)}function vw(){return K.patch(Uo.DATA_BASE_BACKUP).then(e=>e.result)}function bw(){return K.get(Ph).then(e=>e.result)}function ww(e){return K.put(Ph,e).then(t=>t.result)}async function jw(e){const t=new FormData;return t.append("file",e.file),t.append("name",e.name),K.post(Uo.UPLOAD,t,{onUploadProgress:({loaded:n,total:r})=>{var a;if(fw(r)){const i=n/r*100;(a=e.onProgress)==null||a.call(e,i)}}}).then(n=>n.result)}const Ah={BATCH_RUN_REPORTS:"/extension/google-analytics/batch-run-reports",BATCH_RUN_PIVOT_REPORTS:"/extension/google-analytics/batch-run-pivot-reports",RUN_REALTIME_REPORT:"/extension/google-analytics/run-realtime-report"};function _w(e){return K.post(Ah.BATCH_RUN_REPORTS,e)}function Sw(e){return K.post(Ah.RUN_REALTIME_REPORT,e)}const Mr=e=>({dateRanges:[{startDate:e.startDate,endDate:e.endDate}],dimensions:e.dimensions.map(t=>({name:t})),metrics:e.metrics.map(t=>({name:t})),keepEmptyRows:e.keepEmptyRows,orderBys:e.orderBys}),Cw=e=>{var t;return((t=e[0])==null?void 0:t.rows)||[]},Ew=e=>{var t;return((t=e[1])==null?void 0:t.rows)||[]},Tw=e=>{var t;return((t=e[2])==null?void 0:t.rows)||[]},Rw=e=>{var t;return((t=e[3])==null?void 0:t.rows)||[]},Iw=e=>{var t;return((t=e[4])==null?void 0:t.rows)||[]},Lw=async(e,t,n)=>_w({requests:[Mr({startDate:e,endDate:t,dimensions:[n],metrics:["activeUsers","screenPageViews","eventCount"],orderBys:[{dimension:{dimensionName:n}}],keepEmptyRows:!0}),Mr({dimensions:["countryId","city"],metrics:["activeUsers"],startDate:e,endDate:t}),Mr({dimensions:["operatingSystem","mobileDeviceModel"],metrics:["activeUsers"],startDate:e,endDate:t}),Mr({dimensions:["pagePath"],metrics:["screenPageViews"],startDate:e,endDate:t}),Mr({dimensions:["pageTitle"],metrics:["screenPageViews"],startDate:e,endDate:t})]}),Za=[{label:"今天",value:"today",gaQueryParams:{getStartDate:()=>"today",getEndDate:()=>"today",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"昨天",value:"yesterday",gaQueryParams:{getStartDate:()=>"yesterday",getEndDate:()=>"yesterday",dimension:"hour"},chartConfig:{xAxisList:()=>Array.from({length:24},(e,t)=>`${t}`),xLabelFormatter:e=>e.padStart(2,"0"),tooltipLabelFormatter:e=>`${e.value.padStart(2,"0")}:00 ~`}},{label:"过去 7 天",value:"7days",gaQueryParams:{getStartDate:()=>"7daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:7},(e,t)=>Qe().subtract(7-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 30 天",value:"30days",gaQueryParams:{getStartDate:()=>"30daysAgo",getEndDate:()=>"yesterday",dimension:"date"},chartConfig:{xAxisList:()=>Array.from({length:30},(e,t)=>Qe().subtract(30-t,"day").format("YYYYMMDD")),xLabelFormatter:e=>{const t=e.slice(4,6),n=e.slice(6,8);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6),r=e.slice(6,8);return`${t}-${n}-${r}`}}},{label:"过去 12 个月",value:"12months",gaQueryParams:{getStartDate:()=>Qe().subtract(12,"month").format("YYYY-MM-DD"),getEndDate:()=>"yesterday",dimension:"yearMonth"},chartConfig:{xAxisList:()=>Array.from({length:13},(e,t)=>Qe().subtract(12-t,"month").format("YYYYMM")),xLabelFormatter:e=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}/${n}`},tooltipLabelFormatter:({value:e})=>{const t=e.slice(0,4),n=e.slice(4,6);return`${t}-${n}`}}}],kw=127397,zo=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+kw)),Pw=(e,t=navigator.language)=>new Intl.DisplayNames([t],{type:"region"}).of(e);Fg([zg,Bg,Hg,qg,Vg,Kg]);const Bo=hr.forwardRef((e,t)=>{const n=b.useRef(null),r=b.useRef(),a=()=>{var i;(i=r.current)==null||i.resize({animation:{duration:300}})};return b.useEffect(()=>{var i;n.current&&(r.current=Mg(n.current)??Ug(n.current,null,{renderer:"svg"}),e.options&&((i=r.current)==null||i.setOption(e.options)))},[n,e.options]),b.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[e.options]),b.useImperativeHandle(t,()=>({instance:()=>r.current})),s.jsx("div",{ref:n,className:e.className,style:e.style})}),Oh=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:e.dataZoom?"58":"2",borderWidth:0,containLabel:!0},series:e.barsData.map(t=>({type:"bar",name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{type:"shadow",label:{show:!0,margin:24,fontFamily:"inherit",fontWeight:"bolder",color:"#fff",backgroundColor:Fn,formatter:e.tooltipLabelFormatter}}},dataZoom:e.dataZoom?[{type:"inside",startValue:e.startValue,endValue:e.endValue},{show:!0,brushSelect:!1,startValue:e.startValue,endValue:e.endValue,borderColor:"var(--app-color-border-secondary)",fillerColor:"var(--app-color-split)",dataBackground:{lineStyle:{color:"var(--app-color-primary-border)"}},selectedDataBackground:{areaStyle:{color:"var(--app-color-primary)"},lineStyle:{color:"var(--app-color-primary)"}},handleStyle:{color:"var(--app-color-bg-base)",borderColor:"var(--app-color-text-quaternary)"},left:2,right:6,bottom:0,height:28,textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}]:[]});function Aw(e){return e==null}var Ow=Aw;const Dw=Mt(Ow);function fa(e){var n;if(Dw(e.data))return s.jsx(M.Text,{type:"secondary",children:e.placeholder??"-"});const t=(n=e.children)==null?void 0:n.call(e,e.data);return typeof t=="string"||typeof t=="number"?s.jsx("span",{children:t}):t||null}const J=e=>s.jsxs(O,{size:"small",className:e.className,children:[e.prefix,s.jsx(fa,{data:e.text,placeholder:e.placeholder,children:t=>s.jsx(M.Text,{copyable:e.copyable,type:e.type,strong:e.strong,children:e.small?s.jsx("small",{children:t}):t})}),e.suffix]}),zc=e=>Sw({dimensions:e.map(t=>({name:t})),metrics:["activeUsers"].map(t=>({name:t}))}),Nw=e=>{const t=b.useRef(),[n,r]=b.useState([]),[a,i]=b.useState([]),o=b.useMemo(()=>{const f=[],d=[];return Array.from({length:30},(x,g)=>{const p=String(Math.abs(g-30)).padStart(2,"0"),m=n.find(S=>S.dimensionValues[0].value===p),C=m==null?void 0:m.metricValues[0].value;f.push(p),d.push(C?Number(C):0)}),{timeList:f,valueList:d}},[n]),l=b.useMemo(()=>o.valueList.reduce((f,d)=>f+d,0),[o]),c=b.useMemo(()=>Oh({xLabelFormatter:f=>`-${Number(f)}分钟`,tooltipLabelFormatter:({value:f})=>`${Number(f)} 分钟前`,categoryData:o.timeList,barsData:[{data:o.valueList,name:"Active Users",color:Fn}]}),[o]),u=()=>{window.clearTimeout(t.current);const f=zc(["minutesAgo"]).then(x=>{r(x.result.data.rows??[])}),d=zc(["countryId","city"]).then(x=>{i(x.result.data.rows??[])});Promise.all([f,d]).then(()=>{t.current=window.setTimeout(u,e.pollIntervalSeconds*1e3)})};Ce(()=>{u()}),Co(()=>{window.clearTimeout(t.current)});const h=f=>s.jsx(Wt,{style:{maxHeight:120,overflowY:"auto"},size:"small",itemLayout:"vertical",dataSource:f,renderItem:(d,x)=>s.jsx(Wt.Item,{style:{paddingInline:0},children:s.jsxs(ue,{justify:"space-between",children:[s.jsx(J,{text:d.dimensionValues[0].value,prefix:zo(d.dimensionValues[0].value),suffix:s.jsx(J,{text:d.dimensionValues[1].value,type:"secondary",small:!0})}),s.jsx(J,{text:d.metricValues[0].value,type:"secondary"})]})},x)});return s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{xs:16,children:s.jsx(Bo,{options:c,style:{width:"100%",height:e.chartHeight}})}),s.jsxs(Ne,{xs:8,children:[s.jsx(cn,{prefix:s.jsx(Dn,{}),title:"Active Users",value:l}),s.jsx(ee,{style:{marginBottom:0,marginTop:14}}),a.length?h(a):s.jsx(Vf,{image:null,imageStyle:{height:"1rem"}})]})]})},$w=e=>({grid:{show:!0,top:"4",left:"0",right:"0",bottom:"0",borderWidth:0,containLabel:!0},series:e.linesData.map(t=>({type:"line",z:t.zIndex,name:t.name,data:t.data,itemStyle:{color:t.color}})),xAxis:[{type:"category",data:e.categoryData,axisTick:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLine:{lineStyle:{color:"var(--app-color-text-quaternary)"}},axisLabel:{formatter:e.xLabelFormatter,fontFamily:"inherit",color:"var(--app-color-text-secondary)"}}],yAxis:[{type:"value",minInterval:1,axisLabel:{fontFamily:"inherit",color:"var(--app-color-text-secondary)",formatter(t){return t?String(t):""}},splitLine:{lineStyle:{type:"dashed",color:"var(--app-color-border-secondary)"}}}],tooltip:{trigger:"axis",confine:!0,borderWidth:0,backgroundColor:"var(--app-color-bg-spotlight)",textStyle:{fontWeight:"bolder",fontFamily:"inherit",color:"var(--app-color-text-light-solid)"},shadowStyle:{color:"var(--app-color-fill-secondary)"},axisPointer:{label:{formatter:e.tooltipLabelFormatter}}}}),Bc={users:0,views:0,events:0},Ur={users:Fn,views:"rgba(255, 145, 0, 0.2)",events:"rgba(128, 128, 128, 0.2)"},Fw=e=>{const t=b.useMemo(()=>Za.find(i=>i.value===e.activeDateRange).chartConfig,[e.activeDateRange]),n=b.useMemo(()=>t.xAxisList(),[t]),r=b.useMemo(()=>{let i=0,o=0,l=0;const c=new Map(n.map(u=>[u,{...Bc}]));return e.rows.forEach(u=>{const h=u.dimensionValues[0].value,[f,d,x]=u.metricValues.map(p=>Number(p.value)),g=c.get(h)??{...Bc};g.users+=f,g.views+=d,g.events+=x,c.set(h,g),i+=f,o+=d,l+=x}),{totalUsers:i,totalViews:o,totalEvents:l,map:c}},[n,e.rows]),a=b.useMemo(()=>{const i=[...r.map.values()],o=i.map(c=>c.users),l=i.map(c=>c.views);return i.map(c=>c.events),$w({xLabelFormatter:t.xLabelFormatter,tooltipLabelFormatter:t.tooltipLabelFormatter,categoryData:n,linesData:[{data:o,name:"Active Users",zIndex:3,color:Ur.users},{data:l,name:"Page Views",zIndex:2,color:Ur.views}]})},[r]);return s.jsxs(ue,{gap:"large",children:[s.jsx(Bo,{options:a,style:{width:"100%",height:e.chartHeight}}),s.jsxs(O,{direction:"vertical",size:"small",style:{width:120},children:[s.jsx(cn,{value:r.totalUsers,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Active Users"}),s.jsx(Xs,{style:{color:Ur.users}})]})}),s.jsx(cn,{value:r.totalViews,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Page Views"}),s.jsx(Xs,{style:{color:Ur.views}})]})}),s.jsx(cn,{value:r.totalEvents,title:s.jsxs(ue,{justify:"space-between",children:[s.jsx("span",{children:"Event Count"}),s.jsx(Xs,{style:{color:Ur.events}})]})})]})]})},Mw="_childList_p2pes_1",Uw="_listItem_p2pes_5",zw="_listItemPercent_p2pes_9",Bw="_percentCore_p2pes_15",Zn={childList:Mw,listItem:Uw,listItemPercent:zw,percentCore:Bw},Hw=e=>{const t=e.data.children??[],[n,r]=b.useState(e.defaultExpanded??!0),a=b.useMemo(()=>Math.floor(e.data.value/e.totalValue*100),[e.data,e.totalValue]),i=()=>{var l,c;return s.jsx(J,{text:e.data.name,strong:e.strongLabel,prefix:typeof e.labelPrefix=="function"?(l=e.labelPrefix)==null?void 0:l.call(e,e.data):e.labelPrefix,suffix:s.jsxs(s.Fragment,{children:[typeof e.labelSuffix=="function"?(c=e.labelSuffix)==null?void 0:c.call(e,e.data):e.labelSuffix,t!=null&&t.length?s.jsx(N,{type:"text",size:"small",icon:n?s.jsx(Kf,{}):s.jsx(Yf,{}),onClick:()=>r(!n)}):null]})})},o=()=>s.jsxs("ul",{className:Zn.childList,children:[t.slice(0,e.limit).map(l=>s.jsx("li",{className:Zn.childItem,children:s.jsxs(ue,{justify:"space-between",children:[s.jsx(J,{text:l.name}),s.jsx(J,{text:l.value,type:"secondary"})]})},l.name)),e.limit&&t.length>e.limit&&s.jsx("li",{className:Zn.childItem,children:s.jsx(Wf,{})})]});return s.jsxs(Wt.Item,{className:Zn.listItem,children:[s.jsx("div",{className:Zn.listItemPercent,children:s.jsx("div",{className:Zn.percentCore,style:{width:`${a}%`}})}),s.jsxs(ue,{justify:"space-between",children:[e.renderLabel?e.renderLabel(e.data):i(),s.jsx("span",{children:e.data.value})]}),t!=null&&t.length&&n?o():null]})},qs=e=>{const t=b.useMemo(()=>{const r=new Map;return e.rows.forEach(a=>{const[i,o]=a.dimensionValues.map(u=>u.value),l=Number(a.metricValues[0].value),c=r.get(i)??{value:0};c.value+=l,c.name=i,o&&(c.children=c.children||[],c.children.push({name:o,value:l})),r.set(i,c)}),[...r.values()]},[e.rows]),n=b.useMemo(()=>t.reduce((r,a)=>r+a.value,0),[t]);return s.jsx(Wt,{size:"small",itemLayout:"vertical",dataSource:t.slice(0,e.limit),renderItem:r=>s.jsx(Hw,{data:r,totalValue:n,limit:e.childrenLimit,defaultExpanded:e.defaultExpanded,strongLabel:e.strongLabel,labelPrefix:e.labelPrefix,labelSuffix:e.labelSuffix,renderLabel:e.renderLabel})})},qw=e=>{const{language:t}=gr();return s.jsx(qs,{rows:e.rows,defaultExpanded:!1,limit:8,strongLabel:!0,labelPrefix:n=>zo(n.name),labelSuffix:n=>Pw(n.name,t)??""})},Vw=e=>e==="Windows"?s.jsx(Gf,{}):e==="Macintosh"?s.jsx(yl,{}):e==="iOS"?s.jsx(yl,{}):e==="Android"?s.jsx(Jf,{}):e==="Linux"?s.jsx(Zf,{}):e.includes("Chrome")?s.jsx(Qf,{}):s.jsx(ws,{}),Kw=e=>s.jsx(qs,{rows:e.rows,limit:8,childrenLimit:100,defaultExpanded:!1,strongLabel:!0,labelPrefix:t=>Vw(t.name)}),ra=0;var st=(e=>(e[e.Auditing=0]="Auditing",e[e.Published=1]="Published",e[e.Deleted=-1]="Deleted",e[e.Spam=-2]="Spam",e))(st||{});const Ho=[{id:0,name:"待审核",icon:s.jsx(Je,{}),color:"blue"},{id:1,name:"已发布",icon:s.jsx(jt,{}),color:"green"},{id:-2,name:"垃圾评论",icon:s.jsx(js,{}),color:"red"},{id:-1,name:"回收站",icon:s.jsx(Ve,{}),color:"orange"}],Yw=new Map(Ho.map(e=>[e.id,e])),Jr=e=>Yw.get(e),qo=e=>{const t=ei.endsWith("/")?ei:`${ei}/`;return e.startsWith("/")?t+e.substring(1,e.length):t+e},Hc=e=>`${oa}${e}`,Dh=`${oa}/article/`,ps=e=>`${Dh}${e}`,Ww=e=>`${oa}/tag/${e}`,Gw=e=>`${oa}/category/${e}`,Nh=()=>`${oa}/guestbook`,Jw=e=>e===ra?Nh():ps(e),Zw=e=>s.jsx(qs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(ir,{placement:"topLeft",title:Hc(t.name),children:s.jsx(M.Link,{href:Hc(t.name),target:"_blank",children:s.jsxs(O,{size:"small",children:[s.jsx(or,{}),t.name]})})})}),Qw=e=>s.jsx(qs,{rows:e.rows,limit:8,renderLabel:t=>s.jsx(ir,{placement:"topLeft",title:t.name,children:s.jsx(M.Text,{style:{maxWidth:"80%"},ellipsis:!0,children:t.name})})});function Vo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function Xw(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const ej="_statisticCard_13tgk_1",tj="_icon_13tgk_4",nj="_divider_13tgk_11",rj="_link_13tgk_14",on={statisticCard:ej,icon:tj,divider:nj,link:rj},$a=e=>s.jsxs(ve,{bordered:!1,className:on.statisticCard,children:[s.jsxs(ue,{justify:"space-between",children:[s.jsx(cn,{valueStyle:{fontWeight:"bold"},loading:e.loading,title:e.title,value:e.value,suffix:e.suffix}),s.jsx("div",{className:on.icon,children:e.icon})]}),s.jsx(ee,{className:on.divider}),e.loading?s.jsx(ao.Input,{block:!0,active:!0,size:"small"}):e.extra]}),aj=(e,t)=>[s.jsx($a,{loading:t,title:"今日阅读（文章 PV）",value:(e==null?void 0:e.todayViews)??"-",suffix:"次",icon:s.jsx(so,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsxs(M.Text,{type:"secondary",children:["累计阅读 ",s.jsx("strong",{children:Vo((e==null?void 0:e.totalViews)??0)})]}),s.jsxs(Vt,{className:on.link,to:Xe[de.ArticlePost],children:[s.jsx(Je,{})," 写文章"]})]})},"views"),s.jsx($a,{loading:t,title:"全站评论",value:(e==null?void 0:e.comments)??"-",suffix:"条",icon:s.jsx(sa,{}),extra:s.jsxs(ue,{justify:"space-between",align:"center",children:[s.jsx(Vt,{className:on.link,to:Xe[de.Comment],children:"管理评论"}),s.jsx(ee,{type:"vertical"}),s.jsx(Vt,{className:on.link,to:Xe[de.Comment]+"?post_id=0",children:"查看留言"})]})},"comments"),s.jsx($a,{loading:t,title:"累计获得喜欢",value:(e==null?void 0:e.totalLikes)??"-",suffix:"次",icon:s.jsx(io,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsx(Xf,{count:5,disabled:!0,allowHalf:!0,value:e==null?void 0:e.averageEmotion}),s.jsx(Vt,{className:on.link,to:Xe[de.Feedback],children:"站点反馈"})]})},"likes"),s.jsx($a,{loading:t,title:"共发布文章",value:(e==null?void 0:e.articles)??"-",suffix:"篇",icon:s.jsx(du,{}),extra:s.jsxs(ue,{justify:"space-between",children:[s.jsxs(M.Text,{type:"secondary",children:[s.jsx("strong",{children:(e==null?void 0:e.tags)??"-"})," 个文章标签"]}),s.jsx(Vt,{className:on.link,to:Xe[de.Tag],children:"管理标签"})]})},"contents")],sj="YYYY-MM-DD",zr="YYYY/MM/DD",ij=e=>{const t=b.useRef(null),n=b.useMemo(()=>Qe(),[]),r=b.useMemo(()=>{if(!e.articleData.length||!e.commentData.length)return null;const c=Qe(e.articleData[0].date),u=Qe(e.commentData[0].date);return c.isBefore(u)?c:u},[e.articleData,e.commentData]),a=b.useMemo(()=>{if(!r)return null;const c=new Map(e.articleData.flatMap(g=>[[g.date,g.count]])),u=new Map(e.commentData.flatMap(g=>[[g.date,g.count]])),h=n.diff(r,"day"),f=[],d=[],x=[];for(let g=0;g<=h;g++){const p=r.add(g,"day"),m=p.format(sj),C=p.format(zr);f.push(C),d.push(c.get(m)||0),x.push(u.get(m)||0)}return{dateList:f,articleCountList:d,commentCountList:x}},[r,e.articleData,e.commentData]),i=b.useMemo(()=>Oh({dataZoom:!0,startValue:n.subtract(3,"months").format(zr),endValue:n.format(zr),categoryData:(a==null?void 0:a.dateList)??[],barsData:[{data:(a==null?void 0:a.articleCountList)??[],name:"Articles",color:Fn},{data:(a==null?void 0:a.commentCountList)??[],name:"Comments",color:"#f8981d"}]}),[a]),o=()=>{var c,u;(u=(c=t.current)==null?void 0:c.instance())==null||u.dispatchAction({type:"dataZoom",dataZoomIndex:0,start:0,end:100})},l=c=>{var u,h;(h=(u=t.current)==null?void 0:u.instance())==null||h.dispatchAction({type:"dataZoom",dataZoomIndex:0,startValue:c.format(zr),endValue:Qe().format(zr)})};return s.jsx(ve,{bordered:!1,title:e.title,loading:e.loading,extra:s.jsxs(O,{wrap:!0,children:[s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{onClick:()=>l(Qe().subtract(1,"month")),children:"最近一月"}),s.jsx(N,{onClick:()=>l(Qe().subtract(3,"months")),children:"最近三个月"}),s.jsx(N,{onClick:()=>l(Qe().subtract(1,"year")),children:"最近一年"}),s.jsx(N,{onClick:o,children:"全部视图"})]}),s.jsx(ee,{type:"vertical"}),e.cardExtra]}),children:s.jsx(Bo,{ref:t,options:i,style:{width:"100%",height:e.height}})})},oj="_dashboardPage_1jxrl_1",lj="_gaChartContent_1jxrl_4",cj="_gaTreeListContent_1jxrl_8",yn={dashboardPage:oj,gaChartContent:lj,gaTreeListContent:cj},uj=()=>{const e=mi(),[t,n]=b.useState([]),[r,a]=b.useState([]),i=async()=>{const C=Promise.all([pw(),xw()]),[S,w]=await e.promise(C);n(S),a(w)},o=mi(),[l,c]=b.useState(null),u=()=>{o.promise(mw()).then(C=>{c(C)})},h=b.useMemo(()=>aj(l,o.state),[l,o.state]),f=mi(),[d,x]=b.useState([]),[g,p]=b.useState(Za[0].value),m=()=>{const C=Za.find(y=>y.value===g),{getStartDate:S,getEndDate:w,dimension:j}=C.gaQueryParams,T=Lw(S(),w(),j);f.promise(T).then(y=>{var L,E;x(((E=(L=y.result)==null?void 0:L.data)==null?void 0:E.reports)??[])})};return b.useEffect(()=>m(),[g]),Ce(()=>{u(),i()}),s.jsxs(O,{direction:"vertical",size:ku,className:yn.dashboardPage,children:[s.jsx(Dt,{gutter:[qe,qe],children:h.map((C,S)=>s.jsx(Ne,{xs:24,md:12,lg:6,children:C},S))}),s.jsx(Dt,{gutter:[qe,qe],children:s.jsx(Ne,{xs:24,children:s.jsx(ij,{title:"日历纵览",height:220,articleData:t,commentData:r,loading:e.state,cardExtra:s.jsx(N,{size:"small",loading:e.state,icon:s.jsx(it,{}),onClick:()=>i()})})})}),s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{xs:24,md:24,lg:9,children:s.jsx(ve,{bordered:!1,classNames:{body:yn.gaChartContent},title:"GA Realtime（过去 30 分钟）",children:s.jsx(Nw,{pollIntervalSeconds:10,chartHeight:200})})}),s.jsx(Ne,{xs:24,md:24,lg:15,children:s.jsx(ve,{bordered:!1,classNames:{body:yn.gaChartContent},loading:f.state,title:"GA Overview",extra:s.jsxs(O,{wrap:!0,children:[s.jsx(za.Group,{options:Za,onChange:C=>p(C.target.value),value:g,disabled:f.state,optionType:"button",size:"small"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",loading:f.state,icon:s.jsx(it,{}),onClick:()=>m()})]}),children:!f.state&&s.jsx(Fw,{chartHeight:200,activeDateRange:g,rows:Cw(d)})})})]}),s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Regions Rank",loading:f.state,classNames:{body:yn.gaTreeListContent},children:!f.state&&s.jsx(qw,{rows:Ew(d)})})}),s.jsx(Ne,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Devices Rank",loading:f.state,classNames:{body:yn.gaTreeListContent},children:!f.state&&s.jsx(Kw,{rows:Tw(d)})})}),s.jsx(Ne,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Urls Rank",loading:f.state,classNames:{body:yn.gaTreeListContent},children:!f.state&&s.jsx(Zw,{rows:Rw(d)})})}),s.jsx(Ne,{xs:24,md:12,lg:6,children:s.jsx(ve,{bordered:!1,title:"GA Page Titles Rank",loading:f.state,classNames:{body:yn.gaTreeListContent},children:!f.state&&s.jsx(Qw,{rows:Iw(d)})})})]})]})};var dj=function(e,t){e===void 0&&(e=!1),t===void 0&&(t=fd);var n=t(e),r=function(){n.value=!0},a=function(){n.value=!1},i=function(o){return r(),o.finally(a)};return{state:n,start:r,stop:a,promise:i}},he=function(e){return e===void 0&&(e=!1),dj(e,X)},hj=4,fj=.001,gj=1e-7,mj=10,Kr=11,Fa=1/(Kr-1),pj=typeof Float32Array=="function";function $h(e,t){return 1-3*t+3*e}function Fh(e,t){return 3*t-6*e}function Mh(e){return 3*e}function xs(e,t,n){return(($h(t,n)*e+Fh(t,n))*e+Mh(t))*e}function Uh(e,t,n){return 3*$h(t,n)*e*e+2*Fh(t,n)*e+Mh(t)}function xj(e,t,n,r,a){var i,o,l=0;do o=t+(n-t)/2,i=xs(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>gj&&++l<mj);return o}function yj(e,t,n,r){for(var a=0;a<hj;++a){var i=Uh(t,n,r);if(i===0)return t;var o=xs(t,n,r)-e;t-=o/i}return t}function vj(e){return e}var bj=function(t,n,r,a){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&r===a)return vj;for(var i=pj?new Float32Array(Kr):new Array(Kr),o=0;o<Kr;++o)i[o]=xs(o*Fa,t,r);function l(c){for(var u=0,h=1,f=Kr-1;h!==f&&i[h]<=c;++h)u+=Fa;--h;var d=(c-i[h])/(i[h+1]-i[h]),x=u+d*Fa,g=Uh(x,t,r);return g>=fj?yj(c,x,t,r):g===0?x:xj(c,u,u+Fa,t,r)}return function(u){return u===0?0:u===1?1:xs(l(u),n,a)}};const qc=Mt(bj),wj={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Ma={$(e){return document.querySelector(e)},on(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.addEventListener(r,n,{passive:!0})})},off(e,t,n){Array.isArray(t)||(t=[t]),t.forEach(r=>{e.removeEventListener(r,n)})}},ot=(e,t=500,n={})=>{n.easing=wj.ease;const r=Ma.$("html, body"),a=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let i=!1;const o=function(){i=!0};Ma.on(r,a,o);let l=0;const c=window.pageYOffset;if(typeof e=="number")l=e;else{const g=typeof e=="string"?Ma.$(e):e;l=c+g.getBoundingClientRect().top}let u=document.body.scrollHeight-l<window.innerHeight?document.body.scrollHeight-window.innerHeight:l;n.offset&&(u+=n.offset);const h=u-c,f=Reflect.apply(qc,qc,n.easing);let d;const x=function(){Ma.off(r,a,o),i&&n.onCancel&&n.onCancel(),!i&&n.onDone&&n.onDone()};h&&window.requestAnimationFrame(function g(p){if(i)return x();d||(d=p);const m=p-d;let C=Math.min(m/t,1);C=f(C),window.scrollTo(0,c+h*C),m<t?window.requestAnimationFrame(g):x()})},jr=e=>s.jsx(hu,{className:e.className,disabled:e.disabled,menu:{items:e.options.map((t,n)=>({key:n,icon:t.icon,label:t.label,onClick:t.onClick}))},children:s.jsx(N,{disabled:e.disabled,icon:s.jsx(eg,{}),iconPosition:"end",children:e.text??e.children})});var zh=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(zh||{});const Ko=[{id:0,name:"原创",icon:s.jsx(Je,{}),color:"default"},{id:1,name:"转载",icon:s.jsx(oo,{}),color:"default"},{id:2,name:"衍生",icon:s.jsx(tg,{}),color:"default"}],jj=new Map(Ko.map(e=>[e.id,e])),_j=e=>jj.get(e);var Bh=(e=>(e[e.Reserve=0]="Reserve",e[e.Public=1]="Public",e[e.Secret=-1]="Secret",e))(Bh||{});const Yo=[{id:1,name:"公开",icon:s.jsx(ng,{}),color:"green"},{id:-1,name:"私密",icon:s.jsx(rg,{}),color:"red"},{id:0,name:"保留",icon:s.jsx(js,{}),color:"orange"}],Sj=new Map(Yo.map(e=>[e.id,e])),Cj=e=>Sj.get(e);var Ct=(e=>(e[e.Draft=0]="Draft",e[e.Published=1]="Published",e[e.Recycle=-1]="Recycle",e))(Ct||{});const Wo=[{id:0,name:"草稿",icon:s.jsx(Je,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(jt,{}),color:"green"},{id:-1,name:"回收站",icon:s.jsx(Ve,{}),color:"red"}],Ej=new Map(Wo.map(e=>[e.id,e])),Ji=e=>Ej.get(e),pi=({emoji:e})=>s.jsx("span",{style:{transform:"scale(1.3)",display:"inline-block"},children:e});var Hh=(e=>(e.English="en",e.Chinese="zh",e.Mixed="mix",e))(Hh||{});const Go=[{id:"zh",name:"中文",icon:s.jsx(pi,{emoji:"🇨🇳"})},{id:"en",name:"English",icon:s.jsx(pi,{emoji:"🇺🇸"})},{id:"mix",name:"多语言",icon:s.jsx(pi,{emoji:"🌐"})}];new Map(Go.map(e=>[e.id,e]));const _r="/article";function Tj(e={}){return K.get(_r,{params:e}).then(t=>t.result)}function qh(e){return K.get(`${_r}/${e}`).then(t=>t.result)}function Rj(e){return K.post(_r,e).then(t=>t.result)}function Ij(e){return K.put(`${_r}/${e._id}`,e).then(t=>t.result)}function Vc(e,t){return K.patch(_r,{article_ids:e,state:t}).then(n=>n.result)}function Lj(e){return K.delete(_r,{data:{article_ids:e}}).then(t=>t.result)}const Vh=1,Kh=-1;var Pn=(e=>(e[e.Asc=Vh]="Asc",e[e.Desc=Kh]="Desc",e))(Pn||{}),An=(e=>(e[e.Asc=Vh]="Asc",e[e.Desc=Kh]="Desc",e[e.Hot=2]="Hot",e))(An||{});const kj=[{id:An.Desc,name:"最新",icon:s.jsx(ag,{})},{id:An.Asc,name:"最早",icon:s.jsx(sg,{})},{id:2,name:"最热",icon:s.jsx(ig,{})}],Pj=new Map(kj.map(e=>[e.id,e])),Kc=e=>Pj.get(e),Mn=e=>{const t=[Pn.Desc,Pn.Asc],n=e.withHot?[...t,An.Hot]:t;return s.jsx(je,{className:e.className,style:e.style,loading:e.loading,disabled:e.disabled,value:e.value,onChange:e.onChange,options:n.map(r=>({value:r,label:s.jsxs(O,{size:"small",children:[Kc(r).icon,Kc(r).name]})}))})},Sr="/tag";function Aj(e={}){return K.get(Sr,{params:e}).then(t=>t.result)}function Yh(){return K.get(`${Sr}/all`).then(e=>e.result)}function Oj(e){return K.post(Sr,e).then(t=>t.result)}function Dj(e){return K.put(`${Sr}/${e._id}`,e).then(t=>t.result)}function Nj(e){return K.delete(`${Sr}/${e}`).then(t=>t.result)}function $j(e){return K.delete(Sr,{data:{tag_ids:e}}).then(t=>t.result)}var Jo={};(function(e){var t=Et&&Et.__assign||function(){return(t=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o}).apply(this,arguments)},n=(Object.defineProperty(e,"__esModule",{value:!0}),{id:"id",parentId:"parentId",dataField:"data",childrenField:"children",throwIfOrphans:!1,rootParentIds:{"":!(e.countNodes=e.arrayToTree=void 0)},nestedIds:!0,assign:!1});function r(o,l){l===void 0&&(l={});for(var c,u=t(t({},n),l),h=[],f={},d=u.throwIfOrphans?new Set:null,x=0,g=o;x<g.length;x++){var p=g[x],m=u.nestedIds?i(p,u.id):p[u.id],C=u.nestedIds?i(p,u.parentId):p[u.parentId];if(u.rootParentIds[m])throw new Error("The item array contains a node whose parentId both exists in another node and is in "+'`rootParentIds` (`itemId`: "'.concat(m,'", `rootParentIds`: ').concat(Object.keys(u.rootParentIds).map(function(S){return'"'.concat(S,'"')}).join(", "),")."));Object.prototype.hasOwnProperty.call(f,m)||(f[m]=((c={})[u.childrenField]=[],c)),d&&d.delete(m),u.dataField?f[m][u.dataField]=p:u.assign?f[m]=Object.assign(p,((c={})[u.childrenField]=f[m][u.childrenField],c)):f[m]=t(t({},p),((p={})[u.childrenField]=f[m][u.childrenField],p)),p=f[m],C==null||u.rootParentIds[C]?h.push(p):(Object.prototype.hasOwnProperty.call(f,C)||(f[C]=((m={})[u.childrenField]=[],m),d&&d.add(C)),f[C][u.childrenField].push(p))}if(d!=null&&d.size)throw new Error("The items array contains orphans that point to the following parentIds: "+"[".concat(Array.from(d),"]. These parentIds do not exist in the items array. Hint: prevent orphans to result ")+"in an error by passing the following option: { throwIfOrphans: false }");if(u.throwIfOrphans&&a(h,u.childrenField)<Object.keys(f).length)throw new Error("The items array contains nodes with a circular parent/child relationship.");return h}function a(o,l){return o.reduce(function(c,u){return c+1+(u[l]&&a(u[l],l))},0)}function i(o,l){return l.split(".").reduce(function(c,u){return c&&c[u]},o)}e.arrayToTree=r,e.countNodes=a})(Jo);const Vs="/category";function Zo(){return K.get(`${Vs}/all`).then(e=>({list:e.result,tree:Jo.arrayToTree(e.result,{id:"_id",parentId:"pid",childrenField:"children",dataField:null})}))}function Qo(e){const t=n=>n.map(r=>{var a;return{data:r,title:r.name,key:e.valuer(r),value:e.valuer(r),disabled:((a=e.disabledWhen)==null?void 0:a.call(e,r))??!1,children:t(r.children||[])}});return t(e.tree)}function Fj(e){return K.post(Vs,e).then(t=>t.result)}function Mj(e){return K.put(`${Vs}/${e._id}`,e).then(t=>t.result)}function Uj(e){return K.delete(`${Vs}/${e}`).then(t=>t.result)}const He="ALL",Yc={sort:An.Desc,featured:!1,tag_slug:He,category_slug:He,public:He,state:He,origin:He,lang:He},zj=e=>({sort:e.sort,featured:e.featured?!0:void 0,tag_slug:e.tag_slug!==He?e.tag_slug:void 0,category_slug:e.category_slug!==He?e.category_slug:void 0,state:e.state!==He?e.state:void 0,public:e.public!==He?e.public:void 0,origin:e.origin!==He?e.origin:void 0,lang:e.lang!==He?e.lang:void 0}),Bj=e=>{const{i18n:t}=et(),n=he(),r=Rt([]),a=()=>{n.promise(Zo()).then(c=>{r.value=c.tree})},i=he(),o=Rt([]),l=()=>{i.promise(Yh()).then(c=>{o.value=c})};return Ce(()=>{l(),a()}),s.jsxs(ue,{justify:"space-between",align:"start",gap:"middle",wrap:!0,children:[s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.featured?"primary":"default",icon:e.params.featured?s.jsx(lo,{}):s.jsx(co,{}),onClick:()=>e.onParamsChange({featured:!e.params.featured}),children:t.t("page.article.list.filter.featured")}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:c=>e.onParamsChange({state:c}),options:[{label:"全部状态",value:He},...Wo.map(c=>({value:c.id,label:s.jsxs(O,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(je,{style:{width:106},disabled:e.loading,value:e.params.public,onChange:c=>e.onParamsChange({public:c}),options:[{label:"全部可见",value:He},...Yo.map(c=>({value:c.id,label:s.jsxs(O,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(je,{style:{width:106},disabled:e.loading,value:e.params.origin,onChange:c=>e.onParamsChange({origin:c}),options:[{label:"全部来源",value:He},...Ko.map(c=>({value:c.id,label:s.jsxs(O,{size:"small",children:[c.icon,c.name]})}))]}),s.jsx(je,{style:{width:114},disabled:e.loading,value:e.params.lang,onChange:c=>e.onParamsChange({lang:c}),options:[{label:"全部语言",value:He},...Go.map(c=>({value:c.id,label:s.jsxs(O,{size:"small",children:[c.icon,c.name]})}))]}),s.jsxs(O.Compact,{children:[s.jsx(fu,{style:{width:150},loading:n.state.value,placeholder:"选择父分类",treeDefaultExpandAll:!0,disabled:e.loading,value:e.params.category_slug,onChange:c=>e.onParamsChange({category_slug:c}),treeData:[{label:"全部分类",key:He,value:He},...Qo({tree:r.value,valuer:c=>c.slug})]}),s.jsx(je,{style:{width:140},loading:i.state.value,disabled:e.loading,value:e.params.tag_slug,onChange:c=>e.onParamsChange({tag_slug:c}),options:[{label:"全部标签",value:He},...o.value.map(c=>({value:c.slug,label:`${c.name} (${c.article_count})`}))]})]})]}),s.jsxs(O,{wrap:!0,children:[s.jsx(Mn,{style:{width:110},disabled:e.loading,withHot:!0,value:e.params.sort,onChange:c=>e.onParamsChange({sort:c})}),s.jsx(ie.Search,{style:{width:260},placeholder:t.t("page.article.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:c=>e.onKeywordChange(c.target.value),allowClear:!0,onSearch:(c,u,h)=>{(h==null?void 0:h.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]})]}),s.jsx(O,{children:e.extra})]})},KT=e=>{var t;return(t=Qe(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Fe=e=>{var t;return(t=Qe(e))==null?void 0:t.format("YYYY-MM-DD HH:mm:ss")},Hj=e=>{var t,n,r;return s.jsx(mn,{rowKey:a=>a._id,loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id",responsive:["md"]},{title:"文章",width:360,dataIndex:"title",render:(a,i)=>s.jsx(gu.Ribbon,{color:i.featured?Fn:"transparent",text:i.featured?"精选":null,children:s.jsxs(ve,{size:"small",bordered:!1,styles:{body:{minHeight:"108px"}},style:{margin:"var(--app-padding-xs) 0",background:`linear-gradient(
                  to right bottom,
                  rgba(0, 0, 0, 0.8),
                  rgba(0, 0, 0, 0.4)
                ),
                url("${i.thumbnail}") center / cover`},children:[s.jsx(M.Title,{level:5,style:{marginTop:"var(--app-padding-xs)",color:"white"},children:i.title}),s.jsx(M.Paragraph,{style:{color:"rgba(255, 255, 255, 0.65)"},ellipsis:{rows:2,expandable:!0},children:i.description})]})})},{title:"标签",width:110,dataIndex:"tags",render(a,i){return s.jsx(O,{direction:"vertical",size:"small",wrap:!0,children:i.tags.map(o=>s.jsx(Ft,{style:{cursor:"pointer"},icon:s.jsx(mu,{}),onClick:()=>e.onClickTag(o),children:o.name},o._id))})}},{title:"被关注",width:150,dataIndex:"meta",render(a,i){var o,l,c;return s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{size:"small",children:[s.jsx(so,{}),"浏览 ",Vo(((o=i.meta)==null?void 0:o.views)??0)," 次"]}),s.jsxs(O,{size:"small",children:[s.jsx(io,{}),"喜欢 ",(l=i.meta)==null?void 0:l.likes," 次"]}),s.jsxs(O,{size:"small",children:[s.jsx(sa,{}),"评论 ",(c=i.meta)==null?void 0:c.comments," 条"]})]})}},{title:"分类 / 更新周期",width:220,dataIndex:"created_at",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsxs("div",{children:["分类：",i.categories.map((o,l)=>s.jsxs("span",{children:[s.jsx(M.Link,{onClick:()=>e.onClickCategory(o),children:o.name}),i.categories[l+1]?s.jsx(ee,{type:"vertical"}):""]},l))]}),s.jsxs("div",{children:["发布：",Fe(i.created_at)]}),s.jsxs("div",{children:["更新：",Fe(i.updated_at)]})]})}},{title:"状态",width:100,dataIndex:"state",render:(a,i)=>s.jsx(O,{direction:"vertical",children:[Ji(i.state),Cj(i.public),_j(i.origin)].map(o=>s.jsx(Ft,{icon:o.icon,color:o.color,children:o.name},o.id+o.name))})},{title:"操作",width:110,dataIndex:"actions",render:(a,i)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(Vt,{to:dl.articleDetail(i._id),children:s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Je,{}),children:"文章详情"})}),i.state===Ct.Draft&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(jt,{}),onClick:()=>e.onUpdateState(i,Ct.Published),children:s.jsx(M.Text,{type:"success",children:"直接发布"})}),i.state===Ct.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onUpdateState(i,Ct.Recycle),children:"移回收站"}),i.state===Ct.Recycle&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(pu,{}),onClick:()=>e.onUpdateState(i,Ct.Draft),children:s.jsx(M.Text,{type:"warning",children:"退至草稿"})}),s.jsx(N,{size:"small",block:!0,type:"link",target:"_blank",icon:s.jsx(ia,{}),href:ps(i.id),children:"宿主页面"})]})}]})},qj=()=>{var f;const{i18n:e}=et(),t=he(),n=Gt({data:[],pagination:void 0}),r=X([]),a=X(""),i=X({...Yc}),o=(d={})=>{a.value="",i.value={...Yc,...d}},l=d=>{const x={...d,...zj(i.value),keyword:a.value||void 0};t.promise(Tj(x)).then(g=>{n.data=g.data,n.pagination=g.pagination,ot(document.body)})},c=()=>{var d,x;l({page:(d=n.pagination)==null?void 0:d.current_page,per_page:(x=n.pagination)==null?void 0:x.per_page})},u=(d,x)=>{const g=Ji(x).name;Re.confirm({title:`确定要将此文章更新为「 ${g} 」状态吗？`,content:`《${d.title}》`,centered:!0,onOk:()=>Vc([d._id],x).then(()=>{c()})})},h=(d,x)=>{const g=Ji(x).name;Re.confirm({title:`确定要将 ${d.length} 个文章更新为「 ${g} 」状态吗？`,content:"请确认操作",centered:!0,onOk:()=>Vc(d,x).then(()=>{c()})})};return _t(()=>i.value,()=>l(),{deep:!0}),Ce(()=>{l()}),s.jsxs(ve,{bordered:!1,title:e.t("page.article.list.title",{total:((f=n.pagination)==null?void 0:f.total)??"-"}),extra:s.jsx(Vt,{to:Xe[de.ArticlePost],children:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Je,{}),children:e.t("page.article.create")})}),children:[s.jsx(Bj,{loading:t.state.value,keyword:a.value,onKeywordChange:d=>a.value=d,onKeywordSearch:()=>l(),params:i.value,onParamsChange:d=>Object.assign(i.value,d),onResetRefresh:()=>o({}),extra:s.jsx(jr,{text:"批量操作",disabled:!r.value.length,options:[{label:"退为草稿",icon:s.jsx(pu,{}),onClick:()=>h(r.value,Ct.Draft)},{label:"直接发布",icon:s.jsx(jt,{}),onClick:()=>h(r.value,Ct.Published)},{label:"移回收站",icon:s.jsx(Ve,{}),onClick:()=>h(r.value,Ct.Recycle)}]})}),s.jsx(ee,{}),s.jsx(Hj,{loading:t.state.value,data:n.data,pagination:n.pagination,selectedIds:r.value,onSelect:d=>r.value=d,onPaginate:(d,x)=>l({page:d,per_page:x}),onUpdateState:(d,x)=>u(d,x),onClickCategory:({slug:d})=>o({category_slug:d}),onClickTag:({slug:d})=>o({tag_slug:d})})]})};function Vj(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ks=Vj,Kj=ha,Yj=function(){return Kj.Date.now()},Wj=Yj,Gj=/\s/;function Jj(e){for(var t=e.length;t--&&Gj.test(e.charAt(t)););return t}var Zj=Jj,Qj=Zj,Xj=/^\s+/;function e0(e){return e&&e.slice(0,Qj(e)+1).replace(Xj,"")}var t0=e0,n0=Mo,r0=kh,a0="[object Symbol]";function s0(e){return typeof e=="symbol"||r0(e)&&n0(e)==a0}var i0=s0,o0=t0,Wc=Ks,l0=i0,Gc=NaN,c0=/^[-+]0x[0-9a-f]+$/i,u0=/^0b[01]+$/i,d0=/^0o[0-7]+$/i,h0=parseInt;function f0(e){if(typeof e=="number")return e;if(l0(e))return Gc;if(Wc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=o0(e);var n=u0.test(e);return n||d0.test(e)?h0(e.slice(2),n?2:8):c0.test(e)?Gc:+e}var g0=f0,m0=Ks,xi=Wj,Jc=g0,p0="Expected a function",x0=Math.max,y0=Math.min;function v0(e,t,n){var r,a,i,o,l,c,u=0,h=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(p0);t=Jc(t)||0,m0(n)&&(h=!!n.leading,f="maxWait"in n,i=f?x0(Jc(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function x(y){var L=r,E=a;return r=a=void 0,u=y,o=e.apply(E,L),o}function g(y){return u=y,l=setTimeout(C,t),h?x(y):o}function p(y){var L=y-c,E=y-u,R=t-L;return f?y0(R,i-E):R}function m(y){var L=y-c,E=y-u;return c===void 0||L>=t||L<0||f&&E>=i}function C(){var y=xi();if(m(y))return S(y);l=setTimeout(C,p(y))}function S(y){return l=void 0,d&&r?x(y):(r=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function j(){return l===void 0?o:S(xi())}function T(){var y=xi(),L=m(y);if(r=arguments,a=this,c=y,L){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(C,t),x(c)}return l===void 0&&(l=setTimeout(C,t)),o}return T.cancel=w,T.flush=j,T}var b0=v0;const w0=Mt(b0);var aa=(e=>(e.Markdown="markdown",e.JSON="json",e.YAML="yaml",e))(aa||{});const j0=[{id:"markdown",name:"Markdown",ext:"md"},{id:"json",name:"JSON",ext:"json"},{id:"yaml",name:"YAML",ext:"yaml"}],YT=new Map(j0.map(e=>[e.id,e])),Wh=e=>`uneditor-${e}`,WT=w0((e,t)=>Yt.set(Wh(e),t),666),_0=e=>Yt.get(Wh(e)),S0=hr.lazy(()=>Yg(()=>import("./Editor-bMIaFJf6.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>({default:e.UniversalEditor}))),dr=e=>s.jsx(hr.Suspense,{fallback:s.jsx(ve,{size:"small",loading:!0}),children:s.jsx(S0,{...e})}),C0=e=>t=>s.jsx(Ou,{initTheme:e.initTheme,children:s.jsx(Lu,{initLanguage:e.initLanguage,children:s.jsx(dr,{...t})})}),Zi=e=>navigator.clipboard.writeText(e),E0=3e6;var Gh=(e=>(e.FileSizeLimit="fileSizeLimit",e.Failure="failure",e))(Gh||{});const Jh=()=>{const e=he(),t=X(!1),n=X(0);return{upload:(a,i=null,o)=>{if(a.size>E0)return Promise.reject({code:"fileSizeLimit"});t.value=!0,n.value=0;const l=(i??a.name).replace(/ /gi,"");return console.debug("[upoader]","Start uploading:",l),e.promise(jw({file:a,name:l,onProgress:c=>{var u;console.debug("[upoader]","New upload progress:",c),t.value=!0,n.value=c*100,(u=o==null?void 0:o.onProgress)==null||u.call(o,c)}}).then(c=>(console.debug("[upoader]","Upload completed:",c.url),c)).catch(c=>(console.warn("[upoader]","Upload failed:",c),Promise.reject({code:"failure",error:c}))).finally(()=>{t.value=!1}))},uploading:e,progressing:t,progress:n}},ys=e=>`![](${e})`,T0="_imageUploader_1yty1_1",R0="_copyMarkdown_1yty1_4",I0="_uploader_1yty1_7",L0="_tigger_1yty1_15",k0="_image_1yty1_1",Br={imageUploader:T0,copyMarkdown:R0,uploader:I0,tigger:L0,image:k0},Zh=(e,t)=>`${t?`${t}/`:""}${e.name.replace(/ /gi,"")}`,Qh=e=>{const{i18n:t}=et(),n=Jh(),r=a=>{Ot.info({message:t.t("component.image_uploader.state.start"),description:a.name}),n.upload(a,Zh(a,e.directory)).then(i=>{var o;(o=e.onChange)==null||o.call(e,i.url),Ot.success({message:t.t("component.image_uploader.state.succeeded"),description:i.key})}).catch(i=>{var o;Ot.error({message:t.t("component.image_uploader.state.failed"),description:i.code===Gh.Failure?String(((o=i.error)==null?void 0:o.message)??i.error):i.code})})};return s.jsxs(O,{direction:"vertical",className:Br.imageUploader,children:[s.jsx(uo,{name:"file",listType:"picture-card",className:Br.uploader,maxCount:1,showUploadList:!1,disabled:n.uploading.state.value,onRemove:()=>{var a;return(a=e.onChange)==null?void 0:a.call(e,"")},customRequest:a=>{a.file&&r(a.file)},children:e.value?s.jsx("img",{className:Br.image,src:e.value,alt:e.value}):s.jsxs(O,{className:Br.tigger,direction:"vertical",align:"center",size:"small",children:[n!=null&&n.uploading.state.value?s.jsx(xu,{}):s.jsx(Nn,{}),n!=null&&n.uploading.state.value?"UPLOADING...":"UPLOAD"]})}),!e.disabledInput&&s.jsx(ie,{allowClear:!0,placeholder:t.t("component.image_uploader.input.placeholder"),prefix:s.jsx(or,{}),value:e.value,onChange:a=>{var i;return(i=e.onChange)==null?void 0:i.call(e,a.target.value)}}),!e.disabledMarkdown&&e.value&&s.jsxs(O.Compact,{className:Br.copyMarkdown,children:[s.jsx(ie,{style:{width:"calc(100% - 32px - 1px)"},readOnly:!0,placeholder:"Markdown image",prefix:s.jsx(og,{}),value:ys(e.value)}),s.jsx(ir,{title:"Copy Markdown",children:s.jsx(N,{icon:s.jsx(oo,{}),onClick:()=>Zi(ys(e.value))})})]})]})},P0="_inputWrapper_kev5k_1",A0="_inputGroup_kev5k_4",Zc={inputWrapper:P0,inputGroup:A0},ga=e=>s.jsx(P.List,{name:e.fieldName,children:(t,{add:n,remove:r})=>s.jsxs(O,{direction:"vertical",size:"middle",className:Zc.inputWrapper,children:[t.map(a=>s.jsxs(O,{size:"middle",className:Zc.inputGroup,children:[s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"name"],children:s.jsx(ie,{placeholder:"Name"})}),s.jsx(P.Item,{noStyle:!0,required:!0,name:[a.name,"value"],children:s.jsx(ie,{placeholder:"Value"})}),s.jsx(N,{icon:s.jsx(Ve,{}),danger:!0,type:"dashed",onClick:()=>r(a.name)})]},a.name)),s.jsx(N,{block:!0,type:"dashed",icon:s.jsx(Nn,{}),onClick:()=>n(),children:s.jsx("span",{children:s.jsx(mr,{i18nKey:"component.form_key_value.add"})})})]})});function O0(e){let t=JSON.stringify(e.initValue,null,2);const n=C0({initTheme:e.initTheme,initLanguage:e.initLanguage});return Re.confirm({width:"60vw",title:e.title,icon:null,centered:!0,closable:!0,okText:_n.t("component.modal_json_editor.save"),content:s.jsx("div",{style:{display:"grid",width:"100%"},children:s.jsx(n,{value:t,onChange:r=>t=r,placeholder:_n.t("component.modal_json_editor.placeholder"),defaultLanguage:aa.JSON,disabledToolbar:!0,disabledStatesBar:!0,disabledCacheDraft:!0,rows:24})}),onOk(){try{return e.callback(JSON.parse(t))}catch{const a=_n.t("component.modal_json_editor.error");return un.error(a),Promise.reject(a)}}})}const D0="_categorySelect_1vnzs_1",N0="_multipleImageUploader_1vnzs_11",$0="_copyButton_1vnzs_14",Qa={categorySelect:D0,multipleImageUploader:N0,copyButton:$0},F0=e=>{const t=Jh(),n=dx([]);return s.jsxs("div",{className:Qa.multipleImageUploader,children:[n.length?s.jsx(N,{block:!0,type:"dashed",className:Qa.copyButton,onClick:()=>{Zi(n.map(ys).join(`
`)),un.info(`${n.length} 个地址 复制成功`)},children:"复制所有图片的 Markdown 地址"}):null,s.jsxs(uo.Dragger,{className:Qa.uploader,name:"file",listType:"picture",multiple:!0,showUploadList:{showRemoveIcon:!1,showPreviewIcon:!0,showDownloadIcon:!0,downloadIcon:s.jsx(ir,{title:"Copy Markdown",children:s.jsx(oo,{})})},onDownload:r=>{Zi(ys(r.response.url)),un.info("复制成功")},onPreview:r=>{Re.info({centered:!0,closable:!0,maskClosable:!0,width:"50vw",modalRender:()=>{var a,i;return s.jsx(ve,{title:((a=r.response)==null?void 0:a.key)??"",children:s.jsx("img",{style:{width:"100%"},src:(i=r.response)==null?void 0:i.url})})}})},customRequest:r=>{if(r.file){const a=r.file;t.upload(a,Zh(a,e.directory),{onProgress:i=>{var o;return(o=r.onProgress)==null?void 0:o.call(r,{percent:i})}}).then(i=>{var o;n.push(i.url),(o=r.onSuccess)==null||o.call(r,i)}).catch(i=>{var o;(o=r.onError)==null||o.call(r,i)})}},children:[s.jsx("br",{}),s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(ho,{})}),s.jsx("p",{className:"ant-upload-text",children:"文件拖到这里或点击上传"}),s.jsx("br",{})]})]})},M0=e=>{const t=s.jsxs(O,{children:[s.jsx(lg,{}),"图片上传器"]}),n=s.jsx(N,{block:!0,type:"dashed",onClick:e.onClose,children:"OK，我已保存好所有图片地址"});return s.jsx(Re,{centered:!0,closable:!1,open:e.open,title:t,footer:n,styles:{body:{paddingTop:"12px",maxHeight:"80vh",overflowY:"auto"}},children:s.jsx(F0,{directory:e.uploaderDirectory})})},U0=e=>{const t=he(),n=Rt([]),r=()=>{t.promise(Yh()).then(l=>{n.value=l})},a=e.value||[],i=(l,c)=>{var f;const u=l._id,h=c?[...a,u]:a.filter(d=>d!==u);(f=e.onChange)==null||f.call(e,h)};Ce(()=>{r()});const o=l=>{const c=a.includes(l._id);return s.jsx(N,{size:"small",onClick:()=>i(l,!c),type:c?"primary":"default",icon:c?s.jsx(yu,{}):s.jsx(mu,{style:{opacity:.6}}),children:l.name},l._id)};return s.jsxs("div",{children:[s.jsx(ct,{spinning:t.state.value&&!!n.value.length,children:s.jsx(ao,{title:!1,paragraph:{rows:3},loading:t.state.value&&!n.value.length,children:n.value.length?s.jsx(O,{wrap:!0,size:[12,12],children:n.value.map(o)}):s.jsx(M.Text,{type:"secondary",children:"无数据"})})}),s.jsx(ee,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(it,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},z0=e=>{var n;const t=X(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(P,{scrollToFirstError:!0,colon:!1,labelCol:{span:2},wrapperCol:{span:22},form:e.form,children:[(n=e.extraItems)==null?void 0:n.map((r,a)=>s.jsx(P.Item,{label:r.label,wrapperCol:{span:12},children:r.content},a)),s.jsx(P.Item,{label:"别名",name:"slug",wrapperCol:{span:12},rules:[{pattern:/^[a-zA-Z0-9-_]+$/,message:"仅支持 英文、数字、_、-"}],children:s.jsx(ie,{addonBefore:Dh,placeholder:"article-title",allowClear:!0})}),s.jsx(P.Item,{label:"标题",name:"title",wrapperCol:{span:12},rules:[{required:!0,message:"请输入标题"}],children:s.jsx(ie,{placeholder:"文章标题"})}),s.jsx(P.Item,{label:"描述",name:"description",required:!0,rules:[{required:!0,message:"请输入标题"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"文章描述"})}),s.jsx(P.Item,{label:"关键词",name:"keywords",children:s.jsx(je,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{label:"标签",name:"tags",children:s.jsx(U0,{})}),s.jsx("br",{}),s.jsx(P.Item,{label:"内容",name:"content",required:!0,rules:[{required:!0,message:"请输入文章内容"}],children:s.jsx(dr,{eid:e.editorCacheId,placeholder:"输入文章内容...",rows:38,formStatus:!0,autoFocus:!0,renderToolbarExtra:r=>{if(r===aa.Markdown)return s.jsx(N,{size:"small",icon:s.jsx(_s,{}),onClick:()=>{t.value=!0}})}})})]}),s.jsx(M0,{open:t.value,onClose:()=>t.value=!1,uploaderDirectory:`nodepress/${Qe().format("YYYY-MM-DD")}`})]})},B0=e=>{const t=he(),n=Rt([]),r=()=>{t.promise(Zo()).then(i=>{n.value=i.tree})};Ce(()=>{r()});const a=()=>s.jsx(cg,{className:Qa.categorySelect,virtual:!1,showIcon:!1,showLine:!0,checkable:!0,blockNode:!0,defaultExpandAll:!0,checkStrictly:!0,checkedKeys:e.value,onCheck:i=>{var l;const o=Array.isArray(i)?i:i.checked;(l=e.onChange)==null||l.call(e,o)},treeData:Qo({tree:n.value,valuer:i=>i._id}),titleRender:i=>{const o=i.data;return s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{strong:!0,children:o.name}),s.jsx(ee,{type:"vertical"}),o.slug]})}});return s.jsxs("div",{children:[s.jsx(ct,{spinning:t.state.value&&!!n.value.length,children:s.jsx(ao,{title:!1,paragraph:{rows:5},loading:t.state.value&&!n.value.length,children:n.value.length?a():s.jsx(M.Text,{type:"secondary",children:"无数据"})})}),s.jsx(ee,{}),s.jsx(N,{size:"small",type:"dashed",icon:s.jsx(it,{}),loading:t.state.value,onClick:r,children:"刷新列表"})]})},H0=e=>s.jsx(P,{scrollToFirstError:!0,form:e.form,children:s.jsx(P.Item,{noStyle:!0,required:!0,name:"categories",rules:[{message:"至少应该选择一个分类",validator(t,n){return n!=null&&n.length?Promise.resolve():Promise.reject()}}],children:s.jsx(B0,{})})}),Qn={message:"必选",required:!0},q0=e=>s.jsxs(P,{scrollToFirstError:!0,labelCol:{span:6},wrapperCol:{span:13,offset:1},colon:!1,form:e.form,children:[s.jsx(P.Item,{required:!0,name:"state",label:"发布状态",rules:[Qn],children:s.jsx(je,{placeholder:"文章发布状态",options:Wo.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"origin",label:"文章来源",rules:[Qn],children:s.jsx(je,{placeholder:"文章来源",options:Ko.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"public",label:"公开类型",rules:[Qn],children:s.jsx(je,{placeholder:"文章公开类型",options:Yo.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"lang",label:"内容语言",rules:[Qn],children:s.jsx(je,{placeholder:"文章语言",options:Go.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))})}),s.jsx(P.Item,{required:!0,name:"featured",label:"精选文章",rules:[Qn],valuePropName:"checked",children:s.jsx(Ei,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(P.Item,{required:!0,name:"disabled_comments",label:"禁止评论",rules:[Qn],valuePropName:"checked",children:s.jsx(Ei,{checkedChildren:"是",unCheckedChildren:"否",style:{width:50}})}),s.jsx(ee,{}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(jt,{}),loading:e.submitting,onClick:e.onSubmit,children:"提交"})]}),V0=Object.freeze({slug:null,title:"",description:"",keywords:[],content:"",thumbnail:"",origin:zh.Original,state:Ct.Published,public:Bh.Public,lang:Hh.Chinese,featured:!1,disabled_comments:!1,tags:[],categories:[],extends:[]}),Xh=e=>{const{i18n:t}=et(),{language:n}=gr(),{theme:r}=Rs(),[a]=P.useForm(),[i]=P.useForm(),[o]=P.useForm(),[l]=P.useForm(),[c]=P.useForm(),u=d=>{a.setFieldsValue(d),i.setFieldsValue(d),o.setFieldsValue(d),l.setFieldsValue(d),c.setFieldsValue(d)},h=async()=>{var d;try{const x={...e.article,...await a.validateFields(),...await i.validateFields(),...await o.validateFields(),...await l.validateFields(),...await c.validateFields()};x.slug=x.slug||null,(d=e.onSubmit)==null||d.call(e,x)}catch(x){console.debug("Article 提交错误：",x),un.error("请检查表单中的不合法项")}},f=()=>{O0({title:"以 JSON 编辑自定义扩展",initTheme:r,initLanguage:n,initValue:l.getFieldsValue(),callback:d=>l.setFieldsValue(d)})};return b.useEffect(()=>{e.article&&u(e.article)},[e.article]),Ce(()=>{u(V0),ot(document.body)}),s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{xs:24,lg:17,children:s.jsx(ve,{bordered:!1,title:t.t("page.article.editor.content"),extra:e.mainCardExtra,children:s.jsx(ct,{spinning:e.loading,children:s.jsx(z0,{form:a,extraItems:e.mainFormExtraItems,editorCacheId:e.editorCacheId})})})}),s.jsx(Ne,{xs:24,lg:7,children:s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.categories"),bordered:!1,children:s.jsx(ct,{spinning:e.loading,children:s.jsx(H0,{form:i})})})}),s.jsx(Ne,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.thumbnail"),bordered:!1,children:s.jsx(ct,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:o,children:s.jsx(P.Item,{noStyle:!0,name:"thumbnail",children:s.jsx(Qh,{directory:"thumbnail"})})})})})}),s.jsx(Ne,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.extends"),bordered:!1,extra:s.jsx(N,{type:"link",size:"small",icon:s.jsx(Je,{}),disabled:e.loading,onClick:f,children:"以 JSON 编辑"}),children:s.jsx(ct,{spinning:e.loading,children:s.jsx(P,{scrollToFirstError:!0,form:l,children:s.jsx(P.Item,{noStyle:!0,shouldUpdate:!0,children:s.jsx(ga,{fieldName:"extends"})})})})})}),s.jsx(Ne,{span:24,children:s.jsx(ve,{title:t.t("page.article.editor.states"),bordered:!1,children:s.jsx(ct,{spinning:e.loading,children:s.jsx(q0,{form:c,submitting:e.submitting,onSubmit:h})})})})]})})]})},ef="/vote";function tf(e={}){return K.get(ef,{params:e}).then(t=>t.result)}function K0(e){return K.delete(ef,{data:{vote_ids:e}}).then(t=>t.result)}const Y0="_emoji_9ujl9_1",W0={emoji:Y0},Un=e=>s.jsx(fa,{data:e.data,placeholder:e.placeholder,children:t=>{const n=t.country_code&&zo(t.country_code),r=e.fullname?[t.country,t.region,t.city]:[t.country_code||t.country,t.city];return s.jsxs("span",{className:e.className,children:[n?s.jsx("span",{className:W0.emoji,children:n}):null,r.filter(Boolean).join(" · ")]})}});var Xo=(e=>(e[e.Upvote=1]="Upvote",e[e.Downvote=-1]="Downvote",e))(Xo||{}),rr=(e=>(e[e.Post=1]="Post",e[e.Comment=2]="Comment",e))(rr||{}),Xa=(e=>(e[e.Anonymous=0]="Anonymous",e[e.Guest=1]="Guest",e[e.Disqus=2]="Disqus",e))(Xa||{});const G0=new Map([[1,"页面"],[2,"评论"]]),es=e=>G0.get(e),J0=new Map([[0,"匿名用户"],[1,"本地访客"],[2,"Disqus 用户"]]),el=e=>J0.get(e),nf=[{id:1,name:"+1",icon:s.jsx($n,{})},{id:-1,name:"-1",icon:s.jsx(fr,{})}],Z0=new Map(nf.map(e=>[e.id,e])),vs=e=>Z0.get(e);var Qi={exports:{}};(function(e,t){(function(n,r){var a="1.0.38",i="",o="?",l="function",c="undefined",u="object",h="string",f="major",d="model",x="name",g="type",p="vendor",m="version",C="architecture",S="console",w="mobile",j="tablet",T="smarttv",y="wearable",L="embedded",E=500,R="Amazon",D="Apple",$="ASUS",z="BlackBerry",Z="Browser",B="Chrome",oe="Edge",ge="Firefox",Y="Google",xe="Huawei",Pe="LG",Me="Microsoft",Ue="Motorola",tt="Opera",yt="Samsung",lt="Sharp",nt="Sony",Ze="Xiaomi",kt="Zebra",zt="Facebook",Bt="Chromium OS",Qt="Mac OS",Bn=function(ne,fe){var Q={};for(var le in ne)fe[le]&&fe[le].length%2===0?Q[le]=fe[le].concat(ne[le]):Q[le]=ne[le];return Q},Ee=function(ne){for(var fe={},Q=0;Q<ne.length;Q++)fe[ne[Q].toUpperCase()]=ne[Q];return fe},dt=function(ne,fe){return typeof ne===h?rt(fe).indexOf(rt(ne))!==-1:!1},rt=function(ne){return ne.toLowerCase()},Ye=function(ne){return typeof ne===h?ne.replace(/[^\d\.]/g,i).split(".")[0]:r},Te=function(ne,fe){if(typeof ne===h)return ne=ne.replace(/^\s\s*/,i),typeof fe===c?ne:ne.substring(0,E)},vt=function(ne,fe){for(var Q=0,le,ze,ft,ce,G,Be;Q<fe.length&&!G;){var Hn=fe[Q],Ir=fe[Q+1];for(le=ze=0;le<Hn.length&&!G&&Hn[le];)if(G=Hn[le++].exec(ne),G)for(ft=0;ft<Ir.length;ft++)Be=G[++ze],ce=Ir[ft],typeof ce===u&&ce.length>0?ce.length===2?typeof ce[1]==l?this[ce[0]]=ce[1].call(this,Be):this[ce[0]]=ce[1]:ce.length===3?typeof ce[1]===l&&!(ce[1].exec&&ce[1].test)?this[ce[0]]=Be?ce[1].call(this,Be,ce[2]):r:this[ce[0]]=Be?Be.replace(ce[1],ce[2]):r:ce.length===4&&(this[ce[0]]=Be?ce[3].call(this,Be.replace(ce[1],ce[2])):r):this[ce]=Be||r;Q+=2}},Rr=function(ne,fe){for(var Q in fe)if(typeof fe[Q]===u&&fe[Q].length>0){for(var le=0;le<fe[Q].length;le++)if(dt(fe[Q][le],ne))return Q===o?r:Q}else if(dt(fe[Q],ne))return Q===o?r:Q;return ne},ba={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},wa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ja={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[x,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[x,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[x,m],[/opios[\/ ]+([\w\.]+)/i],[m,[x,tt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[x,tt+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[x,tt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[x,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[x,m],[/\bddg\/([\w\.]+)/i],[m,[x,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[x,"UC"+Z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[x,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[x,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[x,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[x,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[x,"Smart Lenovo "+Z]],[/(avast|avg)\/([\w\.]+)/i],[[x,/(.+)/,"$1 Secure "+Z],m],[/\bfocus\/([\w\.]+)/i],[m,[x,ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[x,tt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[x,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[x,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[x,tt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[x,"MIUI "+Z]],[/fxios\/([-\w\.]+)/i],[m,[x,ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[x,"360 "+Z]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[x,/(.+)/,"$1 "+Z],m],[/samsungbrowser\/([\w\.]+)/i],[m,[x,yt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[x,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[x,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[x,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[x,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[x],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[x,zt],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[x,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[x,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[x,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[x,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[x,B+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[x,"Android "+Z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[x,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[x,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,x],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[x,[m,Rr,ba]],[/(webkit|khtml)\/([\w\.]+)/i],[x,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[x,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[x,ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[x,m],[/(cobalt)\/([\w\.]+)/i],[x,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,rt]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,i,rt]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,rt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,yt],[g,j]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,yt],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,D],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,D],[g,j]],[/(macintosh);/i],[d,[p,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,lt],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,xe],[g,j]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,xe],[g,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,Ze],[g,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,Ze],[g,j]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[g,w]],[/\b(opd2\d{3}a?) bui/i],[d,[p,"OPPO"],[g,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[g,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,Ue],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,Ue],[g,j]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,Pe],[g,j]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,Pe],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[g,j]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[g,w]],[/(pixel c)\b/i],[d,[p,Y],[g,j]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,Y],[g,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,nt],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,nt],[g,j]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,R],[g,j]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,R],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[g,j]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,z],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,$],[g,j]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,$],[g,w]],[/(nexus 9)/i],[d,[p,"HTC"],[g,j]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[g,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[g,j]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[g,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[g,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[g,j]],[/(surface duo)/i],[d,[p,Me],[g,j]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[g,w]],[/(u304aa)/i],[d,[p,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[g,j]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[g,j]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[g,j]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[g,j]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[g,j]],[/\b(k88) b/i],[d,[p,"ZTE"],[g,j]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[g,j]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[g,j]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[g,j]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[g,j]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[g,j]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[g,w]],[/\b(ph-1) /i],[d,[p,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[g,j]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[g,j]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[g,j]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[g,j]],[/(sprint) (\w+)/i],[p,d,[g,w]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,Me],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,kt],[g,j]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,kt],[g,w]],[/smart-tv.+(samsung)/i],[p,[g,T]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,yt],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Pe],[g,T]],[/(apple) ?tv/i],[p,[d,D+" TV"],[g,T]],[/crkey/i],[[d,B+"cast"],[p,Y],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,R],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,lt],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,nt],[g,T]],[/(mitv-\w{5}) bui/i],[d,[p,Ze],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Te],[d,Te],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[g,S]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[g,S]],[/(playstation [345portablevi]+)/i],[d,[p,nt],[g,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,Me],[g,S]],[/((pebble))app/i],[p,d,[g,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,D],[g,y]],[/droid.+; (glass) \d/i],[d,[p,Y],[g,y]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,kt],[g,y]],[/(quest( \d| pro)?)/i],[d,[p,zt],[g,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[g,L]],[/(aeobc)\b/i],[d,[p,R],[g,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[g,j]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,j]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[x,oe+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[x,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[x,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,x]],os:[[/microsoft (windows) (vista|xp)/i],[x,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[x,[m,Rr,wa]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Rr,wa],[x,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[x,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[x,Qt],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,x],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[x,m],[/\(bb(10);/i],[m,[x,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[x,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[x,ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[x,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[x,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[x,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[x,Bt],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[x,m],[/(sunos) ?([\w\.\d]*)/i],[[x,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[x,m]]},ht=function(ne,fe){if(typeof ne===u&&(fe=ne,ne=r),!(this instanceof ht))return new ht(ne,fe).getResult();var Q=typeof n!==c&&n.navigator?n.navigator:r,le=ne||(Q&&Q.userAgent?Q.userAgent:i),ze=Q&&Q.userAgentData?Q.userAgentData:r,ft=fe?Bn(ja,fe):ja,ce=Q&&Q.userAgent==le;return this.getBrowser=function(){var G={};return G[x]=r,G[m]=r,vt.call(G,le,ft.browser),G[f]=Ye(G[m]),ce&&Q&&Q.brave&&typeof Q.brave.isBrave==l&&(G[x]="Brave"),G},this.getCPU=function(){var G={};return G[C]=r,vt.call(G,le,ft.cpu),G},this.getDevice=function(){var G={};return G[p]=r,G[d]=r,G[g]=r,vt.call(G,le,ft.device),ce&&!G[g]&&ze&&ze.mobile&&(G[g]=w),ce&&G[d]=="Macintosh"&&Q&&typeof Q.standalone!==c&&Q.maxTouchPoints&&Q.maxTouchPoints>2&&(G[d]="iPad",G[g]=j),G},this.getEngine=function(){var G={};return G[x]=r,G[m]=r,vt.call(G,le,ft.engine),G},this.getOS=function(){var G={};return G[x]=r,G[m]=r,vt.call(G,le,ft.os),ce&&!G[x]&&ze&&ze.platform&&ze.platform!="Unknown"&&(G[x]=ze.platform.replace(/chrome os/i,Bt).replace(/macos/i,Qt)),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return le},this.setUA=function(G){return le=typeof G===h&&G.length>E?Te(G,E):G,this},this.setUA(le),this};ht.VERSION=a,ht.BROWSER=Ee([x,m,f]),ht.CPU=Ee([C]),ht.DEVICE=Ee([d,p,g,S,w,T,j,y,L]),ht.ENGINE=ht.OS=Ee([x,m]),e.exports&&(t=e.exports=ht),t.UAParser=ht;var Xt=typeof n!==c&&(n.jQuery||n.Zepto);if(Xt&&!Xt.ua){var Pt=new ht;Xt.ua=Pt.getResult(),Xt.ua.get=function(){return Pt.getUA()},Xt.ua.set=function(ne){Pt.setUA(ne);var fe=Pt.getResult();for(var Q in fe)Xt.ua[Q]=fe[Q]}}})(typeof window=="object"?window:Et)})(Qi,Qi.exports);var tl=Qi.exports;const gn=e=>{const t=new tl.UAParser(e).getBrowser();return t.name&&t.version?`${t.name} | ${t.version}`:null},zn=e=>{const t=new tl.UAParser(e).getOS();return t.name&&t.version?`${t.name} | ${t.version}`:null},ma=e=>{const t=new tl.UAParser(e).getDevice();return t.model&&t.vendor?`${t.model} | ${t.vendor}`:null},Q0=e=>{var t;return s.jsx(ug,{column:3,items:[{key:"user",label:"用户",children:s.jsx(O,{direction:"vertical",children:s.jsx(lr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(e.author,null,2)}),children:s.jsxs("span",{children:[s.jsx(J,{text:(t=e.author)==null?void 0:t.name,placeholder:"未知用户"}),"（",el(e.author_type),"）"]})})})},{key:"tag",label:"操作",span:2,children:s.jsx(Ft,{icon:vs(e.vote_type).icon,color:e.vote_type===Xo.Upvote?"green":"red",children:s.jsx("strong",{children:vs(e.vote_type).name})})},{key:"browser",label:"浏览器",children:s.jsx(J,{text:gn(e.user_agent),placeholder:"未知浏览器"})},{key:"time",label:"时间",children:s.jsx(J,{text:Fe(e.created_at)})},{key:"os",label:"系统",children:s.jsx(J,{text:zn(e.user_agent),placeholder:"未知系统"})},{key:"location",label:"位置",children:s.jsx(Un,{data:e.ip_location})},{key:"ip",label:"IP",span:2,children:s.jsx(J,{text:e.ip,copyable:!0,placeholder:"未知 IP"})}]})},X0=e=>{const t=he(),n=he(),r=X([]),a=Rt(null),i=Rt(Pn.Desc),o=It(()=>a.value?a.value.current_page<a.value.total_page:!1),l=async(c=1)=>{const u=c===1,h=u?t:n;u&&(r.value=[],a.value=null);const f={page:c,per_page:50,target_type:rr.Post,target_id:e.articleId,sort:i.value},d=await h.promise(tf(f));u?(r.value=d.data,a.value=d.pagination):(r.value.push(...d.data),a.value=d.pagination)};return Ce(()=>l()),s.jsxs(Ss,{width:e.width,title:`文章获赞记录（${e.likeCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsxs(O.Compact,{children:[s.jsx(Mn,{disabled:t.state.value||n.state.value,value:i.value,onChange:c=>{i.value=c,l()}}),s.jsx(N,{icon:s.jsx(it,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>l(),children:"刷新数据"})]}),children:[s.jsx(Wt,{itemLayout:"vertical",loading:n.state.value,dataSource:r.value,renderItem:c=>s.jsx(Wt.Item,{children:Q0(c)})}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Nn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var c;return l(((c=a.value)==null?void 0:c.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},pa="/comment",e_=e=>Jo.arrayToTree(e,{id:"id",parentId:"pid",childrenField:"children",dataField:null,rootParentIds:{0:!0}});function rf(e={}){return K.get(pa,{params:e}).then(t=>t.result)}function t_(e){return K.put(`${pa}/${e._id}`,e).then(t=>t.result)}function n_(e,t,n){const r={comment_ids:e,post_ids:t,state:n};return K.patch(pa,r).then(a=>a.result)}function r_(e,t){return K.delete(pa,{data:{comment_ids:e,post_ids:t}}).then(n=>n.result)}function a_(e){return K.put(`${pa}/${e}/ip_location`).then(t=>t.result)}const s_=e=>{const t=he(),n=he(),r=X([]),a=Rt(null),i=Rt(An.Desc),o=It(()=>a.value?a.value.current_page<a.value.total_page:!1),l=It(()=>e_(r.value)),c=async(u=1)=>{const h=u===1,f=h?t:n;h&&(r.value=[],a.value=null);const d={page:u,per_page:50,post_id:e.articleId,sort:i.value},x=await f.promise(rf(d));h?(r.value=x.data,a.value=x.pagination):(r.value.push(...x.data),a.value=x.pagination)};return Ce(()=>c()),s.jsxs(Ss,{width:e.width,title:`文章评论（${e.commentCount??"-"}）`,loading:t.state.value,destroyOnClose:!0,open:e.open,onClose:e.onClose,extra:s.jsx(Mn,{withHot:!0,disabled:t.state.value||n.state.value,value:i.value,onChange:u=>{i.value=u,c()}}),footer:s.jsxs(ue,{justify:"space-between",align:"bottom",children:[s.jsx(N,{size:"small",icon:s.jsx(it,{}),disabled:n.state.value,loading:t.state.value,onClick:()=>c(),children:"刷新数据"}),s.jsx(N,{size:"small",type:"primary",icon:s.jsx(ia,{}),onClick:e.onNavigate,children:"管理全部评论"})]}),children:[e.renderTreeList({comments:l.value,loading:n.state.value}),s.jsx(ee,{}),s.jsx(ue,{justify:"center",children:s.jsx(N,{style:{width:240},icon:s.jsx(Nn,{}),loading:n.state.value,disabled:!o.value,onClick:()=>{var u;return c(((u=a.value)==null?void 0:u.current_page)+1)},children:o.value?"加载更多":"没有更多"})})]})},i_=e=>e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},o_=(e,t)=>e.length?i_(e)[t]:void 0,af=e=>o_(e,"disqus-author-username"),l_=e=>`https://www.gravatar.com/avatar/${e}`,c_=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,u_=e=>{if(e.author.email_hash)return l_(e.author.email_hash);const t=af(e.extends);return t?c_(t):""},d_="_commentContent_9dq3k_1",h_="_avatarBadge_9dq3k_5",f_="_avatarBadgeIconWrapper_9dq3k_5",g_="_avatarBadgeIcon_9dq3k_5",ts={commentContent:d_,avatarBadge:h_,avatarBadgeIconWrapper:f_,avatarBadgeIcon:g_},nl=e=>{const t=!!af(e.comment.extends),n=t?"Disqus user":"Guest user",r=t?"/images/disqus.svg":"/images/logo.mini.svg";return s.jsx(gu,{className:ts.avatarBadge,title:n,count:s.jsx(lr,{placement:"right",content:n,children:s.jsx("span",{className:ts.avatarBadgeIconWrapper,children:s.jsx("img",{className:ts.avatarBadgeIcon,src:qo(r)})})}),children:s.jsx(fo,{shape:"square",size:e.size,src:u_(e.comment)})})},sf=e=>s.jsx(Wt,{itemLayout:"vertical",loading:e.loading,dataSource:e.comments,renderItem:t=>{var n;return s.jsx(Wt.Item,{children:s.jsxs(ue,{align:"flex-start",gap:"large",children:[s.jsx("div",{style:{marginTop:"var(--app-padding)"},children:s.jsx(nl,{size:"large",comment:t})}),s.jsxs(O,{direction:"vertical",style:{flex:1},children:[s.jsxs(ue,{justify:"space-between",children:[s.jsxs("div",{children:[t.author.site?s.jsx(M.Link,{href:t.author.site,title:t.author.site,target:"_blank",rel:"noreferrer",strong:!0,children:t.author.name}):s.jsx(M.Text,{strong:!0,children:t.author.name}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:s.jsx(Un,{data:t.ip_location},"ip-location")}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:Fe(t.created_at)})]}),s.jsx(Ft,{color:Jr(t.state).color,icon:Jr(t.state).icon,children:Jr(t.state).name})]}),s.jsx(M.Paragraph,{style:{margin:0},children:t.content}),s.jsxs(O,{children:[s.jsxs(M.Text,{type:t.likes>0?"danger":"secondary",children:[t.likes>0?s.jsx(dg,{}):s.jsx($n,{})," ",t.likes]}),s.jsxs(M.Text,{type:t.dislikes>0?"warning":"secondary",children:[t.dislikes>0?s.jsx(hg,{}):s.jsx(fr,{})," ",t.dislikes]}),s.jsx(J,{type:"secondary",placeholder:"未知浏览器",small:!0,text:gn(t.agent)}),s.jsx(J,{type:"secondary",placeholder:"未知系统",small:!0,text:zn(t.agent)})]}),(n=t.children)!=null&&n.length?s.jsx(sf,{comments:t.children||[]}):""]})]})})}}),m_=()=>{var d,x,g,p,m,C,S,w,j,T,y,L;const{article_id:e}=dy(),t=dl.articleDetail(e),n=Zt(),r=he(),a=he(),i=X(null),o=X(!1),l=X(!1),c=async()=>{try{const E=await r.promise(qh(e)),R=_0(t);R&&R!==E.content?Re.confirm({title:"本地缓存存在未保存的文章，是否要覆盖远程数据？",content:"如果覆盖错了，刷新一次就可重新选择",okText:"本地覆盖远程",cancelText:"使用远程数据",centered:!0,okButtonProps:{danger:!0},onOk(){i.value={...E,content:R||""}},onCancel(){i.value=E}}):i.value=E}catch(E){Re.error({centered:!0,title:"文章请求失败",content:String(E.message)})}},u=E=>a.promise(Ij(E)).then(R=>{i.value=R,ot(document.body)}),h=()=>{Re.confirm({title:`你确定要彻底删除文章《${i.value.title}》吗？`,content:"该行为是物理删除，不可恢复！",okButtonProps:{danger:!0,ghost:!0},onOk:()=>{var E;return a.promise(Lj([(E=i.value)==null?void 0:E._id])).then(()=>{n(Xe[de.ArticleList]),ot(document.body)})}})},f=()=>{var E;n({pathname:Xe[de.Comment],search:`post_id=${(E=i.value)==null?void 0:E.id}`})};return Ce(()=>c()),s.jsxs(s.Fragment,{children:[s.jsx(Xh,{article:i.value,editorCacheId:t,loading:r.state.value,submitting:a.state.value,onSubmit:E=>u(E),mainFormExtraItems:[{label:"ID",content:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{children:((d=i.value)==null?void 0:d.id)??"-"}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{children:((x=i.value)==null?void 0:x._id)??"-"})]})}],mainCardExtra:s.jsxs(O,{size:"small",wrap:!0,children:[s.jsxs(O.Compact,{size:"small",children:[s.jsx(ir,{title:Xw(((p=(g=i.value)==null?void 0:g.meta)==null?void 0:p.views)??0),children:s.jsxs(N,{icon:s.jsx(so,{}),loading:r.state.value,children:[Vo(((C=(m=i.value)==null?void 0:m.meta)==null?void 0:C.views)??0)," 阅读"]})}),s.jsxs(N,{icon:s.jsx(io,{}),loading:r.state.value,disabled:r.state.value,onClick:()=>l.value=!0,children:[((w=(S=i.value)==null?void 0:S.meta)==null?void 0:w.likes)??""," 喜欢"]}),s.jsxs(N,{icon:s.jsx(sa,{}),disabled:r.state.value,loading:r.state.value,onClick:()=>o.value=!0,children:[((T=(j=i.value)==null?void 0:j.meta)==null?void 0:T.comments)??""," 评论"]})]}),s.jsx(ee,{type:"vertical"}),s.jsx(ir,{title:ps((y=i.value)==null?void 0:y.id),children:s.jsx(N,{size:"small",type:"dashed",target:"_blank",icon:s.jsx(ia,{}),loading:r.state.value,disabled:r.state.value,href:ps((L=i.value)==null?void 0:L.id),children:"打开"})}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{type:"dashed",size:"small",danger:!0,icon:s.jsx(Ve,{}),disabled:r.state.value,onClick:()=>un.warning("双击执行删除操作"),onDoubleClick:h,children:"删除文章"})]})}),i.value&&s.jsxs(s.Fragment,{children:[s.jsx(X0,{width:"48rem",open:l.value,likeCount:i.value.meta.likes,articleId:i.value.id,onClose:()=>l.value=!1}),s.jsx(s_,{width:"68rem",open:o.value,commentCount:i.value.meta.comments,articleId:i.value.id,renderTreeList:({comments:E,loading:R})=>s.jsx(sf,{comments:E,loading:R}),onClose:()=>o.value=!1,onNavigate:f})]})]})},p_=()=>{const e=Zt(),t=he(),n=r=>t.promise(Rj(r)).then(a=>{e(dl.articleDetail(a._id)),ot(document.body)});return s.jsx(Xh,{loading:!1,article:null,submitting:t.state.value,onSubmit:r=>n(r)})},xa="/announcement";function x_(e={}){return K.get(xa,{params:e}).then(t=>t.result)}function y_(e){return K.post(xa,e).then(t=>t.result)}function v_(e){return K.put(`${xa}/${e._id}`,e).then(t=>t.result)}function b_(e){return K.delete(`${xa}/${e}`).then(t=>t.result)}function w_(e){return K.delete(xa,{data:{announcement_ids:e}}).then(t=>t.result)}var of=(e=>(e[e.Unpublished=0]="Unpublished",e[e.Published=1]="Published",e))(of||{});const rl=[{id:0,name:"未发布",icon:s.jsx(Je,{}),color:"orange"},{id:1,name:"已发布",icon:s.jsx(jt,{}),color:"green"}],j_=new Map(rl.map(e=>[e.id,e])),__=e=>j_.get(e),al="ALL",Qc={state:al,sort:Pn.Desc},S_=e=>({state:e.state!==al?e.state:void 0,sort:e.sort}),C_=e=>{const{i18n:t}=et();return s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.state,onChange:n=>e.onParamsChange({state:n}),options:[{label:"全部状态",value:al},...rl.map(n=>({value:n.id,label:s.jsxs(O,{size:"small",children:[n.icon,n.name]})}))]}),s.jsx(Mn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:n=>e.onParamsChange({sort:n})}),s.jsx(ie.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(O,{children:e.extra})]})},E_=e=>{var t,n,r;return s.jsx(mn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"内容",dataIndex:"content"},{title:"发布时间",dataIndex:"created_at",width:180,render:(a,i)=>Fe(i.created_at)},{title:"状态",width:120,dataIndex:"state",render:(a,i)=>{const o=__(i.state);return s.jsx(Ft,{icon:o.icon,color:o.color,children:o.name})}},{title:"操作",width:160,dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Je,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onDelete(i,o),children:"删除"})]})}]})},T_={labelCol:{span:4},wrapperCol:{span:19}},R_=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??{})},[e.initData,e.open]),s.jsx(Re,{width:e.width,centered:!0,forceRender:!0,destroyOnClose:!0,title:e.title,open:e.open,confirmLoading:e.submitting,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...T_,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.initData.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"发布于",children:Fe(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Fe(e.initData.updated_at)})]}),s.jsx(P.Item,{label:"发布状态",name:"state",initialValue:of.Published,rules:[{required:!0,message:"请选择状态"}],children:s.jsx(je,{placeholder:"选择状态",options:rl.map(r=>({value:r.id,label:s.jsxs(O,{size:"small",children:[r.icon,r.name]})}))})}),s.jsx(P.Item,{label:"公告内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(dr,{placeholder:"输入公告内容...",rows:10,autoFocus:!0,disabledToolbar:!0,disabledFoldGutter:!0,disabledLineNumbers:!0,disabledCacheDraft:!0})})]})})},I_=()=>{var j;const{i18n:e}=et(),t=he(),n=he(),r=Gt({data:[],pagination:void 0}),a=X(""),i=X({...Qc}),o=()=>{a.value="",i.value={...Qc}},l=X([]),c=X(!1),u=X(null),h=It(()=>{const T=u.value;return T!==null?r.data[T]:null}),f=()=>{c.value=!1},d=T=>{u.value=T,c.value=!0},x=()=>{u.value=null,c.value=!0},g=T=>{const y={...T,...S_(i.value),keyword:a.value||void 0};t.promise(x_(y)).then(L=>{r.data=L.data,r.pagination=L.pagination,ot(document.body)})},p=()=>{var T,y;g({page:(T=r.pagination)==null?void 0:T.current_page,per_page:(y=r.pagination)==null?void 0:y.per_page})},m=T=>{n.promise(y_(T)).then(()=>{f(),p()})},C=T=>{const y={...h.value,...T};n.promise(v_(y)).then(()=>{f(),p()})},S=T=>{Re.confirm({title:"确定要删除这个公告吗？",content:"删除后不可恢复",centered:!0,onOk:()=>b_(T).then(()=>{p()})})},w=T=>{Re.confirm({title:`确定要删除 ${T.length} 个公告吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>w_(T).then(()=>{p()})})};return _t(()=>i.value,()=>g(),{deep:!0}),Ce(()=>{g()}),s.jsxs(ve,{bordered:!1,title:e.t("page.announcement.list.title",{total:((j=r.pagination)==null?void 0:j.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Nn,{}),onClick:x,children:"发布新公告"}),children:[s.jsx(C_,{loading:t.state.value,keyword:a.value,onKeywordChange:T=>a.value=T,onKeywordSearch:()=>g(),params:i.value,onParamsChange:T=>Object.assign(i.value,T),onResetRefresh:o,extra:s.jsx(jr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(Ve,{}),onClick:()=>w(l.value)}]})}),s.jsx(ee,{}),s.jsx(E_,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:T=>l.value=T,onEdit:(T,y)=>d(y),onDelete:T=>S(T._id),onPaginate:(T,y)=>g({page:T,per_page:y})}),s.jsx(R_,{width:680,title:h.value?"编辑公告":"新公告",open:c.value,submitting:n.state.value,initData:h.value,onCancel:f,onSubmit:T=>{h.value?C(T):m(T)}})]})},L_={labelCol:{span:5},wrapperCol:{span:18}},Yr="null",k_={pid:Yr,extends:[{name:"icon",value:"icon-category"}]},P_=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit({...r,pid:r.pid===Yr?null:r.pid})})};return b.useEffect(()=>{e.initData?(t.resetFields(),t.setFieldsValue({...e.initData,pid:e.initData.pid??Yr})):(t.resetFields(),t.setFieldsValue({...k_}))},[e.initData,e.open]),s.jsx(Re,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...L_,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.initData.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.initData._id})]})}),s.jsx(P.Item,{label:"创建于",children:Fe(e.initData.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Fe(e.initData.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"分类名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"分类名称"})}),s.jsx(P.Item,{name:"slug",label:"分类别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"分类别名"})}),s.jsx(P.Item,{name:"pid",label:"父分类",extra:"可以选择父级分类",rules:[{message:"请选择正确的父分类",validator(r,a){var i;return a===Yr?Promise.resolve():a===((i=e.initData)==null?void 0:i._id)?Promise.reject():Promise.resolve()}}],children:s.jsx(fu,{placeholder:"选择父分类",treeDefaultExpandAll:!0,treeData:[{label:"无",key:"null",value:Yr},...e.selectTree]})}),s.jsx(P.Item,{name:"description",label:"分类描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"分类描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前分类增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(ga,{fieldName:"extends"})})]})})},A_="_categoryTreeNode_1cgqs_1",O_="_levelIcon_1cgqs_11",yi={categoryTreeNode:A_,levelIcon:O_},lf=e=>s.jsx(Wt,{split:!1,itemLayout:"horizontal",loading:e.loading,dataSource:e.tree,renderItem:t=>{var n;return s.jsxs("div",{style:{paddingLeft:(e.level??0)*2.6+"rem"},children:[s.jsxs(ue,{justify:"space-between",align:"start",className:yi.categoryTreeNode,children:[e.level&&s.jsx("div",{className:yi.levelIcon,children:s.jsx(fg,{})}),s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{strong:!0,children:t.name}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{type:"secondary",children:t.slug}),s.jsx(ee,{type:"vertical"}),s.jsxs(M.Text,{type:"secondary",children:[t.article_count," 篇"]})]}),s.jsx(J,{type:"secondary",text:t.description})]}),s.jsxs("div",{className:yi.actions,children:[s.jsx(N,{size:"small",type:"text",icon:s.jsx(Je,{}),onClick:()=>e.onEdit(t),children:"编辑"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",type:"text",danger:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onDelete(t),children:"删除"}),s.jsx(ee,{type:"vertical"}),s.jsx(N,{size:"small",icon:s.jsx(ia,{}),type:"link",target:"_blank",href:Gw(t.slug),children:"查看"})]})]}),(n=t.children)!=null&&n.length?s.jsx(lf,{loading:!1,level:(e.level??0)+1,tree:t.children,onEdit:e.onEdit,onDelete:e.onDelete}):null]})}}),D_=()=>{var p;const{i18n:e}=et(),t=he(),n=he(),r=Rt([]),a=Rt([]),i=X(!1),o=X(null),l=It(()=>o.value?a.value.find(m=>m._id===o.value):null),c=()=>{i.value=!1},u=m=>{o.value=m,i.value=!0},h=()=>{i.value=!0,o.value=null},f=()=>t.promise(Zo()).then(m=>{a.value=m.list,r.value=m.tree}),d=m=>{n.promise(Fj(m)).then(()=>{c(),f()})},x=m=>{const C={...l.value,...m};n.promise(Mj(C)).then(()=>{c(),f()})},g=m=>{Re.confirm({title:`确定要删除分类「 ${m.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Uj(m._id).then(()=>{f()})})};return Ce(()=>f()),s.jsxs(ve,{bordered:!1,title:e.t("page.category.list.title",{total:((p=a.value)==null?void 0:p.length)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Nn,{}),onClick:h,children:"创建新分类"}),children:[s.jsx(O,{children:s.jsx(N,{icon:s.jsx(it,{}),loading:t.state.value,onClick:()=>f(),children:e.t("common.list.filter.refresh")})}),s.jsx(ee,{}),s.jsx(lf,{tree:r.value,loading:t.state.value,onEdit:m=>u(m._id),onDelete:m=>g(m)}),s.jsx(P_,{width:680,title:l.value?"编辑分类":"新分类",open:i.value,submitting:n.state.value,initData:l.value,onCancel:()=>c(),onSubmit:m=>{l.value?x(m):d(m)},selectTree:Qo({tree:r.value,valuer:m=>m._id,disabledWhen:m=>{var C,S;return m._id===((C=l.value)==null?void 0:C._id)?!0:m.pid===((S=l.value)==null?void 0:S._id)}})})]})},N_=e=>{const{i18n:t}=et();return s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(ie.Search,{style:{width:220},placeholder:t.t("common.list.filter.search"),disabled:e.loading,value:e.keyword,onChange:n=>e.onKeywordChange(n.target.value),allowClear:!0,onSearch:(n,r,a)=>{(a==null?void 0:a.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:e.onResetRefresh,children:t.t("common.list.filter.refresh_with_reset")})]}),s.jsx(O,{children:e.extra})]})},$_=e=>{var t,n,r;return s.jsx(mn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"名称",dataIndex:"name",width:140},{title:"别名",dataIndex:"slug",width:160},{title:"描述",dataIndex:"description"},{title:"文章",width:80,align:"right",dataIndex:"article_count"},{title:"操作",width:240,align:"right",dataIndex:"actions",render:(a,i,o)=>s.jsxs(N.Group,{size:"small",children:[s.jsx(N,{type:"text",icon:s.jsx(Je,{}),onClick:()=>e.onEdit(i,o),children:"编辑"}),s.jsx(N,{type:"text",danger:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onDelete(i,o),children:"删除"}),s.jsx(N,{type:"link",target:"_blank",icon:s.jsx(ia,{}),href:Ww(i.slug),children:"查看"})]})}]})},F_={labelCol:{span:5},wrapperCol:{span:18}},M_={extends:[{name:"icon",value:"icon-tag"}]},U_=e=>{var r,a,i,o;const[t]=P.useForm(),n=()=>{t.validateFields().then(e.onSubmit)};return b.useEffect(()=>{t.resetFields(),t.setFieldsValue(e.initData??M_)},[e.initData,e.open]),s.jsx(Re,{width:e.width,centered:!0,forceRender:!0,title:e.title,confirmLoading:e.submitting,open:e.open,onCancel:e.onCancel,onOk:n,okText:"提交",children:s.jsxs(P,{...F_,colon:!1,form:t,children:[e.initData&&s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:(r=e.initData)==null?void 0:r.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:(a=e.initData)==null?void 0:a._id})]})}),s.jsx(P.Item,{label:"创建于",children:Fe((i=e.initData)==null?void 0:i.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Fe((o=e.initData)==null?void 0:o.updated_at)})]}),s.jsx(P.Item,{name:"name",label:"标签名称",extra:"这将是它在站点上显示的名字",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"标签名称"})}),s.jsx(P.Item,{name:"slug",label:"标签别名",extra:"“别名” 是在 URL 中使用的别称，仅支持小写字母、数字、连字符（-）",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie,{placeholder:"标签别名"})}),s.jsx(P.Item,{name:"description",label:"标签描述",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{rows:4,placeholder:"标签描述"})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前标签增加自定义扩展属性，如：icon、background",shouldUpdate:!0,children:s.jsx(ga,{fieldName:"extends"})})]})})},z_=()=>{var w;const{i18n:e}=et(),t=he(),n=he(),r=Gt({data:[],pagination:void 0}),a=X(""),i=X([]),o=X(!1),l=X(null),c=It(()=>{const j=l.value;return j!==null?r.data[j]:null}),u=()=>{o.value=!1},h=j=>{l.value=j,o.value=!0},f=()=>{l.value=null,o.value=!0},d=j=>{const T={...j,keyword:a.value||void 0};t.promise(Aj(T)).then(y=>{r.data=y.data,r.pagination=y.pagination,ot(document.body)})},x=()=>{var j,T;d({page:(j=r.pagination)==null?void 0:j.current_page,per_page:(T=r.pagination)==null?void 0:T.per_page})},g=j=>{n.promise(Oj(j)).then(()=>{u(),x()})},p=j=>{const T={...c.value,...j};n.promise(Dj(T)).then(()=>{u(),x()})},m=j=>{Re.confirm({title:`确定要删除标签「 ${j.name} 」吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>Nj(j._id).then(()=>{x()})})},C=j=>{Re.confirm({title:`确定要删除 ${j.length} 个标签吗？`,content:"删除后不可恢复",centered:!0,onOk:()=>$j(j).then(()=>{x()})})},S=()=>{a.value="",d()};return Ce(()=>{d()}),s.jsxs(ve,{bordered:!1,title:e.t("page.tag.list.title",{total:((w=r.pagination)==null?void 0:w.total)??"-"}),extra:s.jsx(N,{type:"primary",size:"small",icon:s.jsx(Nn,{}),onClick:f,children:"创建新标签"}),children:[s.jsx(N_,{loading:t.state.value,keyword:a.value,onKeywordChange:j=>a.value=j,onKeywordSearch:()=>d(),onResetRefresh:S,extra:s.jsx(jr,{text:"批量操作",disabled:!i.value.length,options:[{label:"批量删除",icon:s.jsx(Ve,{}),onClick:()=>C(i.value)}]})}),s.jsx(ee,{}),s.jsx($_,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:i.value,onSelect:j=>i.value=j,onPaginate:(j,T)=>d({page:j,per_page:T}),onEdit:(j,T)=>h(T),onDelete:j=>m(j)}),s.jsx(U_,{width:680,title:c.value?"编辑标签":"新标签",submitting:n.state.value,open:o.value,initData:c.value,onCancel:u,onSubmit:j=>c.value?p(j):g(j)})]})},cf="%[a-f0-9]{2}",Xc=new RegExp("("+cf+")|([^%]+?)","gi"),eu=new RegExp("("+cf+")+","gi");function Xi(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Xi(n),Xi(r))}function B_(e){try{return decodeURIComponent(e)}catch{let t=e.match(Xc)||[];for(let n=1;n<t.length;n++)e=Xi(t,n).join(""),t=e.match(Xc)||[];return e}}function H_(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=eu.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const a=B_(n[0]);a!==n[0]&&(t[n[0]]=a)}n=eu.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const a of r)e=e.replace(new RegExp(a,"g"),t[a]);return e}function q_(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return H_(e)}}function V_(e,t){const n={};if(Array.isArray(t))for(const r of t){const a=Object.getOwnPropertyDescriptor(e,r);a!=null&&a.enumerable&&Object.defineProperty(n,r,a)}else for(const r of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,r);if(a.enumerable){const i=e[r];t(r,i,e)&&Object.defineProperty(n,r,a)}}return n}function uf(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const K_=e=>e==null,Y_=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),eo=Symbol("encodeFragmentIdentifier");function W_(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),"[",a,"]"].join("")]:[...n,[Oe(t,e),"[",Oe(a,e),"]=",Oe(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),"[]"].join("")]:[...n,[Oe(t,e),"[]=",Oe(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Oe(t,e),":list="].join("")]:[...n,[Oe(t,e),":list=",Oe(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?r:(a=a===null?"":a,r.length===0?[[Oe(n,e),t,Oe(a,e)].join("")]:[[r,Oe(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Oe(t,e)]:[...n,[Oe(t,e),"=",Oe(r,e)].join("")]}}function G_(e){let t;switch(e.arrayFormat){case"index":return(n,r,a)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){a[n]=r;return}a[n]===void 0&&(a[n]={}),a[n][t[1]]=r};case"bracket":return(n,r,a)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"colon-list-separator":return(n,r,a)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){a[n]=r;return}if(a[n]===void 0){a[n]=[r];return}a[n]=[...a[n],r]};case"comma":case"separator":return(n,r,a)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&qt(r,e).includes(e.arrayFormatSeparator);r=o?qt(r,e):r;const l=i||o?r.split(e.arrayFormatSeparator).map(c=>qt(c,e)):r===null?r:qt(r,e);a[n]=l};case"bracket-separator":return(n,r,a)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){a[n]=r&&qt(r,e);return}const o=r===null?[]:r.split(e.arrayFormatSeparator).map(l=>qt(l,e));if(a[n]===void 0){a[n]=o;return}a[n]=[...a[n],...o]};default:return(n,r,a)=>{if(a[n]===void 0){a[n]=r;return}a[n]=[...[a[n]].flat(),r]}}}function df(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Oe(e,t){return t.encode?t.strict?Y_(e):encodeURIComponent(e):e}function qt(e,t){return t.decode?q_(e):e}function hf(e){return Array.isArray(e)?e.sort():typeof e=="object"?hf(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function ff(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function J_(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function tu(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""||t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function sl(e){e=ff(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function il(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},df(t.arrayFormatSeparator);const n=G_(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const a of e.split("&")){if(a==="")continue;const i=t.decode?a.replaceAll("+"," "):a;let[o,l]=uf(i,"=");o===void 0&&(o=i),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:qt(l,t),n(qt(o,t),l,r)}for(const[a,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[a]!=="string")for(const[o,l]of Object.entries(i)){const c=t.types[a]?t.types[a].replace("[]",""):void 0;i[o]=tu(l,t,c)}else typeof i=="object"&&i!==null&&t.types[a]==="string"?r[a]=Object.values(i).join(t.arrayFormatSeparator):r[a]=tu(i,t,t.types[a]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((a,i)=>{const o=r[i];return a[i]=o&&typeof o=="object"&&!Array.isArray(o)?hf(o):o,a},Object.create(null))}function gf(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},df(t.arrayFormatSeparator);const n=o=>t.skipNull&&K_(e[o])||t.skipEmptyString&&e[o]==="",r=W_(t),a={};for(const[o,l]of Object.entries(e))n(o)||(a[o]=l);const i=Object.keys(a);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const l=e[o];return l===void 0?"":l===null?Oe(o,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?Oe(o,t)+"[]":l.reduce(r(o),[]).join("&"):Oe(o,t)+"="+Oe(l,t)}).filter(o=>o.length>0).join("&")}function mf(e,t){var a;t={decode:!0,...t};let[n,r]=uf(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:il(sl(e),t),...t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:qt(r,t)}:{}}}function pf(e,t){t={encode:!0,strict:!0,[eo]:!0,...t};const n=ff(e.url).split("?")[0]||"",r=sl(e.url),a={...il(r,{sort:!1}),...e.query};let i=gf(a,t);i&&(i=`?${i}`);let o=J_(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(n);l.hash=e.fragmentIdentifier,o=t[eo]?l.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}function xf(e,t,n){n={parseFragmentIdentifier:!0,[eo]:!1,...n};const{url:r,query:a,fragmentIdentifier:i}=mf(e,n);return pf({url:r,query:V_(a,t),fragmentIdentifier:i},n)}function Z_(e,t,n){const r=Array.isArray(t)?a=>!t.includes(a):(a,i)=>!t(a,i);return xf(e,r,n)}const Q_=Object.freeze(Object.defineProperty({__proto__:null,exclude:Z_,extract:sl,parse:il,parseUrl:mf,pick:xf,stringify:gf,stringifyUrl:pf},Symbol.toStringTag,{value:"Module"}));var X_=Mo,eS=Ks,tS="[object AsyncFunction]",nS="[object Function]",rS="[object GeneratorFunction]",aS="[object Proxy]";function sS(e){if(!eS(e))return!1;var t=X_(e);return t==nS||t==rS||t==tS||t==aS}var iS=sS,oS=ha,lS=oS["__core-js_shared__"],cS=lS,vi=cS,nu=function(){var e=/[^.]+$/.exec(vi&&vi.keys&&vi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uS(e){return!!nu&&nu in e}var dS=uS,hS=Function.prototype,fS=hS.toString;function gS(e){if(e!=null){try{return fS.call(e)}catch{}try{return e+""}catch{}}return""}var mS=gS,pS=iS,xS=dS,yS=Ks,vS=mS,bS=/[\\^$.*+?()[\]{}|]/g,wS=/^\[object .+?Constructor\]$/,jS=Function.prototype,_S=Object.prototype,SS=jS.toString,CS=_S.hasOwnProperty,ES=RegExp("^"+SS.call(CS).replace(bS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TS(e){if(!yS(e)||xS(e))return!1;var t=pS(e)?ES:wS;return t.test(vS(e))}var RS=TS;function IS(e,t){return e==null?void 0:e[t]}var LS=IS,kS=RS,PS=LS;function AS(e,t){var n=PS(e,t);return kS(n)?n:void 0}var ol=AS,OS=ol,DS=OS(Object,"create"),Ys=DS,ru=Ys;function NS(){this.__data__=ru?ru(null):{},this.size=0}var $S=NS;function FS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var MS=FS,US=Ys,zS="__lodash_hash_undefined__",BS=Object.prototype,HS=BS.hasOwnProperty;function qS(e){var t=this.__data__;if(US){var n=t[e];return n===zS?void 0:n}return HS.call(t,e)?t[e]:void 0}var VS=qS,KS=Ys,YS=Object.prototype,WS=YS.hasOwnProperty;function GS(e){var t=this.__data__;return KS?t[e]!==void 0:WS.call(t,e)}var JS=GS,ZS=Ys,QS="__lodash_hash_undefined__";function XS(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ZS&&t===void 0?QS:t,this}var e1=XS,t1=$S,n1=MS,r1=VS,a1=JS,s1=e1;function Cr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cr.prototype.clear=t1;Cr.prototype.delete=n1;Cr.prototype.get=r1;Cr.prototype.has=a1;Cr.prototype.set=s1;var i1=Cr;function o1(){this.__data__=[],this.size=0}var l1=o1;function c1(e,t){return e===t||e!==e&&t!==t}var u1=c1,d1=u1;function h1(e,t){for(var n=e.length;n--;)if(d1(e[n][0],t))return n;return-1}var Ws=h1,f1=Ws,g1=Array.prototype,m1=g1.splice;function p1(e){var t=this.__data__,n=f1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():m1.call(t,n,1),--this.size,!0}var x1=p1,y1=Ws;function v1(e){var t=this.__data__,n=y1(t,e);return n<0?void 0:t[n][1]}var b1=v1,w1=Ws;function j1(e){return w1(this.__data__,e)>-1}var _1=j1,S1=Ws;function C1(e,t){var n=this.__data__,r=S1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var E1=C1,T1=l1,R1=x1,I1=b1,L1=_1,k1=E1;function Er(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Er.prototype.clear=T1;Er.prototype.delete=R1;Er.prototype.get=I1;Er.prototype.has=L1;Er.prototype.set=k1;var P1=Er,A1=ol,O1=ha,D1=A1(O1,"Map"),N1=D1,au=i1,$1=P1,F1=N1;function M1(){this.size=0,this.__data__={hash:new au,map:new(F1||$1),string:new au}}var U1=M1;function z1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var B1=z1,H1=B1;function q1(e,t){var n=e.__data__;return H1(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Gs=q1,V1=Gs;function K1(e){var t=V1(this,e).delete(e);return this.size-=t?1:0,t}var Y1=K1,W1=Gs;function G1(e){return W1(this,e).get(e)}var J1=G1,Z1=Gs;function Q1(e){return Z1(this,e).has(e)}var X1=Q1,eC=Gs;function tC(e,t){var n=eC(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var nC=tC,rC=U1,aC=Y1,sC=J1,iC=X1,oC=nC;function Tr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tr.prototype.clear=rC;Tr.prototype.delete=aC;Tr.prototype.get=sC;Tr.prototype.has=iC;Tr.prototype.set=oC;var lC=Tr,cC="__lodash_hash_undefined__";function uC(e){return this.__data__.set(e,cC),this}var dC=uC;function hC(e){return this.__data__.has(e)}var fC=hC,gC=lC,mC=dC,pC=fC;function bs(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gC;++t<n;)this.add(e[t])}bs.prototype.add=bs.prototype.push=mC;bs.prototype.has=pC;var xC=bs;function yC(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var vC=yC;function bC(e){return e!==e}var wC=bC;function jC(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var _C=jC,SC=vC,CC=wC,EC=_C;function TC(e,t,n){return t===t?EC(e,t,n):SC(e,CC,n)}var RC=TC,IC=RC;function LC(e,t){var n=e==null?0:e.length;return!!n&&IC(e,t,0)>-1}var kC=LC;function PC(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var AC=PC;function OC(e,t){return e.has(t)}var DC=OC,NC=ol,$C=ha,FC=NC($C,"Set"),MC=FC;function UC(){}var zC=UC;function BC(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var yf=BC,bi=MC,HC=zC,qC=yf,VC=1/0,KC=bi&&1/qC(new bi([,-0]))[1]==VC?function(e){return new bi(e)}:HC,YC=KC,WC=xC,GC=kC,JC=AC,ZC=DC,QC=YC,XC=yf,eE=200;function tE(e,t,n){var r=-1,a=GC,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=JC;else if(i>=eE){var u=t?null:QC(e);if(u)return XC(u);o=!1,a=ZC,c=new WC}else c=t?[]:l;e:for(;++r<i;){var h=e[r],f=t?t(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),l.push(h)}else a(c,f,n)||(c!==l&&c.push(f),l.push(h))}return l}var nE=tE,rE=nE;function aE(e){return e&&e.length?rE(e):[]}var sE=aE;const su=Mt(sE),iE="_input_1s5lo_1",oE={input:iE};function ll(e){const t=b.useMemo(()=>e.inputType!=="number"?{}:{type:"number",min:0,step:1},[e.inputType]);return s.jsxs(O.Compact,{className:Zr(e.className,e.rootClassName),style:e.style,size:e.size,children:[s.jsx(je,{className:e.selectClassName,style:e.selectStyle,placeholder:e.selectPlaceholder,loading:e.loading,disabled:e.disabled,labelRender:e.selectLabelRender,value:e.selectValue,options:e.selectOptions,onChange:e.onSelectChange}),s.jsx(ie.Search,{className:Zr(oE.input,e.inputClassName),style:e.inputStyle,width:e.inputWidth,placeholder:e.inputPlaceholder,loading:e.loading,disabled:e.disabled,allowClear:!0,...t,value:e.inputValue,onChange:n=>{var r;return(r=e.onInputChange)==null?void 0:r.call(e,n.target.value)},onSearch:(n,r,a)=>{var i;(a==null?void 0:a.source)==="input"&&((i=e.onInputSearch)==null||i.call(e,n))}})]})}const ln="ALL",Ua=Object.freeze({postId:ln,state:ln,sort:An.Desc}),lE=e=>({post_id:e.postId!==ln?e.postId:void 0,state:e.state!==ln?e.state:void 0,sort:e.sort}),cE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(ll,{disabled:e.loading,inputStyle:{width:126},inputPlaceholder:"POST ID",inputType:"number",inputValue:e.postIdInput,onInputChange:t=>e.onPostIdInputChange(t),onInputSearch:t=>{const n=t?Number(t):ln;e.onParamsChange({postId:n})},selectStyle:{width:110},selectValue:e.params.postId,onSelectChange:t=>{e.onPostIdInputChange(t===ln?"":String(t)),e.onParamsChange({postId:t})},selectLabelRender:({label:t})=>t||"文章评论",selectOptions:[{value:ln,label:"全部评论"},{value:ra,label:"留言评论"}]}),s.jsx(je,{style:{width:130},disabled:e.loading,value:e.params.state,onChange:t=>e.onParamsChange({state:t}),options:[{label:"全部状态",value:ln},...Ho.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(Mn,{style:{width:100},withHot:!0,disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(ie.Search,{style:{width:260},placeholder:"输入评论内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(mr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),uE=e=>{const t=Gt({done:[],fail:[],todo:[],running:!1}),n=()=>{const a=async i=>{try{await a_(i),t.done.push(i)}catch{t.fail.push(i)}finally{t.todo=t.todo.slice().filter(o=>o!==i)}};if(t.todo.length)t.running=!0,a(t.todo[0]).then(()=>{window.setTimeout(()=>n(),3e3)});else{t.running=!1;const i=["任务结束",`done: ${t.done.length}`,`fail: ${t.fail.length}`];un.info(i.join("，"))}},r=()=>{const a=e.comments.filter(i=>{var o;return!!i.ip&&!((o=i.ip_location)!=null&&o.region_code)}).map(i=>i._id);a.length?(t.todo.push(...a),n(),un.info(`开始任务，共 ${a.length} 条数据`)):un.info("没有需要修正的数据")};return s.jsxs(O,{wrap:!0,children:[s.jsxs(N.Group,{children:[t.running&&s.jsxs(N,{size:"small",onClick:()=>{Re.info({title:"任务详情",content:JSON.stringify(t,null,2)})},children:["TODO: ",t.todo.length,s.jsx(ee,{type:"vertical"}),"DONE: ",t.done.length,s.jsx(ee,{type:"vertical"}),"FAIL: ",t.fail.length]}),s.jsx(N,{size:"small",icon:s.jsx(ws,{}),disabled:t.running||e.loading,loading:t.running,onClick:()=>r(),children:"修正本页评论的 IP location 数据"})]}),s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(gg,{}),href:Nh(),children:"去留言板"})]})},dE=e=>{var t,n,r;return s.jsx(mn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:60,dataIndex:"id",responsive:["md"]},{title:"POST_ID",width:50,dataIndex:"post_id",responsive:["md"],render(a,i){return s.jsx(N,{size:"small",onClick:()=>e.onClickPostId(i.post_id),children:i.post_id})}},{title:"评论内容",dataIndex:"content",render:(a,i)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Paragraph,{className:ts.commentContent,ellipsis:{rows:5,expandable:!0},children:i.content}),s.jsx(J,{type:"secondary",text:Fe(i.created_at)})]})},{title:"个人信息",width:260,dataIndex:"author",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsxs(O,{children:[s.jsx(nl,{comment:i}),s.jsx(J,{text:i.author.name})]}),s.jsxs(O,{direction:"vertical",size:"small",children:[s.jsx(J,{placeholder:"Left blank",prefix:s.jsx(Cs,{}),text:i.author.email,copyable:!0}),s.jsxs(O,{size:"small",children:[s.jsx(or,{}),s.jsx(fa,{data:i.author.site,placeholder:"Left blank",children:o=>s.jsx(lr,{placement:"top",content:o,children:s.jsx(M.Link,{target:"_blank",rel:"noreferrer",href:o,children:"点击打开"})})})]})]})]})}},{title:"终端信息",width:210,dataIndex:"agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(ws,{}),text:i.ip,copyable:!0}),s.jsxs(O,{size:"small",children:[s.jsx(vu,{}),s.jsx(Un,{data:i.ip_location})]}),s.jsxs(O,{size:"small",children:[s.jsx(bu,{}),s.jsx(lr,{title:"终端信息",placement:"right",content:s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"浏览器",text:gn(i.agent)})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"系统",text:zn(i.agent)})}),s.jsx("div",{children:s.jsx(J,{prefix:"设备",text:ma(i.agent)})})]}),children:gn(i.agent)})]})]})}},{title:"状态",width:80,dataIndex:"state",render:(a,i)=>{const o=Jr(i.state);return s.jsxs(O,{direction:"vertical",children:[s.jsx(Ft,{icon:o.icon,color:o.color,children:o.name}),s.jsxs(Ft,{icon:s.jsx($n,{}),color:i.likes>0?"processing":void 0,children:[i.likes," 个赞"]}),s.jsxs(Ft,{icon:s.jsx(fr,{}),color:i.dislikes>0?"gold":void 0,children:[i.dislikes," 个踩"]})]})}},{title:"操作",width:110,dataIndex:"actions",render:(a,i,o)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Je,{}),onClick:()=>e.onDetail(i,o),children:"评论详情"}),i.state===st.Auditing&&s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(jt,{}),onClick:()=>e.onUpdateState(i,st.Published),children:s.jsx(M.Text,{type:"success",children:"审核通过"})}),i.state===st.Published&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(js,{}),onClick:()=>e.onUpdateState(i,st.Spam),children:"标为垃圾"}),(i.state===st.Auditing||i.state===st.Published)&&s.jsx(N,{size:"small",type:"text",block:!0,danger:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onUpdateState(i,st.Deleted),children:"移回收站"}),(i.state===st.Deleted||i.state===st.Spam)&&s.jsxs(s.Fragment,{children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Je,{}),onClick:()=>e.onUpdateState(i,st.Auditing),children:s.jsx(M.Text,{type:"warning",children:"退为草稿"})}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})]})}]})},hE=e=>{var i,o,l,c,u,h,f,d,x,g,p,m,C,S,w;const[t]=P.useForm(),n=Rt(null),r=j=>{qh(j).then(T=>{n.value=T})},a=()=>{t.validateFields().then(j=>{e.onSubmit(j)})};return Ce(()=>{t.setFieldsValue(e.comment),e.comment.post_id!==ra&&r(e.comment.post_id)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:(i=e.comment)==null?void 0:i.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:(o=e.comment)==null?void 0:o._id})]})}),s.jsx(P.Item,{label:"发布于",children:Fe((l=e.comment)==null?void 0:l.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Fe((c=e.comment)==null?void 0:c.updated_at)}),s.jsx(P.Item,{label:"用户头像",children:s.jsx(nl,{size:"large",comment:e.comment})}),s.jsx(P.Item,{name:["author","name"],label:"用户昵称",rules:[{required:!0,message:"必填"}],children:s.jsx(ie,{prefix:s.jsx(Dn,{})})}),s.jsx(P.Item,{name:["author","email"],label:"用户邮箱",rules:[{message:"请输入正确的邮箱",type:"email"}],children:s.jsx(ie,{prefix:s.jsx(Cs,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{name:["author","site"],label:"用户网址",rules:[{message:"请输入正确的 URL",type:"url"}],children:s.jsx(ie,{prefix:s.jsx(or,{}),type:"url",placeholder:"URL",suffix:s.jsx(mg,{onClick:()=>{var T;const j=(T=e.comment)==null?void 0:T.author.site;j&&window.open(j)}})})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(J,{text:(u=e.comment)==null?void 0:u.ip,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Un,{data:(h=e.comment)==null?void 0:h.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(J,{text:gn((f=e.comment)==null?void 0:f.agent),placeholder:"未知浏览器"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:zn((d=e.comment)==null?void 0:d.agent),placeholder:"未知系统"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:ma((x=e.comment)==null?void 0:x.agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{name:"likes",label:"被赞",rules:[{required:!0,message:"必填"}],children:s.jsx(vl,{addonBefore:s.jsx($n,{}),placeholder:"多少"})}),s.jsx(P.Item,{name:"dislikes",label:"被踩",rules:[{required:!0,message:"必填"}],children:s.jsx(vl,{addonBefore:s.jsx(fr,{}),placeholder:"多少"})}),s.jsx(P.Item,{label:"宿主页面",children:s.jsxs(N,{type:"link",target:"_blank",icon:s.jsx(or,{}),href:Jw((g=e.comment)==null?void 0:g.post_id),children:[((p=e.comment)==null?void 0:p.post_id)===ra?"留言板":((m=n.value)==null?void 0:m.title)??"加载中⋯",s.jsx(ee,{type:"vertical"}),s.jsxs("span",{children:["#",(C=e.comment)==null?void 0:C.id]})]})}),(S=e.comment)!=null&&S.pid?s.jsx(P.Item,{label:"父级评论",children:s.jsxs(M.Text,{strong:!0,children:["#",(w=e.comment)==null?void 0:w.pid]})}):null,s.jsx(P.Item,{name:"state",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:s.jsx(je,{placeholder:"选择状态",options:Ho.map(j=>({value:j.id,label:s.jsxs(O,{size:"small",children:[j.icon,j.name]})}))})}),s.jsx(P.Item,{label:"评论内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(dr,{rows:12,placeholder:"输入评论内容...",disabledLanguageSelect:!0,disabledLineNumbers:!0,disabledFoldGutter:!0,disabledCacheDraft:!0})}),s.jsx(P.Item,{label:"自定义扩展",extra:"可以为当前评论增加自定义扩展属性",shouldUpdate:!0,children:s.jsx(ga,{fieldName:"extends"})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(jt,{}),loading:e.submitting,onClick:a,children:"提交更新"})})]})},fE=()=>{var E;const e=xn(),{i18n:t}=et(),{post_id:n}=Q_.parse(e.search),r=n?Number(n):void 0,a=he(),i=he(),o=Gt({data:[],pagination:void 0}),l=X(""),c=X(String(r??"")),u=X({...Ua,postId:r??Ua.postId}),h=()=>{l.value="",c.value="",u.value={...Ua}},f=R=>{l.value="",c.value=String(R),u.value={...Ua,postId:Number(R)}},d=X([]),x=It(()=>o.data.filter(R=>d.value.includes(R._id))),g=X(!1),p=X(null),m=It(()=>{const R=p.value;return R!==null?o.data[R]:null}),C=()=>{g.value=!1},S=R=>{p.value=R,g.value=!0},w=R=>{const D={...R,...lE(u.value),keyword:l.value||void 0};a.promise(rf(D)).then($=>{o.data=$.data,o.pagination=$.pagination,ot(document.body)})},j=()=>{var R,D;w({page:(R=o.pagination)==null?void 0:R.current_page,per_page:(D=o.pagination)==null?void 0:D.per_page})},T=R=>{const D={...m.value,...R};i.promise(t_(D)).then(()=>{C(),j()})},y=R=>{Re.confirm({title:`确定要彻底删除 ${R.length} 个评论吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>r_(R.map(D=>D._id),su(R.map(D=>D.post_id))).then(()=>{j()})})},L=(R,D)=>{Re.confirm({title:`确定要将 ${R.length} 个评论更新为「 ${Jr(D).name} 」状态吗？`,content:"请谨慎操作",centered:!0,onOk:()=>n_(R.map($=>$._id),su(R.map($=>$.post_id)),D).then(()=>{j()})})};return _t(()=>u.value,()=>w(),{deep:!0}),Ce(()=>{w()}),s.jsxs(ve,{bordered:!1,title:t.t("page.comment.list.title",{total:((E=o.pagination)==null?void 0:E.total)??"-"}),extra:s.jsx(uE,{comments:o.data,loading:a.state.value}),children:[s.jsx(cE,{loading:a.state.value,keyword:l.value,onKeywordChange:R=>l.value=R,onKeywordSearch:()=>w(),params:u.value,onParamsChange:R=>Object.assign(u.value,R),postIdInput:c.value,onPostIdInputChange:R=>c.value=R,onResetRefresh:h,extra:s.jsx(jr,{text:"批量操作",disabled:!d.value.length,options:[{label:"退为草稿",icon:s.jsx(Je,{}),onClick:()=>L(x.value,st.Auditing)},{label:"审核通过",icon:s.jsx(jt,{}),onClick:()=>L(x.value,st.Published)},{label:"标为垃圾",icon:s.jsx(js,{}),onClick:()=>L(x.value,st.Spam)},{label:"移回收站",icon:s.jsx(Ve,{}),onClick:()=>L(x.value,st.Deleted)},{label:"彻底删除",icon:s.jsx(Ve,{}),onClick:()=>y(x.value)}]})}),s.jsx(ee,{}),s.jsx(dE,{loading:a.state.value,selectedIds:d.value,onSelecte:R=>d.value=R,data:o.data,pagination:o.pagination,onPaginate:(R,D)=>w({page:R,per_page:D}),onDetail:(R,D)=>S(D),onDelete:R=>y([R]),onUpdateState:(R,D)=>L([R],D),onClickPostId:f}),s.jsx(Ss,{width:"46rem",title:"评论详情",destroyOnClose:!0,open:g.value,onClose:C,children:s.jsx(ct,{spinning:i.state.value,children:m.value&&s.jsx(hE,{submitting:i.state.value,comment:m.value,onSubmit:R=>T(R)})})})]})},$t="ALL",gE=void 0,wi={target_type:$t,vote_type:$t,author_type:$t,sort:Pn.Desc},mE=e=>({target_type:e.target_type!==$t?e.target_type:void 0,vote_type:e.vote_type!==$t?e.vote_type:void 0,author_type:e.author_type!==$t?e.author_type:void 0,sort:e.sort}),pE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(O.Compact,{children:s.jsx(ll,{disabled:e.loading,inputStyle:{width:120},inputPlaceholder:(e.params.target_type===$t?"目标":es(e.params.target_type))+" ID",inputType:"number",inputValue:e.targetId,onInputSearch:()=>e.onTargetIdSearch(),onInputChange:t=>{t&&Number.isFinite(Number(t))?e.onTargetIdChange(Number(t)):e.onTargetIdChange(void 0)},selectStyle:{width:110},selectValue:e.params.target_type,onSelectChange:t=>{e.onTargetIdChange(void 0),e.onParamsChange({target_type:t})},selectOptions:[{value:$t,label:"所有类型"},{value:rr.Post,label:es(rr.Post)},{value:rr.Comment,label:es(rr.Comment)}]})}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.vote_type,onChange:t=>e.onParamsChange({vote_type:t}),options:[{value:$t,label:"所有态度"},...nf.map(t=>({value:t.id,label:s.jsxs(O,{size:"small",children:[t.icon,t.name]})}))]}),s.jsx(je,{style:{width:120},disabled:e.loading,value:e.params.author_type,onChange:t=>e.onParamsChange({author_type:t}),options:[{value:$t,label:"所有用户"},...[Xa.Anonymous,Xa.Guest,Xa.Disqus].map(t=>({value:t,label:el(t)}))]}),s.jsx(Mn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:()=>e.onResetRefresh(),children:s.jsx("span",{children:s.jsx(mr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),xE=e=>{var t,n,r;return s.jsx(mn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelecte},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"目标",dataIndex:"target_type",render:(a,i)=>s.jsxs(N,{type:"link",onClick:()=>e.onClickTarget(i),children:[es(i.target_type)," #",i.target_id===ra?"Guestbook":i.target_id]})},{title:"态度",dataIndex:"vote_type",render:(a,i)=>s.jsx(Ft,{icon:vs(i.vote_type).icon,color:i.vote_type===Xo.Upvote?"green":"red",children:s.jsx("strong",{children:vs(i.vote_type).name})})},{title:"用户",dataIndex:"author_type",render:(a,i)=>{var o;return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(pg,{}),text:el(i.author_type)}),s.jsx(lr,{title:"用户数据",placement:"right",content:s.jsx("pre",{children:JSON.stringify(i.author,null,2)}),children:s.jsx("span",{children:s.jsx(J,{prefix:s.jsx(Dn,{}),text:(o=i.author)==null?void 0:o.name,placeholder:"未知用户"})})})]})}},{title:"IP / GEO",dataIndex:"ip",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(ws,{}),text:i.ip,copyable:!0,placeholder:"未知 IP"}),s.jsxs(O,{size:"small",children:[s.jsx(vu,{}),s.jsx(Un,{data:i.ip_location})]})]})}},{title:"软件 / 终端",dataIndex:"user_agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{prefix:s.jsx(bu,{}),text:gn(i.user_agent),placeholder:"未知浏览器"}),s.jsx(O,{size:"small",children:s.jsx(J,{prefix:s.jsx(xg,{}),text:zn(i.user_agent),placeholder:"未知系统"})})]})}},{title:"硬件 / 时间",dataIndex:"created_at",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(O,{size:"small",children:s.jsx(J,{prefix:s.jsx(yg,{}),text:ma(i.user_agent),placeholder:"未知设备"})}),s.jsx(J,{prefix:s.jsx(wu,{}),text:Fe(i.created_at)})]})}}]})},yE=()=>{var x;const{i18n:e}=et(),t=he(),n=Gt({data:[],pagination:void 0}),r=X({...wi}),a=X(void 0),i=g=>{a.value=Number.isFinite(g)?g:void 0},o=()=>{a.value=gE,r.value={...wi}},l=g=>{a.value=g.target_id,r.value={...wi,target_type:g.target_type}},c=X([]),u=It(()=>n.data.filter(g=>c.value.includes(g._id))),h=g=>{const p={...g,...mE(r.value),target_id:a.value};t.promise(tf(p)).then(m=>{n.data=m.data,n.pagination=m.pagination,ot(document.body)})},f=()=>{var g,p;h({page:(g=n.pagination)==null?void 0:g.current_page,per_page:(p=n.pagination)==null?void 0:p.per_page})},d=g=>{Re.confirm({title:`确定要彻底删除 ${g.length} 个记录吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>K0(g.map(p=>p._id)).then(()=>{f()})})};return _t(()=>r.value,()=>h(),{deep:!0}),Ce(()=>{h()}),s.jsxs(ve,{bordered:!1,title:e.t("page.vote.list.title",{total:((x=n.pagination)==null?void 0:x.total)??"-"}),children:[s.jsx(pE,{loading:t.state.value,targetId:a.value,onTargetIdChange:i,onTargetIdSearch:()=>h(),params:r.value,onParamsChange:g=>Object.assign(r.value,g),onResetRefresh:o,extra:s.jsx(jr,{text:"批量操作",disabled:!c.value.length,options:[{label:"彻底删除",icon:s.jsx(Ve,{}),onClick:()=>d(u.value)}]})}),s.jsx(ee,{}),s.jsx(xE,{loading:t.state.value,selectedIds:c.value,data:n.data,pagination:n.pagination,onSelecte:g=>c.value=g,onPaginate:(g,p)=>h({page:g,per_page:p}),onClickTarget:g=>l(g)})]})},cl="/feedback";function vE(e={}){return K.get(cl,{params:e}).then(t=>t.result)}function bE(e){return K.put(`${cl}/${e._id}`,e).then(t=>t.result)}function wE(e){return K.delete(cl,{data:{feedback_ids:e}}).then(t=>t.result)}var vf=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(vf||{});const jE=[{number:0,boolean:!1,name:"未标记",icon:s.jsx(co,{})},{number:1,boolean:!0,name:"已标记",icon:s.jsx(lo,{style:{color:"#fadb14"}})}],_E=new Map(jE.map(e=>[e.number,e])),to=e=>_E.get(e?1:0),Rn="ALL",iu={marked:!1,tid:Rn,emotion:Rn,sort:Pn.Desc},SE=e=>({marked:e.marked?vf.Yes:void 0,tid:e.tid!==Rn?e.tid:void 0,emotion:e.emotion!==Rn?e.emotion:void 0,sort:e.sort}),CE=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(N,{disabled:e.loading,type:e.params.marked?"primary":"default",icon:e.params.marked?s.jsx(lo,{}):s.jsx(co,{}),onClick:()=>e.onParamsChange({marked:!e.params.marked}),children:"标记数据"}),s.jsx(ll,{disabled:e.loading,inputStyle:{width:100},inputPlaceholder:"TID",inputType:"number",onInputSearch:t=>{const n=t?Number(t):Rn;e.onParamsChange({tid:n})},selectStyle:{width:110},selectValue:e.params.tid,onSelectChange:t=>e.onParamsChange({tid:t}),selectOptions:[{value:Rn,label:"所有反馈"},{value:0,label:"站点反馈"}]}),s.jsx(je,{style:{width:110},disabled:e.loading,value:e.params.emotion,onChange:t=>e.onParamsChange({emotion:t}),options:[{value:Rn,label:"所有评分"},{value:1,label:"1 分"},{value:2,label:"2 分"},{value:3,label:"3 分"},{value:4,label:"4 分"},{value:5,label:"5 分"}]}),s.jsx(Mn,{style:{width:110},disabled:e.loading,value:e.params.sort,onChange:t=>e.onParamsChange({sort:t})}),s.jsx(ie.Search,{style:{width:260},placeholder:"输入反馈内容、作者信息搜索",disabled:e.loading,value:e.keyword,onChange:t=>e.onKeywordChange(t.target.value),allowClear:!0,onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onKeywordSearch()}}),s.jsx(N,{icon:s.jsx(it,{}),loading:e.loading,onClick:e.onResetRefresh,children:s.jsx("span",{children:s.jsx(mr,{i18nKey:"common.list.filter.refresh_with_reset"})})})]}),s.jsx(O,{children:e.extra})]}),EE="_feedbackContent_1w5aj_1",TE={feedbackContent:EE},RE=e=>{var t,n,r;return s.jsx(mn,{rowKey:"_id",loading:e.loading,dataSource:e.data,rowSelection:{selectedRowKeys:e.selectedIds,onChange:e.onSelect},pagination:{pageSizeOptions:["10","20","50"],current:(t=e.pagination)==null?void 0:t.current_page,pageSize:(n=e.pagination)==null?void 0:n.per_page,total:(r=e.pagination)==null?void 0:r.total,showSizeChanger:!0,onChange:e.onPaginate},columns:[{title:"ID",width:40,dataIndex:"id"},{title:"TID",width:40,dataIndex:"tid"},{title:"标记",width:60,align:"center",dataIndex:"marked",render:(a,i)=>to(i.marked).icon},{title:"评分",width:80,align:"center",dataIndex:"emotion",render:(a,i)=>s.jsx(cn,{prefix:i.emotion_emoji,value:i.emotion})},{title:"反馈内容",dataIndex:"content",render:(a,i)=>s.jsx(M.Paragraph,{className:TE.feedbackContent,ellipsis:{rows:3,expandable:!0},children:i.content})},{title:"备注",width:180,dataIndex:"remark",render:(a,i)=>s.jsx(fa,{data:i.remark||null,children:o=>s.jsx(M.Paragraph,{ellipsis:{rows:3,expandable:!0},children:o})})},{title:"发布于",width:200,dataIndex:"agent",render(a,i){return s.jsxs(O,{direction:"vertical",children:[s.jsx(lr,{title:"终端信息",placement:"left",style:{width:300},content:s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"用户：",text:i.user_name})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"邮箱：",text:i.user_email,copyable:!0})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"来源：",text:i.origin,copyable:!0})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"IP：",text:i.ip||void 0,copyable:!0})}),s.jsxs(M.Paragraph,{children:["位置： ",s.jsx(Un,{data:i.ip_location})]}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"浏览器：",text:gn(i.user_agent)})}),s.jsx(M.Paragraph,{children:s.jsx(J,{prefix:"系统：",text:zn(i.user_agent)})}),s.jsx("div",{children:s.jsx(J,{prefix:"设备：",text:ma(i.user_agent)})})]}),children:s.jsx("span",{children:s.jsx(J,{prefix:s.jsx(Dn,{}),text:i.user_name,placeholder:"Anonymous"})})}),s.jsx(J,{prefix:s.jsx(wu,{}),text:Fe(i.created_at)})]})}},{title:"操作",width:120,dataIndex:"actions",render:(a,i,o)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(N,{size:"small",type:"text",block:!0,icon:s.jsx(Je,{}),onClick:()=>e.onDetail(i,o),children:"反馈详情"}),s.jsx(N,{size:"small",type:"text",danger:!0,block:!0,icon:s.jsx(Ve,{}),onClick:()=>e.onDelete(i,o),children:"彻底删除"})]})}]})},IE=e=>{const[t]=P.useForm(),n=()=>{t.validateFields().then(r=>{e.onSubmit(r)})};return Ce(()=>{t.setFieldsValue(e.feedback)}),s.jsxs(P,{labelCol:{span:4},wrapperCol:{span:18},scrollToFirstError:!0,colon:!1,form:t,children:[s.jsx(P.Item,{label:"ID",children:s.jsxs(O,{size:"small",children:[s.jsx(M.Text,{copyable:!0,children:e.feedback.id}),s.jsx(ee,{type:"vertical"}),s.jsx(M.Text,{copyable:!0,children:e.feedback._id})]})}),s.jsx(P.Item,{label:"TID",children:s.jsx(M.Text,{copyable:!0,children:e.feedback.tid})}),s.jsx(P.Item,{label:"发布于",children:Fe(e.feedback.created_at)}),s.jsx(P.Item,{label:"最后修改于",children:Fe(e.feedback.updated_at)}),s.jsx(P.Item,{name:"marked",label:"是否标记",children:s.jsxs(za.Group,{size:"middle",children:[s.jsx(za.Button,{value:!1,children:to(!1).icon}),s.jsx(za.Button,{value:!0,children:to(!0).icon})]})}),s.jsx(P.Item,{name:"user_name",label:"用户昵称",children:s.jsx(ie,{prefix:s.jsx(Dn,{})})}),s.jsx(P.Item,{name:"user_email",label:"用户邮箱",children:s.jsx(ie,{prefix:s.jsx(Cs,{}),placeholder:"email",type:"email"})}),s.jsx(P.Item,{label:"IP 地址",children:s.jsx(J,{text:e.feedback.ip||null,copyable:!0})}),s.jsx(P.Item,{label:"IP 地理位置",children:s.jsx(Un,{data:e.feedback.ip_location,fullname:!0})}),s.jsxs(P.Item,{label:"终端",children:[s.jsx(J,{text:gn(e.feedback.user_agent),placeholder:"未知浏览器"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:zn(e.feedback.user_agent),placeholder:"未知系统"}),s.jsx(ee,{type:"vertical"}),s.jsx(J,{text:ma(e.feedback.user_agent),placeholder:"未知设备"})]}),s.jsx(P.Item,{label:"反馈评分",children:s.jsx(cn,{prefix:e.feedback.emotion_emoji,value:`${e.feedback.emotion_text} (${e.feedback.emotion})`})}),s.jsx(P.Item,{label:"反馈内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:s.jsx(ie.TextArea,{autoSize:{minRows:8,maxRows:18}})}),s.jsx(P.Item,{label:"备注",name:"remark",children:s.jsx(ie.TextArea,{autoSize:{minRows:3,maxRows:8}})}),s.jsx(P.Item,{label:" ",children:s.jsx(N,{type:"primary",icon:s.jsx(jt,{}),loading:e.submitting,onClick:n,children:"提交更新"})})]})},LE=()=>{var S;const{i18n:e}=et(),t=he(),n=he(),r=Gt({data:[],pagination:void 0}),a=X(""),i=X({...iu}),o=()=>{a.value="",i.value={...iu}},l=X([]),c=It(()=>r.data.filter(w=>l.value.includes(w._id))),u=X(!1),h=X(null),f=It(()=>{const w=h.value;return w!==null?r.data[w]:null}),d=()=>{u.value=!1},x=w=>{h.value=w,u.value=!0},g=w=>{const j={...w,...SE(i.value),keyword:a.value||void 0};t.promise(vE(j)).then(T=>{r.data=T.data,r.pagination=T.pagination,ot(document.body)})},p=()=>{var w,j;g({page:(w=r.pagination)==null?void 0:w.current_page,per_page:(j=r.pagination)==null?void 0:j.per_page})},m=w=>{Re.confirm({title:`确定要彻底删除 ${w.length} 个反馈吗？`,content:"该行为是物理删除，不可恢复！",centered:!0,onOk:()=>wE(w.map(j=>j._id)).then(()=>{p()})})},C=w=>{const{emotion_emoji:j,emotion_text:T,...y}={...f.value,...w},L={...y,ip:y.ip||null};n.promise(bE(L)).then(()=>{d(),p()})};return _t(()=>i.value,()=>g(),{deep:!0}),Ce(()=>{g()}),s.jsxs(ve,{bordered:!1,title:e.t("page.feedback.list.title",{total:((S=r.pagination)==null?void 0:S.total)??"-"}),children:[s.jsx(CE,{loading:t.state.value,keyword:a.value,onKeywordChange:w=>a.value=w,onKeywordSearch:()=>g(),params:i.value,onParamsChange:w=>Object.assign(i.value,w),onResetRefresh:o,extra:s.jsx(jr,{text:"批量操作",disabled:!l.value.length,options:[{label:"彻底删除",icon:s.jsx(Ve,{}),onClick:()=>m(c.value)}]})}),s.jsx(ee,{}),s.jsx(RE,{loading:t.state.value,data:r.data,pagination:r.pagination,selectedIds:l.value,onSelect:w=>l.value=w,onDetail:(w,j)=>x(j),onDelete:w=>m([w]),onPaginate:(w,j)=>g({page:w,per_page:j})}),s.jsx(Ss,{width:"46rem",title:"反馈详情",destroyOnClose:!0,open:u.value,onClose:d,children:s.jsx(ct,{spinning:n.state.value,children:f.value&&s.jsx(IE,{submitting:n.state.value,feedback:f.value,onSubmit:w=>C(w)})})})]})},kE=(e,t,n="text/plain")=>{const r=new Blob([e],{type:n}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(o),URL.revokeObjectURL(a)},ya="/disqus";function PE(e){return K.get(`${ya}/threads`,{params:e})}function AE(e){return K.get(`${ya}/posts`,{params:e})}function bf(){return K.get(`${ya}/config`)}async function OE(e){const t=new FormData;return t.append("file",e),K.post(`${ya}/import-xml`,t)}async function DE(){const e=await K.$({url:`${ya}/export-xml`,method:"GET",responseType:"blob"});kE(e.data,"nodepress-export-to-disqus.xml","application/xml")}var On=(e=>(e.Desc="desc",e.Asc="asc",e))(On||{}),ns=(e=>(e.Open="open",e.Closed="closed",e))(ns||{}),sn=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Spam="spam",e.Deleted="deleted",e.Flagged="flagged",e.Highlighted="highlighted",e))(sn||{});const no="ALL",ou={order:On.Desc,include:no},NE=()=>{var l,c;const e=X(null),t=he(),n=Gt({cursor:null,list:[]}),r=X({...ou}),a=()=>{r.value={...ou}},i=u=>{const h={...u,limit:50,forum:e.value.forum,order:r.value.order,include:r.value.include!==no?[r.value.include]:[...Object.values(ns)]};t.promise(PE(h)).then(f=>{u!=null&&u.cursor?(n.cursor=f.result.cursor,n.list.push(...f.result.response)):(n.cursor=f.result.cursor,n.list=f.result.response,ot(document.body))})},o=()=>{i({cursor:n.cursor.next})};return _t(()=>r.value,()=>i(),{deep:!0}),Ce(()=>{bf().then(u=>{e.value=u.result,i()})}),s.jsxs(ve,{bordered:!1,title:`Threads (${n.list.length})`,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(go,{}),href:`https://${(l=e.value)==null?void 0:l.forum}.disqus.com/admin/discussions/`,children:"Disqus Discussions"}),children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:110},disabled:t.state.value,value:r.value.include,onChange:u=>r.value.include=u,options:[{value:no,label:"All state"},{value:ns.Open,label:"Open"},{value:ns.Closed,label:"Closed"}]}),s.jsx(je,{style:{width:80},disabled:t.state.value,value:r.value.order,onChange:u=>r.value.order=u,options:[{value:On.Desc,label:"Desc"},{value:On.Asc,label:"Asc"}]}),s.jsx(N,{icon:s.jsx(it,{}),loading:t.state.value,onClick:()=>a(),children:"Reset and refresh"})]}),s.jsx(ee,{}),s.jsx(mn,{rowKey:"id",dataSource:n.list.slice(),pagination:!1,loading:t.state.value,columns:[{title:"Title / Link",key:"title",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Link,{href:`https://disqus.com/home/discussion/${h.forum}/${h.slug}/`,target:"_blank",strong:!0,children:h.title}),s.jsx(M.Link,{href:h.link,target:"_blank",type:"secondary",children:h.link})]})},{title:"ID / Author",key:"id",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(M.Text,{copyable:!0,children:h.id}),s.jsx(M.Text,{copyable:!0,type:"secondary",children:h.author})]})},{title:"Identifiers / Time",key:"identifiers",render:(u,h)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(O,{children:h.identifiers.map(f=>s.jsx(Ft,{children:f},f))}),s.jsx(M.Text,{type:"secondary",children:Fe(h.createdAt)})]})},{title:"Posts",dataIndex:"posts",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx(sa,{}),h.posts]})},{title:"Likes",key:"likes",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx($n,{}),h.likes]})},{title:"Dislikes",key:"dislikes",render:(u,h)=>s.jsxs(O,{size:"small",children:[s.jsx(fr,{}),h.dislikes]})},{title:"Score",dataIndex:"userScore"},{title:"State",dataIndex:"isClosed",render:(u,h)=>s.jsx(Ei,{disabled:!0,checked:!h.isClosed,checkedChildren:"Open",unCheckedChildren:"Closed"})}]}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:(c=n.cursor)!=null&&c.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(M.Text,{type:"secondary",children:"NO MORE"})})]})},ul="ALL",lu={order:On.Desc,include:ul},$E=e=>s.jsxs(ue,{justify:"space-between",gap:"middle",wrap:!0,children:[s.jsxs(O,{wrap:!0,children:[s.jsx(je,{style:{width:120},disabled:e.loading,value:e.params.include,onChange:t=>e.onParamsChange({include:t}),options:[{value:ul,label:"All state"},{value:sn.Approved,label:"Approved"},{value:sn.Unapproved,label:"Unapproved"},{value:sn.Spam,label:"Spam"},{value:sn.Deleted,label:"Deleted"},{value:sn.Flagged,label:"Flagged"},{value:sn.Highlighted,label:"Highlighted"}]}),s.jsx(je,{style:{width:80},disabled:e.loading,value:e.params.order,onChange:t=>e.onParamsChange({order:t}),options:[{value:On.Desc,label:"Desc"},{value:On.Asc,label:"Asc"}]}),s.jsx(ie.Search,{style:{width:180},allowClear:!0,placeholder:"thread ID",disabled:e.loading,value:e.threadId,onChange:t=>e.onThreadIdChange(t.target.value.trim()),onSearch:(t,n,r)=>{(r==null?void 0:r.source)==="input"&&e.onThreadIdSearch()}}),s.jsx(N,{loading:e.loading,icon:s.jsx(it,{}),onClick:()=>e.onResetRefresh(),children:"Reset and refresh"})]}),s.jsx(O,{children:e.extra})]}),FE=e=>s.jsx(mn,{rowKey:"id",dataSource:e.data,loading:e.loading,pagination:!1,columns:[{title:"ID / Thread",dataIndex:"id",width:160,render:(t,n)=>s.jsxs(O,{direction:"vertical",children:[s.jsx(J,{text:n.id,copyable:!0,type:"secondary"}),s.jsx(J,{text:n.thread,copyable:!0})]})},{title:"Created at / Message",dataIndex:"message",render:(t,n)=>s.jsxs("div",{children:[s.jsx(M.Paragraph,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:n.message}})}),s.jsx(M.Text,{type:"secondary",children:Fe(n.createdAt)})]})},{title:"Author",key:"author",width:138,render:(t,n)=>s.jsxs(O,{children:[s.jsx(fo,{size:38,shape:"square",src:n.author.avatar.cache}),s.jsxs(O,{direction:"vertical",size:"small",children:[s.jsx("strong",{children:n.author.name}),s.jsx(fa,{data:n.author.url,children:r=>s.jsx(M.Link,{href:r,target:"_blank",children:"homepage"})})]})]})},{title:"Role",key:"author.isAnonymous",width:80,render:(t,n)=>n.author.isAnonymous?s.jsx(M.Text,{type:"secondary",children:"Guest"}):s.jsx(M.Text,{type:"success",children:"Disqus"})},{title:"Likes",key:"likes",width:60,render:(t,n)=>s.jsxs(O,{size:"small",children:[s.jsx($n,{}),n.likes]})},{title:"Dislikes",key:"dislikes",width:60,render:(t,n)=>s.jsxs(O,{size:"small",children:[s.jsx(fr,{}),n.dislikes]})},{title:"State",dataIndex:"isApproved",width:110,render:(t,n)=>s.jsx("div",{children:[{value:n.isApproved,label:"Approved",state:"success",icon:s.jsx(yu,{})},{value:n.isDeleted,label:"Deleted",state:"danger",icon:s.jsx(bl,{})},{value:n.isSpam,label:"SPAM",state:"danger",icon:s.jsx(bl,{})}].filter(r=>r.value).map((r,a)=>s.jsxs(M.Text,{type:r.state,children:[r.icon," ",r.label]},a))})}]}),ME=()=>{var c,u;const e=X(null),t=he(),n=Gt({cursor:null,list:[]}),r=X(""),a=X({...lu}),i=h=>{const f={...h,limit:50,forum:e.value.forum,order:a.value.order,thread:r.value||null,include:a.value.include!==ul?[a.value.include]:[...Object.values(sn)]};t.promise(AE(f)).then(d=>{h!=null&&h.cursor?(n.cursor=d.result.cursor,n.list.push(...d.result.response)):(n.cursor=d.result.cursor,n.list=d.result.response,ot(document.body))})},o=()=>{i({cursor:n.cursor.next})},l=()=>{r.value="",a.value={...lu}};return _t(()=>a.value,()=>i(),{deep:!0}),Ce(()=>{bf().then(h=>{e.value=h.result,i()})}),s.jsxs(ve,{title:`Posts (${n.list.length})`,bordered:!1,extra:s.jsx(N,{type:"primary",size:"small",target:"_blank",icon:s.jsx(go,{}),href:`https://${(c=e.value)==null?void 0:c.forum}.disqus.com/admin/moderate/all/`,children:"Disqus Moderate"}),children:[s.jsx($E,{loading:t.state.value,threadId:r.value,onThreadIdChange:h=>r.value=h,onThreadIdSearch:()=>i(),params:a.value,onParamsChange:h=>Object.assign(a.value,h),onResetRefresh:l}),s.jsx(ee,{}),s.jsx(FE,{loading:t.state.value,data:n.list.slice()}),s.jsx("br",{}),s.jsx(ue,{justify:"center",children:(u=n.cursor)!=null&&u.hasNext?s.jsx(N,{size:"large",disabled:t.state.value,loading:t.state.value,onClick:o,children:t.state.value?"Loading...":"Loadmore"}):s.jsx(M.Text,{type:"secondary",children:"NO MORE"})})]})},UE=()=>{const e=he(),t=n=>{e.promise(OE(n)).catch(r=>{Re.error({title:"Upload XML error",content:String(r)})})};return s.jsxs("div",{children:[s.jsx(ju,{items:[{status:"process",title:"Export",subTitle:"Export XML form Disqus admin",icon:s.jsx(_u,{})},{status:"process",title:"Import",subTitle:"Upload XML to NodePress",icon:s.jsx(_s,{})}]}),s.jsx(mo,{icon:s.jsx(Es,{}),title:"Disqus To NodePress",extra:s.jsxs(O,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Su,{}),target:"_blank",href:"https://help.disqus.com/en/articles/1717164-comments-export",children:"Export XML from Disqus"}),s.jsx(uo,{name:"file",showUploadList:!1,customRequest:n=>{n.file&&t(n.file)},children:s.jsx(N,{size:"large",type:"primary",loading:e.state.value,disabled:e.state.value,icon:s.jsx(ho,{}),children:"Upload XML to NodePress"})})]})})]})},zE=()=>s.jsxs("div",{children:[s.jsx(ju,{items:[{status:"process",title:"Export",subTitle:"Export XML form NodePress database",icon:s.jsx(_u,{})},{status:"process",title:"Import",subTitle:"Upload XML to Disqus",icon:s.jsx(_s,{})}]}),s.jsx(mo,{icon:s.jsx(Es,{}),title:"NodePress To Disqus",extra:s.jsxs(N.Group,{children:[s.jsx(N,{size:"large",type:"primary",icon:s.jsx(Su,{}),onClick:()=>DE(),children:"Download XML"}),s.jsx(N,{size:"large",type:"primary",icon:s.jsx(ho,{}),target:"_blank",href:"https://import.disqus.com/",children:"Upload to Disqus"})]})})]}),BE=()=>s.jsxs(O,{direction:"vertical",size:ku,style:{width:"100%"},children:[s.jsx(ve,{title:"Synchronize NodePress to Disqus",bordered:!1,children:s.jsx(zE,{})}),s.jsx(ve,{title:"Synchronize Disqus To NodePress",bordered:!1,children:s.jsx(UE,{})})]}),ji=(e,t=0)=>{const n=e||"";return n.trim()?JSON.stringify(JSON.parse(n),null,t):""},HE=e=>{var u;const t=he(),n=he(),r=X(null),[a]=P.useForm(),i=h=>{r.value=h,a.setFieldsValue({...h,ad_config:ji(h.ad_config,2)})},o=()=>t.promise(bw()).then(i),l=h=>{const f={...h,ad_config:ji(h.ad_config)};return n.promise(ww(f)).then(i)},c=()=>{a.validateFields().then(h=>{const f={...r.value,...h};l(f).then(()=>{ot(document.body)})})};return Ce(()=>{o()}),s.jsx(ct,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{form:a,colon:!1,scrollToFirstError:!0,labelCol:{span:e.labelSpan},wrapperCol:{span:e.wrapperSpan},children:[s.jsx(P.Item,{label:!0,children:s.jsx(cn,{valueStyle:{fontWeight:"bold"},value:(u=r.value)==null?void 0:u.meta.likes,title:"站点累计被喜欢",suffix:"次"})}),s.jsx(P.Item,{name:"title",label:"站点标题",required:!0,children:s.jsx(ie,{placeholder:"站点标题"})}),s.jsx(P.Item,{name:"sub_title",label:"副标题",required:!0,children:s.jsx(ie,{placeholder:"副标题"})}),s.jsx(P.Item,{name:"description",label:"站点描述",required:!0,children:s.jsx(ie.TextArea,{rows:4,placeholder:"站点描述"})}),s.jsx(P.Item,{name:"keywords",label:"关键词",required:!0,children:s.jsx(je,{placeholder:"输入关键词后回车",mode:"tags"})}),s.jsx(P.Item,{name:"site_url",label:"站点地址",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的 URL",type:"url"}],children:s.jsx(ie,{suffix:s.jsx(or,{}),placeholder:"https://example.me"})}),s.jsx(P.Item,{name:"site_email",label:"电子邮件",required:!0,rules:[{message:"请输入",required:!0},{message:"请输入正确的邮箱地址",type:"email"}],children:s.jsx(ie,{suffix:s.jsx(Cs,{}),placeholder:"example@xxx.me"})}),s.jsx(P.Item,{name:"statement",label:"站点声明",children:s.jsx(dr,{rows:26,eid:"app-statement",placeholder:"输入 Markdown 内容作为站点声明",defaultLanguage:aa.Markdown,disabledLanguageSelect:!0,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:"友情链接",extra:"Name 为名称，Value 为链接地址",shouldUpdate:!0,children:s.jsx(ga,{fieldName:"friend_links"})}),s.jsx(P.Item,{name:["blocklist","ips"],label:"Blocklist IP",extra:"这些 IP 来源的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个 IP 地址",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","mails"],label:"Blocklist 邮箱",extra:"这些邮箱来源的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个邮箱",mode:"tags"})}),s.jsx(P.Item,{name:["blocklist","keywords"],label:"Blocklist 关键字",extra:"包含这些关键字的的评论将被拒绝",children:s.jsx(je,{placeholder:"回车以输入多个关键字",mode:"tags"})}),s.jsx(P.Item,{name:"ad_config",label:"AD CONFIG",rules:[{message:"请输入合法的 JSON 数据",validator(h,f){try{return ji(f||""),Promise.resolve()}catch(d){return Promise.reject(d)}}}],children:s.jsx(dr,{rows:24,eid:"app-ad-config",placeholder:"站点广告配置，JSON 格式",defaultLanguage:aa.JSON,disabledCacheDraft:!0,disabledLineNumbers:!0})}),s.jsx(P.Item,{label:!0,children:s.jsx(N,{icon:s.jsx(jt,{}),type:"primary",size:"large",style:{width:120},loading:n.state.value,onClick:c,children:"保存"})})]})})},qE=()=>{const e=he(),t=he(),n=()=>{Re.confirm({centered:!0,title:"更新备份会导致强制覆盖旧的数据库备份，确定要继续吗？",onOk:()=>e.promise(vw())})},r=()=>{Re.confirm({centered:!0,title:"将会更新全站的所有全量数据缓存，确定要继续吗？",onOk:()=>t.promise(yw())})};return s.jsxs(Dt,{children:[s.jsx(N,{type:"primary",block:!0,loading:e.state.value,onClick:n,icon:s.jsx(_s,{}),children:"立即更新数据库备份"}),s.jsx(ee,{}),s.jsx(N,{type:"primary",block:!0,loading:t.state.value,onClick:r,icon:s.jsx(Es,{}),children:"更新 Archive 及缓存"})]})},VE=()=>{const e=Zt(),t=he(),n=he(),r=Js(),[a]=P.useForm(),i=()=>{t.promise(Ef()).then(a.setFieldsValue)},o=u=>n.promise(OT(u)).then(()=>{u.new_password?(Ot.info({message:"修改了新密码，即将跳转到登录页..."}),setTimeout(()=>{Hs(),e(Xe[de.Hello])},1688)):(i(),r.refresh())}),l=()=>{a.validateFields().then(u=>{Reflect.deleteProperty(u,"rel_new_password"),o({...u}).then(()=>{ot(document.body)})})},c=async()=>{const u=a.getFieldValue("password"),h=a.getFieldValue("new_password"),f=a.getFieldValue("rel_new_password");if(!(!u&&!h&&!f)&&(h!==f||u===h))throw new Error};return Ce(()=>{i()}),s.jsx(ct,{spinning:t.state.value||n.state.value,children:s.jsxs(P,{layout:"vertical",form:a,colon:!1,scrollToFirstError:!0,children:[s.jsx(P.Item,{name:"avatar",label:"头像",required:!0,rules:[{required:!0,message:"请上传图片"}],children:s.jsx(Qh,{disabledMarkdown:!0})}),s.jsx(P.Item,{name:"name",label:"昵称",required:!0,rules:[{required:!0,message:"请输入昵称"}],children:s.jsx(ie,{placeholder:"昵称"})}),s.jsx(P.Item,{name:"slogan",label:"签名",required:!0,rules:[{required:!0,message:"请输入签名"}],children:s.jsx(ie.TextArea,{placeholder:"签名"})}),s.jsx(ee,{}),s.jsx(P.Item,{name:"password",label:"旧密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(ie.Password,{placeholder:"旧密码",autoComplete:"password"})}),s.jsx(P.Item,{name:"new_password",label:"新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(ie.Password,{placeholder:"新密码",autoComplete:"new_password"})}),s.jsx(P.Item,{name:"rel_new_password",label:"确认新密码",rules:[{message:"确保新旧密码不一致，且有效",validator:c}],children:s.jsx(ie.Password,{placeholder:"确认新密码",autoComplete:"rel_new_password"})}),s.jsx(N,{type:"primary",block:!0,icon:s.jsx(jt,{}),loading:n.state.value,onClick:l,children:"保存"})]})})},_i=e=>{const t=s.jsxs(O,{size:"small",children:[e.icon,e.title]});return s.jsx(ve,{bordered:!1,title:t,children:e.children})},KE=()=>{const{i18n:e}=et();return s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{xs:24,lg:17,children:s.jsx(_i,{title:e.t("page.setting.general.title"),icon:s.jsx(vg,{}),children:s.jsx(HE,{labelSpan:4,wrapperSpan:19})})}),s.jsx(Ne,{xs:24,lg:7,children:s.jsxs(Dt,{gutter:[qe,qe],children:[s.jsx(Ne,{span:24,children:s.jsx(_i,{title:e.t("page.setting.data.title"),icon:s.jsx(bg,{}),children:s.jsx(qE,{})})}),s.jsx(Ne,{span:24,children:s.jsx(_i,{title:e.t("page.setting.userinfo.title"),icon:s.jsx(Dn,{}),children:s.jsx(VE,{})})})]})})]})};var de=(e=>(e.Hello="hello",e.Dashboard="dashboard",e.Setting="setting",e.Announcement="announcement",e.Category="category",e.Tag="tag",e.Comment="comment",e.Disqus="disqus",e.DisqusThread="disqus-thread",e.DisqusPost="disqus-post",e.DisqusSync="disqus-sync",e.Vote="vote",e.Feedback="feedback",e.Article="article",e.ArticleList="article-list",e.ArticlePost="article-post",e.ArticleEdit="article-edit",e))(de||{});const wf=[{index:!0,element:s.jsx(ui,{to:"/dashboard"}),handle:{hiddenInMenu:!0}},{id:de.Dashboard,path:"/dashboard",element:s.jsx(uj,{}),handle:{i18nKey:"page.dashboard.title",icon:s.jsx(go,{})}},{id:de.Announcement,path:"/announcement",element:s.jsx(I_,{}),handle:{i18nKey:"page.announcement.title",icon:s.jsx(wg,{})}},{id:de.Category,path:"/category",element:s.jsx(D_,{}),handle:{i18nKey:"page.category.title",icon:s.jsx(jg,{})}},{id:de.Tag,path:"/tag",element:s.jsx(z_,{}),handle:{i18nKey:"page.tag.title",icon:s.jsx(_g,{})}},{id:de.Article,path:"/article",handle:{i18nKey:"page.article.title",icon:s.jsx(du,{})},children:[{index:!0,element:s.jsx(ui,{to:"/article/list"}),handle:{hiddenInMenu:!0}},{id:de.ArticleList,path:"/article/list",element:s.jsx(qj,{}),handle:{i18nKey:"page.article.list",icon:s.jsx(wl,{})}},{id:de.ArticlePost,path:"/article/post",element:s.jsx(p_,{}),handle:{i18nKey:"page.article.create",icon:s.jsx(Je,{})}},{id:de.ArticleEdit,path:"/article/edit/:article_id",element:s.jsx(m_,{}),handle:{i18nKey:"page.article.edit",icon:s.jsx(Je,{}),hiddenInMenu:!0}}]},{id:de.Comment,path:"/comment",element:s.jsx(fE,{}),handle:{i18nKey:"page.comment.title",icon:s.jsx(sa,{})}},{id:de.Disqus,path:"/disqus",handle:{i18nKey:"page.disqus.title",icon:s.jsx(Sg,{})},children:[{index:!0,element:s.jsx(ui,{to:"/disqus/posts"}),handle:{hiddenInMenu:!0}},{id:de.DisqusPost,path:"/disqus/posts",element:s.jsx(ME,{}),handle:{i18nKey:"page.disqus.posts",icon:s.jsx(wl,{})}},{id:de.DisqusThread,path:"/disqus/threads",element:s.jsx(NE,{}),handle:{i18nKey:"page.disqus.threads",icon:s.jsx(Cg,{})}},{id:de.DisqusSync,path:"/disqus/synchronize",element:s.jsx(BE,{}),handle:{i18nKey:"page.disqus.synchronize",icon:s.jsx(Es,{})}}]},{id:de.Vote,path:"/vote",element:s.jsx(yE,{}),handle:{i18nKey:"page.vote.title",icon:s.jsx($n,{})}},{id:de.Feedback,path:"/feedback",element:s.jsx(LE,{}),handle:{i18nKey:"page.feedback.title",icon:s.jsx(Eg,{})}},{id:de.Setting,path:"/setting",element:s.jsx(KE,{}),handle:{i18nKey:"page.setting.title",icon:s.jsx(Cu,{})}}],YE="_appLayout_th6z3_1",WE="_appSider_th6z3_1",GE="_siderContent_th6z3_9",JE="_logo_th6z3_15",ZE="_userInfo_th6z3_23",QE="_collapsed_th6z3_29",XE="_avatar_th6z3_32",eT="_name_th6z3_36",tT="_slogan_th6z3_57",nT="_menus_th6z3_61",rT="_footerLink_th6z3_79",aT="_appHeader_th6z3_93",sT="_headerContent_th6z3_104",iT="_userMenu_th6z3_108",oT="_appFooter_th6z3_116",lT="_appContent_th6z3_121",cT="_pageContainer_th6z3_121",uT="_pageHeader_th6z3_121",dT="_title_th6z3_127",hT="_icon_th6z3_130",fT="_breadcrumb_th6z3_133",gT="_pageContent_th6z3_137",mT="_backTop_th6z3_140",pT="_pageHeaderAdvert_th6z3_144",xT="_adCard_th6z3_148",pe={appLayout:YE,appSider:WE,siderContent:GE,logo:JE,userInfo:ZE,collapsed:QE,avatar:XE,name:eT,slogan:tT,menus:nT,footerLink:rT,appHeader:aT,headerContent:sT,userMenu:iT,appFooter:oT,appContent:lT,pageContainer:cT,pageHeader:uT,title:dT,icon:hT,breadcrumb:fT,pageContent:gT,backTop:mT,pageHeaderAdvert:pT,adCard:xT},jf=e=>e.filter(t=>{var n;return!((n=t.handle)!=null&&n.hiddenInMenu)}).map(t=>{var n,r,a;return{key:t.path,icon:(n=t.handle)==null?void 0:n.icon,children:t!=null&&t.children?jf(t.children):null,label:(r=t.handle)!=null&&r.i18nKey?s.jsx(mr,{i18nKey:t.handle.i18nKey}):(a=t.handle)==null?void 0:a.name}}),yT=({isSiderCollapsed:e})=>{const t=Zt(),n=xn(),{language:r}=gr(),a=Js(),i=b.useMemo(()=>jf(wf),[r]);return s.jsxs("div",{className:pe.siderContent,children:[s.jsx(Vt,{to:"/",className:pe.logo,children:s.jsx("img",{alt:"logo",style:{width:e?"40%":"60%"},src:qo(e?"/images/logo.mini.svg":"/images/logo.svg")})}),s.jsx(ct,{spinning:a.loading,size:"small",children:s.jsxs(ue,{vertical:!0,justify:"center",align:"center",className:Zr(pe.userInfo,e&&pe.collapsed),children:[s.jsx("img",{draggable:!1,className:pe.avatar,src:a.data.avatar,alt:a.data.name}),s.jsx(M.Title,{level:5,className:pe.name,title:a.data.name,children:a.data.name||"-"}),s.jsx(M.Text,{type:"secondary",ellipsis:!0,className:pe.slogan,title:a.data.slogan,children:e?"...":a.data.slogan||"-"})]})}),s.jsx(Tg,{mode:"inline",className:pe.menus,onClick:o=>t(o.key),selectedKeys:[n.pathname],defaultOpenKeys:[Xe[de.Article]],items:i}),s.jsx("a",{type:"link",target:"_blank",rel:"noreferrer",href:am,className:Zr(pe.footerLink,e&&pe.collapsed),children:e?s.jsx(jl,{}):s.jsxs(O,{size:"small",children:[s.jsx(jl,{}),"source-code"]})})]})},vT=e=>{const t=Zt(),n=Rs(),r=gr(),a=Js(),{i18n:i}=et(),o=()=>{t(Xe[de.Setting])},l=()=>{Re.confirm({title:i.t("logout.confirmation"),centered:!0,onOk(){Hs(),t(Xe[de.Hello])}})};return s.jsxs(ue,{justify:"space-between",className:pe.headerContent,children:[s.jsxs(ue,{align:"center",gap:"middle",children:[s.jsx(N,{type:"text",className:pe.item,onClick:e.onToggleSider,icon:e.isSiderCollapsed?s.jsx(Rg,{}):s.jsx(Ig,{})}),s.jsx(N,{type:"text",className:pe.item,onClick:()=>n.toggleTheme(),icon:n.isDark?s.jsx(Lg,{}):s.jsx(kg,{})}),s.jsx(je,{size:"small",className:pe.item,style:{minWidth:90},value:r.language,onChange:r.changeLanguage,options:nm.map(c=>({value:c.code,label:c.name}))})]}),s.jsx(ue,{align:"center",justify:"center",children:s.jsx(hu,{placement:"bottomRight",menu:{items:[{key:"profile",icon:s.jsx(Cu,{}),label:i.t("page.setting.title"),onClick:o},{key:"divider",type:"divider"},{key:"logout",icon:s.jsx(Pg,{}),label:i.t("logout.title"),danger:!0,onClick:l}]},children:s.jsxs("div",{className:pe.userMenu,children:[s.jsx("span",{children:a.data.name}),s.jsx(fo,{shape:"square",size:"small",icon:s.jsx(Dn,{}),className:pe.avatar,src:a.data.avatar})]})})})]})},bT=()=>(Ce(()=>{const e=window;(e.adsbygoogle=e.adsbygoogle||[]).push({})}),s.jsx("div",{className:pe.pageHeaderAdvert,children:s.jsx(ve,{classNames:{body:pe.adCard},size:"small",bordered:!1,children:s.jsx("ins",{className:"adsbygoogle",style:{display:"inline-block",width:728,height:90},"data-ad-client":"ca-pub-4710915636313788","data-ad-slot":"5883149084"})})})),wT=e=>{var i,o,l;const{i18n:t}=et(),n=xn(),[,...r]=n.pathname.split("/"),a=_f.find(c=>Ni(c.path,n.pathname));return s.jsxs("div",{className:pe.pageContainer,children:[s.jsxs(ue,{align:"center",justify:"space-between",className:pe.pageHeader,children:[s.jsxs(M.Title,{className:pe.title,level:4,children:[s.jsx("span",{className:pe.icon,children:(i=a==null?void 0:a.handle)==null?void 0:i.icon}),(o=a==null?void 0:a.handle)!=null&&o.i18nKey?t.t(a.handle.i18nKey):(l=a==null?void 0:a.handle)==null?void 0:l.name]}),s.jsx(Ag,{className:pe.breadcrumb,items:r.map(c=>({title:c}))})]}),dm&&s.jsx(bT,{}),s.jsx("div",{className:pe.pageContent,children:e==null?void 0:e.children}),s.jsx(Og.BackTop,{className:pe.backTop,shape:"square",type:"primary",icon:s.jsx(Dg,{}),onClick:()=>ot(document.body)})]})},jT="xl",_T=Ci.getDesignToken().screenXL,ST=window.innerWidth>=_T,CT=e=>{const t=Js(),[n,r]=b.useState(!ST),a=()=>r(!n);return Ce(()=>{t.refresh()}),s.jsxs(Yn,{id:"app-layout",className:pe.appLayout,children:[s.jsx(Yn.Sider,{className:pe.appSider,trigger:null,collapsible:!0,collapsed:n,breakpoint:jT,onBreakpoint:i=>r(i),children:s.jsx(yT,{isSiderCollapsed:n})}),s.jsxs(Yn,{children:[s.jsx(Yn.Header,{className:pe.appHeader,children:s.jsx(vT,{isSiderCollapsed:n,onToggleSider:a})}),s.jsx(Yn.Content,{className:pe.appContent,children:s.jsx(wT,{children:e==null?void 0:e.children})}),s.jsx(Yn.Footer,{className:pe.appFooter,children:s.jsxs(O,{size:"small",children:[s.jsx(Ng,{}),"Powered by",s.jsx(M.Link,{target:"_blank",href:"https://github.com/facebook/react",children:"React"}),"&",s.jsx(M.Link,{target:"_blank",href:"https://github.com/veactjs/veact",children:"Veact"})]})})]})]})},ET="_helloPage_1nnw2_1",TT="_icon_1nnw2_9",RT="_input_1nnw2_19",Hr={helloPage:ET,icon:TT,input:RT},IT=()=>{const e=Zt(),[t,n]=b.useState(""),[r,a]=b.useState(!1),[i,o]=b.useState(!1),l=()=>a(!0),c=()=>a(!1),u=async x=>{try{o(!0);const g=await kb(x);ms.setToken(g.access_token,g.expires_in),e(Xe[de.Dashboard])}catch(g){return console.warn("Login failed！",g),Promise.reject(g)}finally{o(!1)}},h=x=>{x.key==="Escape"&&c(),x.key==="Enter"&&t&&u(t)},f=s.jsx("div",{className:Hr.icon,onClick:l,onTouchEnd:l,children:"🔐"}),d=s.jsx(ie.Password,{className:Hr.input,id:"password",size:"large",autoFocus:!0,disabled:i,value:t,visibilityToggle:!1,onBlur:c,onKeyDownCapture:h,onInput:x=>n(x.target.value)});return s.jsx("div",{className:Zr(Hr.helloPage,r?Hr.inputing:Hr.normal),children:s.jsx(ct,{spinning:i,indicator:s.jsx(xu,{}),children:r?d:f})})},LT="_notFoundPage_u75hf_1",kT={notFoundPage:LT},PT=()=>s.jsx(ue,{justify:"center",align:"center",className:kT.notFoundPage,children:s.jsx(mo,{status:"warning",title:"404 NOT FOUND",extra:s.jsx(Vt,{to:"/",children:s.jsx(N,{type:"link",children:s.jsx(mr,{i18nKey:"page.404.link"})})})})}),ro=[{id:de.Hello,path:"/hello",element:s.jsx(IT,{})},{path:"/",children:wf,element:s.jsx(Ub,{children:s.jsx(CT,{children:s.jsx(_y,{})})})},{path:"*",element:s.jsx(PT,{})}],_f=[],Xe={},AT=new Map,Sf=e=>{e.forEach(t=>{var n;t.id&&(_f.push(t),Xe[t.id]=t.path,AT.set(t.id,t)),(n=t.children)!=null&&n.length&&Sf(t.children)})};Sf(ro);const dl={articleDetail:e=>`/article/edit/${e}`},va=$e.create({baseURL:um,adapter:window.__axiosAdapter||void 0});va.interceptors.request.use(e=>(ms.isTokenValid()?(e.headers=e.headers||{},e.headers[sm]=`Bearer ${ms.getToken()}`):e.url!==Bs.LOGIN&&Ot.error({message:_n.t("nodepress.request.invalid_token.title"),description:_n.t("nodepress.request.invalid_token.description"),duration:2}),e));va.interceptors.response.use(e=>{var t;return(t=e.headers["content-type"])!=null&&t.includes("json")?e.data.status==="success"?(Ot.success({message:_n.t("nodepress.response.success"),description:e.data.message,duration:2}),Promise.resolve(e.data)):(Ot.error({message:e.data.message,description:e.data.error,duration:3}),Promise.reject(e)):(Ot.success({message:_n.t("nodepress.response.success"),description:e.statusText,duration:2}),e)},e=>{var i,o,l,c,u,h,f,d;const t=(i=e==null?void 0:e.toJSON)==null?void 0:i.call(e),n=((l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)||"Error",r=((u=(c=e.response)==null?void 0:c.data)==null?void 0:u.error)||((h=e.response)==null?void 0:h.statusText)||(t==null?void 0:t.message)||"",a={...t,config:e.config,request:e.request,response:e.response,code:e.code||((f=e.response)==null?void 0:f.status)||400,message:`${n}: ${r}`};return console.debug("axios error:",a),Ot.error({message:n,description:r,duration:3}),((d=e.response)==null?void 0:d.status)===401&&(ms.removeToken(),window.location.href=Xe[de.Hello]),Promise.reject(a)});const rn=e=>(...t)=>va[e](...t),K={$:va,request:rn("request"),head:rn("head"),get:rn("get"),post:rn("post"),put:rn("put"),patch:rn("patch"),delete:rn("delete"),options:rn("options")},Cf="/auth/admin";function Ef(){return K.get(Cf).then(e=>e.result)}function OT(e){const t={...e,password:e.password?zi.encode(e.password):"",new_password:e.new_password?zi.encode(e.new_password):""};return K.put(Cf,t).then(n=>n.result)}const DT=Object.freeze({name:"Admin",slogan:"NodePress",avatar:qo("/images/nodepress.png")}),Tf=hr.createContext({}),Js=()=>b.useContext(Tf),NT=e=>{const[t,n]=b.useState({...DT}),[r,a]=b.useState(!1),i=async()=>{try{a(!0),n(await Ef())}finally{a(!1)}};return s.jsx(Tf.Provider,{value:{data:t,loading:r,refresh:i},children:e.children})};function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $T=function(){};function Rf(e,t){return Math.random()*(t-e+1)+e}function cu(e,t){return Math.floor(Rf(e,t))}var FT=b.forwardRef(function(e,t){var n=e.progress,r=e.height,a=r===void 0?2:r,i=e.className,o=i===void 0?"":i,l=e.color,c=l===void 0?"red":l,u=e.background,h=u===void 0?"transparent":u,f=e.onLoaderFinished,d=e.transitionTime,x=d===void 0?300:d,g=e.loaderSpeed,p=g===void 0?500:g,m=e.waitingTime,C=m===void 0?1e3:m,S=e.shadow,w=S===void 0||S,j=e.containerStyle,T=j===void 0?{}:j,y=e.style,L=y===void 0?{}:y,E=e.shadowStyle,R=E===void 0?{}:E,D=e.containerClassName,$=D===void 0?"":D,z=b.useRef(!1),Z=b.useState(0),B=Z[0],oe=Z[1],ge=b.useRef({active:!1,refreshRate:1e3}),Y=b.useState(!1),xe=Y[0],Pe=Y[1],Me=b.useState({active:!1,value:20}),Ue=Me[0],tt=Me[1],yt={position:"fixed",top:0,left:0,height:a,background:h,zIndex:99999999999,width:"100%"},lt={boxShadow:"0 0 10px "+c+", 0 0 10px "+c,width:"5%",opacity:1,position:"absolute",height:"100%",transition:"all "+p+"ms ease",transform:"rotate(3deg) translate(0px, -4px)",left:"-10rem"},nt=b.useState({height:"100%",background:c,transition:"all "+p+"ms ease",width:"0%"}),Ze=nt[0],kt=nt[1],zt=b.useState(lt),Bt=zt[0],Qt=zt[1];b.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]),b.useImperativeHandle(t,function(){return{continuousStart:function(Ye,Te){if(Te===void 0&&(Te=1e3),!Ue.active)if(xe)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var vt=Ye||cu(10,20);ge.current={active:!0,refreshRate:Te},oe(vt),rt(vt)}},staticStart:function(Ye){if(!ge.current.active)if(xe)console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!");else{var Te=Ye||cu(30,50);tt({active:!0,value:Te}),oe(Te),rt(Te)}},complete:function(){xe?console.warn("react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar!"):(oe(100),rt(100))}}}),b.useEffect(function(){kt(mt({},Ze,{background:c})),Qt(mt({},Bt,{boxShadow:"0 0 10px "+c+", 0 0 5px "+c}))},[c]),b.useEffect(function(){if(t){if(t&&n!==void 0)return void console.warn(`react-top-loading-bar: You can't use both controlling by props and ref methods to control the bar! Please use only props or only ref methods! Ref methods will override props if "ref" property is available.`);rt(B),Pe(!1)}else n&&rt(n),Pe(!0)},[n]);var Bn,Ee,dt,rt=function Ye(Te){Te>=100?(kt(mt({},Ze,{width:"100%"})),w&&Qt(mt({},Bt,{left:Te-10+"%"})),setTimeout(function(){z.current&&(kt(mt({},Ze,{opacity:0,width:"100%",transition:"all "+x+"ms ease-out",color:c})),setTimeout(function(){z.current&&(ge.current.active&&(ge.current=mt({},ge.current,{active:!1}),oe(0),Ye(0)),Ue.active&&(tt(mt({},Ue,{active:!1})),oe(0),Ye(0)),f&&f(),oe(0),Ye(0))},x))},C)):(kt(function(vt){return mt({},vt,{width:Te+"%",opacity:1,transition:Te>0?"all "+p+"ms ease":""})}),w&&Qt(mt({},Bt,{left:Te-5.5+"%",transition:Te>0?"all "+p+"ms ease":""})))};return Bn=function(){var Ye=Rf(Math.min(10,(100-B)/5),Math.min(20,(100-B)/3));B+Ye<95&&(oe(B+Ye),rt(B+Ye))},Ee=ge.current.active?ge.current.refreshRate:null,dt=b.useRef($T),b.useEffect(function(){dt.current=Bn}),b.useEffect(function(){},[void 0]),b.useEffect(function(){if(Ee!==null&&Ee!==!1){var Ye=setInterval(function(){return dt.current()},Ee);return function(){return clearInterval(Ye)}}},[Ee]),b.createElement("div",{className:$,style:mt({},yt,T)},b.createElement("div",{className:o,style:mt({},Ze,L)},w?b.createElement("div",{style:mt({},Bt,R)}):null))});const MT=e=>{const{axios:t,...n}=e,r=b.useRef(null);return Ce(()=>{t.interceptors.request.use(a=>{var i;return(i=r.current)==null||i.continuousStart(),a}),t.interceptors.response.use(a=>{var i;return(i=r.current)==null||i.complete(),a},a=>{var i;return(i=r.current)==null||i.complete(),Promise.reject(a)})}),s.jsx(FT,{...n,ref:r})},UT=hm?ky(ro):Ly(ro),zT=()=>{const{theme:e}=Rs(),{language:t}=gr();return Ce(()=>{console.info("App is running.",om)}),s.jsx(Yy,{children:s.jsx($g,{className:"app-container",children:s.jsxs("div",{id:"app",className:"app","data-theme":e,"data-lang":t,children:[s.jsx(MT,{axios:va,color:Fn,height:3,transitionTime:380,loaderSpeed:600,waitingTime:800}),s.jsx(NT,{children:s.jsx(My,{router:UT})})]})})})};Qe.extend(tm);const If=Ip({fallbackLanguage:Pu}),Lf=If.resolvedLanguage??Pu,kf=window.matchMedia("(prefers-color-scheme: dark)").matches?Ri.Dark:Ri.Light,BT=e=>If.changeLanguage(e).then(()=>{Qe.locale(ls[e].dayjs)});console.info("App booting up...",{INIT_THEME:kf,INIT_LANGUAGE:Lf});Ti.createRoot(document.getElementById("root")).render(s.jsx(Lu,{initLanguage:Lf,onChange:BT,children:s.jsx(Ou,{initTheme:kf,children:s.jsx(zT,{})})}));export{mr as T,aa as U,j0 as a,Rs as b,YT as c,kE as d,s as j,WT as s,KT as t,et as u};
